(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Q(){}const si=t=>t;function ds(t,e){for(const n in e)t[n]=e[n];return t}function No(t){return t()}function ps(){return Object.create(null)}function Pe(t){t.forEach(No)}function kn(t){return typeof t=="function"}function ye(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Tr;function Fn(t,e){return Tr||(Tr=document.createElement("a")),Tr.href=e,t===Tr.href}function Kl(t){return Object.keys(t).length===0}function Jl(t,...e){if(t==null)return Q;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function at(t,e,n){t.$$.on_destroy.push(Jl(e,n))}function hs(t,e,n){return t.set(n),e}function qo(t){return t&&kn(t.destroy)?t.destroy:Q}const Fo=typeof window<"u";let ji=Fo?()=>window.performance.now():()=>Date.now(),Hi=Fo?t=>requestAnimationFrame(t):Q;const $n=new Set;function Lo(t){$n.forEach(e=>{e.c(t)||($n.delete(e),e.f())}),$n.size!==0&&Hi(Lo)}function Bi(t){let e;return $n.size===0&&Hi(Lo),{promise:new Promise(n=>{$n.add(e={c:t,f:n})}),abort(){$n.delete(e)}}}function g(t,e){t.appendChild(e)}function Po(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ea(t){const e=D("style");return ta(Po(t),e),e.sheet}function ta(t,e){return g(t.head||t,e),e.sheet}function H(t,e,n){t.insertBefore(e,n||null)}function Z(t){t.parentNode&&t.parentNode.removeChild(t)}function Ln(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function D(t){return document.createElement(t)}function ce(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ee(t){return document.createTextNode(t)}function P(){return ee(" ")}function $t(){return ee("")}function J(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Xe(t){return t===""?null:+t}function na(t){return Array.from(t.childNodes)}function Se(t,e){e=""+e,t.data!==e&&(t.data=e)}function Oe(t,e){t.value=e??""}function Ti(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Nt(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Jn(t){const e=t.querySelector(":checked");return e&&e.__value}function Mr(t,e,n){t.classList[n?"add":"remove"](e)}function ra(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}const Rr=new Map;let Nr=0;function ia(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function sa(t,e){const n={stylesheet:ea(e),rules:{}};return Rr.set(t,n),n}function Ci(t,e,n,r,i,s,o,l=0){const u=16.666/r;let f=`{
`;for(let w=0;w<=1;w+=u){const _=e+(n-e)*s(w);f+=w*100+`%{${o(_,1-_)}}
`}const a=f+`100% {${o(n,1-n)}}
}`,d=`__svelte_${ia(a)}_${l}`,c=Po(t),{stylesheet:p,rules:h}=Rr.get(c)||sa(c,t);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${a}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${d} ${r}ms linear ${i}ms 1 both`,Nr+=1,d}function Uo(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),Nr-=i,Nr||oa())}function oa(){Hi(()=>{Nr||(Rr.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&Z(e)}),Rr.clear())})}function gr(t,e,n,r){if(!e)return Q;const i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return Q;const{delay:s=0,duration:o=300,easing:l=si,start:u=ji()+s,end:f=u+o,tick:a=Q,css:d}=n(t,{from:e,to:i},r);let c=!0,p=!1,h;function v(){d&&(h=Ci(t,0,1,o,s,l,d)),s||(p=!0)}function w(){d&&Uo(t,h),c=!1}return Bi(_=>{if(!p&&_>=u&&(p=!0),p&&_>=f&&(a(1,0),w()),!c)return!1;if(p){const C=_-u,T=0+1*l(C/o);a(T,1-T)}return!0}),v(),a(0,1),w}function _r(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:r}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,la(t,i)}}function la(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),i=r.transform==="none"?"":r.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let er;function Kn(t){er=t}function zo(){if(!er)throw new Error("Function called outside component initialization");return er}function Zo(t){zo().$$.on_mount.push(t)}function aa(t){zo().$$.on_destroy.push(t)}const Cn=[],it=[];let On=[];const xi=[],ua=Promise.resolve();let Di=!1;function ca(){Di||(Di=!0,ua.then(jo))}function Ze(t){On.push(t)}function dt(t){xi.push(t)}const yi=new Set;let An=0;function jo(){if(An!==0)return;const t=er;do{try{for(;An<Cn.length;){const e=Cn[An];An++,Kn(e),fa(e.$$)}}catch(e){throw Cn.length=0,An=0,e}for(Kn(null),Cn.length=0,An=0;it.length;)it.pop()();for(let e=0;e<On.length;e+=1){const n=On[e];yi.has(n)||(yi.add(n),n())}On.length=0}while(Cn.length);for(;xi.length;)xi.pop()();Di=!1,yi.clear(),Kn(t)}function fa(t){if(t.fragment!==null){t.update(),Pe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function da(t){const e=[],n=[];On.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),On=e}let Qn;function pa(){return Qn||(Qn=Promise.resolve(),Qn.then(()=>{Qn=null})),Qn}function bi(t,e,n){t.dispatchEvent(ra(`${e?"intro":"outro"}${n}`))}const xr=new Set;let Ut;function qe(){Ut={r:0,c:[],p:Ut}}function Fe(){Ut.r||Pe(Ut.c),Ut=Ut.p}function W(t,e){t&&t.i&&(xr.delete(t),t.i(e))}function G(t,e,n,r){if(t&&t.o){if(xr.has(t))return;xr.add(t),Ut.c.push(()=>{xr.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const ha={duration:0};function Ne(t,e,n,r){const i={direction:"both"};let s=e(t,n,i),o=r?0:1,l=null,u=null,f=null;function a(){f&&Uo(t,f)}function d(p,h){const v=p.b-o;return h*=Math.abs(v),{a:o,b:p.b,d:v,duration:h,start:p.start,end:p.start+h,group:p.group}}function c(p){const{delay:h=0,duration:v=300,easing:w=si,tick:_=Q,css:C}=s||ha,T={start:ji()+h,b:p};p||(T.group=Ut,Ut.r+=1),l||u?u=T:(C&&(a(),f=Ci(t,o,p,v,h,w,C)),p&&_(0,1),l=d(T,v),Ze(()=>bi(t,p,"start")),Bi(x=>{if(u&&x>u.start&&(l=d(u,v),u=null,bi(t,l.b,"start"),C&&(a(),f=Ci(t,o,l.b,l.duration,0,w,s.css))),l){if(x>=l.end)_(o=l.b,1-o),bi(t,l.b,"end"),u||(l.b?a():--l.group.r||Pe(l.group.c)),l=null;else if(x>=l.start){const $=x-l.start;o=l.a+l.d*w($/l.duration),_(o,1-o)}}return!!(l||u)}))}return{run(p){kn(s)?pa().then(()=>{s=s(i),c(p)}):c(p)},end(){a(),l=u=null}}}function ma(t,e){t.d(1),e.delete(t.key)}function ga(t,e){G(t,1,1,()=>{e.delete(t.key)})}function _a(t,e){t.f(),ma(t,e)}function oi(t,e){t.f(),ga(t,e)}function vr(t,e,n,r,i,s,o,l,u,f,a,d){let c=t.length,p=s.length,h=c;const v={};for(;h--;)v[t[h].key]=h;const w=[],_=new Map,C=new Map,T=[];for(h=p;h--;){const S=d(i,s,h),y=n(S);let b=o.get(y);b?r&&T.push(()=>b.p(S,e)):(b=f(y,S),b.c()),_.set(y,w[h]=b),y in v&&C.set(y,Math.abs(h-v[y]))}const x=new Set,$=new Set;function k(S){W(S,1),S.m(l,a),o.set(S.key,S),a=S.first,p--}for(;c&&p;){const S=w[p-1],y=t[c-1],b=S.key,I=y.key;S===y?(a=S.first,c--,p--):_.has(I)?!o.has(b)||x.has(b)?k(S):$.has(I)?c--:C.get(b)>C.get(I)?($.add(b),k(S)):(x.add(I),c--):(u(y,o),c--)}for(;c--;){const S=t[c];_.has(S.key)||u(S,o)}for(;p;)k(w[p-1]);return Pe(T),w}const va=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...va];function pt(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function le(t){t&&t.c()}function se(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||Ze(()=>{const o=t.$$.on_mount.map(No).filter(kn);t.$$.on_destroy?t.$$.on_destroy.push(...o):Pe(o),t.$$.on_mount=[]}),s.forEach(Ze)}function oe(t,e){const n=t.$$;n.fragment!==null&&(da(n.after_update),Pe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ya(t,e){t.$$.dirty[0]===-1&&(Cn.push(t),ca(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,r,i,s,o,l=[-1]){const u=er;Kn(t);const f=t.$$={fragment:null,ctx:[],props:s,update:Q,not_equal:i,bound:ps(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ps(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};o&&o(f.root);let a=!1;if(f.ctx=n?n(t,e.props||{},(d,c,...p)=>{const h=p.length?p[0]:c;return f.ctx&&i(f.ctx[d],f.ctx[d]=h)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](h),a&&ya(t,d)),c}):[],f.update(),a=!0,Pe(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const d=na(e.target);f.fragment&&f.fragment.l(d),d.forEach(Z)}else f.fragment&&f.fragment.c();e.intro&&W(t.$$.fragment),se(t,e.target,e.anchor,e.customElement),jo()}Kn(u)}class we{$destroy(){oe(this,1),this.$destroy=Q}$on(e,n){if(!kn(n))return Q;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Kl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Tn=[];function Bt(t,e=Q){let n;const r=new Set;function i(l){if(ye(t,l)&&(t=l,n)){const u=!Tn.length;for(const f of r)f[1](),Tn.push(f,t);if(u){for(let f=0;f<Tn.length;f+=2)Tn[f][0](Tn[f+1]);Tn.length=0}}}function s(l){i(l(t))}function o(l,u=Q){const f=[l,u];return r.add(f),r.size===1&&(n=e(i)||Q),l(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}var Xn=(t=>(t[t.Home=0]="Home",t[t.Connect=1]="Connect",t[t.Create=2]="Create",t[t.Game=3]="Game",t))(Xn||{});const yr=Bt({ty:0});function br(){yr.set({ty:0})}function ba(){yr.set({ty:2})}function wa(){yr.set({ty:1})}function Ho(t){yr.set({ty:3,gameData:t})}function Bo(t){const e=t-1;return e*e*e+1}function qr(t,{delay:e=0,duration:n=400,easing:r=si}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}function Le(t,{delay:e=0,duration:n=400,easing:r=Bo,axis:i="y"}={}){const s=getComputedStyle(t),o=+s.opacity,l=i==="y"?"height":"width",u=parseFloat(s[l]),f=i==="y"?["top","bottom"]:["left","right"],a=f.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),d=parseFloat(s[`padding${a[0]}`]),c=parseFloat(s[`padding${a[1]}`]),p=parseFloat(s[`margin${a[0]}`]),h=parseFloat(s[`margin${a[1]}`]),v=parseFloat(s[`border${a[0]}Width`]),w=parseFloat(s[`border${a[1]}Width`]);return{delay:e,duration:n,easing:r,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*o};${l}: ${_*u}px;padding-${f[0]}: ${_*d}px;padding-${f[1]}: ${_*c}px;margin-${f[0]}: ${_*p}px;margin-${f[1]}: ${_*h}px;border-${f[0]}-width: ${_*v}px;border-${f[1]}-width: ${_*w}px;`}}var Vo=(t=>(t[t.Error=0]="Error",t[t.Confirm=1]="Confirm",t))(Vo||{});const li=Bt(null);function wi(t){li.update(e=>(e!==null&&e.ty===1&&e.callback(t),null))}function Wo(t,e){return new Promise(n=>{li.set({ty:1,title:t,message:e,callback:n})})}function Qt(t,e){li.set({ty:0,title:t,message:e})}function ms(t){let e,n,r,i=t[0].title+"",s,o,l,u=t[0].message+"",f,a,d,c,p,h;function v(C,T){return C[0].ty===Vo.Error?Ea:ka}let w=v(t),_=w(t);return{c(){e=D("div"),n=D("div"),r=D("h1"),s=ee(i),o=P(),l=D("p"),f=ee(u),a=P(),d=D("div"),_.c(),m(r,"class","dialog__title svelte-f5490n"),m(l,"class","dialog__msg svelte-f5490n"),m(d,"class","btn-row btn-row--fill"),m(n,"class","dialog svelte-f5490n"),m(e,"class","floating-wrapper")},m(C,T){H(C,e,T),g(e,n),g(n,r),g(r,s),g(n,o),g(n,l),g(l,f),g(n,a),g(n,d),_.m(d,null),h=!0},p(C,T){(!h||T&1)&&i!==(i=C[0].title+"")&&Se(s,i),(!h||T&1)&&u!==(u=C[0].message+"")&&Se(f,u),w===(w=v(C))&&_?_.p(C,T):(_.d(1),_=w(C),_&&(_.c(),_.m(d,null)))},i(C){h||(Ze(()=>{h&&(c||(c=Ne(n,Le,{duration:200},!0)),c.run(1))}),Ze(()=>{h&&(p||(p=Ne(e,qr,{duration:200},!0)),p.run(1))}),h=!0)},o(C){c||(c=Ne(n,Le,{duration:200},!1)),c.run(0),p||(p=Ne(e,qr,{duration:200},!1)),p.run(0),h=!1},d(C){C&&Z(e),_.d(),C&&c&&c.end(),C&&p&&p.end()}}}function ka(t){let e,n,r,i,s;return{c(){e=D("button"),e.textContent="Confirm",n=P(),r=D("button"),r.textContent="Cancel",m(e,"class","btn btn--surface"),m(r,"class","btn btn--surface")},m(o,l){H(o,e,l),H(o,n,l),H(o,r,l),i||(s=[J(e,"click",t[2]),J(r,"click",t[3])],i=!0)},p:Q,d(o){o&&Z(e),o&&Z(n),o&&Z(r),i=!1,Pe(s)}}}function Ea(t){let e,n,r;return{c(){e=D("button"),e.textContent="Close",m(e,"class","btn btn--surface")},m(i,s){H(i,e,s),n||(r=J(e,"click",t[1]),n=!0)},p:Q,d(i){i&&Z(e),n=!1,r()}}}function Aa(t){let e,n,r=t[0]&&ms(t);return{c(){r&&r.c(),e=$t()},m(i,s){r&&r.m(i,s),H(i,e,s),n=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&W(r,1)):(r=ms(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(qe(),G(r,1,1,()=>{r=null}),Fe())},i(i){n||(W(r),n=!0)},o(i){G(r),n=!1},d(i){r&&r.d(i),i&&Z(e)}}}function Ta(t,e,n){let r;return at(t,li,l=>n(0,r=l)),[r,()=>wi(!0),()=>wi(!0),()=>wi(!1)]}class Ca extends we{constructor(e){super(),be(this,e,Ta,Aa,ye,{})}}var $e;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})($e||($e={}));var Si;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Si||(Si={}));const te=$e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yt=t=>{switch(typeof t){case"undefined":return te.undefined;case"string":return te.string;case"number":return isNaN(t)?te.nan:te.number;case"boolean":return te.boolean;case"function":return te.function;case"bigint":return te.bigint;case"symbol":return te.symbol;case"object":return Array.isArray(t)?te.array:t===null?te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?te.promise:typeof Map<"u"&&t instanceof Map?te.map:typeof Set<"u"&&t instanceof Set?te.set:typeof Date<"u"&&t instanceof Date?te.date:te.object;default:return te.unknown}},X=$e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),xa=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Dt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const f=o.path[u];u===o.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(n(o))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,$e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Dt.create=t=>new Dt(t);const tr=(t,e)=>{let n;switch(t.code){case X.invalid_type:t.received===te.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,$e.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:n=`Unrecognized key(s) in object: ${$e.joinValues(t.keys,", ")}`;break;case X.invalid_union:n="Invalid input";break;case X.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${$e.joinValues(t.options)}`;break;case X.invalid_enum_value:n=`Invalid enum value. Expected ${$e.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:n="Invalid function arguments";break;case X.invalid_return_type:n="Invalid function return type";break;case X.invalid_date:n="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:$e.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case X.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case X.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case X.custom:n="Invalid input";break;case X.invalid_intersection_types:n="Intersection results could not be merged";break;case X.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:n="Number must be finite";break;default:n=e.defaultError,$e.assertNever(t)}return{message:n}};let Go=tr;function Da(t){Go=t}function Fr(){return Go}const Lr=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let l="";const u=r.filter(f=>!!f).slice().reverse();for(const f of u)l=f(o,{data:e,defaultError:l}).message;return{...i,path:s,message:i.message||l}},Sa=[];function ne(t,e){const n=Lr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Fr(),tr].filter(r=>!!r)});t.common.issues.push(n)}class ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return me;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return ut.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return me;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),Qo=t=>({status:"dirty",value:t}),ht=t=>({status:"valid",value:t}),Ii=t=>t.status==="aborted",$i=t=>t.status==="dirty",Pr=t=>t.status==="valid",Ur=t=>typeof Promise<"u"&&t instanceof Promise;var ae;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ae||(ae={}));class qt{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gs=(t,e)=>{if(Pr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Dt(t.common.issues);return this._error=n,this._error}}};function ke(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>o.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:n??l.defaultError},description:i}}class Te{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Yt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Yt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ut,ctx:{common:e.parent.common,data:e.data,parsedType:Yt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ur(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return gs(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yt(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Ur(i)?i:Promise.resolve(i));return gs(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:X.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new It({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return zt.create(this,this._def)}nullable(){return wn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return St.create(this,this._def)}promise(){return Un.create(this,this._def)}or(e){return sr.create([this,e],this._def)}and(e){return or.create(this,e,this._def)}transform(e){return new It({...ke(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new fr({...ke(this._def),innerType:this,defaultValue:n,typeName:fe.ZodDefault})}brand(){return new Xo({typeName:fe.ZodBranded,type:this,...ke(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Hr({...ke(this._def),innerType:this,catchValue:n,typeName:fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return wr.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ia=/^c[^\s-]{8,}$/i,$a=/^[a-z][a-z0-9]*$/,Oa=/[0-9A-HJKMNP-TV-Z]{26}/,Ma=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Ra=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Na=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,qa=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Fa=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,La=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Pa(t,e){return!!((e==="v4"||!e)&&qa.test(t)||(e==="v6"||!e)&&Fa.test(t))}class Ct extends Te{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(i=>e.test(i),{validation:n,code:X.invalid_string,...ae.errToObj(r)}),this.nonempty=e=>this.min(1,ae.errToObj(e)),this.trim=()=>new Ct({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Ct({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Ct({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==te.string){const s=this._getOrReturnCtx(e);return ne(s,{code:X.invalid_type,expected:te.string,received:s.parsedType}),me}const r=new ut;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:X.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:X.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?ne(i,{code:X.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&ne(i,{code:X.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Ra.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"email",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Na.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"emoji",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Ma.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"uuid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Ia.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")$a.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid2",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Oa.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ulid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ne(i,{validation:"url",code:X.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"regex",code:X.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ne(i,{code:X.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:X.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:X.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?La(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:X.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Pa(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ip",code:X.invalid_string,message:s.message}),r.dirty()):$e.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new Ct({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ae.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...ae.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ae.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ae.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ae.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ae.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ae.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ae.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ae.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ct.create=t=>{var e;return new Ct({checks:[],typeName:fe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ke(t)})};function Ua(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class en extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==te.number){const s=this._getOrReturnCtx(e);return ne(s,{code:X.invalid_type,expected:te.number,received:s.parsedType}),me}let r;const i=new ut;for(const s of this._def.checks)s.kind==="int"?$e.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:X.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:X.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:X.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Ua(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ne(r,{code:X.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:X.not_finite,message:s.message}),i.dirty()):$e.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ae.toString(n))}setLimit(e,n,r,i){return new en({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ae.toString(i)}]})}_addCheck(e){return new en({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ae.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&$e.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}en.create=t=>new en({checks:[],typeName:fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});class tn extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==te.bigint){const s=this._getOrReturnCtx(e);return ne(s,{code:X.invalid_type,expected:te.bigint,received:s.parsedType}),me}let r;const i=new ut;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:X.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:X.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:X.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):$e.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ae.toString(n))}setLimit(e,n,r,i){return new tn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ae.toString(i)}]})}_addCheck(e){return new tn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}tn.create=t=>{var e;return new tn({checks:[],typeName:fe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ke(t)})};class nr extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==te.boolean){const r=this._getOrReturnCtx(e);return ne(r,{code:X.invalid_type,expected:te.boolean,received:r.parsedType}),me}return ht(e.data)}}nr.create=t=>new nr({typeName:fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});class yn extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==te.date){const s=this._getOrReturnCtx(e);return ne(s,{code:X.invalid_type,expected:te.date,received:s.parsedType}),me}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ne(s,{code:X.invalid_date}),me}const r=new ut;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:X.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:X.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):$e.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yn({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ae.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ae.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}yn.create=t=>new yn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:fe.ZodDate,...ke(t)});class zr extends Te{_parse(e){if(this._getType(e)!==te.symbol){const r=this._getOrReturnCtx(e);return ne(r,{code:X.invalid_type,expected:te.symbol,received:r.parsedType}),me}return ht(e.data)}}zr.create=t=>new zr({typeName:fe.ZodSymbol,...ke(t)});class rr extends Te{_parse(e){if(this._getType(e)!==te.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:X.invalid_type,expected:te.undefined,received:r.parsedType}),me}return ht(e.data)}}rr.create=t=>new rr({typeName:fe.ZodUndefined,...ke(t)});class ir extends Te{_parse(e){if(this._getType(e)!==te.null){const r=this._getOrReturnCtx(e);return ne(r,{code:X.invalid_type,expected:te.null,received:r.parsedType}),me}return ht(e.data)}}ir.create=t=>new ir({typeName:fe.ZodNull,...ke(t)});class Pn extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return ht(e.data)}}Pn.create=t=>new Pn({typeName:fe.ZodAny,...ke(t)});class mn extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ht(e.data)}}mn.create=t=>new mn({typeName:fe.ZodUnknown,...ke(t)});class jt extends Te{_parse(e){const n=this._getOrReturnCtx(e);return ne(n,{code:X.invalid_type,expected:te.never,received:n.parsedType}),me}}jt.create=t=>new jt({typeName:fe.ZodNever,...ke(t)});class Zr extends Te{_parse(e){if(this._getType(e)!==te.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:X.invalid_type,expected:te.void,received:r.parsedType}),me}return ht(e.data)}}Zr.create=t=>new Zr({typeName:fe.ZodVoid,...ke(t)});class St extends Te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==te.array)return ne(n,{code:X.invalid_type,expected:te.array,received:n.parsedType}),me;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(ne(n,{code:o?X.too_big:X.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ne(n,{code:X.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ne(n,{code:X.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new qt(n,o,n.path,l)))).then(o=>ut.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new qt(n,o,n.path,l)));return ut.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new St({...this._def,minLength:{value:e,message:ae.toString(n)}})}max(e,n){return new St({...this._def,maxLength:{value:e,message:ae.toString(n)}})}length(e,n){return new St({...this._def,exactLength:{value:e,message:ae.toString(n)}})}nonempty(e){return this.min(1,e)}}St.create=(t,e)=>new St({type:t,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...ke(e)});function xn(t){if(t instanceof ze){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=zt.create(xn(r))}return new ze({...t._def,shape:()=>e})}else return t instanceof St?new St({...t._def,type:xn(t.element)}):t instanceof zt?zt.create(xn(t.unwrap())):t instanceof wn?wn.create(xn(t.unwrap())):t instanceof Ft?Ft.create(t.items.map(e=>xn(e))):t}class ze extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=$e.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==te.object){const f=this._getOrReturnCtx(e);return ne(f,{code:X.invalid_type,expected:te.object,received:f.parsedType}),me}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof jt&&this._def.unknownKeys==="strip"))for(const f in i.data)o.includes(f)||l.push(f);const u=[];for(const f of o){const a=s[f],d=i.data[f];u.push({key:{status:"valid",value:f},value:a._parse(new qt(i,d,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof jt){const f=this._def.unknownKeys;if(f==="passthrough")for(const a of l)u.push({key:{status:"valid",value:a},value:{status:"valid",value:i.data[a]}});else if(f==="strict")l.length>0&&(ne(i,{code:X.unrecognized_keys,keys:l}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const a of l){const d=i.data[a];u.push({key:{status:"valid",value:a},value:f._parse(new qt(i,d,i.path,a)),alwaysSet:a in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const a of u){const d=await a.key;f.push({key:d,value:await a.value,alwaysSet:a.alwaysSet})}return f}).then(f=>ut.mergeObjectSync(r,f)):ut.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return ae.errToObj,new ze({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,l;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=ae.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new ze({...this._def,unknownKeys:"strip"})}passthrough(){return new ze({...this._def,unknownKeys:"passthrough"})}extend(e){return new ze({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ze({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ze({...this._def,catchall:e})}pick(e){const n={};return $e.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ze({...this._def,shape:()=>n})}omit(e){const n={};return $e.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ze({...this._def,shape:()=>n})}deepPartial(){return xn(this)}partial(e){const n={};return $e.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new ze({...this._def,shape:()=>n})}required(e){const n={};return $e.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof zt;)s=s._def.innerType;n[r]=s}}),new ze({...this._def,shape:()=>n})}keyof(){return Yo($e.objectKeys(this.shape))}}ze.create=(t,e)=>new ze({shape:()=>t,unknownKeys:"strip",catchall:jt.create(),typeName:fe.ZodObject,...ke(e)});ze.strictCreate=(t,e)=>new ze({shape:()=>t,unknownKeys:"strict",catchall:jt.create(),typeName:fe.ZodObject,...ke(e)});ze.lazycreate=(t,e)=>new ze({shape:t,unknownKeys:"strip",catchall:jt.create(),typeName:fe.ZodObject,...ke(e)});class sr extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Dt(l.ctx.common.issues));return ne(n,{code:X.invalid_union,unionErrors:o}),me}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const f={...n,common:{...n.common,issues:[]},parent:null},a=u._parseSync({data:n.data,path:n.path,parent:f});if(a.status==="valid")return a;a.status==="dirty"&&!s&&(s={result:a,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(u=>new Dt(u));return ne(n,{code:X.invalid_union,unionErrors:l}),me}}get options(){return this._def.options}}sr.create=(t,e)=>new sr({options:t,typeName:fe.ZodUnion,...ke(e)});const Dr=t=>t instanceof ar?Dr(t.schema):t instanceof It?Dr(t.innerType()):t instanceof ur?[t.value]:t instanceof nn?t.options:t instanceof cr?Object.keys(t.enum):t instanceof fr?Dr(t._def.innerType):t instanceof rr?[void 0]:t instanceof ir?[null]:null;class ai extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.object)return ne(n,{code:X.invalid_type,expected:te.object,received:n.parsedType}),me;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ne(n,{code:X.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Dr(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new ai({typeName:fe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...ke(r)})}}function Oi(t,e){const n=Yt(t),r=Yt(e);if(t===e)return{valid:!0,data:t};if(n===te.object&&r===te.object){const i=$e.objectKeys(e),s=$e.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const u=Oi(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===te.array&&r===te.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],u=Oi(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===te.date&&r===te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class or extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Ii(s)||Ii(o))return me;const l=Oi(s.value,o.value);return l.valid?(($i(s)||$i(o))&&n.dirty(),{status:n.value,value:l.data}):(ne(r,{code:X.invalid_intersection_types}),me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}or.create=(t,e,n)=>new or({left:t,right:e,typeName:fe.ZodIntersection,...ke(n)});class Ft extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.array)return ne(r,{code:X.invalid_type,expected:te.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return ne(r,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(ne(r,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new qt(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>ut.mergeArray(n,o)):ut.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Ft({...this._def,rest:e})}}Ft.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ft({items:t,typeName:fe.ZodTuple,rest:null,...ke(e)})};class lr extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.object)return ne(r,{code:X.invalid_type,expected:te.object,received:r.parsedType}),me;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new qt(r,l,r.path,l)),value:o._parse(new qt(r,r.data[l],r.path,l))});return r.common.async?ut.mergeObjectAsync(n,i):ut.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Te?new lr({keyType:e,valueType:n,typeName:fe.ZodRecord,...ke(r)}):new lr({keyType:Ct.create(),valueType:e,typeName:fe.ZodRecord,...ke(n)})}}class jr extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.map)return ne(r,{code:X.invalid_type,expected:te.map,received:r.parsedType}),me;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,u],f)=>({key:i._parse(new qt(r,l,r.path,[f,"key"])),value:s._parse(new qt(r,u,r.path,[f,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const f=await u.key,a=await u.value;if(f.status==="aborted"||a.status==="aborted")return me;(f.status==="dirty"||a.status==="dirty")&&n.dirty(),l.set(f.value,a.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const f=u.key,a=u.value;if(f.status==="aborted"||a.status==="aborted")return me;(f.status==="dirty"||a.status==="dirty")&&n.dirty(),l.set(f.value,a.value)}return{status:n.value,value:l}}}}jr.create=(t,e,n)=>new jr({valueType:e,keyType:t,typeName:fe.ZodMap,...ke(n)});class bn extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.set)return ne(r,{code:X.invalid_type,expected:te.set,received:r.parsedType}),me;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ne(r,{code:X.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ne(r,{code:X.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const f=new Set;for(const a of u){if(a.status==="aborted")return me;a.status==="dirty"&&n.dirty(),f.add(a.value)}return{status:n.value,value:f}}const l=[...r.data.values()].map((u,f)=>s._parse(new qt(r,u,r.path,f)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,n){return new bn({...this._def,minSize:{value:e,message:ae.toString(n)}})}max(e,n){return new bn({...this._def,maxSize:{value:e,message:ae.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}bn.create=(t,e)=>new bn({valueType:t,minSize:null,maxSize:null,typeName:fe.ZodSet,...ke(e)});class Mn extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.function)return ne(n,{code:X.invalid_type,expected:te.function,received:n.parsedType}),me;function r(l,u){return Lr({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Fr(),tr].filter(f=>!!f),issueData:{code:X.invalid_arguments,argumentsError:u}})}function i(l,u){return Lr({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Fr(),tr].filter(f=>!!f),issueData:{code:X.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof Un?ht(async(...l)=>{const u=new Dt([]),f=await this._def.args.parseAsync(l,s).catch(c=>{throw u.addIssue(r(l,c)),u}),a=await o(...f);return await this._def.returns._def.type.parseAsync(a,s).catch(c=>{throw u.addIssue(i(a,c)),u})}):ht((...l)=>{const u=this._def.args.safeParse(l,s);if(!u.success)throw new Dt([r(l,u.error)]);const f=o(...u.data),a=this._def.returns.safeParse(f,s);if(!a.success)throw new Dt([i(f,a.error)]);return a.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Mn({...this._def,args:Ft.create(e).rest(mn.create())})}returns(e){return new Mn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Mn({args:e||Ft.create([]).rest(mn.create()),returns:n||mn.create(),typeName:fe.ZodFunction,...ke(r)})}}class ar extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ar.create=(t,e)=>new ar({getter:t,typeName:fe.ZodLazy,...ke(e)});class ur extends Te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ne(n,{received:n.data,code:X.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}ur.create=(t,e)=>new ur({value:t,typeName:fe.ZodLiteral,...ke(e)});function Yo(t,e){return new nn({values:t,typeName:fe.ZodEnum,...ke(e)})}class nn extends Te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{expected:$e.joinValues(r),received:n.parsedType,code:X.invalid_type}),me}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{received:n.data,code:X.invalid_enum_value,options:r}),me}return ht(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return nn.create(e)}exclude(e){return nn.create(this.options.filter(n=>!e.includes(n)))}}nn.create=Yo;class cr extends Te{_parse(e){const n=$e.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==te.string&&r.parsedType!==te.number){const i=$e.objectValues(n);return ne(r,{expected:$e.joinValues(i),received:r.parsedType,code:X.invalid_type}),me}if(n.indexOf(e.data)===-1){const i=$e.objectValues(n);return ne(r,{received:r.data,code:X.invalid_enum_value,options:i}),me}return ht(e.data)}get enum(){return this._def.values}}cr.create=(t,e)=>new cr({values:t,typeName:fe.ZodNativeEnum,...ke(e)});class Un extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.promise&&n.common.async===!1)return ne(n,{code:X.invalid_type,expected:te.promise,received:n.parsedType}),me;const r=n.parsedType===te.promise?n.data:Promise.resolve(n.data);return ht(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Un.create=(t,e)=>new Un({type:t,typeName:fe.ZodPromise,...ke(e)});class It extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const o=i.transform(r.data);return r.common.async?Promise.resolve(o).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const s={addIssue:o=>{ne(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const o=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?me:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?me:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Pr(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Pr(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);$e.assertNever(i)}}It.create=(t,e,n)=>new It({schema:t,typeName:fe.ZodEffects,effect:e,...ke(n)});It.createWithPreprocess=(t,e,n)=>new It({schema:e,effect:{type:"preprocess",transform:t},typeName:fe.ZodEffects,...ke(n)});class zt extends Te{_parse(e){return this._getType(e)===te.undefined?ht(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zt.create=(t,e)=>new zt({innerType:t,typeName:fe.ZodOptional,...ke(e)});class wn extends Te{_parse(e){return this._getType(e)===te.null?ht(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wn.create=(t,e)=>new wn({innerType:t,typeName:fe.ZodNullable,...ke(e)});class fr extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}fr.create=(t,e)=>new fr({innerType:t,typeName:fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ke(e)});class Hr extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ur(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Dt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Dt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hr.create=(t,e)=>new Hr({innerType:t,typeName:fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ke(e)});class Br extends Te{_parse(e){if(this._getType(e)!==te.nan){const r=this._getOrReturnCtx(e);return ne(r,{code:X.invalid_type,expected:te.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}Br.create=t=>new Br({typeName:fe.ZodNaN,...ke(t)});const za=Symbol("zod_brand");class Xo extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class wr extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?me:s.status==="dirty"?(n.dirty(),Qo(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new wr({in:e,out:n,typeName:fe.ZodPipeline})}}const Ko=(t,e={},n)=>t?Pn.create().superRefine((r,i)=>{var s,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,f=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...f,fatal:u})}}):Pn.create(),Za={object:ze.lazycreate};var fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(fe||(fe={}));const ja=(t,e={message:`Input not instance of ${t.name}`})=>Ko(n=>n instanceof t,e),Jo=Ct.create,el=en.create,Ha=Br.create,Ba=tn.create,tl=nr.create,Va=yn.create,Wa=zr.create,Ga=rr.create,Qa=ir.create,Ya=Pn.create,Xa=mn.create,Ka=jt.create,Ja=Zr.create,eu=St.create,tu=ze.create,nu=ze.strictCreate,ru=sr.create,iu=ai.create,su=or.create,ou=Ft.create,lu=lr.create,au=jr.create,uu=bn.create,cu=Mn.create,fu=ar.create,du=ur.create,pu=nn.create,hu=cr.create,mu=Un.create,_s=It.create,gu=zt.create,_u=wn.create,vu=It.createWithPreprocess,yu=wr.create,bu=()=>Jo().optional(),wu=()=>el().optional(),ku=()=>tl().optional(),Eu={string:t=>Ct.create({...t,coerce:!0}),number:t=>en.create({...t,coerce:!0}),boolean:t=>nr.create({...t,coerce:!0}),bigint:t=>tn.create({...t,coerce:!0}),date:t=>yn.create({...t,coerce:!0})},Au=me;var pe=Object.freeze({__proto__:null,defaultErrorMap:tr,setErrorMap:Da,getErrorMap:Fr,makeIssue:Lr,EMPTY_PATH:Sa,addIssueToContext:ne,ParseStatus:ut,INVALID:me,DIRTY:Qo,OK:ht,isAborted:Ii,isDirty:$i,isValid:Pr,isAsync:Ur,get util(){return $e},get objectUtil(){return Si},ZodParsedType:te,getParsedType:Yt,ZodType:Te,ZodString:Ct,ZodNumber:en,ZodBigInt:tn,ZodBoolean:nr,ZodDate:yn,ZodSymbol:zr,ZodUndefined:rr,ZodNull:ir,ZodAny:Pn,ZodUnknown:mn,ZodNever:jt,ZodVoid:Zr,ZodArray:St,ZodObject:ze,ZodUnion:sr,ZodDiscriminatedUnion:ai,ZodIntersection:or,ZodTuple:Ft,ZodRecord:lr,ZodMap:jr,ZodSet:bn,ZodFunction:Mn,ZodLazy:ar,ZodLiteral:ur,ZodEnum:nn,ZodNativeEnum:cr,ZodPromise:Un,ZodEffects:It,ZodTransformer:It,ZodOptional:zt,ZodNullable:wn,ZodDefault:fr,ZodCatch:Hr,ZodNaN:Br,BRAND:za,ZodBranded:Xo,ZodPipeline:wr,custom:Ko,Schema:Te,ZodSchema:Te,late:Za,get ZodFirstPartyTypeKind(){return fe},coerce:Eu,any:Ya,array:eu,bigint:Ba,boolean:tl,date:Va,discriminatedUnion:iu,effect:_s,enum:pu,function:cu,instanceof:ja,intersection:su,lazy:fu,literal:du,map:au,nan:Ha,nativeEnum:hu,never:Ka,null:Qa,nullable:_u,number:el,object:tu,oboolean:ku,onumber:wu,optional:gu,ostring:bu,pipeline:yu,preprocess:vu,promise:mu,record:lu,set:uu,strictObject:nu,string:Jo,symbol:Wa,transformer:_s,tuple:ou,undefined:Ga,union:ru,unknown:Xa,void:Ja,NEVER:Au,ZodIssueCode:X,quotelessJson:xa,ZodError:Dt});const Mi={MalformedMessage:"Unknown client sent invalid message",InvalidToken:"Invalid token provided",UsernameTaken:"Username already in use",InappropriateName:"That name is not allowed/inappropriate choose another name",NotJoinable:"Quiz is not joinable",CapacityReached:"Quiz is full",UnknownPlayer:"Target player not found",Unexpected:"Unexpected error occurred",InvalidPermission:"You don't have permission to do that",UnexpectedMessage:"Client and server out of sync",InvalidAnswer:"Invalid answer type"};var Dn=(t=>(t.None="None",t.Low="Low",t.Medium="Medium",t.High="High",t))(Dn||{}),ot=(t=>(t.Lobby="Lobby",t.Starting="Starting",t.AwaitingReady="AwaitingReady",t.PreQuestion="PreQuestion",t.AwaitingAnswers="AwaitingAnswers",t.Marked="Marked",t.Finished="Finished",t))(ot||{}),zn=(t=>(t.Start="Start",t.Next="Next",t.Reset="Reset",t))(zn||{}),nl=(t=>(t.RemovedByHost="RemovedByHost",t.HostDisconnect="HostDisconnect",t.LostConnection="LostConnection",t.Disconnected="Disconnected",t))(nl||{});const Tu={RemovedByHost:"Removed by host",HostDisconnect:"Quiz host left",LostConnection:"Connection lost",Disconnected:"Disconnected"};var Ge=(t=>(t.Single="Single",t.Multiple="Multiple",t))(Ge||{});const Cu={Single:"There can be multiple correct answers but the user can only choose 1",Multiple:"There can be 1 or more correct answers and the user can select many"},vs=pe.object({id:pe.number(),value:pe.string(),correct:pe.boolean()});var Sn=(t=>(t.Contain="Contain",t.Cover="Cover",t.Width="Width",t.Height="Height",t))(Sn||{}),Kt=(t=>(t.Exact="Exact",t.Partial="Partial",t))(Kt||{});const xu={Exact:"Players must select all the answers marked as correct in order to score",Partial:"Players can get partial scores if they selected some correct answers"},Du=pe.object({text:pe.string(),image:pe.object({uuid:pe.string().uuid(),fit:pe.enum(["Contain","Cover","Width","Height"])}).nullable(),answer_time:pe.number(),bonus_score_time:pe.number(),scoring:pe.object({min_score:pe.number(),max_score:pe.number(),bonus_score:pe.number()})}).and(pe.discriminatedUnion("ty",[pe.object({ty:pe.literal("Single"),answers:pe.array(vs)}),pe.object({ty:pe.literal("Multiple"),answers:pe.array(vs),marking:pe.discriminatedUnion("ty",[pe.object({ty:pe.literal("Partial"),partial:pe.number(),correct:pe.number()}),pe.object({ty:pe.literal("Exact")})]),min:pe.number(),max:pe.number()})]));var Ri=(t=>(t.Single="Single",t.Multiple="Multiple",t))(Ri||{}),Zt=(t=>(t.Correct="Correct",t.Incorrect="Incorrect",t.Partial="Partial",t))(Zt||{}),Ht=(t=>(t.Initialize="Initialize",t.Connect="Connect",t.Join="Join",t.Ready="Ready",t.HostAction="HostAction",t.Answer="Answer",t.Kick="Kick",t))(Ht||{}),At=(t=>(t.Joined="Joined",t.Ok="Ok",t.PlayerData="PlayerData",t.GameState="GameState",t.Timer="Timer",t.Question="Question",t.Scores="Scores",t.Score="Score",t.Error="Error",t.Kicked="Kicked",t))(At||{});function Vi(t){return new URL(t,window.location.origin)}function ys(t,e){return Vi(`/api/quiz/${t}/${e}`).toString()}function Su(t,e,n){return new Promise((r,i)=>{const s=Iu(t,e),o=new XMLHttpRequest;o.upload.onprogress=n,o.responseType="json",o.onload=()=>{if(Math.floor(o.status/100)!==2)return console.error("Failed invalid request",o),i(new Error("Invalid request try reloading the page or updating Quizler"));const f=o.response;r(f.uuid)},o.onerror=o.ontimeout=o.onabort=()=>i(new Error("Failed to connect"));const l=Vi("/api/quiz");o.open("POST",l),o.send(s)})}function Iu(t,e){const n=new FormData;n.append("config",JSON.stringify(t));for(const r of e)t.questions.find(s=>{var o;return((o=s.image)==null?void 0:o.uuid)===r.uuid})!==void 0&&n.append(r.uuid,r.blob);return n}async function $u(t,e){const n=e.image;if(n===null)return null;const r=6;let i=0,s=ys(t,n.uuid),o=null;for(;i<r;)try{await new Promise((l,u)=>{o=new Image,o.src=s,o.onload=l,o.onerror=u}),console.debug("Preloaded question image",s);break}catch(l){console.error("Failed to preload image trying again",s,l),i+=1,o=null,s=ys(t,n.uuid)+`?attempt=${i}`}return o}let rl=0,Vr={},dr=[],il=sl();const Ni={},Wi=Bt(!1);function Gt(t,e){Zo(()=>{Ni[t]=e,console.log("Added handler for",t),dr=dr.filter(n=>n.ty===t?(e(n),!1):!0)}),aa(()=>{delete Ni[t]})}function Ou(){for(const t of dr)console.warn("Message was not handled",t);dr=[]}function sl(){const t=Vi("/api/quiz/socket");t.protocol=t.protocol.includes("https")?"wss":"ws",console.debug("Connecting to socket server "+t);const e=new WebSocket(t);return e.onmessage=Nu,e.onopen=()=>{e.readyState==WebSocket.OPEN?(console.debug("Connected to socket"),Wi.set(!0)):console.log(e.readyState)},e.onclose=n=>{console.error("WebSocket connetion closed",n),Mu()},e.onerror=n=>{console.error("WebSocket error",n)},e}function Mu(){rl=0,Vr={},Ou(),br(),Ru()}function Ru(){console.debug("Socket connection lost (Reconnecting in 1000ms)"),Wi.set(!1),setTimeout(()=>{il=sl()},1e3)}function rn(t){return new Promise((e,n)=>{console.debug("Sending message to server",t),t.rid=rl++,Vr[t.rid]={resolve:e,reject:n};const r=JSON.stringify(t);try{il.send(r)}catch(i){console.error("Failed to send message",i),delete Vr[t.rid],n({ty:At.Error,error:"Unexpected"})}})}function Nu({data:t}){const e=JSON.parse(t);if(e.ty===void 0){console.error("Packet missing message type",t);return}const n=e.rid;if(n!==void 0){const i=Vr[n];if(i===void 0){console.error(`Missing return handle ${n} for message`,e);return}e.ty===At.Error?i.reject(e.error):i.resolve(e)}const r=Ni[e.ty];if(r!==void 0){r(e);return}dr.push(e)}function qu(t){let e;return{c(){e=D("div"),m(e,"class","spin svelte-1ku7j7d")},m(n,r){H(n,e,r)},p:Q,i:Q,o:Q,d(n){n&&Z(e)}}}class ol extends we{constructor(e){super(),be(this,e,null,qu,ye,{})}}function Fu(t){let e,n,r,i,s,o;return n=new ol({}),{c(){e=D("main"),le(n.$$.fragment),r=P(),i=D("p"),s=ee(t[0]),m(i,"class","text svelte-ce1y0i"),m(e,"class","page page--center page--overflow")},m(l,u){H(l,e,u),se(n,e,null),g(e,r),g(e,i),g(i,s),o=!0},p(l,[u]){(!o||u&1)&&Se(s,l[0])},i(l){o||(W(n.$$.fragment,l),o=!0)},o(l){G(n.$$.fragment,l),o=!1},d(l){l&&Z(e),oe(n)}}}function Lu(t,e,n){let{text:r}=e;return t.$$set=i=>{"text"in i&&n(0,r=i.text)},[r]}class ll extends we{constructor(e){super(),be(this,e,Lu,Fu,ye,{text:0})}}let Cr;const Pu=new Uint8Array(16);function Uu(){if(!Cr&&(Cr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cr(Pu)}const tt=[];for(let t=0;t<256;++t)tt.push((t+256).toString(16).slice(1));function zu(t,e=0){return(tt[t[e+0]]+tt[t[e+1]]+tt[t[e+2]]+tt[t[e+3]]+"-"+tt[t[e+4]]+tt[t[e+5]]+"-"+tt[t[e+6]]+tt[t[e+7]]+"-"+tt[t[e+8]]+tt[t[e+9]]+"-"+tt[t[e+10]]+tt[t[e+11]]+tt[t[e+12]]+tt[t[e+13]]+tt[t[e+14]]+tt[t[e+15]]).toLowerCase()}const Zu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bs={randomUUID:Zu};function Gi(t,e,n){if(bs.randomUUID&&!e&&!t)return bs.randomUUID();t=t||{};const r=t.random||(t.rng||Uu)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return zu(r)}const Sr=5,al=1,ul=30,ju=70,Hu=300,Bu="Example Quiz",Vu="Small description about your quiz",Wu=10,Gu=100,Qu=150,ws=8,ks=50,Yu=400,Xu=1e3*15,Ku=1e3,Ju=1e3*60*30,ec=150,tc=1e3*3,Es=0,nc=1e4,rc=1e4,ic=1e3,sc=1e3*60*30,oc=1,cl=50,lc=1024*1024*15;function ac(){return{name:Bu,text:Vu,max_players:cl,filtering:Dn.High,questions:[fl()]}}function fl(){return{id:Gi(),ty:Ge.Single,text:"This is an example question, you should replace this with your first question",image:null,answer_time:Xu,bonus_score_time:tc,scoring:{min_score:Wu,max_score:Gu,bonus_score:ec},answers:[{id:0,value:"Example A",correct:!0},{id:1,value:"Example B",correct:!1},{id:2,value:"Example C",correct:!1},{id:3,value:"Example D",correct:!1}]}}function uc(t){let e,n,r,i,s,o,l;return n=new ol({}),{c(){e=D("main"),le(n.$$.fragment),r=P(),i=D("p"),s=ee(t[0]),m(i,"class","text svelte-1cn2ffa"),m(e,"class","main svelte-1cn2ffa")},m(u,f){H(u,e,f),se(n,e,null),g(e,r),g(e,i),g(i,s),l=!0},p(u,[f]){(!l||f&1)&&Se(s,u[0])},i(u){l||(W(n.$$.fragment,u),Ze(()=>{l&&(o||(o=Ne(e,qr,{},!0)),o.run(1))}),l=!0)},o(u){G(n.$$.fragment,u),o||(o=Ne(e,qr,{},!1)),o.run(0),l=!1},d(u){u&&Z(e),oe(n),u&&o&&o.end()}}}function cc(t,e,n){let{text:r=""}=e;return t.$$set=i=>{"text"in i&&n(0,r=i.text)},[r]}class Qi extends we{constructor(e){super(),be(this,e,cc,uc,ye,{text:0})}}function fc(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){H(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&Z(e)}}}class dl extends we{constructor(e){super(),be(this,e,null,fc,ye,{})}}function dc(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M8 5v14l11-7z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){H(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&Z(e)}}}class ui extends we{constructor(e){super(),be(this,e,null,dc,ye,{})}}function As(t){let e,n;return e=new Qi({}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function pc(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w=t[4]&&Ts(t);return{c(){e=D("main"),n=D("p"),r=ee(t[1]),i=P(),s=D("h1"),s.textContent="Enter Name",o=P(),l=D("p"),l.textContent="Please enter your desired name",u=P(),f=D("div"),a=D("input"),d=P(),w&&w.c(),m(a,"class","input input--small svelte-122cy5o"),m(a,"type","text"),m(a,"minlength",al),m(a,"maxlength",ul),m(f,"class","form svelte-122cy5o"),m(e,"class","page page--center page--overflow svelte-122cy5o")},m(_,C){H(_,e,C),g(e,n),g(n,r),g(e,i),g(e,s),g(e,o),g(e,l),g(e,u),g(e,f),g(f,a),Oe(a,t[2]),g(f,d),w&&w.m(f,null),p=!0,h||(v=[J(a,"input",t[13]),J(a,"input",t[8])],h=!0)},p(_,C){(!p||C&2)&&Se(r,_[1]),C&4&&a.value!==_[2]&&Oe(a,_[2]),_[4]?w?(w.p(_,C),C&16&&W(w,1)):(w=Ts(_),w.c(),W(w,1),w.m(f,null)):w&&(qe(),G(w,1,1,()=>{w=null}),Fe())},i(_){p||(W(w),Ze(()=>{p&&(c||(c=Ne(e,Le,{},!0)),c.run(1))}),p=!0)},o(_){G(w),c||(c=Ne(e,Le,{},!1)),c.run(0),p=!1},d(_){_&&Z(e),w&&w.d(),_&&c&&c.end(),h=!1,Pe(v)}}}function hc(t){let e,n,r,i,s,o,l,u,f,a,d,c,p=t[3]&&Cs(t);return{c(){e=D("main"),n=D("h1"),n.textContent="Enter Code",r=P(),i=D("p"),i.textContent="Please enter your quiz code below",s=P(),o=D("div"),l=D("input"),u=P(),p&&p.c(),m(l,"class","input svelte-122cy5o"),m(l,"type","text"),m(l,"minlength",Sr),m(l,"maxlength",Sr),m(l,"placeholder","X".repeat(Sr)),m(o,"class","form svelte-122cy5o"),m(e,"class","page page--center page--overflow svelte-122cy5o")},m(h,v){H(h,e,v),g(e,n),g(e,r),g(e,i),g(e,s),g(e,o),g(o,l),Oe(l,t[1]),g(o,u),p&&p.m(o,null),a=!0,d||(c=[J(l,"input",t[12]),J(l,"input",t[7])],d=!0)},p(h,v){v&2&&l.value!==h[1]&&Oe(l,h[1]),h[3]?p?(p.p(h,v),v&8&&W(p,1)):(p=Cs(h),p.c(),W(p,1),p.m(o,null)):p&&(qe(),G(p,1,1,()=>{p=null}),Fe())},i(h){a||(W(p),Ze(()=>{a&&(f||(f=Ne(e,Le,{},!0)),f.run(1))}),a=!0)},o(h){G(p),f||(f=Ne(e,Le,{},!1)),f.run(0),a=!1},d(h){h&&Z(e),p&&p.d(),h&&f&&f.end(),d=!1,Pe(c)}}}function Ts(t){let e,n,r,i,s,o;return n=new ui({}),{c(){e=D("button"),le(n.$$.fragment),m(e,"class","play play--small svelte-122cy5o")},m(l,u){H(l,e,u),se(n,e,null),i=!0,s||(o=J(e,"click",t[10]),s=!0)},p:Q,i(l){i||(W(n.$$.fragment,l),Ze(()=>{i&&(r||(r=Ne(e,Le,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){G(n.$$.fragment,l),r||(r=Ne(e,Le,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&Z(e),oe(n),l&&r&&r.end(),s=!1,o()}}}function Cs(t){let e,n,r,i,s,o;return n=new ui({}),{c(){e=D("button"),le(n.$$.fragment),m(e,"class","play svelte-122cy5o")},m(l,u){H(l,e,u),se(n,e,null),i=!0,s||(o=J(e,"click",t[9]),s=!0)},p:Q,i(l){i||(W(n.$$.fragment,l),Ze(()=>{i&&(r||(r=Ne(e,Le,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){G(n.$$.fragment,l),r||(r=Ne(e,Le,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&Z(e),oe(n),l&&r&&r.end(),s=!1,o()}}}function mc(t){let e,n,r,i,s,o,l,u,f,a,d=t[5]&&As();r=new dl({});const c=[hc,pc],p=[];function h(v,w){return v[0]===v[6].Connect?0:1}return s=h(t),o=p[s]=c[s](t),{c(){d&&d.c(),e=P(),n=D("button"),le(r.$$.fragment),i=P(),o.c(),l=$t(),m(n,"class","back back--floating")},m(v,w){d&&d.m(v,w),H(v,e,w),H(v,n,w),se(r,n,null),H(v,i,w),p[s].m(v,w),H(v,l,w),u=!0,f||(a=J(n,"click",t[11]),f=!0)},p(v,[w]){v[5]?d?w&32&&W(d,1):(d=As(),d.c(),W(d,1),d.m(e.parentNode,e)):d&&(qe(),G(d,1,1,()=>{d=null}),Fe());let _=s;s=h(v),s===_?p[s].p(v,w):(qe(),G(p[_],1,1,()=>{p[_]=null}),Fe(),o=p[s],o?o.p(v,w):(o=p[s]=c[s](v),o.c()),W(o,1),o.m(l.parentNode,l))},i(v){u||(W(d),W(r.$$.fragment,v),W(o),u=!0)},o(v){G(d),G(r.$$.fragment,v),G(o),u=!1},d(v){d&&d.d(v),v&&Z(e),v&&Z(n),oe(r),v&&Z(i),p[s].d(v),v&&Z(l),f=!1,a()}}}function gc(t,e,n){var r=(_=>(_[_.Connect=0]="Connect",_[_.Join=1]="Join",_))(r||{});let i=0,s="",o="",l=!1,u=!1,f=!1;function a(){n(1,s=s.toUpperCase().replace(/[^A-Z0-9]/,"")),n(3,l=s.length===Sr)}function d(){n(4,u=o.length>=al&&o.length<=ul)}function c(){n(5,f=!0),rn({ty:Ht.Connect,token:s}).then(()=>{n(0,i=1)}).catch(_=>{console.error("Failed to connect",_),Qt("Failed to connect",Mi[_])}).finally(()=>n(5,f=!1))}function p(){n(5,f=!0),rn({ty:Ht.Join,name:o}).then(({id:_,token:C,config:T})=>{Ho({id:_,token:C,config:T,host:!1,name:o})}).catch(_=>{console.error("Failed to join",_),Qt("Failed to join",Mi[_])}).finally(()=>n(5,f=!1))}function h(){i===0?br():n(0,i=0)}function v(){s=this.value,n(1,s)}function w(){o=this.value,n(2,o)}return[i,s,o,l,u,f,r,a,d,c,p,h,v,w]}class _c extends we{constructor(e){super(),be(this,e,gc,mc,ye,{})}}async function pl(t){try{await rn({ty:Ht.Kick,id:t})}catch(e){console.error("Error while attempting to kick",e)}}async function pr(t){try{await rn({ty:Ht.HostAction,action:t})}catch(e){console.error("Error while attempting host action",t,e)}}async function vc(){try{await rn({ty:Ht.Ready})}catch(t){console.error("Error while attempting to ready",t)}}async function Yi(t){const e=t.host?"Are you sure you want to leave? Leaving will remove all other players from the game":"Are you sure you want to leave?";await Wo("Confirm Leave",e)&&(br(),pl(t.id))}function Wr(t){return((t.total-t.elapsed)/1e3).toFixed(0)}function xs(t){const e=["bytes","kb","mb"];if(t==0)return"0 Byte";const n=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toFixed(1)+e[n]}function gn(t,e){const n=Math.round(Math.random()*(e-t)+t);return n>e?e:n<t?t:n}function Ds(t){const e=["th","st","nd","rd"],n=t%100;return t+(e[(n-20)%10]||e[n]||e[0])}function yc(t){const e=gn(1,t.length/2);let n=0;for(;n<e;){const r=gn(0,t.length-1),i=gn(0,t.length-1);r!==i&&(hl(t,r,i),n++)}return t}function hl(t,e,n){const r=t[e],i=t[n];return(r!==void 0||i!==void 0)&&(t[e]=i,t[n]=r),t}const bc={Answered:["Hmm I wonder if you got it right....","It definitely had to be that one! ","Yeah it was probably that one... ","0_0 good luck i guess..","Are you sure it was that one..?"," Probbably right","It gotta be that one!","If you say so ","1 + 1 = 5?","Was definitely that one! "," don't tell them the answer","Made it in time ","Nice answer ","Mastermind "],[Zt.Correct]:["You did it!","That one was right!","Good job!","Yup that was it!","Nicely done ","Brainy ","Smarty pants "],[Zt.Incorrect]:["Ooops..","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"],[Zt.Partial]:["Almost there...","Not quite there","Just about...","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"]};function ml(t){const e=bc[t];return e[gn(0,e.length-1)]}function wc(t){let e,n,r,i,s,o;return{c(){e=D("main"),n=D("h1"),n.textContent="Waiting...",r=P(),i=D("p"),i.textContent=`${t[0]}`,m(n,"class","title svelte-1p2ou5x"),m(i,"class","text svelte-1p2ou5x"),m(e,"class","main svelte-1p2ou5x")},m(l,u){H(l,e,u),g(e,n),g(e,r),g(e,i),o=!0},p:Q,i(l){o||(Ze(()=>{o&&(s||(s=Ne(e,Le,{},!0)),s.run(1))}),o=!0)},o(l){s||(s=Ne(e,Le,{},!1)),s.run(0),o=!1},d(l){l&&Z(e),l&&s&&s.end()}}}function kc(t){return[ml("Answered")]}class Ec extends we{constructor(e){super(),be(this,e,kc,wc,ye,{})}}function kr(t,{from:e,to:n},r={}){const i=getComputedStyle(t),s=i.transform==="none"?"":i.transform,[o,l]=i.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*o/n.width-(n.left+o),f=e.top+e.height*l/n.height-(n.top+l),{delay:a=0,duration:d=p=>Math.sqrt(p)*120,easing:c=Bo}=r;return{delay:a,duration:kn(d)?d(Math.sqrt(u*u+f*f)):d,easing:c,css:(p,h)=>{const v=h*u,w=h*f,_=p+h*e.width/n.width,C=p+h*e.height/n.height;return`transform: ${s} translate(${v}px, ${w}px) scale(${_}, ${C});`}}}function Ss(t){return Object.prototype.toString.call(t)==="[object Date]"}function qi(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,s)=>qi(t[s],i));return i=>r.map(s=>s(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Ss(t)&&Ss(e)){t=t.getTime(),e=e.getTime();const s=e-t;return o=>new Date(t+o*s)}const r=Object.keys(e),i={};return r.forEach(s=>{i[s]=qi(t[s],e[s])}),s=>{const o={};return r.forEach(l=>{o[l]=i[l](s)}),o}}if(n==="number"){const r=e-t;return i=>t+i*r}throw new Error(`Cannot interpolate ${n} values`)}function Xi(t,e={}){const n=Bt(t);let r,i=t;function s(o,l){if(t==null)return n.set(t=o),Promise.resolve();i=o;let u=r,f=!1,{delay:a=0,duration:d=400,easing:c=si,interpolate:p=qi}=ds(ds({},e),l);if(d===0)return u&&(u.abort(),u=null),n.set(t=i),Promise.resolve();const h=ji()+a;let v;return r=Bi(w=>{if(w<h)return!0;f||(v=p(t,o),typeof d=="function"&&(d=d(t,o)),f=!0),u&&(u.abort(),u=null);const _=w-h;return _>d?(n.set(t=o),!1):(n.set(t=v(c(_/d))),!0)}),r.promise}return{set:s,update:(o,l)=>s(o(i,t),l),subscribe:n.subscribe}}function Ac(t){let e=t[0].toFixed(0)+"",n;return{c(){n=ee(e)},m(r,i){H(r,n,i)},p(r,[i]){i&1&&e!==(e=r[0].toFixed(0)+"")&&Se(n,e)},i:Q,o:Q,d(r){r&&Z(n)}}}function Tc(t,e,n){let r,{value:i}=e;const s=Xi(0,{delay:500});return at(t,s,o=>n(0,r=o)),t.$$set=o=>{"value"in o&&n(2,i=o.value)},t.$$.update=()=>{t.$$.dirty&4&&s.set(i)},[r,s,i]}class gl extends we{constructor(e){super(),be(this,e,Tc,Ac,ye,{value:2})}}function Cc(t){let e,n,r,i,s,o,l,u,f;return{c(){e=ce("svg"),n=ce("g"),r=ce("polygon"),i=ce("polygon"),s=ce("polygon"),o=ce("g"),l=ce("circle"),u=ce("circle"),f=ce("path"),Ti(r,"fill","#FFD102"),m(r,"points","371.342,210.903 469.209,150.675 379.787,95.648 281.922,155.874 	"),Ti(i,"fill","#FFD102"),m(i,"points","127.994,210.903 225.863,150.675 136.44,95.648 38.576,155.874 	"),m(s,"fill","#FFE368"),m(s,"points",`383.997,197.691 255.992,118.921 127.994,197.691 0,118.921 22.505,382.593 489.495,382.593 
	512,118.921 `),m(l,"fill","#FFAA0E"),m(l,"cx","99.947"),m(l,"cy","320.636"),m(l,"r","8.44"),m(u,"fill","#FFAA0E"),m(u,"cx","66.184"),m(u,"cy","286.878"),m(u,"r","8.44"),m(f,"fill","#FFAA0E"),m(f,"d",`M489.495,371.341H22.505C10.076,371.341,0,381.416,0,393.846c0,12.43,10.076,22.505,22.505,22.505
		h466.989c12.43,0,22.505-10.076,22.505-22.505C512,381.416,501.924,371.341,489.495,371.341z`),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"viewBox","0 0 512 512"),m(e,"xml:space","preserve")},m(a,d){H(a,e,d),g(e,n),g(n,r),g(n,i),g(e,s),g(e,o),g(o,l),g(o,u),g(o,f)},p:Q,i:Q,o:Q,d(a){a&&Z(e)}}}class xc extends we{constructor(e){super(),be(this,e,null,Cc,ye,{})}}function Is(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function $s(t){let e,n,r;return{c(){e=D("button"),e.textContent="Restart",m(e,"class","btn")},m(i,s){H(i,e,s),n||(r=J(e,"click",t[2]),n=!0)},p:Q,d(i){i&&Z(e),n=!1,r()}}}function Os(t){let e,n,r;return n=new xc({}),{c(){e=D("div"),le(n.$$.fragment),m(e,"class","crown svelte-9bcas5")},m(i,s){H(i,e,s),se(n,e,null),r=!0},i(i){r||(W(n.$$.fragment,i),r=!0)},o(i){G(n.$$.fragment,i),r=!1},d(i){i&&Z(e),oe(n)}}}function Ms(t,e){let n,r,i,s=Ds(e[6]+1)+"",o,l,u,f=e[4].name+"",a,d,c,p,h,v,w=Q,_,C=e[6]==0&&Os();return p=new gl({props:{value:e[4].score}}),{key:t,first:null,c(){n=D("tr"),r=D("td"),C&&C.c(),i=P(),o=ee(s),l=P(),u=D("td"),a=ee(f),d=P(),c=D("td"),le(p.$$.fragment),h=P(),m(r,"class","player__place svelte-9bcas5"),m(u,"class","player__name svelte-9bcas5"),m(c,"class","player_score"),m(n,"class","player svelte-9bcas5"),this.first=n},m(T,x){H(T,n,x),g(n,r),C&&C.m(r,null),g(r,i),g(r,o),g(n,l),g(n,u),g(u,a),g(n,d),g(n,c),se(p,c,null),g(n,h),_=!0},p(T,x){e=T,e[6]==0?C?x&1&&W(C,1):(C=Os(),C.c(),W(C,1),C.m(r,i)):C&&(qe(),G(C,1,1,()=>{C=null}),Fe()),(!_||x&1)&&s!==(s=Ds(e[6]+1)+"")&&Se(o,s),(!_||x&1)&&f!==(f=e[4].name+"")&&Se(a,f);const $={};x&1&&($.value=e[4].score),p.$set($)},r(){v=n.getBoundingClientRect()},f(){_r(n),w()},a(){w(),w=gr(n,v,kr,{})},i(T){_||(W(C),W(p.$$.fragment,T),_=!0)},o(T){G(C),G(p.$$.fragment,T),_=!1},d(T){T&&Z(n),C&&C.d(),oe(p)}}}function Dc(t){let e,n,r,i=t[1].token+"",s,o,l,u=t[1].config.name+"",f,a,d,c=t[1].config.text+"",p,h,v,w,_,C,T,x,$,k,S=[],y=new Map,b,I,O,N,q=t[1].host&&$s(t),M=t[0].players;const R=A=>A[4].id;for(let A=0;A<M.length;A+=1){let E=Is(t,M,A),F=R(E);y.set(F,S[A]=Ms(F,E))}return{c(){e=D("main"),n=D("div"),r=D("h1"),s=ee(i),o=P(),l=D("h2"),f=ee(u),a=P(),d=D("p"),p=ee(c),h=P(),v=D("div"),w=D("button"),w.textContent="Leave",_=P(),q&&q.c(),C=P(),T=D("table"),x=D("thead"),x.innerHTML=`<tr><th>Place</th> 
          <th>Name</th> 
          <th>Score</th></tr>`,$=P(),k=D("tbody");for(let A=0;A<S.length;A+=1)S[A].c();m(r,"class","token svelte-9bcas5"),m(l,"class","name"),m(d,"class","desc svelte-9bcas5"),m(w,"class","btn"),m(v,"class","btn-row btn-row--fill actions svelte-9bcas5"),m(n,"class","quiz svelte-9bcas5"),m(e,"class","page page--middle page--overflow svelte-9bcas5")},m(A,E){H(A,e,E),g(e,n),g(n,r),g(r,s),g(n,o),g(n,l),g(l,f),g(n,a),g(n,d),g(d,p),g(n,h),g(n,v),g(v,w),g(v,_),q&&q.m(v,null),g(n,C),g(n,T),g(T,x),g(T,$),g(T,k);for(let F=0;F<S.length;F+=1)S[F]&&S[F].m(k,null);I=!0,O||(N=J(w,"click",t[3]),O=!0)},p(A,[E]){if((!I||E&2)&&i!==(i=A[1].token+"")&&Se(s,i),(!I||E&2)&&u!==(u=A[1].config.name+"")&&Se(f,u),(!I||E&2)&&c!==(c=A[1].config.text+"")&&Se(p,c),A[1].host?q?q.p(A,E):(q=$s(A),q.c(),q.m(v,null)):q&&(q.d(1),q=null),E&1){M=A[0].players,qe();for(let F=0;F<S.length;F+=1)S[F].r();S=vr(S,E,R,1,A,M,y,k,oi,Ms,null,Is);for(let F=0;F<S.length;F+=1)S[F].a();Fe()}},i(A){if(!I){for(let E=0;E<M.length;E+=1)W(S[E]);Ze(()=>{I&&(b||(b=Ne(e,Le,{},!0)),b.run(1))}),I=!0}},o(A){for(let E=0;E<S.length;E+=1)G(S[E]);b||(b=Ne(e,Le,{},!1)),b.run(0),I=!1},d(A){A&&Z(e),q&&q.d();for(let E=0;E<S.length;E+=1)S[E].d();A&&b&&b.end(),O=!1,N()}}}function Sc(t,e,n){let{summary:r}=e,{gameData:i}=e;const s=()=>pr(zn.Reset),o=()=>Yi(i);return t.$$set=l=>{"summary"in l&&n(0,r=l.summary),"gameData"in l&&n(1,i=l.gameData)},[r,i,s,o]}class Ic extends we{constructor(e){super(),be(this,e,Sc,Dc,ye,{summary:0,gameData:1})}}function Rs(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function Ns(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function qs(t){let e,n,r,i;return{c(){e=D("div"),m(e,"class","image-wrapper svelte-b8ytla")},m(s,o){H(s,e,o),r||(i=qo(n=Rc.call(null,e,t[3])),r=!0)},p(s,o){n&&kn(n.update)&&o&8&&n.update.call(null,s[3])},d(s){s&&Z(e),r=!1,i()}}}function $c(t){let e,n,r,i=t[2].answers,s=[];for(let l=0;l<i.length;l+=1)s[l]=Fs(Rs(t,i,l));let o=!t[0].host&&Ls(t);return{c(){e=D("div");for(let l=0;l<s.length;l+=1)s[l].c();n=P(),o&&o.c(),r=$t(),m(e,"class","answers svelte-b8ytla")},m(l,u){H(l,e,u);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);H(l,n,u),o&&o.m(l,u),H(l,r,u)},p(l,u){if(u&149){i=l[2].answers;let f;for(f=0;f<i.length;f+=1){const a=Rs(l,i,f);s[f]?s[f].p(a,u):(s[f]=Fs(a),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=i.length}l[0].host?o&&(o.d(1),o=null):o?o.p(l,u):(o=Ls(l),o.c(),o.m(r.parentNode,r))},d(l){l&&Z(e),Ln(s,l),l&&Z(n),o&&o.d(l),l&&Z(r)}}}function Oc(t){let e,n=t[2].answers,r=[];for(let i=0;i<n.length;i+=1)r[i]=Ps(Ns(t,n,i));return{c(){e=D("div");for(let i=0;i<r.length;i+=1)r[i].c();m(e,"class","answers svelte-b8ytla")},m(i,s){H(i,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(i,s){if(s&37){n=i[2].answers;let o;for(o=0;o<n.length;o+=1){const l=Ns(i,n,o);r[o]?r[o].p(l,s):(r[o]=Ps(l),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){i&&Z(e),Ln(r,i)}}}function Fs(t){let e,n=t[12].value+"",r,i,s,o,l,u;function f(){return t[11](t[14])}return{c(){e=D("button"),r=ee(n),i=P(),m(e,"data-host",s=t[0].host),m(e,"class","answer btn btn--surface svelte-b8ytla"),e.disabled=o=t[0].host||!t[4].includes(t[14])&&t[4].length===t[2].max,Mr(e,"answer--checked",t[4].includes(t[14]))},m(a,d){H(a,e,d),g(e,r),g(e,i),l||(u=J(e,"click",f),l=!0)},p(a,d){t=a,d&4&&n!==(n=t[12].value+"")&&Se(r,n),d&1&&s!==(s=t[0].host)&&m(e,"data-host",s),d&21&&o!==(o=t[0].host||!t[4].includes(t[14])&&t[4].length===t[2].max)&&(e.disabled=o),d&16&&Mr(e,"answer--checked",t[4].includes(t[14]))},d(a){a&&Z(e),l=!1,u()}}}function Ls(t){let e,n,r,i,s;return{c(){e=D("button"),n=ee("Submit"),m(e,"class","btn btn btn--surface submit svelte-b8ytla"),e.disabled=r=t[4].length<t[2].min},m(o,l){H(o,e,l),g(e,n),i||(s=J(e,"click",t[6]),i=!0)},p(o,l){l&20&&r!==(r=o[4].length<o[2].min)&&(e.disabled=r)},d(o){o&&Z(e),i=!1,s()}}}function Ps(t){let e,n=t[12].value+"",r,i,s,o,l,u;function f(){return t[10](t[14])}return{c(){e=D("button"),r=ee(n),i=P(),m(e,"data-host",s=t[0].host),m(e,"class","answer btn btn--surface svelte-b8ytla"),e.disabled=o=t[0].host},m(a,d){H(a,e,d),g(e,r),g(e,i),l||(u=J(e,"click",f),l=!0)},p(a,d){t=a,d&4&&n!==(n=t[12].value+"")&&Se(r,n),d&1&&s!==(s=t[0].host)&&m(e,"data-host",s),d&1&&o!==(o=t[0].host)&&(e.disabled=o)},d(a){a&&Z(e),l=!1,u()}}}function Us(t){let e,n,r;return{c(){e=D("button"),e.textContent="Skip",m(e,"class","btn btn--surface")},m(i,s){H(i,e,s),n||(r=J(e,"click",t[8]),n=!0)},p:Q,d(i){i&&Z(e),n=!1,r()}}}function Mc(t){let e,n,r,i,s=t[2].text+"",o,l,u,f,a,d=t[0].token+"",c,p,h,v,w=Wr(t[1])+"",_,C=t[3]!==null&&qs(t);function T(S,y){if(S[2].ty===Ge.Single)return Oc;if(S[2].ty===Ge.Multiple)return $c}let x=T(t),$=x&&x(t),k=t[0].host&&Us(t);return{c(){e=D("main"),C&&C.c(),n=P(),r=D("div"),i=D("p"),o=ee(s),l=P(),$&&$.c(),u=P(),f=D("div"),a=D("p"),c=ee(d),p=P(),k&&k.c(),h=P(),v=D("p"),_=ee(w),m(i,"class","text svelte-b8ytla"),m(r,"class","content svelte-b8ytla"),m(a,"class","token svelte-b8ytla"),m(v,"class","time svelte-b8ytla"),m(f,"class","bottom svelte-b8ytla"),m(e,"class","main svelte-b8ytla")},m(S,y){H(S,e,y),C&&C.m(e,null),g(e,n),g(e,r),g(r,i),g(i,o),g(r,l),$&&$.m(r,null),g(e,u),g(e,f),g(f,a),g(a,c),g(f,p),k&&k.m(f,null),g(f,h),g(f,v),g(v,_)},p(S,[y]){S[3]!==null?C?C.p(S,y):(C=qs(S),C.c(),C.m(e,n)):C&&(C.d(1),C=null),y&4&&s!==(s=S[2].text+"")&&Se(o,s),x===(x=T(S))&&$?$.p(S,y):($&&$.d(1),$=x&&x(S),$&&($.c(),$.m(r,null))),y&1&&d!==(d=S[0].token+"")&&Se(c,d),S[0].host?k?k.p(S,y):(k=Us(S),k.c(),k.m(f,h)):k&&(k.d(1),k=null),y&2&&w!==(w=Wr(S[1])+"")&&Se(_,w)},i:Q,o:Q,d(S){S&&Z(e),C&&C.d(),$&&$.d(),k&&k.d()}}}function Rc(t,e){t.appendChild(e)}function Nc(t,e,n){let{gameData:r}=e,{timer:i}=e,{question:s}=e,{answered:o}=e,{preloadedImage:l}=e,u=[];async function f(v){n(9,o=!0);try{await rn({ty:Ht.Answer,answer:{ty:Ri.Single,answer:v}})}catch(w){console.error("Error while attempting to answer",w)}}async function a(){n(9,o=!0);try{await rn({ty:Ht.Answer,answer:{ty:Ri.Multiple,answers:u}})}catch(v){console.error("Error while attempting to answer",v)}}function d(v){u.includes(v)?n(4,u=u.filter(w=>w!=v)):(u.push(v),n(4,u))}const c=()=>pr(zn.Next),p=v=>f(v),h=v=>d(v);return t.$$set=v=>{"gameData"in v&&n(0,r=v.gameData),"timer"in v&&n(1,i=v.timer),"question"in v&&n(2,s=v.question),"answered"in v&&n(9,o=v.answered),"preloadedImage"in v&&n(3,l=v.preloadedImage)},[r,i,s,l,u,f,a,d,c,o,p,h]}class qc extends we{constructor(e){super(),be(this,e,Nc,Mc,ye,{gameData:0,timer:1,question:2,answered:9,preloadedImage:3})}}function zs(t,e,n){const r=t.slice();return r[7]=e[n],r}function Fc(t){let e,n,r;return{c(){e=D("button"),e.textContent="Start",m(e,"class","btn")},m(i,s){H(i,e,s),n||(r=J(e,"click",t[4]),n=!0)},p:Q,d(i){i&&Z(e),n=!1,r()}}}function Lc(t){let e,n,r;return{c(){e=D("button"),e.textContent="Next",m(e,"class","btn")},m(i,s){H(i,e,s),n||(r=J(e,"click",t[4]),n=!0)},p:Q,d(i){i&&Z(e),n=!1,r()}}}function Zs(t,e){let n,r,i=e[7].name+"",s,o,l,u,f,a,d,c,p,h=Q,v,w,_;u=new gl({props:{value:e[2][e[7].id]??0}});function C(){return e[6](e[7])}return{key:t,first:null,c(){n=D("tr"),r=D("td"),s=ee(i),o=P(),l=D("td"),le(u.$$.fragment),f=P(),a=D("td"),d=D("button"),d.textContent="Kick",c=P(),m(r,"class","player__name svelte-t8tz1l"),m(l,"class","player_score"),m(d,"class","btn"),m(a,"class","player__action svelte-t8tz1l"),m(n,"class","player svelte-t8tz1l"),this.first=n},m(T,x){H(T,n,x),g(n,r),g(r,s),g(n,o),g(n,l),se(u,l,null),g(n,f),g(n,a),g(a,d),g(n,c),v=!0,w||(_=J(d,"click",C),w=!0)},p(T,x){e=T,(!v||x&2)&&i!==(i=e[7].name+"")&&Se(s,i);const $={};x&6&&($.value=e[2][e[7].id]??0),u.$set($)},r(){p=n.getBoundingClientRect()},f(){_r(n),h()},a(){h(),h=gr(n,p,kr,{})},i(T){v||(W(u.$$.fragment,T),v=!0)},o(T){G(u.$$.fragment,T),v=!1},d(T){T&&Z(n),oe(u),w=!1,_()}}}function Pc(t){let e,n,r,i=t[0].token+"",s,o,l,u=t[0].config.name+"",f,a,d,c=t[0].config.text+"",p,h,v,w,_,C,T,x,$,k,S=[],y=new Map,b,I,O,N;function q(F,L){if(F[3]===ot.Marked)return Lc;if(F[1].length>0&&F[3]===ot.Lobby)return Fc}let M=q(t),R=M&&M(t),A=t[1];const E=F=>F[7].id;for(let F=0;F<A.length;F+=1){let L=zs(t,A,F),U=E(L);y.set(U,S[F]=Zs(U,L))}return{c(){e=D("main"),n=D("div"),r=D("h1"),s=ee(i),o=P(),l=D("h2"),f=ee(u),a=P(),d=D("p"),p=ee(c),h=P(),v=D("div"),w=D("button"),w.textContent="Leave",_=P(),R&&R.c(),C=P(),T=D("table"),x=D("thead"),x.innerHTML=`<tr><th>Name</th> 
          <th>Score</th> 
          <th>Actions</th></tr>`,$=P(),k=D("tbody");for(let F=0;F<S.length;F+=1)S[F].c();m(r,"class","token svelte-t8tz1l"),m(l,"class","name"),m(d,"class","desc svelte-t8tz1l"),m(w,"class","btn"),m(v,"class","btn-row btn-row--fill actions svelte-t8tz1l"),m(n,"class","quiz svelte-t8tz1l"),m(e,"class","page page--middle page--overflow svelte-t8tz1l")},m(F,L){H(F,e,L),g(e,n),g(n,r),g(r,s),g(n,o),g(n,l),g(l,f),g(n,a),g(n,d),g(d,p),g(n,h),g(n,v),g(v,w),g(v,_),R&&R.m(v,null),g(n,C),g(n,T),g(T,x),g(T,$),g(T,k);for(let U=0;U<S.length;U+=1)S[U]&&S[U].m(k,null);I=!0,O||(N=J(w,"click",t[5]),O=!0)},p(F,[L]){if((!I||L&1)&&i!==(i=F[0].token+"")&&Se(s,i),(!I||L&1)&&u!==(u=F[0].config.name+"")&&Se(f,u),(!I||L&1)&&c!==(c=F[0].config.text+"")&&Se(p,c),M===(M=q(F))&&R?R.p(F,L):(R&&R.d(1),R=M&&M(F),R&&(R.c(),R.m(v,null))),L&6){A=F[1],qe();for(let U=0;U<S.length;U+=1)S[U].r();S=vr(S,L,E,1,F,A,y,k,oi,Zs,null,zs);for(let U=0;U<S.length;U+=1)S[U].a();Fe()}},i(F){if(!I){for(let L=0;L<A.length;L+=1)W(S[L]);Ze(()=>{I&&(b||(b=Ne(e,Le,{},!0)),b.run(1))}),I=!0}},o(F){for(let L=0;L<S.length;L+=1)G(S[L]);b||(b=Ne(e,Le,{},!1)),b.run(0),I=!1},d(F){F&&Z(e),R&&R.d();for(let L=0;L<S.length;L+=1)S[L].d();F&&b&&b.end(),O=!1,N()}}}function Uc(t,e,n){let{gameData:r}=e,{players:i}=e,{scores:s}=e,{gameState:o}=e;const l=()=>pr(zn.Next),u=()=>Yi(r),f=a=>pl(a.id);return t.$$set=a=>{"gameData"in a&&n(0,r=a.gameData),"players"in a&&n(1,i=a.players),"scores"in a&&n(2,s=a.scores),"gameState"in a&&n(3,o=a.gameState)},[r,i,s,o,l,u,f]}class zc extends we{constructor(e){super(),be(this,e,Uc,Pc,ye,{gameData:0,players:1,scores:2,gameState:3})}}function Zc(t){let e,n=t[0].count+"",r,i,s=t[0].total+"",o,l,u,f,a=t[1].toFixed(0)+"",d;return{c(){e=D("p"),r=ee(n),i=ee(" / "),o=ee(s),l=P(),u=D("p"),f=ee("+"),d=ee(a),m(e,"class","ratio"),m(u,"class","score svelte-1dywswa")},m(c,p){H(c,e,p),g(e,r),g(e,i),g(e,o),H(c,l,p),H(c,u,p),g(u,f),g(u,d)},p(c,p){p&1&&n!==(n=c[0].count+"")&&Se(r,n),p&1&&s!==(s=c[0].total+"")&&Se(o,s),p&2&&a!==(a=c[1].toFixed(0)+"")&&Se(d,a)},d(c){c&&Z(e),c&&Z(l),c&&Z(u)}}}function jc(t){let e,n,r=t[1].toFixed(0)+"",i;return{c(){e=D("p"),n=ee("+"),i=ee(r),m(e,"class","score svelte-1dywswa")},m(s,o){H(s,e,o),g(e,n),g(e,i)},p(s,o){o&2&&r!==(r=s[1].toFixed(0)+"")&&Se(i,r)},d(s){s&&Z(e)}}}function Hc(t){let e,n,r=t[0].ty+"",i,s,o,l,u,f,a;function d(h,v){if(h[0].ty===Zt.Correct)return jc;if(h[0].ty===Zt.Partial)return Zc}let c=d(t),p=c&&c(t);return{c(){e=D("main"),n=D("h1"),i=ee(r),s=P(),o=D("p"),o.textContent=`${t[2]}`,l=P(),p&&p.c(),m(n,"class","title svelte-1dywswa"),m(o,"class","text svelte-1dywswa"),m(e,"class","main svelte-1dywswa"),m(e,"data-type",u=t[0].ty)},m(h,v){H(h,e,v),g(e,n),g(n,i),g(e,s),g(e,o),g(e,l),p&&p.m(e,null),a=!0},p(h,[v]){(!a||v&1)&&r!==(r=h[0].ty+"")&&Se(i,r),c===(c=d(h))&&p?p.p(h,v):(p&&p.d(1),p=c&&c(h),p&&(p.c(),p.m(e,null))),(!a||v&1&&u!==(u=h[0].ty))&&m(e,"data-type",u)},i(h){a||(Ze(()=>{a&&(f||(f=Ne(e,Le,{},!0)),f.run(1))}),a=!0)},o(h){f||(f=Ne(e,Le,{},!1)),f.run(0),a=!1},d(h){h&&Z(e),p&&p.d(),h&&f&&f.end()}}}function Bc(t,e,n){let r,{score:i}=e;const s=ml(i.ty),o=Xi(0,{delay:500});return at(t,o,l=>n(1,r=l)),t.$$set=l=>{"score"in l&&n(0,i=l.score)},t.$$.update=()=>{t.$$.dirty&1&&(i.ty===Zt.Correct||i.ty===Zt.Partial)&&o.set(i.value)},[i,r,s,o]}class Vc extends we{constructor(e){super(),be(this,e,Bc,Hc,ye,{score:0})}}function Wc(t){let e,n,r,i,s,o=t[0].token+"",l,u,f,a,d,c,p;return{c(){e=D("main"),n=D("div"),n.innerHTML=`<h1 class="title svelte-1hpr4aa">Waiting for host...</h1> 
    <p class="text svelte-1hpr4aa">You&#39;re in, waiting for the host to start the quiz.</p>`,r=P(),i=D("div"),s=D("p"),l=ee(o),u=P(),f=D("button"),f.textContent="Leave",m(n,"class","quiz svelte-1hpr4aa"),m(s,"class","token svelte-1hpr4aa"),m(f,"class","btn btn--surface"),m(i,"class","bottom svelte-1hpr4aa"),m(e,"class","page page--overflow")},m(h,v){H(h,e,v),g(e,n),g(e,r),g(e,i),g(i,s),g(s,l),g(i,u),g(i,f),d=!0,c||(p=J(f,"click",t[1]),c=!0)},p(h,[v]){(!d||v&1)&&o!==(o=h[0].token+"")&&Se(l,o)},i(h){d||(Ze(()=>{d&&(a||(a=Ne(e,Le,{},!0)),a.run(1))}),d=!0)},o(h){a||(a=Ne(e,Le,{},!1)),a.run(0),d=!1},d(h){h&&Z(e),h&&a&&a.end(),c=!1,p()}}}function Gc(t,e,n){let{gameData:r}=e;const i=()=>Yi(r);return t.$$set=s=>{"gameData"in s&&n(0,r=s.gameData)},[r,i]}class Qc extends we{constructor(e){super(),be(this,e,Gc,Wc,ye,{gameData:0})}}function js(t){let e,n=Wr(t[1])+"",r;return{c(){e=D("span"),r=ee(n),m(e,"class","time svelte-lus7sg")},m(i,s){H(i,e,s),g(e,r)},p(i,s){s&2&&n!==(n=Wr(i[1])+"")&&Se(r,n)},d(i){i&&Z(e)}}}function Yc(t){let e;return{c(){e=D("p"),e.textContent="Get ready to answer",m(e,"class","text svelte-lus7sg")},m(n,r){H(n,e,r)},d(n){n&&Z(e)}}}function Xc(t){let e;return{c(){e=D("p"),e.textContent="Get ready, the quiz is about to start.",m(e,"class","text svelte-lus7sg")},m(n,r){H(n,e,r)},d(n){n&&Z(e)}}}function Hs(t){let e,n,r,i,s=t[0]===ot.Starting&&Bs(t);return{c(){s&&s.c(),e=P(),n=D("button"),n.textContent="Skip",m(n,"class","btn btn--surface")},m(o,l){s&&s.m(o,l),H(o,e,l),H(o,n,l),r||(i=J(n,"click",t[3]),r=!0)},p(o,l){o[0]===ot.Starting?s?s.p(o,l):(s=Bs(o),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(o){s&&s.d(o),o&&Z(e),o&&Z(n),r=!1,i()}}}function Bs(t){let e,n,r;return{c(){e=D("button"),e.textContent="Cancel",m(e,"class","btn btn--surface")},m(i,s){H(i,e,s),n||(r=J(e,"click",t[4]),n=!0)},p:Q,d(i){i&&Z(e),n=!1,r()}}}function Kc(t){let e,n,r,i,s,o,l=t[2].token+"",u,f,a,d,c=t[1].elapsed!==t[1].total&&js(t);function p(_,C){return _[0]===ot.Starting?Xc:Yc}let h=p(t),v=h(t),w=t[2].host&&Hs(t);return{c(){e=D("main"),n=D("div"),c&&c.c(),r=P(),v.c(),i=P(),s=D("div"),o=D("p"),u=ee(l),f=P(),w&&w.c(),m(n,"class","quiz svelte-lus7sg"),m(o,"class","token svelte-lus7sg"),m(s,"class","bottom svelte-lus7sg"),m(e,"class","page page--overflow")},m(_,C){H(_,e,C),g(e,n),c&&c.m(n,null),g(n,r),v.m(n,null),g(e,i),g(e,s),g(s,o),g(o,u),g(s,f),w&&w.m(s,null),d=!0},p(_,[C]){_[1].elapsed!==_[1].total?c?c.p(_,C):(c=js(_),c.c(),c.m(n,r)):c&&(c.d(1),c=null),h!==(h=p(_))&&(v.d(1),v=h(_),v&&(v.c(),v.m(n,null))),(!d||C&4)&&l!==(l=_[2].token+"")&&Se(u,l),_[2].host?w?w.p(_,C):(w=Hs(_),w.c(),w.m(s,null)):w&&(w.d(1),w=null)},i(_){d||(Ze(()=>{d&&(a||(a=Ne(e,Le,{},!0)),a.run(1))}),d=!0)},o(_){a||(a=Ne(e,Le,{},!1)),a.run(0),d=!1},d(_){_&&Z(e),c&&c.d(),v.d(),w&&w.d(),_&&a&&a.end()}}}function Jc(t,e,n){let{gameState:r}=e,{timer:i}=e,{gameData:s}=e;const o=()=>pr(zn.Next),l=()=>pr(zn.Reset);return t.$$set=u=>{"gameState"in u&&n(0,r=u.gameState),"timer"in u&&n(1,i=u.timer),"gameData"in u&&n(2,s=u.gameData)},[r,i,s,o,l]}class ef extends we{constructor(e){super(),be(this,e,Jc,Kc,ye,{gameState:0,timer:1,gameData:2})}}function tf(t){let e,n;return e=new ll({props:{text:"..."}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function nf(t){let e,n;return e=new Vc({props:{score:t[6]}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&64&&(s.score=r[6]),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function rf(t){let e,n;return e=new Qc({props:{gameData:t[0]}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function sf(t){let e,n;return e=new zc({props:{gameData:t[0],gameState:t[3],players:t[2],scores:t[7]}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&8&&(s.gameState=r[3]),i&4&&(s.players=r[2]),i&128&&(s.scores=r[7]),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function of(t){let e,n,r,i;const s=[cf,uf],o=[];function l(u,f){return u[8]?u[2].length!==1?1:-1:0}return~(e=l(t))&&(n=o[e]=s[e](t)),{c(){n&&n.c(),r=$t()},m(u,f){~e&&o[e].m(u,f),H(u,r,f),i=!0},p(u,f){let a=e;e=l(u),e===a?~e&&o[e].p(u,f):(n&&(qe(),G(o[a],1,1,()=>{o[a]=null}),Fe()),~e?(n=o[e],n?n.p(u,f):(n=o[e]=s[e](u),n.c()),W(n,1),n.m(r.parentNode,r)):n=null)},i(u){i||(W(n),i=!0)},o(u){G(n),i=!1},d(u){~e&&o[e].d(u),u&&Z(r)}}}function lf(t){let e,n;return e=new ef({props:{gameState:t[3],gameData:t[0],timer:t[9]}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&8&&(s.gameState=r[3]),i&1&&(s.gameData=r[0]),i&512&&(s.timer=r[9]),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function af(t){let e,n;return e=new Ic({props:{gameData:t[0],summary:t[4]}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&16&&(s.summary=r[4]),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function uf(t){let e,n;return e=new Ec({}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function cf(t){let e,n,r;function i(o){t[10](o)}let s={gameData:t[0],question:t[5],timer:t[9],preloadedImage:t[1]};return t[8]!==void 0&&(s.answered=t[8]),e=new qc({props:s}),it.push(()=>pt(e,"answered",i)),{c(){le(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,l){const u={};l&1&&(u.gameData=o[0]),l&32&&(u.question=o[5]),l&512&&(u.timer=o[9]),l&2&&(u.preloadedImage=o[1]),!n&&l&256&&(n=!0,u.answered=o[8],dt(()=>n=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function ff(t){let e,n,r,i;const s=[af,lf,of,sf,rf,nf,tf],o=[];function l(u,f){return u[3]===ot.Finished&&u[4]!=null?0:u[3]===ot.Starting||u[3]===ot.PreQuestion||u[3]===ot.AwaitingReady?1:u[3]===ot.AwaitingAnswers&&u[5]!=null?2:u[0].host?3:u[3]===ot.Lobby?4:u[3]===ot.Marked?5:6}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),r=$t()},m(u,f){o[e].m(u,f),H(u,r,f),i=!0},p(u,[f]){let a=e;e=l(u),e===a?o[e].p(u,f):(qe(),G(o[a],1,1,()=>{o[a]=null}),Fe(),n=o[e],n?n.p(u,f):(n=o[e]=s[e](u),n.c()),W(n,1),n.m(r.parentNode,r))},i(u){i||(W(n),i=!0)},o(u){G(n),i=!1},d(u){o[e].d(u),u&&Z(r)}}}function df(t,e,n){let{gameData:r}=e,i=null,s=[],o=ot.Lobby,l=null;r.host||s.push({id:r.id,name:r.name??""});let u=null,f={ty:Zt.Incorrect},a={},d,c={total:0,elapsed:0},p=0;function h(){if(c.elapsed===c.total)return;const w=performance.now(),_=w-p;n(9,c.elapsed+=_,c),p=w,c.elapsed>c.total?n(9,c.elapsed=c.total,c):requestAnimationFrame(h)}Gt(At.PlayerData,w=>{console.debug("Other player message",w),s.push(w),n(2,s)}),Gt(At.GameState,w=>{if(console.debug("Game state message",w),n(3,o=w.state),n(8,d=!1),w.state===ot.Lobby)n(7,a={});else if(w.state===ot.Finished){const _=s.map(C=>({score:a[C.id]??0,...C}));_.sort((C,T)=>T.score-C.score),n(4,l={players:_})}}),Gt(At.Timer,w=>{console.debug("Time sync message",w),p=performance.now(),n(9,c.total=w.value,c),n(9,c.elapsed=0,c),h()}),Gt(At.Question,async w=>{console.debug("Question message",w),n(5,u=w.question),n(1,i=await $u(r.token,u)),i!==null&&u.image!==null&&(i.classList.add("question-image"),i.setAttribute("data-fit",u.image.fit),n(1,i.alt=u.text,i),i.decode!==void 0&&await i.decode()),await vc(),console.debug("Server acknowledged ready state")}),Gt(At.Scores,w=>{console.debug("Score message",w),n(7,a=w.scores);let _=C=>a[C]??0;n(2,s=s.sort((C,T)=>_(T.id)-_(C.id)))}),Gt(At.Score,w=>{console.debug("Score message",w),n(6,f=w.score)}),Gt(At.Error,w=>{console.error("Server error",w.error)}),Gt(At.Kicked,w=>{if(console.debug("Kick message",w),n(2,s=s.filter(_=>_.id!==w.id)),w.id===r.id&&(br(),w.reason!==nl.Disconnected)){const _=Tu[w.reason];Qt("Removed from game",_)}}),Zo(()=>{});function v(w){d=w,n(8,d)}return t.$$set=w=>{"gameData"in w&&n(0,r=w.gameData)},[r,i,s,o,l,u,f,a,d,c,v]}class pf extends we{constructor(e){super(),be(this,e,df,ff,ye,{gameData:0})}}const hf="finalize",mf="consider";function Zn(t,e,n){t.dispatchEvent(new CustomEvent(hf,{detail:{items:e,info:n}}))}function sn(t,e,n){t.dispatchEvent(new CustomEvent(mf,{detail:{items:e,info:n}}))}const ci="draggedEntered",Er="draggedLeft",fi="draggedOverIndex",Ki="draggedLeftDocument",Gr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function gf(t,e,n){t.dispatchEvent(new CustomEvent(ci,{detail:{indexObj:e,draggedEl:n}}))}function _f(t,e,n){t.dispatchEvent(new CustomEvent(Er,{detail:{draggedEl:e,type:Gr.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function vf(t,e){t.dispatchEvent(new CustomEvent(Er,{detail:{draggedEl:e,type:Gr.OUTSIDE_OF_ANY}}))}function yf(t,e,n){t.dispatchEvent(new CustomEvent(fi,{detail:{indexObj:e,draggedEl:n}}))}function bf(t){window.dispatchEvent(new CustomEvent(Ki,{detail:{draggedEl:t}}))}const ft={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:ci,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:fi,DRAGGED_LEFT:Er,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},_t={POINTER:"pointer",KEYBOARD:"keyboard"},jn="isDndShadowItem",Ji="data-is-dnd-shadow-item",es="id:dnd-shadow-placeholder-0000",wf="dnd-action-dragged-el";let Ke="id",Fi=0;function _l(){Fi++}function vl(){if(Fi===0)throw new Error("Bug! trying to decrement when there are no dropzones");Fi--}const ts=typeof window>"u";function yl(t){let e;const n=t.getBoundingClientRect(),r=getComputedStyle(t),i=r.transform;if(i){let s,o,l,u;if(i.startsWith("matrix3d("))e=i.slice(9,-1).split(/, /),s=+e[0],o=+e[5],l=+e[12],u=+e[13];else if(i.startsWith("matrix("))e=i.slice(7,-1).split(/, /),s=+e[0],o=+e[3],l=+e[4],u=+e[5];else return n;const f=r.transformOrigin,a=n.x-l-(1-s)*parseFloat(f),d=n.y-u-(1-o)*parseFloat(f.slice(f.indexOf(" ")+1)),c=s?n.width/s:t.offsetWidth,p=o?n.height/o:t.offsetHeight;return{x:a,y:d,width:c,height:p,top:d,right:a+c,bottom:d+p,left:a}}else return n}function bl(t){const e=yl(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function ns(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function wl(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function kf(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function rs(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function hr(t){return wl(ns(t))}function Vs(t,e){const n=hr(t),r=bl(e);return rs(n,r)}function Ef(t,e){const n=hr(t),r=hr(e);return kf(n,r)}function Af(t){const e=ns(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function Tf(t,e){const n=ns(e);return rs(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}let _n;function is(){_n=new Map}is();function Cf(t){_n.delete(t)}function xf(t){const e=Array.from(t.children).findIndex(n=>n.getAttribute(Ji));if(e>=0)return _n.has(t)||_n.set(t,new Map),_n.get(t).set(e,bl(t.children[e])),e}function Df(t,e){if(!Vs(t,e))return null;const n=e.children;if(n.length===0)return{index:0,isProximityBased:!0};const r=xf(e);for(let o=0;o<n.length;o++)if(Vs(t,n[o])){const l=_n.has(e)&&_n.get(e).get(o);return l&&!rs(hr(t),l)?{index:r,isProximityBased:!1}:{index:o,isProximityBased:!1}}let i=Number.MAX_VALUE,s;for(let o=0;o<n.length;o++){const l=Ef(t,n[o]);l<i&&(i=l,s=o)}return{index:s,isProximityBased:!0}}const Yn=25;function kl(){let t;function e(){t={directionObj:void 0,stepPx:0}}e();function n(s){const{directionObj:o,stepPx:l}=t;o&&(s.scrollBy(o.x*l,o.y*l),window.requestAnimationFrame(()=>n(s)))}function r(s){return Yn-s}function i(s,o){if(!o)return!1;const l=Tf(s,o);if(l===null)return e(),!1;const u=!!t.directionObj;let[f,a]=[!1,!1];return o.scrollHeight>o.clientHeight&&(l.bottom<Yn?(f=!0,t.directionObj={x:0,y:1},t.stepPx=r(l.bottom)):l.top<Yn&&(f=!0,t.directionObj={x:0,y:-1},t.stepPx=r(l.top)),!u&&f)||o.scrollWidth>o.clientWidth&&(l.right<Yn?(a=!0,t.directionObj={x:1,y:0},t.stepPx=r(l.right)):l.left<Yn&&(a=!0,t.directionObj={x:-1,y:0},t.stepPx=r(l.left)),!u&&a)?(n(o),!0):(e(),!1)}return{scrollIfNeeded:i,resetScrolling:e}}function ki(t){return JSON.stringify(t,null,2)}function Ws(t){if(!t)throw new Error("cannot get depth of a falsy node");return El(t,0)}function El(t,e=0){return t.parentElement?El(t.parentElement,e+1):e-1}function Sf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}function If(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const $f=200,Gs=10,{scrollIfNeeded:Of,resetScrolling:Mf}=kl();let Li;function Rf(t,e,n=$f){let r,i,s=!1,o;const l=Array.from(e).sort((f,a)=>Ws(a)-Ws(f));function u(){const f=hr(t),a=Of(f,r);if(!a&&o&&Math.abs(o.x-f.x)<Gs&&Math.abs(o.y-f.y)<Gs){Li=window.setTimeout(u,n);return}if(Af(t)){bf(t);return}o=f;let d=!1;for(const c of l){a&&Cf(r);const p=Df(t,c);if(p===null)continue;const{index:h}=p;d=!0,c!==r?(r&&_f(r,t,c),gf(c,p,t),r=c):h!==i&&(yf(c,p,t),i=h);break}!d&&s&&r?(vf(r,t),r=void 0,i=void 0,s=!1):s=!0,Li=window.setTimeout(u,n)}u()}function Nf(){clearTimeout(Li),Mf(),is()}const qf=300;let Qr;function Yr(t){const e=t.touches?t.touches[0]:t;Qr={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:Ff,resetScrolling:Lf}=kl();let Al;function Tl(){Qr&&Ff(Qr,document.documentElement)&&is(),Al=window.setTimeout(Tl,qf)}function Pf(){window.addEventListener("mousemove",Yr),window.addEventListener("touchmove",Yr),Tl()}function Uf(){window.removeEventListener("mousemove",Yr),window.removeEventListener("touchmove",Yr),Qr=void 0,window.clearTimeout(Al),Lf()}function zf(t){const e=t.cloneNode(!0),n=[],r=t.tagName==="SELECT",i=r?[t]:[...t.querySelectorAll("select")];for(const o of i)n.push(o.value);if(i.length<=0)return e;const s=r?[e]:[...e.querySelectorAll("select")];for(let o=0;o<s.length;o++){const l=s[o],u=n[o],f=l.querySelector(`option[value="${u}"`);f&&f.setAttribute("selected",!0)}return e}const Zf=.2;function fn(t){return`${t} ${Zf}s ease`}function jf(t,e){const n=t.getBoundingClientRect(),r=zf(t);Cl(t,r),r.id=wf,r.style.position="fixed";let i=n.top,s=n.left;if(r.style.top=`${i}px`,r.style.left=`${s}px`,e){const o=wl(n);i-=o.y-e.y,s-=o.x-e.x,window.setTimeout(()=>{r.style.top=`${i}px`,r.style.left=`${s}px`},0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transition=`${fn("top")}, ${fn("left")}, ${fn("background-color")}, ${fn("opacity")}, ${fn("color")} `,window.setTimeout(()=>r.style.transition+=`, ${fn("width")}, ${fn("height")}`,0),r.style.zIndex="9999",r.style.cursor="grabbing",r}function Hf(t){t.style.cursor="grab"}function Bf(t,e,n,r){Cl(e,t);const i=e.getBoundingClientRect(),s=t.getBoundingClientRect(),o=i.width-s.width,l=i.height-s.height;if(o||l){const u={left:(n-s.left)/s.width,top:(r-s.top)/s.height};t.style.height=`${i.height}px`,t.style.width=`${i.width}px`,t.style.left=`${parseFloat(t.style.left)-u.left*o}px`,t.style.top=`${parseFloat(t.style.top)-u.top*l}px`}}function Cl(t,e){const n=window.getComputedStyle(t);Array.from(n).filter(r=>r.startsWith("background")||r.startsWith("padding")||r.startsWith("font")||r.startsWith("text")||r.startsWith("align")||r.startsWith("justify")||r.startsWith("display")||r.startsWith("flex")||r.startsWith("border")||r==="opacity"||r==="color"||r==="list-style-type").forEach(r=>e.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r)))}function Vf(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function xl(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function Wf(t){t.style.visibility="hidden",t.setAttribute(Ji,"true")}function Gf(t){t.style.visibility="",t.removeAttribute(Ji)}function Ir(t,e=()=>{},n=()=>[]){t.forEach(r=>{const i=e(r);Object.keys(i).forEach(s=>{r.style[s]=i[s]}),n(r).forEach(s=>r.classList.add(s))})}function Xr(t,e=()=>{},n=()=>[]){t.forEach(r=>{const i=e(r);Object.keys(i).forEach(s=>{r.style[s]=""}),n(r).forEach(s=>r.classList.contains(s)&&r.classList.remove(s))})}function Qf(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}const Yf="--any--",Xf=100,Qs=3,Ys={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let Pt,rt,yt,di,Ve,pi,Hn,vt,Xt,wt,pn=!1,ss=!1,os,Ar=!1,$r=[];const xt=new Map,Be=new Map,Ei=new WeakMap;function Kf(t,e){xt.has(e)||xt.set(e,new Set),xt.get(e).has(t)||(xt.get(e).add(t),_l())}function Xs(t,e){xt.get(e).delete(t),vl(),xt.get(e).size===0&&xt.delete(e)}function Jf(){Pf();const t=xt.get(di);for(const n of t)n.addEventListener(ci,Dl),n.addEventListener(Er,Sl),n.addEventListener(fi,Il);window.addEventListener(Ki,Bn);const e=Math.max(Xf,...Array.from(t.keys()).map(n=>Be.get(n).dropAnimationDurationMs));Rf(rt,t,e*1.07)}function ed(){Uf();const t=xt.get(di);for(const e of t)e.removeEventListener(ci,Dl),e.removeEventListener(Er,Sl),e.removeEventListener(fi,Il);window.removeEventListener(Ki,Bn),Nf()}function td(t){return t.findIndex(e=>e[Ke]===es)}function hi(t){return t.findIndex(e=>!!e[jn]&&e[Ke]!==es)}function Dl(t){let{items:e,dropFromOthersDisabled:n}=Be.get(t.currentTarget);if(n&&t.currentTarget!==Ve)return;if(Ar=!1,e=e.filter(o=>o[Ke]!==Hn[Ke]),Ve!==t.currentTarget){const l=Be.get(Ve).items.filter(u=>!u[jn]);sn(Ve,l,{trigger:ft.DRAGGED_ENTERED_ANOTHER,id:yt[Ke],source:_t.POINTER})}else{const o=td(e);o!==-1&&e.splice(o,1)}const{index:r,isProximityBased:i}=t.detail.indexObj,s=i&&r===t.currentTarget.children.length-1?r+1:r;vt=t.currentTarget,e.splice(s,0,Hn),sn(t.currentTarget,e,{trigger:ft.DRAGGED_ENTERED,id:yt[Ke],source:_t.POINTER})}function Sl(t){if(!pn)return;const{items:e,dropFromOthersDisabled:n}=Be.get(t.currentTarget);if(n&&t.currentTarget!==Ve&&t.currentTarget!==vt)return;const r=hi(e),i=e.splice(r,1)[0];vt=void 0;const{type:s,theOtherDz:o}=t.detail;if(s===Gr.OUTSIDE_OF_ANY||s===Gr.LEFT_FOR_ANOTHER&&o!==Ve&&Be.get(o).dropFromOthersDisabled){Ar=!0,vt=Ve;const l=Be.get(Ve).items;l.splice(pi,0,i),sn(Ve,l,{trigger:ft.DRAGGED_LEFT_ALL,id:yt[Ke],source:_t.POINTER})}sn(t.currentTarget,e,{trigger:ft.DRAGGED_LEFT,id:yt[Ke],source:_t.POINTER})}function Il(t){const{items:e,dropFromOthersDisabled:n}=Be.get(t.currentTarget);if(n&&t.currentTarget!==Ve)return;Ar=!1;const{index:r}=t.detail.indexObj,i=hi(e);e.splice(i,1),e.splice(r,0,Hn),sn(t.currentTarget,e,{trigger:ft.DRAGGED_OVER_INDEX,id:yt[Ke],source:_t.POINTER})}function Kr(t){t.preventDefault();const e=t.touches?t.touches[0]:t;wt={x:e.clientX,y:e.clientY},rt.style.transform=`translate3d(${wt.x-Xt.x}px, ${wt.y-Xt.y}px, 0)`}function Bn(){ss=!0,window.removeEventListener("mousemove",Kr),window.removeEventListener("touchmove",Kr),window.removeEventListener("mouseup",Bn),window.removeEventListener("touchend",Bn),ed(),Hf(rt),vt||(vt=Ve);let{items:t,type:e}=Be.get(vt);Xr(xt.get(e),i=>Be.get(i).dropTargetStyle,i=>Be.get(i).dropTargetClasses);let n=hi(t);n===-1&&(n=pi),t=t.map(i=>i[jn]?yt:i);function r(){os(),Zn(vt,t,{trigger:Ar?ft.DROPPED_OUTSIDE_OF_ANY:ft.DROPPED_INTO_ZONE,id:yt[Ke],source:_t.POINTER}),vt!==Ve&&Zn(Ve,Be.get(Ve).items,{trigger:ft.DROPPED_INTO_ANOTHER,id:yt[Ke],source:_t.POINTER}),Gf(vt.children[n]),id()}nd(n,r)}function nd(t,e){const n=yl(vt.children[t]),r={x:n.left-parseFloat(rt.style.left),y:n.top-parseFloat(rt.style.top)},{dropAnimationDurationMs:i}=Be.get(vt),s=`transform ${i}ms ease`;rt.style.transition=rt.style.transition?rt.style.transition+","+s:s,rt.style.transform=`translate3d(${r.x}px, ${r.y}px, 0)`,window.setTimeout(e,i)}function rd(t,e){$r.push({dz:t,destroy:e}),window.requestAnimationFrame(()=>{xl(t),document.body.appendChild(t)})}function id(){rt.remove(),Pt.remove(),$r.length&&($r.forEach(({dz:t,destroy:e})=>{e(),t.remove()}),$r=[]),rt=void 0,Pt=void 0,yt=void 0,di=void 0,Ve=void 0,pi=void 0,Hn=void 0,vt=void 0,Xt=void 0,wt=void 0,pn=!1,ss=!1,os=void 0,Ar=!1}function sd(t,e){let n=!1;const r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ys,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let i=new Map;function s(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function o(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l)}function l(){o(),Pt=void 0,Xt=void 0,wt=void 0}function u(c){c.preventDefault();const p=c.touches?c.touches[0]:c;wt={x:p.clientX,y:p.clientY},(Math.abs(wt.x-Xt.x)>=Qs||Math.abs(wt.y-Xt.y)>=Qs)&&(o(),a())}function f(c){if(c.target!==c.currentTarget&&(c.target.value!==void 0||c.target.isContentEditable)||c.button||pn)return;c.stopPropagation();const p=c.touches?c.touches[0]:c;Xt={x:p.clientX,y:p.clientY},wt={...Xt},Pt=c.currentTarget,s()}function a(){pn=!0;const c=i.get(Pt);pi=c,Ve=Pt.parentElement;const p=Ve.getRootNode(),h=p.body||p,{items:v,type:w,centreDraggedOnCursor:_}=r;yt={...v[c]},di=w,Hn={...yt,[jn]:!0};const C={...Hn,[Ke]:es};rt=jf(Pt,_&&wt);function T(){rt.parentElement?window.requestAnimationFrame(T):(h.appendChild(rt),rt.focus(),Jf(),xl(Pt),h.appendChild(Pt))}window.requestAnimationFrame(T),Ir(Array.from(xt.get(r.type)).filter(x=>x===Ve||!Be.get(x).dropFromOthersDisabled),x=>Be.get(x).dropTargetStyle,x=>Be.get(x).dropTargetClasses),v.splice(c,1,C),os=Qf(Ve),sn(Ve,v,{trigger:ft.DRAG_STARTED,id:yt[Ke],source:_t.POINTER}),window.addEventListener("mousemove",Kr,{passive:!1}),window.addEventListener("touchmove",Kr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Bn,{passive:!1}),window.addEventListener("touchend",Bn,{passive:!1})}function d({items:c=void 0,flipDurationMs:p=0,type:h=Yf,dragDisabled:v=!1,morphDisabled:w=!1,dropFromOthersDisabled:_=!1,dropTargetStyle:C=Ys,dropTargetClasses:T=[],transformDraggedElement:x=()=>{},centreDraggedOnCursor:$=!1}){r.dropAnimationDurationMs=p,r.type&&h!==r.type&&Xs(t,r.type),r.type=h,Kf(t,h),r.items=[...c],r.dragDisabled=v,r.morphDisabled=w,r.transformDraggedElement=x,r.centreDraggedOnCursor=$,n&&pn&&!ss&&(!Sf(C,r.dropTargetStyle)||!If(T,r.dropTargetClasses))&&(Xr([t],()=>r.dropTargetStyle,()=>T),Ir([t],()=>C,()=>T)),r.dropTargetStyle=C,r.dropTargetClasses=[...T];function k(y,b){return Be.get(y)?Be.get(y)[b]:r[b]}n&&pn&&r.dropFromOthersDisabled!==_&&(_?Xr([t],y=>k(y,"dropTargetStyle"),y=>k(y,"dropTargetClasses")):Ir([t],y=>k(y,"dropTargetStyle"),y=>k(y,"dropTargetClasses"))),r.dropFromOthersDisabled=_,Be.set(t,r);const S=hi(r.items);for(let y=0;y<t.children.length;y++){const b=t.children[y];if(Vf(b,v),y===S){r.transformDraggedElement(rt,yt,y),w||Bf(rt,b,wt.x,wt.y),Wf(b);continue}b.removeEventListener("mousedown",Ei.get(b)),b.removeEventListener("touchstart",Ei.get(b)),v||(b.addEventListener("mousedown",f),b.addEventListener("touchstart",f),Ei.set(b,f)),i.set(b,y),n||(n=!0)}}return d(e),{update:c=>{d(c)},destroy:()=>{function c(){Xs(t,Be.get(t).type),Be.delete(t)}pn?rd(t,c):c()}}}const Pi={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},$l={[Pi.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[Pi.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},od="dnd-action-aria-alert";let He;function Ui(){He||(He=document.createElement("div"),function(){He.id=od,He.style.position="fixed",He.style.bottom="0",He.style.left="0",He.style.zIndex="-5",He.style.opacity="0",He.style.height="0",He.style.width="0",He.setAttribute("role","alert")}(),document.body.prepend(He),Object.entries($l).forEach(([t,e])=>document.body.prepend(ud(t,e))))}function ld(){return ts?null:(document.readyState==="complete"?Ui():window.addEventListener("DOMContentLoaded",Ui),{...Pi})}function ad(){ts||!He||(Object.keys($l).forEach(t=>{var e;return(e=document.getElementById(t))==null?void 0:e.remove()}),He.remove(),He=void 0)}function ud(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function Rn(t){if(ts)return;He||Ui(),He.innerHTML="";const e=document.createTextNode(t);He.appendChild(e),He.style.display="none",He.style.display="inline"}const cd="--any--",Ks={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let kt=!1,zi,lt,vn="",dn,Rt,Jt="";const Jr=new WeakSet,Js=new WeakMap,eo=new WeakMap,Zi=new Map,nt=new Map,Tt=new Map;let ei;function fd(t,e){Tt.size===0&&(ei=ld(),window.addEventListener("keydown",Ol),window.addEventListener("click",Ml)),Tt.has(e)||Tt.set(e,new Set),Tt.get(e).has(t)||(Tt.get(e).add(t),_l())}function to(t,e){lt===t&&mr(),Tt.get(e).delete(t),vl(),Tt.get(e).size===0&&Tt.delete(e),Tt.size===0&&(window.removeEventListener("keydown",Ol),window.removeEventListener("click",Ml),ei=void 0,ad())}function Ol(t){if(kt)switch(t.key){case"Escape":{mr();break}}}function Ml(){kt&&(Jr.has(document.activeElement)||mr())}function dd(t){if(!kt)return;const e=t.currentTarget;if(e===lt)return;vn=e.getAttribute("aria-label")||"";const{items:n}=nt.get(lt),r=n.find(f=>f[Ke]===Rt),i=n.indexOf(r),s=n.splice(i,1)[0],{items:o,autoAriaDisabled:l}=nt.get(e);e.getBoundingClientRect().top<lt.getBoundingClientRect().top||e.getBoundingClientRect().left<lt.getBoundingClientRect().left?(o.push(s),l||Rn(`Moved item ${Jt} to the end of the list ${vn}`)):(o.unshift(s),l||Rn(`Moved item ${Jt} to the beginning of the list ${vn}`)),Zn(lt,n,{trigger:ft.DROPPED_INTO_ANOTHER,id:Rt,source:_t.KEYBOARD}),Zn(e,o,{trigger:ft.DROPPED_INTO_ZONE,id:Rt,source:_t.KEYBOARD}),lt=e}function Rl(){Zi.forEach(({update:t},e)=>t(nt.get(e)))}function mr(t=!0){nt.get(lt).autoAriaDisabled||Rn(`Stopped dragging item ${Jt}`),Jr.has(document.activeElement)&&document.activeElement.blur(),t&&sn(lt,nt.get(lt).items,{trigger:ft.DRAG_STOPPED,id:Rt,source:_t.KEYBOARD}),Xr(Tt.get(zi),e=>nt.get(e).dropTargetStyle,e=>nt.get(e).dropTargetClasses),dn=null,Rt=null,Jt="",zi=null,lt=null,vn="",kt=!1,Rl()}function pd(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ks,dropTargetClasses:[],autoAriaDisabled:!1};function r(a,d,c){a.length<=1||a.splice(c,1,a.splice(d,1,a[c])[0])}function i(a){switch(a.key){case"Enter":case" ":{if((a.target.disabled!==void 0||a.target.href||a.target.isContentEditable)&&!Jr.has(a.target))return;a.preventDefault(),a.stopPropagation(),kt?mr():s(a);break}case"ArrowDown":case"ArrowRight":{if(!kt)return;a.preventDefault(),a.stopPropagation();const{items:d}=nt.get(t),c=Array.from(t.children),p=c.indexOf(a.currentTarget);p<c.length-1&&(n.autoAriaDisabled||Rn(`Moved item ${Jt} to position ${p+2} in the list ${vn}`),r(d,p,p+1),Zn(t,d,{trigger:ft.DROPPED_INTO_ZONE,id:Rt,source:_t.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!kt)return;a.preventDefault(),a.stopPropagation();const{items:d}=nt.get(t),p=Array.from(t.children).indexOf(a.currentTarget);p>0&&(n.autoAriaDisabled||Rn(`Moved item ${Jt} to position ${p} in the list ${vn}`),r(d,p,p-1),Zn(t,d,{trigger:ft.DROPPED_INTO_ZONE,id:Rt,source:_t.KEYBOARD}));break}}}function s(a){l(a.currentTarget),lt=t,zi=n.type,kt=!0;const d=Array.from(Tt.get(n.type)).filter(c=>c===lt||!nt.get(c).dropFromOthersDisabled);if(Ir(d,c=>nt.get(c).dropTargetStyle,c=>nt.get(c).dropTargetClasses),!n.autoAriaDisabled){let c=`Started dragging item ${Jt}. Use the arrow keys to move it within its list ${vn}`;d.length>1&&(c+=", or tab to another list in order to move the item into it"),Rn(c)}sn(t,nt.get(t).items,{trigger:ft.DRAG_STARTED,id:Rt,source:_t.KEYBOARD}),Rl()}function o(a){kt&&a.currentTarget!==dn&&(a.stopPropagation(),mr(!1),s(a))}function l(a){const{items:d}=nt.get(t),c=Array.from(t.children),p=c.indexOf(a);dn=a,dn.tabIndex=0,Rt=d[p][Ke],Jt=c[p].getAttribute("aria-label")||""}function u({items:a=[],type:d=cd,dragDisabled:c=!1,zoneTabIndex:p=0,dropFromOthersDisabled:h=!1,dropTargetStyle:v=Ks,dropTargetClasses:w=[],autoAriaDisabled:_=!1}){n.items=[...a],n.dragDisabled=c,n.dropFromOthersDisabled=h,n.zoneTabIndex=p,n.dropTargetStyle=v,n.dropTargetClasses=w,n.autoAriaDisabled=_,n.type&&d!==n.type&&to(t,n.type),n.type=d,fd(t,d),_||(t.setAttribute("aria-disabled",c),t.setAttribute("role","list"),t.setAttribute("aria-describedby",c?ei.DND_ZONE_DRAG_DISABLED:ei.DND_ZONE_ACTIVE)),nt.set(t,n),kt?t.tabIndex=t===lt||dn.contains(t)||n.dropFromOthersDisabled||lt&&n.type!==nt.get(lt).type?-1:0:t.tabIndex=n.zoneTabIndex,t.addEventListener("focus",dd);for(let C=0;C<t.children.length;C++){const T=t.children[C];Jr.add(T),T.tabIndex=kt?-1:0,_||T.setAttribute("role","listitem"),T.removeEventListener("keydown",Js.get(T)),T.removeEventListener("click",eo.get(T)),c||(T.addEventListener("keydown",i),Js.set(T,i),T.addEventListener("click",o),eo.set(T,o)),kt&&n.items[C][Ke]===Rt&&(dn=T,dn.tabIndex=0,T.focus())}}u(e);const f={update:a=>{u(a)},destroy:()=>{to(t,n.type),nt.delete(t),Zi.delete(t)}};return Zi.set(t,f),f}function hd(t,e){no(e);const n=sd(t,e),r=pd(t,e);return{update:i=>{no(i),n.update(i),r.update(i)},destroy:()=>{n.destroy(),r.destroy()}}}function no(t){const{items:e,flipDurationMs:n,type:r,dragDisabled:i,morphDisabled:s,dropFromOthersDisabled:o,zoneTabIndex:l,dropTargetStyle:u,dropTargetClasses:f,transformDraggedElement:a,autoAriaDisabled:d,centreDraggedOnCursor:c,...p}=t;if(Object.keys(p).length>0&&console.warn("dndzone will ignore unknown options",p),!e)throw new Error("no 'items' key provided to dndzone");const h=e.find(v=>!{}.hasOwnProperty.call(v,Ke));if(h)throw new Error(`missing '${Ke}' property for item ${ki(h)}`);if(f&&!Array.isArray(f))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof f}, ${ki(f)}`);if(l&&!md(l))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof l}, ${ki(l)}`)}function md(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}const ct=Bt(ac()),on=Bt(null);on.subscribe(()=>{ct.update(t=>t)});function gd(t){ct.set(t),t.questions.forEach(e=>e.id=Gi()),t.questions.length>0?on.set(t.questions[0]):on.set(null)}function _d(){ct.update(t=>{const e=fl();return t.questions.push(e),t})}function vd(t,e){ct.update(n=>(hl(n.questions,t,e),n))}function yd(t){ct.update(e=>{const n=e.questions.findIndex(r=>r.id===t.id);return on.update(r=>r===null||r.id===t.id?null:r),e.questions.splice(n,1),e})}function bd(){ct.update(t=>{const e=gn(1,t.questions.length/2);let n=0;for(;n<e;){const r=gn(0,t.questions.length-1),i=gn(0,t.questions.length-1);r!==i&&(vd(r,i),n++)}return t})}function wd(t){return t.answers=t.answers??[],t.ty===Ge.Multiple&&(t.min=t.min??1,t.max=t.max??1,t.marking=t.marking??{ty:Kt.Exact},Nl(t)),t}function Nl(t){if(t.ty===Ge.Multiple){const e=t.marking;e.ty===Kt.Partial&&(e.partial=e.partial??1,e.correct=e.correct??t.answers.length)}return t}function kd(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function ql(t,e){return new Promise(function(n,r){let i;return Ed(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Ed=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const l=s.getUint16(o);if(l===65498)break;const u=s.getUint16(o+2);if(l===65505&&s.getUint32(o+4)===1165519206){const f=o+10;let a;switch(s.getUint16(f)){case 18761:a=!0;break;case 19789:a=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(f+2,a)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(f+4,a),c=f+d+2+12*s.getUint16(f+d,a);for(let p=f+d+2;p<c;p+=12)if(s.getUint16(p,a)==274){if(s.getUint16(p+2,a)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,a)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,a);break}return e(i.slice(o,o+2+u))}o+=2+u}return e(new Blob)}),r.readAsArrayBuffer(t)});var ti={},Ad={get exports(){return ti},set exports(t){ti=t}};(function(t){var e,n,r={};Ad.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,l=r.bin.readUint,u=0,f={},a=new Uint8Array(i),d=a.length-4;l(a,d)!=101010256;)d--;u=d,u+=4;var c=o(a,u+=4);o(a,u+=2);var p=l(a,u+=2),h=l(a,u+=4);u+=4,u=h;for(var v=0;v<c;v++){l(a,u),u+=4,u+=4,u+=4,l(a,u+=4),p=l(a,u+=4);var w=l(a,u+=4),_=o(a,u+=4),C=o(a,u+2),T=o(a,u+4);u+=6;var x=l(a,u+=8);u+=4,u+=_+C+T,r._readLocal(a,x,f,p,w,s)}return f},r._readLocal=function(i,s,o,l,u,f){var a=r.bin.readUshort,d=r.bin.readUint;d(i,s),a(i,s+=4),a(i,s+=2);var c=a(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var p=a(i,s+=8),h=a(i,s+=2);s+=2;var v=r.bin.readUTF8(i,s,p);if(s+=p,s+=h,f)o[v]={size:u,csize:l};else{var w=new Uint8Array(i.buffer,s);if(c==0)o[v]=new Uint8Array(w.buffer.slice(s,s+l));else{if(c!=8)throw"unknown compression method: "+c;var _=new Uint8Array(u);r.inflateRaw(w,_),o[v]=_}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,l=new Uint8Array(50+Math.floor(1.1*i.length));l[o]=120,l[o+1]=156,o+=2,o=r.F.deflateRaw(i,l,o,s.level);var u=r.adler(i,0,i.length);return l[o+0]=u>>>24&255,l[o+1]=u>>>16&255,l[o+2]=u>>>8&255,l[o+3]=u>>>0&255,new Uint8Array(l.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),l=r.F.deflateRaw(i,o,l,s.level);return new Uint8Array(o.buffer,0,l)},r.encode=function(i,s){s==null&&(s=!1);var o=0,l=r.bin.writeUint,u=r.bin.writeUshort,f={};for(var a in i){var d=!r._noNeed(a)&&!s,c=i[a],p=r.crc.crc(c,0,c.length);f[a]={cpr:d,usize:c.length,crc:p,file:d?r.deflateRaw(c):c}}for(var a in f)o+=f[a].file.length+30+46+2*r.bin.sizeUTF8(a);o+=22;var h=new Uint8Array(o),v=0,w=[];for(var a in f){var _=f[a];w.push(v),v=r._writeHeader(h,v,a,_,0)}var C=0,T=v;for(var a in f)_=f[a],w.push(v),v=r._writeHeader(h,v,a,_,1,w[C++]);var x=v-T;return l(h,v,101010256),v+=4,u(h,v+=4,C),u(h,v+=2,C),l(h,v+=2,x),l(h,v+=4,T),v+=4,v+=2,h.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,l,u,f){var a=r.bin.writeUint,d=r.bin.writeUshort,c=l.file;return a(i,s,u==0?67324752:33639248),s+=4,u==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,l.cpr?8:0),a(i,s+=2,0),a(i,s+=4,l.crc),a(i,s+=4,c.length),a(i,s+=4,l.usize),d(i,s+=4,r.bin.sizeUTF8(o)),d(i,s+=2,0),s+=2,u==1&&(s+=2,s+=2,a(i,s+=6,f),s+=4),s+=r.bin.writeUTF8(i,s,o),u==0&&(i.set(c,s),s+=c.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,l){for(var u=0;u<l;u++)i=r.crc.table[255&(i^s[o+u])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var l=1,u=0,f=s,a=s+o;f<a;){for(var d=Math.min(f+5552,a);f<d;)u+=l+=i[f++];l%=65521,u%=65521}return u<<16|l},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var l="",u=0;u<o;u++)l+=String.fromCharCode(i[s+u]);return l},writeASCII:function(i,s,o){for(var l=0;l<o.length;l++)i[s+l]=o.charCodeAt(l)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var l,u="",f=0;f<o;f++)u+="%"+r.bin.pad(i[s+f].toString(16));try{l=decodeURIComponent(u)}catch{return r.bin.readASCII(i,s,o)}return l},writeUTF8:function(i,s,o){for(var l=o.length,u=0,f=0;f<l;f++){var a=o.charCodeAt(f);if(!(4294967168&a))i[s+u]=a,u++;else if(!(4294965248&a))i[s+u]=192|a>>6,i[s+u+1]=128|a>>0&63,u+=2;else if(!(4294901760&a))i[s+u]=224|a>>12,i[s+u+1]=128|a>>6&63,i[s+u+2]=128|a>>0&63,u+=3;else{if(4292870144&a)throw"e";i[s+u]=240|a>>18,i[s+u+1]=128|a>>12&63,i[s+u+2]=128|a>>6&63,i[s+u+3]=128|a>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var s=i.length,o=0,l=0;l<s;l++){var u=i.charCodeAt(l);if(!(4294967168&u))o++;else if(!(4294965248&u))o+=2;else if(!(4294901760&u))o+=3;else{if(4292870144&u)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,l){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],f=r.F.U,a=r.F._goodIndex;r.F._hash;var d=r.F._putsE,c=0,p=o<<3,h=0,v=i.length;if(l==0){for(;c<v;)d(s,p,c+(O=Math.min(65535,v-c))==v?1:0),p=r.F._copyExact(i,c,O,s,p+8),c+=O;return p>>>3}var w=f.lits,_=f.strt,C=f.prev,T=0,x=0,$=0,k=0,S=0,y=0;for(v>2&&(_[y=r.F._hash(i,0)]=0),c=0;c<v;c++){if(S=y,c+1<v-2){y=r.F._hash(i,c+1);var b=c+1&32767;C[b]=_[y],_[y]=b}if(h<=c){(T>14e3||x>26697)&&v-c>100&&(h<c&&(w[T]=c-h,T+=2,h=c),p=r.F._writeBlock(c==v-1||h==v?1:0,w,T,k,i,$,c-$,s,p),T=x=k=0,$=c);var I=0;c<v-2&&(I=r.F._bestMatch(i,c,C,S,Math.min(u[2],v-c),u[3]));var O=I>>>16,N=65535&I;if(I!=0){N=65535&I;var q=a(O=I>>>16,f.of0);f.lhst[257+q]++;var M=a(N,f.df0);f.dhst[M]++,k+=f.exb[q]+f.dxb[M],w[T]=O<<23|c-h,w[T+1]=N<<16|q<<8|M,T+=2,h=c+O}else f.lhst[i[c]]++;x++}}for($==c&&i.length!=0||(h<c&&(w[T]=c-h,T+=2,h=c),p=r.F._writeBlock(1,w,T,k,i,$,c-$,s,p),T=0,x=0,T=x=k=0,$=c);7&p;)p++;return p>>>3},r.F._bestMatch=function(i,s,o,l,u,f){var a=32767&s,d=o[a],c=a-d+32768&32767;if(d==a||l!=r.F._hash(i,s-c))return 0;for(var p=0,h=0,v=Math.min(32767,s);c<=v&&--f!=0&&d!=a;){if(p==0||i[s+p]==i[s+p-c]){var w=r.F._howLong(i,s,c);if(w>p){if(h=c,(p=w)>=u)break;c+2<w&&(w=c+2);for(var _=0,C=0;C<w-2;C++){var T=s-c+C+32768&32767,x=T-o[T]+32768&32767;x>_&&(_=x,d=T)}}}c+=(a=d)-(d=o[a])+32768&32767}return p<<16|h},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var l=s,u=Math.min(i.length,s+258);for(s+=3;s<u&&i[s]==i[s-o];)s++;return s-l},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,l,u,f,a,d,c){var p,h,v,w,_,C,T,x,$,k=r.F.U,S=r.F._putsF,y=r.F._putsE;k.lhst[256]++,h=(p=r.F.getTrees())[0],v=p[1],w=p[2],_=p[3],C=p[4],T=p[5],x=p[6],$=p[7];var b=32+(c+3&7?8-(c+3&7):0)+(a<<3),I=l+r.F.contSize(k.fltree,k.lhst)+r.F.contSize(k.fdtree,k.dhst),O=l+r.F.contSize(k.ltree,k.lhst)+r.F.contSize(k.dtree,k.dhst);O+=14+3*T+r.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var N=0;N<286;N++)k.lhst[N]=0;for(N=0;N<30;N++)k.dhst[N]=0;for(N=0;N<19;N++)k.ihst[N]=0;var q=b<I&&b<O?0:I<O?1:2;if(S(d,c,i),S(d,c+1,q),c+=3,q==0){for(;7&c;)c++;c=r.F._copyExact(u,f,a,d,c)}else{var M,R;if(q==1&&(M=k.fltree,R=k.fdtree),q==2){r.F.makeCodes(k.ltree,h),r.F.revCodes(k.ltree,h),r.F.makeCodes(k.dtree,v),r.F.revCodes(k.dtree,v),r.F.makeCodes(k.itree,w),r.F.revCodes(k.itree,w),M=k.ltree,R=k.dtree,y(d,c,_-257),y(d,c+=5,C-1),y(d,c+=5,T-4),c+=4;for(var A=0;A<T;A++)y(d,c+3*A,k.itree[1+(k.ordr[A]<<1)]);c+=3*T,c=r.F._codeTiny(x,k.itree,d,c),c=r.F._codeTiny($,k.itree,d,c)}for(var E=f,F=0;F<o;F+=2){for(var L=s[F],U=L>>>23,Y=E+(8388607&L);E<Y;)c=r.F._writeLit(u[E++],M,d,c);if(U!=0){var B=s[F+1],V=B>>16,z=B>>8&255,j=255&B;y(d,c=r.F._writeLit(257+z,M,d,c),U-k.of0[z]),c+=k.exb[z],S(d,c=r.F._writeLit(j,R,d,c),V-k.df0[j]),c+=k.dxb[j],E+=U}}c=r.F._writeLit(256,M,d,c)}return c},r.F._copyExact=function(i,s,o,l,u){var f=u>>>3;return l[f]=o,l[f+1]=o>>>8,l[f+2]=255-l[f],l[f+3]=255-l[f+1],f+=4,l.set(new Uint8Array(i.buffer,s,o),f),u+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),l=[],u=r.F._lenCodes(i.ltree,l),f=[],a=r.F._lenCodes(i.dtree,f),d=0;d<l.length;d+=2)i.ihst[l[d]]++;for(d=0;d<f.length;d+=2)i.ihst[f[d]]++;for(var c=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,o,c,u,a,p,l,f]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,l=0;l<s.length;l++)o+=s[l]*i[1+(l<<1)];return o},r.F._codeTiny=function(i,s,o,l){for(var u=0;u<i.length;u+=2){var f=i[u],a=i[u+1];l=r.F._writeLit(f,s,o,l);var d=f==16?2:f==17?3:7;f>15&&(r.F._putsE(o,l,a,d),l+=d)}return l},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var u=i[l+1],f=l+3<o?i[l+3]:-1,a=l+5<o?i[l+5]:-1,d=l==0?-1:i[l-1];if(u==0&&f==u&&a==u){for(var c=l+5;c+2<o&&i[c+2]==u;)c+=2;(p=Math.min(c+1-l>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),l+=2*p-2}else if(u==d&&f==u&&a==u){for(c=l+5;c+2<o&&i[c+2]==u;)c+=2;var p=Math.min(c+1-l>>>1,6);s.push(16,p-3),l+=2*p-2}else s.push(u,0)}return o>>>1},r.F._hufTree=function(i,s,o){var l=[],u=i.length,f=s.length,a=0;for(a=0;a<f;a+=2)s[a]=0,s[a+1]=0;for(a=0;a<u;a++)i[a]!=0&&l.push({lit:a,f:i[a]});var d=l.length,c=l.slice(0);if(d==0)return 0;if(d==1){var p=l[0].lit;return c=p==0?1:0,s[1+(p<<1)]=1,s[1+(c<<1)]=1,1}l.sort(function(x,$){return x.f-$.f});var h=l[0],v=l[1],w=0,_=1,C=2;for(l[0]={lit:-1,f:h.f+v.f,l:h,r:v,d:0};_!=d-1;)h=w!=_&&(C==d||l[w].f<l[C].f)?l[w++]:l[C++],v=w!=_&&(C==d||l[w].f<l[C].f)?l[w++]:l[C++],l[_++]={lit:-1,f:h.f+v.f,l:h,r:v};var T=r.F.setDepth(l[_-1],0);for(T>o&&(r.F.restrictDepth(c,o,T),T=o),a=0;a<d;a++)s[1+(c[a].lit<<1)]=c[a].d;return T},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var l=0,u=1<<o-s,f=0;for(i.sort(function(d,c){return c.d==d.d?d.f-c.f:c.d-d.d}),l=0;l<i.length&&i[l].d>s;l++){var a=i[l].d;i[l].d=s,f+=u-(1<<o-a)}for(f>>>=o-s;f>0;)(a=i[l].d)<s?(i[l].d++,f-=1<<s-a-1):l++;for(;l>=0;l--)i[l].d==s&&f<0&&(i[l].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,l){return r.F._putsF(o,l,s[i<<1]),l+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var l=r.F,u=l._bitsF,f=l._bitsE,a=l._decodeTiny,d=l.makeCodes,c=l.codes2map,p=l._get17,h=l.U,v=s==null;v&&(s=new o(i.length>>>2<<3));for(var w,_,C=0,T=0,x=0,$=0,k=0,S=0,y=0,b=0,I=0;C==0;)if(C=u(i,I,1),T=u(i,I+1,2),I+=3,T!=0){if(v&&(s=r.F._check(s,b+(1<<17))),T==1&&(w=h.flmap,_=h.fdmap,S=511,y=31),T==2){x=f(i,I,5)+257,$=f(i,I+5,5)+1,k=f(i,I+10,4)+4,I+=14;for(var O=0;O<38;O+=2)h.itree[O]=0,h.itree[O+1]=0;var N=1;for(O=0;O<k;O++){var q=f(i,I+3*O,3);h.itree[1+(h.ordr[O]<<1)]=q,q>N&&(N=q)}I+=3*k,d(h.itree,N),c(h.itree,N,h.imap),w=h.lmap,_=h.dmap,I=a(h.imap,(1<<N)-1,x+$,i,I,h.ttree);var M=l._copyOut(h.ttree,0,x,h.ltree);S=(1<<M)-1;var R=l._copyOut(h.ttree,x,$,h.dtree);y=(1<<R)-1,d(h.ltree,M),c(h.ltree,M,w),d(h.dtree,R),c(h.dtree,R,_)}for(;;){var A=w[p(i,I)&S];I+=15&A;var E=A>>>4;if(!(E>>>8))s[b++]=E;else{if(E==256)break;var F=b+E-254;if(E>264){var L=h.ldef[E-257];F=b+(L>>>3)+f(i,I,7&L),I+=7&L}var U=_[p(i,I)&y];I+=15&U;var Y=U>>>4,B=h.ddef[Y],V=(B>>>4)+u(i,I,15&B);for(I+=15&B,v&&(s=r.F._check(s,b+(1<<17)));b<F;)s[b]=s[b++-V],s[b]=s[b++-V],s[b]=s[b++-V],s[b]=s[b++-V];b=F}}}else{7&I&&(I+=8-(7&I));var z=4+(I>>>3),j=i[z-4]|i[z-3]<<8;v&&(s=r.F._check(s,b+j)),s.set(new o(i.buffer,i.byteOffset+z,j),b),I=z+j<<3,b+=j}return s.length==b?s:s.slice(0,b)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var l=new Uint8Array(Math.max(o<<1,s));return l.set(i,0),l},r.F._decodeTiny=function(i,s,o,l,u,f){for(var a=r.F._bitsE,d=r.F._get17,c=0;c<o;){var p=i[d(l,u)&s];u+=15&p;var h=p>>>4;if(h<=15)f[c]=h,c++;else{var v=0,w=0;h==16?(w=3+a(l,u,2),u+=2,v=f[c-1]):h==17?(w=3+a(l,u,3),u+=3):h==18&&(w=11+a(l,u,7),u+=7);for(var _=c+w;c<_;)f[c]=v,c++}}return u},r.F._copyOut=function(i,s,o,l){for(var u=0,f=0,a=l.length>>>1;f<o;){var d=i[f+s];l[f<<1]=0,l[1+(f<<1)]=d,d>u&&(u=d),f++}for(;f<a;)l[f<<1]=0,l[1+(f<<1)]=0,f++;return u},r.F.makeCodes=function(i,s){for(var o,l,u,f,a=r.F.U,d=i.length,c=a.bl_count,p=0;p<=s;p++)c[p]=0;for(p=1;p<d;p+=2)c[i[p]]++;var h=a.next_code;for(o=0,c[0]=0,l=1;l<=s;l++)o=o+c[l-1]<<1,h[l]=o;for(u=0;u<d;u+=2)(f=i[u+1])!=0&&(i[u]=h[f],h[f]++)},r.F.codes2map=function(i,s,o){for(var l=i.length,u=r.F.U.rev15,f=0;f<l;f+=2)if(i[f+1]!=0)for(var a=f>>1,d=i[f+1],c=a<<4|d,p=s-d,h=i[f]<<p,v=h+(1<<p);h!=v;)o[u[h]>>>15-s]=c,h++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,l=15-s,u=0;u<i.length;u+=2){var f=i[u]<<s-i[u+1];i[u]=o[f]>>>l}},r.F._putsE=function(i,s,o){o<<=7&s;var l=s>>>3;i[l]|=o,i[l+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var l=s>>>3;i[l]|=o,i[l+1]|=o>>>8,i[l+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function l(u,f,a){for(;f--!=0;)u.push(0,a)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];l(i.fltree,144,8),l(i.fltree,112,9),l(i.fltree,24,7),l(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),l(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),l(i.itree,19,0),l(i.ltree,286,0),l(i.dtree,30,0),l(i.ttree,320,0)}()})();var Td=kd({__proto__:null,default:ti},[ti]);const Et=function(){var t={nextZero(a,d){for(;a[d]!=0;)d++;return d},readUshort:(a,d)=>a[d]<<8|a[d+1],writeUshort(a,d,c){a[d]=c>>8&255,a[d+1]=255&c},readUint:(a,d)=>16777216*a[d]+(a[d+1]<<16|a[d+2]<<8|a[d+3]),writeUint(a,d,c){a[d]=c>>24&255,a[d+1]=c>>16&255,a[d+2]=c>>8&255,a[d+3]=255&c},readASCII(a,d,c){let p="";for(let h=0;h<c;h++)p+=String.fromCharCode(a[d+h]);return p},writeASCII(a,d,c){for(let p=0;p<c.length;p++)a[d+p]=c.charCodeAt(p)},readBytes(a,d,c){const p=[];for(let h=0;h<c;h++)p.push(a[d+h]);return p},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,d,c){let p,h="";for(let v=0;v<c;v++)h+=`%${t.pad(a[d+v].toString(16))}`;try{p=decodeURIComponent(h)}catch{return t.readASCII(a,d,c)}return p}};function e(a,d,c,p){const h=d*c,v=s(p),w=Math.ceil(d*v/8),_=new Uint8Array(4*h),C=new Uint32Array(_.buffer),{ctype:T}=p,{depth:x}=p,$=t.readUshort;if(T==6){const L=h<<2;if(x==8)for(var k=0;k<L;k+=4)_[k]=a[k],_[k+1]=a[k+1],_[k+2]=a[k+2],_[k+3]=a[k+3];if(x==16)for(k=0;k<L;k++)_[k]=a[k<<1]}else if(T==2){const L=p.tabs.tRNS;if(L==null){if(x==8)for(k=0;k<h;k++){var S=3*k;C[k]=255<<24|a[S+2]<<16|a[S+1]<<8|a[S]}if(x==16)for(k=0;k<h;k++)S=6*k,C[k]=255<<24|a[S+4]<<16|a[S+2]<<8|a[S]}else{var y=L[0];const U=L[1],Y=L[2];if(x==8)for(k=0;k<h;k++){var b=k<<2;S=3*k,C[k]=255<<24|a[S+2]<<16|a[S+1]<<8|a[S],a[S]==y&&a[S+1]==U&&a[S+2]==Y&&(_[b+3]=0)}if(x==16)for(k=0;k<h;k++)b=k<<2,S=6*k,C[k]=255<<24|a[S+4]<<16|a[S+2]<<8|a[S],$(a,S)==y&&$(a,S+2)==U&&$(a,S+4)==Y&&(_[b+3]=0)}}else if(T==3){const L=p.tabs.PLTE,U=p.tabs.tRNS,Y=U?U.length:0;if(x==1)for(var I=0;I<c;I++){var O=I*w,N=I*d;for(k=0;k<d;k++){b=N+k<<2;var q=3*(M=a[O+(k>>3)]>>7-((7&k)<<0)&1);_[b]=L[q],_[b+1]=L[q+1],_[b+2]=L[q+2],_[b+3]=M<Y?U[M]:255}}if(x==2)for(I=0;I<c;I++)for(O=I*w,N=I*d,k=0;k<d;k++)b=N+k<<2,q=3*(M=a[O+(k>>2)]>>6-((3&k)<<1)&3),_[b]=L[q],_[b+1]=L[q+1],_[b+2]=L[q+2],_[b+3]=M<Y?U[M]:255;if(x==4)for(I=0;I<c;I++)for(O=I*w,N=I*d,k=0;k<d;k++)b=N+k<<2,q=3*(M=a[O+(k>>1)]>>4-((1&k)<<2)&15),_[b]=L[q],_[b+1]=L[q+1],_[b+2]=L[q+2],_[b+3]=M<Y?U[M]:255;if(x==8)for(k=0;k<h;k++){var M;b=k<<2,q=3*(M=a[k]),_[b]=L[q],_[b+1]=L[q+1],_[b+2]=L[q+2],_[b+3]=M<Y?U[M]:255}}else if(T==4){if(x==8)for(k=0;k<h;k++){b=k<<2;var R=a[A=k<<1];_[b]=R,_[b+1]=R,_[b+2]=R,_[b+3]=a[A+1]}if(x==16)for(k=0;k<h;k++){var A;b=k<<2,R=a[A=k<<2],_[b]=R,_[b+1]=R,_[b+2]=R,_[b+3]=a[A+2]}}else if(T==0)for(y=p.tabs.tRNS?p.tabs.tRNS:-1,I=0;I<c;I++){const L=I*w,U=I*d;if(x==1)for(var E=0;E<d;E++){var F=(R=255*(a[L+(E>>>3)]>>>7-(7&E)&1))==255*y?0:255;C[U+E]=F<<24|R<<16|R<<8|R}else if(x==2)for(E=0;E<d;E++)F=(R=85*(a[L+(E>>>2)]>>>6-((3&E)<<1)&3))==85*y?0:255,C[U+E]=F<<24|R<<16|R<<8|R;else if(x==4)for(E=0;E<d;E++)F=(R=17*(a[L+(E>>>1)]>>>4-((1&E)<<2)&15))==17*y?0:255,C[U+E]=F<<24|R<<16|R<<8|R;else if(x==8)for(E=0;E<d;E++)F=(R=a[L+E])==y?0:255,C[U+E]=F<<24|R<<16|R<<8|R;else if(x==16)for(E=0;E<d;E++)R=a[L+(E<<1)],F=$(a,L+(E<<1))==y?0:255,C[U+E]=F<<24|R<<16|R<<8|R}return _}function n(a,d,c,p){const h=s(a),v=Math.ceil(c*h/8),w=new Uint8Array((v+1+a.interlace)*p);return d=a.tabs.CgBI?i(d,w):r(d,w),a.interlace==0?d=o(d,a,0,c,p):a.interlace==1&&(d=function(C,T){const x=T.width,$=T.height,k=s(T),S=k>>3,y=Math.ceil(x*k/8),b=new Uint8Array($*y);let I=0;const O=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],q=[8,8,8,4,4,2,2],M=[8,8,4,4,2,2,1];let R=0;for(;R<7;){const E=q[R],F=M[R];let L=0,U=0,Y=O[R];for(;Y<$;)Y+=E,U++;let B=N[R];for(;B<x;)B+=F,L++;const V=Math.ceil(L*k/8);o(C,T,I,L,U);let z=0,j=O[R];for(;j<$;){let re=N[R],he=I+z*V<<3;for(;re<x;){var A;if(k==1&&(A=(A=C[he>>3])>>7-(7&he)&1,b[j*y+(re>>3)]|=A<<7-((7&re)<<0)),k==2&&(A=(A=C[he>>3])>>6-(7&he)&3,b[j*y+(re>>2)]|=A<<6-((3&re)<<1)),k==4&&(A=(A=C[he>>3])>>4-(7&he)&15,b[j*y+(re>>1)]|=A<<4-((1&re)<<2)),k>=8){const Ee=j*y+re*S;for(let ue=0;ue<S;ue++)b[Ee+ue]=C[(he>>3)+ue]}he+=k,re+=F}z++,j+=E}L*U!=0&&(I+=U*(1+V)),R+=1}return b}(d,a)),d}function r(a,d){return i(new Uint8Array(a.buffer,2,a.length-6),d)}var i=function(){const a={H:{}};return a.H.N=function(d,c){const p=Uint8Array;let h,v,w=0,_=0,C=0,T=0,x=0,$=0,k=0,S=0,y=0;if(d[0]==3&&d[1]==0)return c||new p(0);const b=a.H,I=b.b,O=b.e,N=b.R,q=b.n,M=b.A,R=b.Z,A=b.m,E=c==null;for(E&&(c=new p(d.length>>>2<<5));w==0;)if(w=I(d,y,1),_=I(d,y+1,2),y+=3,_!=0){if(E&&(c=a.H.W(c,S+(1<<17))),_==1&&(h=A.J,v=A.h,$=511,k=31),_==2){C=O(d,y,5)+257,T=O(d,y+5,5)+1,x=O(d,y+10,4)+4,y+=14;let L=1;for(var F=0;F<38;F+=2)A.Q[F]=0,A.Q[F+1]=0;for(F=0;F<x;F++){const B=O(d,y+3*F,3);A.Q[1+(A.X[F]<<1)]=B,B>L&&(L=B)}y+=3*x,q(A.Q,L),M(A.Q,L,A.u),h=A.w,v=A.d,y=N(A.u,(1<<L)-1,C+T,d,y,A.v);const U=b.V(A.v,0,C,A.C);$=(1<<U)-1;const Y=b.V(A.v,C,T,A.D);k=(1<<Y)-1,q(A.C,U),M(A.C,U,h),q(A.D,Y),M(A.D,Y,v)}for(;;){const L=h[R(d,y)&$];y+=15&L;const U=L>>>4;if(!(U>>>8))c[S++]=U;else{if(U==256)break;{let Y=S+U-254;if(U>264){const re=A.q[U-257];Y=S+(re>>>3)+O(d,y,7&re),y+=7&re}const B=v[R(d,y)&k];y+=15&B;const V=B>>>4,z=A.c[V],j=(z>>>4)+I(d,y,15&z);for(y+=15&z;S<Y;)c[S]=c[S++-j],c[S]=c[S++-j],c[S]=c[S++-j],c[S]=c[S++-j];S=Y}}}}else{7&y&&(y+=8-(7&y));const L=4+(y>>>3),U=d[L-4]|d[L-3]<<8;E&&(c=a.H.W(c,S+U)),c.set(new p(d.buffer,d.byteOffset+L,U),S),y=L+U<<3,S+=U}return c.length==S?c:c.slice(0,S)},a.H.W=function(d,c){const p=d.length;if(c<=p)return d;const h=new Uint8Array(p<<1);return h.set(d,0),h},a.H.R=function(d,c,p,h,v,w){const _=a.H.e,C=a.H.Z;let T=0;for(;T<p;){const x=d[C(h,v)&c];v+=15&x;const $=x>>>4;if($<=15)w[T]=$,T++;else{let k=0,S=0;$==16?(S=3+_(h,v,2),v+=2,k=w[T-1]):$==17?(S=3+_(h,v,3),v+=3):$==18&&(S=11+_(h,v,7),v+=7);const y=T+S;for(;T<y;)w[T]=k,T++}}return v},a.H.V=function(d,c,p,h){let v=0,w=0;const _=h.length>>>1;for(;w<p;){const C=d[w+c];h[w<<1]=0,h[1+(w<<1)]=C,C>v&&(v=C),w++}for(;w<_;)h[w<<1]=0,h[1+(w<<1)]=0,w++;return v},a.H.n=function(d,c){const p=a.H.m,h=d.length;let v,w,_,C;const T=p.j;for(var x=0;x<=c;x++)T[x]=0;for(x=1;x<h;x+=2)T[d[x]]++;const $=p.K;for(v=0,T[0]=0,w=1;w<=c;w++)v=v+T[w-1]<<1,$[w]=v;for(_=0;_<h;_+=2)C=d[_+1],C!=0&&(d[_]=$[C],$[C]++)},a.H.A=function(d,c,p){const h=d.length,v=a.H.m.r;for(let w=0;w<h;w+=2)if(d[w+1]!=0){const _=w>>1,C=d[w+1],T=_<<4|C,x=c-C;let $=d[w]<<x;const k=$+(1<<x);for(;$!=k;)p[v[$]>>>15-c]=T,$++}},a.H.l=function(d,c){const p=a.H.m.r,h=15-c;for(let v=0;v<d.length;v+=2){const w=d[v]<<c-d[v+1];d[v]=p[w]>>>h}},a.H.M=function(d,c,p){p<<=7&c;const h=c>>>3;d[h]|=p,d[h+1]|=p>>>8},a.H.I=function(d,c,p){p<<=7&c;const h=c>>>3;d[h]|=p,d[h+1]|=p>>>8,d[h+2]|=p>>>16},a.H.e=function(d,c,p){return(d[c>>>3]|d[1+(c>>>3)]<<8)>>>(7&c)&(1<<p)-1},a.H.b=function(d,c,p){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)&(1<<p)-1},a.H.Z=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)},a.H.i=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16|d[3+(c>>>3)]<<24)>>>(7&c)},a.H.m=function(){const d=Uint16Array,c=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=a.H.m;for(var c=0;c<32768;c++){let h=c;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,d.r[c]=(h>>>16|h<<16)>>>17}function p(h,v,w){for(;v--!=0;)h.push(0,w)}for(c=0;c<32;c++)d.q[c]=d.S[c]<<3|d.T[c],d.c[c]=d.p[c]<<4|d.z[c];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),a.H.n(d._,9),a.H.A(d._,9,d.J),a.H.l(d._,9),p(d.$,32,5),a.H.n(d.$,5),a.H.A(d.$,5,d.h),a.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),a.H.N}();function s(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function o(a,d,c,p,h){let v=s(d);const w=Math.ceil(p*v/8);let _,C;v=Math.ceil(v/8);let T=a[c],x=0;if(T>1&&(a[c]=[0,0,1][T-2]),T==3)for(x=v;x<w;x++)a[x+1]=a[x+1]+(a[x+1-v]>>>1)&255;for(let $=0;$<h;$++)if(_=c+$*w,C=_+$+1,T=a[C-1],x=0,T==0)for(;x<w;x++)a[_+x]=a[C+x];else if(T==1){for(;x<v;x++)a[_+x]=a[C+x];for(;x<w;x++)a[_+x]=a[C+x]+a[_+x-v]}else if(T==2)for(;x<w;x++)a[_+x]=a[C+x]+a[_+x-w];else if(T==3){for(;x<v;x++)a[_+x]=a[C+x]+(a[_+x-w]>>>1);for(;x<w;x++)a[_+x]=a[C+x]+(a[_+x-w]+a[_+x-v]>>>1)}else{for(;x<v;x++)a[_+x]=a[C+x]+l(0,a[_+x-w],0);for(;x<w;x++)a[_+x]=a[C+x]+l(a[_+x-v],a[_+x-w],a[_+x-v-w])}return a}function l(a,d,c){const p=a+d-c,h=p-a,v=p-d,w=p-c;return h*h<=v*v&&h*h<=w*w?a:v*v<=w*w?d:c}function u(a,d,c){c.width=t.readUint(a,d),d+=4,c.height=t.readUint(a,d),d+=4,c.depth=a[d],d++,c.ctype=a[d],d++,c.compress=a[d],d++,c.filter=a[d],d++,c.interlace=a[d],d++}function f(a,d,c,p,h,v,w,_,C){const T=Math.min(d,h),x=Math.min(c,v);let $=0,k=0;for(let R=0;R<x;R++)for(let A=0;A<T;A++)if(w>=0&&_>=0?($=R*d+A<<2,k=(_+R)*h+w+A<<2):($=(-_+R)*d-w+A<<2,k=R*h+A<<2),C==0)p[k]=a[$],p[k+1]=a[$+1],p[k+2]=a[$+2],p[k+3]=a[$+3];else if(C==1){var S=a[$+3]*.00392156862745098,y=a[$]*S,b=a[$+1]*S,I=a[$+2]*S,O=p[k+3]*(1/255),N=p[k]*O,q=p[k+1]*O,M=p[k+2]*O;const E=1-S,F=S+O*E,L=F==0?0:1/F;p[k+3]=255*F,p[k+0]=(y+N*E)*L,p[k+1]=(b+q*E)*L,p[k+2]=(I+M*E)*L}else if(C==2)S=a[$+3],y=a[$],b=a[$+1],I=a[$+2],O=p[k+3],N=p[k],q=p[k+1],M=p[k+2],S==O&&y==N&&b==q&&I==M?(p[k]=0,p[k+1]=0,p[k+2]=0,p[k+3]=0):(p[k]=y,p[k+1]=b,p[k+2]=I,p[k+3]=S);else if(C==3){if(S=a[$+3],y=a[$],b=a[$+1],I=a[$+2],O=p[k+3],N=p[k],q=p[k+1],M=p[k+2],S==O&&y==N&&b==q&&I==M)continue;if(S<220&&O>20)return!1}return!0}return{decode:function(d){const c=new Uint8Array(d);let p=8;const h=t,v=h.readUshort,w=h.readUint,_={tabs:{},frames:[]},C=new Uint8Array(c.length);let T,x=0,$=0;const k=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(c[S]!=k[S])throw"The input is not a PNG file!";for(;p<c.length;){const R=h.readUint(c,p);p+=4;const A=h.readASCII(c,p,4);if(p+=4,A=="IHDR")u(c,p,_);else if(A=="iCCP"){for(var y=p;c[y]!=0;)y++;h.readASCII(c,p,y-p),c[y+1];const E=c.slice(y+2,p+R);let F=null;try{F=r(E)}catch{F=i(E)}_.tabs[A]=F}else if(A=="CgBI")_.tabs[A]=c.slice(p,p+4);else if(A=="IDAT"){for(S=0;S<R;S++)C[x+S]=c[p+S];x+=R}else if(A=="acTL")_.tabs[A]={num_frames:w(c,p),num_plays:w(c,p+4)},T=new Uint8Array(c.length);else if(A=="fcTL"){$!=0&&((M=_.frames[_.frames.length-1]).data=n(_,T.slice(0,$),M.rect.width,M.rect.height),$=0);const E={x:w(c,p+12),y:w(c,p+16),width:w(c,p+4),height:w(c,p+8)};let F=v(c,p+22);F=v(c,p+20)/(F==0?100:F);const L={rect:E,delay:Math.round(1e3*F),dispose:c[p+24],blend:c[p+25]};_.frames.push(L)}else if(A=="fdAT"){for(S=0;S<R-4;S++)T[$+S]=c[p+S+4];$+=R-4}else if(A=="pHYs")_.tabs[A]=[h.readUint(c,p),h.readUint(c,p+4),c[p+8]];else if(A=="cHRM")for(_.tabs[A]=[],S=0;S<8;S++)_.tabs[A].push(h.readUint(c,p+4*S));else if(A=="tEXt"||A=="zTXt"){_.tabs[A]==null&&(_.tabs[A]={});var b=h.nextZero(c,p),I=h.readASCII(c,p,b-p),O=p+R-b-1;if(A=="tEXt")q=h.readASCII(c,b+1,O);else{var N=r(c.slice(b+2,b+2+O));q=h.readUTF8(N,0,N.length)}_.tabs[A][I]=q}else if(A=="iTXt"){_.tabs[A]==null&&(_.tabs[A]={}),b=0,y=p,b=h.nextZero(c,y),I=h.readASCII(c,y,b-y);const E=c[y=b+1];var q;c[y+1],y+=2,b=h.nextZero(c,y),h.readASCII(c,y,b-y),y=b+1,b=h.nextZero(c,y),h.readUTF8(c,y,b-y),O=R-((y=b+1)-p),E==0?q=h.readUTF8(c,y,O):(N=r(c.slice(y,y+O)),q=h.readUTF8(N,0,N.length)),_.tabs[A][I]=q}else if(A=="PLTE")_.tabs[A]=h.readBytes(c,p,R);else if(A=="hIST"){const E=_.tabs.PLTE.length/3;for(_.tabs[A]=[],S=0;S<E;S++)_.tabs[A].push(v(c,p+2*S))}else if(A=="tRNS")_.ctype==3?_.tabs[A]=h.readBytes(c,p,R):_.ctype==0?_.tabs[A]=v(c,p):_.ctype==2&&(_.tabs[A]=[v(c,p),v(c,p+2),v(c,p+4)]);else if(A=="gAMA")_.tabs[A]=h.readUint(c,p)/1e5;else if(A=="sRGB")_.tabs[A]=c[p];else if(A=="bKGD")_.ctype==0||_.ctype==4?_.tabs[A]=[v(c,p)]:_.ctype==2||_.ctype==6?_.tabs[A]=[v(c,p),v(c,p+2),v(c,p+4)]:_.ctype==3&&(_.tabs[A]=c[p]);else if(A=="IEND")break;p+=R,h.readUint(c,p),p+=4}var M;return $!=0&&((M=_.frames[_.frames.length-1]).data=n(_,T.slice(0,$),M.rect.width,M.rect.height)),_.data=n(_,C,_.width,_.height),delete _.compress,delete _.interlace,delete _.filter,_},toRGBA8:function(d){const c=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,c,p,d).buffer];const h=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const v=c*p*4,w=new Uint8Array(v),_=new Uint8Array(v),C=new Uint8Array(v);for(let x=0;x<d.frames.length;x++){const $=d.frames[x],k=$.rect.x,S=$.rect.y,y=$.rect.width,b=$.rect.height,I=e($.data,y,b,d);if(x!=0)for(var T=0;T<v;T++)C[T]=w[T];if($.blend==0?f(I,y,b,w,c,p,k,S,0):$.blend==1&&f(I,y,b,w,c,p,k,S,1),h.push(w.buffer.slice(0)),$.dispose!=0){if($.dispose==1)f(_,y,b,w,c,p,k,S,0);else if($.dispose==2)for(T=0;T<v;T++)w[T]=C[T]}}return h},_paeth:l,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=Et,{_bin:e}=Et,n=Et._paeth;var r={table:function(){const y=new Uint32Array(256);for(let b=0;b<256;b++){let I=b;for(let O=0;O<8;O++)1&I?I=3988292384^I>>>1:I>>>=1;y[b]=I}return y}(),update(y,b,I,O){for(let N=0;N<O;N++)y=r.table[255&(y^b[I+N])]^y>>>8;return y},crc:(y,b,I)=>4294967295^r.update(4294967295,y,b,I)};function i(y,b,I,O){b[I]+=y[0]*O>>4,b[I+1]+=y[1]*O>>4,b[I+2]+=y[2]*O>>4,b[I+3]+=y[3]*O>>4}function s(y){return Math.max(0,Math.min(255,y))}function o(y,b){const I=y[0]-b[0],O=y[1]-b[1],N=y[2]-b[2],q=y[3]-b[3];return I*I+O*O+N*N+q*q}function l(y,b,I,O,N,q,M){M==null&&(M=1);const R=O.length,A=[];for(var E=0;E<R;E++){const j=O[E];A.push([j>>>0&255,j>>>8&255,j>>>16&255,j>>>24&255])}for(E=0;E<R;E++){let j=4294967295;for(var F=0,L=0;L<R;L++){var U=o(A[E],A[L]);L!=E&&U<j&&(j=U,F=L)}}const Y=new Uint32Array(N.buffer),B=new Int16Array(b*I*4),V=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(E=0;E<V.length;E++)V[E]=255*((V[E]+.5)/16-.5);for(let j=0;j<I;j++)for(let re=0;re<b;re++){var z;E=4*(j*b+re),M!=2?z=[s(y[E]+B[E]),s(y[E+1]+B[E+1]),s(y[E+2]+B[E+2]),s(y[E+3]+B[E+3])]:(U=V[4*(3&j)+(3&re)],z=[s(y[E]+U),s(y[E+1]+U),s(y[E+2]+U),s(y[E+3]+U)]),F=0;let he=16777215;for(L=0;L<R;L++){const ge=o(z,A[L]);ge<he&&(he=ge,F=L)}const Ee=A[F],ue=[z[0]-Ee[0],z[1]-Ee[1],z[2]-Ee[2],z[3]-Ee[3]];M==1&&(re!=b-1&&i(ue,B,E+4,7),j!=I-1&&(re!=0&&i(ue,B,E+4*b-4,3),i(ue,B,E+4*b,5),re!=b-1&&i(ue,B,E+4*b+4,1))),q[E>>2]=F,Y[E>>2]=O[F]}}function u(y,b,I,O,N){N==null&&(N={});const{crc:q}=r,M=e.writeUint,R=e.writeUshort,A=e.writeASCII;let E=8;const F=y.frames.length>1;let L,U=!1,Y=33+(F?20:0);if(N.sRGB!=null&&(Y+=13),N.pHYs!=null&&(Y+=21),N.iCCP!=null&&(L=pako.deflate(N.iCCP),Y+=21+L.length+4),y.ctype==3){for(var B=y.plte.length,V=0;V<B;V++)y.plte[V]>>>24!=255&&(U=!0);Y+=8+3*B+4+(U?8+1*B+4:0)}for(var z=0;z<y.frames.length;z++)F&&(Y+=38),Y+=(Ee=y.frames[z]).cimg.length+12,z!=0&&(Y+=4);Y+=12;const j=new Uint8Array(Y),re=[137,80,78,71,13,10,26,10];for(V=0;V<8;V++)j[V]=re[V];if(M(j,E,13),E+=4,A(j,E,"IHDR"),E+=4,M(j,E,b),E+=4,M(j,E,I),E+=4,j[E]=y.depth,E++,j[E]=y.ctype,E++,j[E]=0,E++,j[E]=0,E++,j[E]=0,E++,M(j,E,q(j,E-17,17)),E+=4,N.sRGB!=null&&(M(j,E,1),E+=4,A(j,E,"sRGB"),E+=4,j[E]=N.sRGB,E++,M(j,E,q(j,E-5,5)),E+=4),N.iCCP!=null){const ue=13+L.length;M(j,E,ue),E+=4,A(j,E,"iCCP"),E+=4,A(j,E,"ICC profile"),E+=11,E+=2,j.set(L,E),E+=L.length,M(j,E,q(j,E-(ue+4),ue+4)),E+=4}if(N.pHYs!=null&&(M(j,E,9),E+=4,A(j,E,"pHYs"),E+=4,M(j,E,N.pHYs[0]),E+=4,M(j,E,N.pHYs[1]),E+=4,j[E]=N.pHYs[2],E++,M(j,E,q(j,E-13,13)),E+=4),F&&(M(j,E,8),E+=4,A(j,E,"acTL"),E+=4,M(j,E,y.frames.length),E+=4,M(j,E,N.loop!=null?N.loop:0),E+=4,M(j,E,q(j,E-12,12)),E+=4),y.ctype==3){for(M(j,E,3*(B=y.plte.length)),E+=4,A(j,E,"PLTE"),E+=4,V=0;V<B;V++){const ue=3*V,ge=y.plte[V],Ce=255&ge,_e=ge>>>8&255,We=ge>>>16&255;j[E+ue+0]=Ce,j[E+ue+1]=_e,j[E+ue+2]=We}if(E+=3*B,M(j,E,q(j,E-3*B-4,3*B+4)),E+=4,U){for(M(j,E,B),E+=4,A(j,E,"tRNS"),E+=4,V=0;V<B;V++)j[E+V]=y.plte[V]>>>24&255;E+=B,M(j,E,q(j,E-B-4,B+4)),E+=4}}let he=0;for(z=0;z<y.frames.length;z++){var Ee=y.frames[z];F&&(M(j,E,26),E+=4,A(j,E,"fcTL"),E+=4,M(j,E,he++),E+=4,M(j,E,Ee.rect.width),E+=4,M(j,E,Ee.rect.height),E+=4,M(j,E,Ee.rect.x),E+=4,M(j,E,Ee.rect.y),E+=4,R(j,E,O[z]),E+=2,R(j,E,1e3),E+=2,j[E]=Ee.dispose,E++,j[E]=Ee.blend,E++,M(j,E,q(j,E-30,30)),E+=4);const ue=Ee.cimg;M(j,E,(B=ue.length)+(z==0?0:4)),E+=4;const ge=E;A(j,E,z==0?"IDAT":"fdAT"),E+=4,z!=0&&(M(j,E,he++),E+=4),j.set(ue,E),E+=B,M(j,E,q(j,ge,E-ge)),E+=4}return M(j,E,0),E+=4,A(j,E,"IEND"),E+=4,M(j,E,q(j,E-4,4)),E+=4,j.buffer}function f(y,b,I){for(let O=0;O<y.frames.length;O++){const N=y.frames[O];N.rect.width;const q=N.rect.height,M=new Uint8Array(q*N.bpl+q);N.cimg=p(N.img,q,N.bpp,N.bpl,M,b,I)}}function a(y,b,I,O,N){const q=N[0],M=N[1],R=N[2],A=N[3],E=N[4],F=N[5];let L=6,U=8,Y=255;for(var B=0;B<y.length;B++){const Ae=new Uint8Array(y[B]);for(var V=Ae.length,z=0;z<V;z+=4)Y&=Ae[z+3]}const j=Y!=255,re=function(de,xe,Ue,Me,De,je){const K=[];for(var ie=0;ie<de.length;ie++){const Ye=new Uint8Array(de[ie]),mt=new Uint32Array(Ye.buffer);var Re;let bt=0,Lt=0,Ot=xe,an=Ue,_i=Me?1:0;if(ie!=0){const Yl=je||Me||ie==1||K[ie-2].dispose!=0?1:2;let vi=0,cs=1e9;for(let Wn=0;Wn<Yl;Wn++){var Qe=new Uint8Array(de[ie-1-Wn]);const Xl=new Uint32Array(de[ie-1-Wn]);let Vt=xe,Wt=Ue,En=-1,Gn=-1;for(let un=0;un<Ue;un++)for(let cn=0;cn<xe;cn++)mt[ve=un*xe+cn]!=Xl[ve]&&(cn<Vt&&(Vt=cn),cn>En&&(En=cn),un<Wt&&(Wt=un),un>Gn&&(Gn=un));En==-1&&(Vt=Wt=En=Gn=0),De&&((1&Vt)==1&&Vt--,(1&Wt)==1&&Wt--);const fs=(En-Vt+1)*(Gn-Wt+1);fs<cs&&(cs=fs,vi=Wn,bt=Vt,Lt=Wt,Ot=En-Vt+1,an=Gn-Wt+1)}Qe=new Uint8Array(de[ie-1-vi]),vi==1&&(K[ie-1].dispose=2),Re=new Uint8Array(Ot*an*4),t(Qe,xe,Ue,Re,Ot,an,-bt,-Lt,0),_i=t(Ye,xe,Ue,Re,Ot,an,-bt,-Lt,3)?1:0,_i==1?c(Ye,xe,Ue,Re,{x:bt,y:Lt,width:Ot,height:an}):t(Ye,xe,Ue,Re,Ot,an,-bt,-Lt,0)}else Re=Ye.slice(0);K.push({rect:{x:bt,y:Lt,width:Ot,height:an},img:Re,blend:_i,dispose:0})}if(Me)for(ie=0;ie<K.length;ie++){if((et=K[ie]).blend==1)continue;const Ye=et.rect,mt=K[ie-1].rect,bt=Math.min(Ye.x,mt.x),Lt=Math.min(Ye.y,mt.y),Ot={x:bt,y:Lt,width:Math.max(Ye.x+Ye.width,mt.x+mt.width)-bt,height:Math.max(Ye.y+Ye.height,mt.y+mt.height)-Lt};K[ie-1].dispose=1,ie-1!=0&&d(de,xe,Ue,K,ie-1,Ot,De),d(de,xe,Ue,K,ie,Ot,De)}let ln=0;if(de.length!=1)for(var ve=0;ve<K.length;ve++){var et;ln+=(et=K[ve]).rect.width*et.rect.height}return K}(y,b,I,q,M,R),he={},Ee=[],ue=[];if(O!=0){const Ae=[];for(z=0;z<re.length;z++)Ae.push(re[z].img.buffer);const de=function(De){let je=0;for(var K=0;K<De.length;K++)je+=De[K].byteLength;const ie=new Uint8Array(je);let Re=0;for(K=0;K<De.length;K++){const Qe=new Uint8Array(De[K]),ln=Qe.length;for(let ve=0;ve<ln;ve+=4){let et=Qe[ve],Ye=Qe[ve+1],mt=Qe[ve+2];const bt=Qe[ve+3];bt==0&&(et=Ye=mt=0),ie[Re+ve]=et,ie[Re+ve+1]=Ye,ie[Re+ve+2]=mt,ie[Re+ve+3]=bt}Re+=ln}return ie.buffer}(Ae),xe=v(de,O);for(z=0;z<xe.plte.length;z++)Ee.push(xe.plte[z].est.rgba);let Ue=0;for(z=0;z<re.length;z++){const Me=(Ce=re[z]).img.length;var ge=new Uint8Array(xe.inds.buffer,Ue>>2,Me>>2);ue.push(ge);const De=new Uint8Array(xe.abuf,Ue,Me);F&&l(Ce.img,Ce.rect.width,Ce.rect.height,Ee,De,ge),Ce.img.set(De),Ue+=Me}}else for(B=0;B<re.length;B++){var Ce=re[B];const Ae=new Uint32Array(Ce.img.buffer);var _e=Ce.rect.width;for(V=Ae.length,ge=new Uint8Array(V),ue.push(ge),z=0;z<V;z++){const de=Ae[z];if(z!=0&&de==Ae[z-1])ge[z]=ge[z-1];else if(z>_e&&de==Ae[z-_e])ge[z]=ge[z-_e];else{let xe=he[de];if(xe==null&&(he[de]=xe=Ee.length,Ee.push(de),Ee.length>=300))break;ge[z]=xe}}}const We=Ee.length;for(We<=256&&E==0&&(U=We<=2?1:We<=4?2:We<=16?4:8,U=Math.max(U,A)),B=0;B<re.length;B++){(Ce=re[B]).rect.x,Ce.rect.y,_e=Ce.rect.width;const Ae=Ce.rect.height;let de=Ce.img;new Uint32Array(de.buffer);let xe=4*_e,Ue=4;if(We<=256&&E==0){xe=Math.ceil(U*_e/8);var Je=new Uint8Array(xe*Ae);const Me=ue[B];for(let De=0;De<Ae;De++){z=De*xe;const je=De*_e;if(U==8)for(var Ie=0;Ie<_e;Ie++)Je[z+Ie]=Me[je+Ie];else if(U==4)for(Ie=0;Ie<_e;Ie++)Je[z+(Ie>>1)]|=Me[je+Ie]<<4-4*(1&Ie);else if(U==2)for(Ie=0;Ie<_e;Ie++)Je[z+(Ie>>2)]|=Me[je+Ie]<<6-2*(3&Ie);else if(U==1)for(Ie=0;Ie<_e;Ie++)Je[z+(Ie>>3)]|=Me[je+Ie]<<7-1*(7&Ie)}de=Je,L=3,Ue=1}else if(j==0&&re.length==1){Je=new Uint8Array(_e*Ae*3);const Me=_e*Ae;for(z=0;z<Me;z++){const De=3*z,je=4*z;Je[De]=de[je],Je[De+1]=de[je+1],Je[De+2]=de[je+2]}de=Je,L=2,Ue=3,xe=3*_e}Ce.img=de,Ce.bpl=xe,Ce.bpp=Ue}return{ctype:L,depth:U,plte:Ee,frames:re}}function d(y,b,I,O,N,q,M){const R=Uint8Array,A=Uint32Array,E=new R(y[N-1]),F=new A(y[N-1]),L=N+1<y.length?new R(y[N+1]):null,U=new R(y[N]),Y=new A(U.buffer);let B=b,V=I,z=-1,j=-1;for(let he=0;he<q.height;he++)for(let Ee=0;Ee<q.width;Ee++){const ue=q.x+Ee,ge=q.y+he,Ce=ge*b+ue,_e=Y[Ce];_e==0||O[N-1].dispose==0&&F[Ce]==_e&&(L==null||L[4*Ce+3]!=0)||(ue<B&&(B=ue),ue>z&&(z=ue),ge<V&&(V=ge),ge>j&&(j=ge))}z==-1&&(B=V=z=j=0),M&&((1&B)==1&&B--,(1&V)==1&&V--),q={x:B,y:V,width:z-B+1,height:j-V+1};const re=O[N];re.rect=q,re.blend=1,re.img=new Uint8Array(q.width*q.height*4),O[N-1].dispose==0?(t(E,b,I,re.img,q.width,q.height,-q.x,-q.y,0),c(U,b,I,re.img,q)):t(U,b,I,re.img,q.width,q.height,-q.x,-q.y,0)}function c(y,b,I,O,N){t(y,b,I,O,N.width,N.height,-N.x,-N.y,2)}function p(y,b,I,O,N,q,M){const R=[];let A,E=[0,1,2,3,4];q!=-1?E=[q]:(b*O>5e5||I==1)&&(E=[0]),M&&(A={level:0});const F=Td;for(var L=0;L<E.length;L++){for(let B=0;B<b;B++)h(N,y,B,O,I,E[L]);R.push(F.deflate(N,A))}let U,Y=1e9;for(L=0;L<R.length;L++)R[L].length<Y&&(U=L,Y=R[L].length);return R[U]}function h(y,b,I,O,N,q){const M=I*O;let R=M+I;if(y[R]=q,R++,q==0)if(O<500)for(var A=0;A<O;A++)y[R+A]=b[M+A];else y.set(new Uint8Array(b.buffer,M,O),R);else if(q==1){for(A=0;A<N;A++)y[R+A]=b[M+A];for(A=N;A<O;A++)y[R+A]=b[M+A]-b[M+A-N]+256&255}else if(I==0){for(A=0;A<N;A++)y[R+A]=b[M+A];if(q==2)for(A=N;A<O;A++)y[R+A]=b[M+A];if(q==3)for(A=N;A<O;A++)y[R+A]=b[M+A]-(b[M+A-N]>>1)+256&255;if(q==4)for(A=N;A<O;A++)y[R+A]=b[M+A]-n(b[M+A-N],0,0)+256&255}else{if(q==2)for(A=0;A<O;A++)y[R+A]=b[M+A]+256-b[M+A-O]&255;if(q==3){for(A=0;A<N;A++)y[R+A]=b[M+A]+256-(b[M+A-O]>>1)&255;for(A=N;A<O;A++)y[R+A]=b[M+A]+256-(b[M+A-O]+b[M+A-N]>>1)&255}if(q==4){for(A=0;A<N;A++)y[R+A]=b[M+A]+256-n(0,b[M+A-O],0)&255;for(A=N;A<O;A++)y[R+A]=b[M+A]+256-n(b[M+A-N],b[M+A-O],b[M+A-N-O])&255}}}function v(y,b){const I=new Uint8Array(y),O=I.slice(0),N=new Uint32Array(O.buffer),q=w(O,b),M=q[0],R=q[1],A=I.length,E=new Uint8Array(A>>2);let F;if(I.length<2e7)for(var L=0;L<A;L+=4)F=_(M,U=I[L]*(1/255),Y=I[L+1]*(1/255),B=I[L+2]*(1/255),V=I[L+3]*(1/255)),E[L>>2]=F.ind,N[L>>2]=F.est.rgba;else for(L=0;L<A;L+=4){var U=I[L]*.00392156862745098,Y=I[L+1]*(1/255),B=I[L+2]*(1/255),V=I[L+3]*(1/255);for(F=M;F.left;)F=C(F.est,U,Y,B,V)<=0?F.left:F.right;E[L>>2]=F.ind,N[L>>2]=F.est.rgba}return{abuf:O.buffer,inds:E,plte:R}}function w(y,b,I){I==null&&(I=1e-4);const O=new Uint32Array(y.buffer),N={i0:0,i1:y.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=$(y,N.i0,N.i1),N.est=k(N.bst);const q=[N];for(;q.length<b;){let R=0,A=0;for(var M=0;M<q.length;M++)q[M].est.L>R&&(R=q[M].est.L,A=M);if(R<I)break;const E=q[A],F=T(y,O,E.i0,E.i1,E.est.e,E.est.eMq255);if(E.i0>=F||E.i1<=F){E.est.L=0;continue}const L={i0:E.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};L.bst=$(y,L.i0,L.i1),L.est=k(L.bst);const U={i0:F,i1:E.i1,bst:null,est:null,tdst:0,left:null,right:null};for(U.bst={R:[],m:[],N:E.bst.N-L.bst.N},M=0;M<16;M++)U.bst.R[M]=E.bst.R[M]-L.bst.R[M];for(M=0;M<4;M++)U.bst.m[M]=E.bst.m[M]-L.bst.m[M];U.est=k(U.bst),E.left=L,E.right=U,q[A]=L,q.push(U)}for(q.sort((R,A)=>A.bst.N-R.bst.N),M=0;M<q.length;M++)q[M].ind=M;return[N,q]}function _(y,b,I,O,N){if(y.left==null)return y.tdst=function(L,U,Y,B,V){const z=U-L[0],j=Y-L[1],re=B-L[2],he=V-L[3];return z*z+j*j+re*re+he*he}(y.est.q,b,I,O,N),y;const q=C(y.est,b,I,O,N);let M=y.left,R=y.right;q>0&&(M=y.right,R=y.left);const A=_(M,b,I,O,N);if(A.tdst<=q*q)return A;const E=_(R,b,I,O,N);return E.tdst<A.tdst?E:A}function C(y,b,I,O,N){const{e:q}=y;return q[0]*b+q[1]*I+q[2]*O+q[3]*N-y.eMq}function T(y,b,I,O,N,q){for(O-=4;I<O;){for(;x(y,I,N)<=q;)I+=4;for(;x(y,O,N)>q;)O-=4;if(I>=O)break;const M=b[I>>2];b[I>>2]=b[O>>2],b[O>>2]=M,I+=4,O-=4}for(;x(y,I,N)>q;)I-=4;return I+4}function x(y,b,I){return y[b]*I[0]+y[b+1]*I[1]+y[b+2]*I[2]+y[b+3]*I[3]}function $(y,b,I){const O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],q=I-b>>2;for(let M=b;M<I;M+=4){const R=y[M]*.00392156862745098,A=y[M+1]*(1/255),E=y[M+2]*(1/255),F=y[M+3]*(1/255);N[0]+=R,N[1]+=A,N[2]+=E,N[3]+=F,O[0]+=R*R,O[1]+=R*A,O[2]+=R*E,O[3]+=R*F,O[5]+=A*A,O[6]+=A*E,O[7]+=A*F,O[10]+=E*E,O[11]+=E*F,O[15]+=F*F}return O[4]=O[1],O[8]=O[2],O[9]=O[6],O[12]=O[3],O[13]=O[7],O[14]=O[11],{R:O,m:N,N:q}}function k(y){const{R:b}=y,{m:I}=y,{N:O}=y,N=I[0],q=I[1],M=I[2],R=I[3],A=O==0?0:1/O,E=[b[0]-N*N*A,b[1]-N*q*A,b[2]-N*M*A,b[3]-N*R*A,b[4]-q*N*A,b[5]-q*q*A,b[6]-q*M*A,b[7]-q*R*A,b[8]-M*N*A,b[9]-M*q*A,b[10]-M*M*A,b[11]-M*R*A,b[12]-R*N*A,b[13]-R*q*A,b[14]-R*M*A,b[15]-R*R*A],F=E,L=S;let U=[Math.random(),Math.random(),Math.random(),Math.random()],Y=0,B=0;if(O!=0)for(let z=0;z<16&&(U=L.multVec(F,U),B=Math.sqrt(L.dot(U,U)),U=L.sml(1/B,U),!(z!=0&&Math.abs(B-Y)<1e-9));z++)Y=B;const V=[N*A,q*A,M*A,R*A];return{Cov:E,q:V,e:U,L:Y,eMq255:L.dot(L.sml(255,V),U),eMq:L.dot(U,V),rgba:(Math.round(255*V[3])<<24|Math.round(255*V[2])<<16|Math.round(255*V[1])<<8|Math.round(255*V[0])<<0)>>>0}}var S={multVec:(y,b)=>[y[0]*b[0]+y[1]*b[1]+y[2]*b[2]+y[3]*b[3],y[4]*b[0]+y[5]*b[1]+y[6]*b[2]+y[7]*b[3],y[8]*b[0]+y[9]*b[1]+y[10]*b[2]+y[11]*b[3],y[12]*b[0]+y[13]*b[1]+y[14]*b[2]+y[15]*b[3]],dot:(y,b)=>y[0]*b[0]+y[1]*b[1]+y[2]*b[2]+y[3]*b[3],sml:(y,b)=>[y*b[0],y*b[1],y*b[2],y*b[3]]};Et.encode=function(b,I,O,N,q,M,R){N==null&&(N=0),R==null&&(R=!1);const A=a(b,I,O,N,[!1,!1,!1,0,R,!1]);return f(A,-1),u(A,I,O,q,M)},Et.encodeLL=function(b,I,O,N,q,M,R,A){const E={ctype:0+(N==1?0:2)+(q==0?0:4),depth:M,frames:[]},F=(N+q)*M,L=F*I;for(let U=0;U<b.length;U++)E.frames.push({rect:{x:0,y:0,width:I,height:O},img:new Uint8Array(b[U]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(L/8)});return f(E,0,!0),u(E,I,O,R,A)},Et.encode.compress=a,Et.encode.dither=l,Et.quantize=v,Et.quantize.getKDtree=w,Et.quantize.getNearest=_})();const Fl={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),l=(32*n+31)/32<<2,u=l*r,f=122+u,a=new ArrayBuffer(f),d=new DataView(a),c=1<<20;let p,h,v,w,_=c,C=0,T=0,x=0;function $(y){d.setUint16(T,y,!0),T+=2}function k(y){d.setUint32(T,y,!0),T+=4}function S(y){T+=y}$(19778),k(f),S(4),k(122),k(108),k(n),k(-r>>>0),$(1),$(32),k(3),k(u),k(2835),k(2835),S(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function y(){for(;C<r&&_>0;){for(w=122+C*l,p=0;p<i;)_--,h=o[x++],v=h>>>24,d.setUint32(w+p,h<<8|v),p+=4;C++}x<o.length?(_=c,setTimeout(y,Fl._dly)):e(a)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var gt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Cd={[gt.CHROME]:16384,[gt.FIREFOX]:11180,[gt.DESKTOP_SAFARI]:16384,[gt.IE]:8192,[gt.IOS]:4096,[gt.ETC]:8192};const ls=typeof window<"u",Ll=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ni=ls&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),xd=(ls||Ll)&&(ni&&ni.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Pl=(ls||Ll)&&(ni&&ni.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function as(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let l=o.length;const u=new Uint8Array(l);for(;l--;)u[l]=o.charCodeAt(l);const f=new Blob([u],{type:s});f.name=e,f.lastModified=n,r(f)})}function Ul(t){return new Promise((e,n)=>{const r=new Pl;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function zl(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function hn(){if(hn.cachedResult!==void 0)return hn.cachedResult;let t=gt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=gt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=gt.IOS:/Safari/i.test(e)?t=gt.DESKTOP_SAFARI:/Firefox/i.test(e)?t=gt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=gt.IE),hn.cachedResult=t,hn.cachedResult}function Zl(t,e){const n=hn(),r=Cd[n];let i=t,s=e,o=i*s;const l=i>s?s/i:i/s;for(;o>r*r;){const u=(r+i)/2,f=(r+s)/2;u<f?(s=f,i=f*l):(s=u*l,i=u),o=i*s}return{width:i,height:s}}function mi(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function jl(t,e){const{width:n,height:r}=Zl(t.width,t.height),[i,s]=mi(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Or(){return Or.cachedResult!==void 0||(Or.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Or.cachedResult}function ri(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=jl(i,e.fileType||t.type),n([i,s])}catch(u){return r(u)}},l=function(u){try{var f=function(a){try{throw a}catch(d){return r(d)}};try{let a;return Ul(t).then(function(d){try{return a=d,zl(a).then(function(c){try{return i=c,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return f(p)}},f)}catch(c){return f(c)}},f)}catch(a){f(a)}}catch(a){return r(a)}};try{if(Or()||[gt.DESKTOP_SAFARI,gt.MOBILE_SAFARI].includes(hn()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(u){try{return i=u,o()}catch{return l()}},l)}catch{l()}})}function ii(t,e,n,r,i=1){return new Promise(function(s,o){let l;if(e==="image/png"){let d,c,p;return d=t.getContext("2d"),{data:c}=d.getImageData(0,0,t.width,t.height),p=Et.encode([c.buffer],t.width,t.height,4096*i),l=new Blob([p],{type:e}),l.name=n,l.lastModified=r,u.call(this)}{let d=function(){return u.call(this)};var f=d;if(e==="image/bmp")return new Promise(c=>Fl.toBlob(t,c)).then(function(c){try{return l=c,l.name=n,l.lastModified=r,d.call(this)}catch(p){return o(p)}}.bind(this),o);{let c=function(){return d.call(this)};var a=c;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then(function(p){try{return l=p,l.name=n,l.lastModified=r,c.call(this)}catch(h){return o(h)}}.bind(this),o);{let p;return p=t.toDataURL(e,i),as(p,n,r).then(function(h){try{return l=h,c.call(this)}catch(v){return o(v)}}.bind(this),o)}}}function u(){return s(l)}})}function Mt(t){t.width=0,t.height=0}function In(){return new Promise(function(t,e){let n,r,i,s;return In.cachedResult!==void 0?t(In.cachedResult):as("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,ri(n).then(function(l){try{return r=l[1],ii(r,n.type,n.name,n.lastModified).then(function(u){try{return i=u,Mt(r),ri(i).then(function(f){try{return s=f[0],In.cachedResult=s.width===1&&s.height===2,t(In.cachedResult)}catch(a){return e(a)}},e)}catch(f){return e(f)}},e)}catch(u){return e(u)}},e)}catch(l){return e(l)}},e)})}function Hl(t){return new Promise((e,n)=>{const r=new Pl;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let l=2;for(;l<o;){if(s.getUint16(l+2,!1)<=8)return e(-1);const u=s.getUint16(l,!1);if(l+=2,u==65505){if(s.getUint32(l+=2,!1)!=1165519206)return e(-1);const f=s.getUint16(l+=6,!1)==18761;l+=s.getUint32(l+4,f);const a=s.getUint16(l,f);l+=2;for(let d=0;d<a;d++)if(s.getUint16(l+12*d,f)==274)return e(s.getUint16(l+12*d+8,f))}else{if((65280&u)!=65280)break;l+=s.getUint16(l,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function Bl(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=mi(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),Mt(t)),o}function Vl(t,e){const{width:n}=t,{height:r}=t,[i,s]=mi(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Mt(t),i}function ro(t,e,n=0){return new Promise(function(r,i){let s,o,l,u,f,a,d,c,p,h,v,w,_,C,T,x,$,k,S,y;function b(O=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=O,e.onProgress(Math.min(s,100))}function I(O){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(O,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,l=1024*e.maxSizeMB*1024,b(),ri(t,e).then(function(O){try{return[,u]=O,b(),f=Bl(u,e),b(),new Promise(function(N,q){var M;if(!(M=e.exifOrientation))return Hl(t).then(function(A){try{return M=A,R.call(this)}catch(E){return q(E)}}.bind(this),q);function R(){return N(M)}return R.call(this)}).then(function(N){try{return a=N,b(),In().then(function(q){try{return d=q?f:Vl(f,a),b(),c=e.initialQuality||1,p=e.fileType||t.type,ii(d,p,t.name,t.lastModified,c).then(function(M){try{{let F=function(){if(o--&&(T>l||T>_)){let U,Y;return U=y?.95*S.width:S.width,Y=y?.95*S.height:S.height,[$,k]=mi(U,Y),k.drawImage(S,0,0,U,Y),c*=p==="image/png"?.85:.95,ii($,p,t.name,t.lastModified,c).then(function(B){try{return x=B,Mt(S),S=$,T=x.size,I(Math.min(99,Math.floor((C-T)/(C-l)*100))),F}catch(V){return i(V)}},i)}return[1]},L=function(){return Mt(S),Mt($),Mt(f),Mt(d),Mt(u),I(100),r(x)};var A=F,E=L;if(h=M,b(),v=h.size>l,w=h.size>t.size,!v&&!w)return I(100),r(h);var R;return _=t.size,C=h.size,T=C,S=d,y=!e.alwaysKeepResolution&&v,(R=function(U){for(;U;){if(U.then)return void U.then(R,i);try{if(U.pop){if(U.length)return U.pop()?L.call(this):U;U=F}else U=U.call(this)}catch(Y){return i(Y)}}}.bind(this))(F)}}catch(F){return i(F)}}.bind(this),i)}catch(M){return i(M)}}.bind(this),i)}catch(q){return i(q)}}.bind(this),i)}catch(N){return i(N)}}.bind(this),i)})}const Dd=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ai;function Sd(t,e){return new Promise((n,r)=>{Ai||(Ai=function(o){const l=[];return typeof o=="function"?l.push(`(${o})()`):l.push(o),URL.createObjectURL(new Blob(l))}(Dd));const i=new Worker(Ai);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function st(t,e){return new Promise(function(n,r){let i,s,o,l,u,f;if(i={...e},o=0,{onProgress:l}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{o=p,typeof l=="function"&&l(o)},!(t instanceof Blob||t instanceof xd))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||f)return ro(t,i).then(function(p){try{return s=p,c.call(this)}catch(h){return r(h)}}.bind(this),r);var a=function(){try{return c.call(this)}catch(p){return r(p)}}.bind(this),d=function(p){try{return ro(t,i).then(function(h){try{return s=h,a()}catch(v){return r(v)}},r)}catch(h){return r(h)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Sd(t,i).then(function(p){try{return s=p,a()}catch{return d()}},d)}catch{d()}function c(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=ql(t,s))}catch{}return n(s)}})}st.getDataUrlFromFile=Ul,st.getFilefromDataUrl=as,st.loadImage=zl,st.drawImageInCanvas=jl,st.drawFileInCanvas=ri,st.canvasToFile=ii,st.getExifOrientation=Hl,st.handleMaxWidthOrHeight=Bl,st.followExifOrientation=Vl,st.cleanupCanvasMemory=Mt,st.isAutoOrientationInBrowser=In,st.approximateBelowMaximumCanvasSizeOfBrowser=Zl,st.copyExifWithoutOrientation=ql,st.getBrowserName=hn,st.version="2.0.2";const Nn=Bt({}),qn=Bt([]),gi=Bt(null);function Id(){return new Promise(t=>{gi.set(t)})}function $d(){gi.update(t=>(t!==null&&t(null),null))}function Od(t){gi.update(e=>(e!==null&&e(t),null))}async function Md(t,e){const n=Gi(),r=await st(t,{maxSizeMB:.8,onProgress:e});if(r.size>=lc)throw Error("File is too large (max 15mb)");qn.update(i=>(i.push({uuid:n,name:t.name,size:t.size,blob:r}),i)),Wl(r,n)}async function Wl(t,e){const n=new FileReader;await new Promise((i,s)=>{n.onload=i,n.onerror=s,n.onabort=s,n.readAsDataURL(t)});const r=n.result;Nn.update(i=>(i[e]=r,i))}function Rd(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M180-120q-24 0-42-18t-18-42v-600q0-24 18-42t42-18h600q24 0 42 18t18 42v600q0 24-18 42t-42 18H180Zm0-60h600v-600H180v600Zm56-97h489L578-473 446-302l-93-127-117 152Zm-56 97v-600 600Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 -960 960 960"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#666666")},m(r,i){H(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&Z(e)}}}let Nd=class extends we{constructor(e){super(),be(this,e,null,Rd,ye,{})}};function io(t,e,n){const r=t.slice();return r[7]=e[n],r}function qd(t){let e,n;return e=new Nd({}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Fd(t){let e,n,r;return{c(){e=D("img"),m(e,"class","image svelte-n65hdz"),m(e,"data-fit",n=t[0].image.fit),Fn(e.src,r=t[2])||m(e,"src",r),m(e,"alt","Uploaded Content")},m(i,s){H(i,e,s)},p(i,s){s&1&&n!==(n=i[0].image.fit)&&m(e,"data-fit",n),s&4&&!Fn(e.src,r=i[2])&&m(e,"src",r)},i:Q,o:Q,d(i){i&&Z(e)}}}function so(t){let e,n=[],r=new Map,i=t[0].answers;const s=o=>o[7].id;for(let o=0;o<i.length;o+=1){let l=io(t,i,o),u=s(l);r.set(u,n[o]=oo(u,l))}return{c(){e=D("div");for(let o=0;o<n.length;o+=1)n[o].c();m(e,"class","answers svelte-n65hdz")},m(o,l){H(o,e,l);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null)},p(o,l){if(l&1){i=o[0].answers;for(let u=0;u<n.length;u+=1)n[u].r();n=vr(n,l,s,1,o,i,r,e,_a,oo,null,io);for(let u=0;u<n.length;u+=1)n[u].a()}},d(o){o&&Z(e);for(let l=0;l<n.length;l+=1)n[l].d()}}}function oo(t,e){let n,r,i,s=Q;return{key:t,first:null,c(){n=D("p"),m(n,"class","answer svelte-n65hdz"),m(n,"data-correct",r=e[7].correct),this.first=n},m(o,l){H(o,n,l)},p(o,l){e=o,l&1&&r!==(r=e[7].correct)&&m(n,"data-correct",r)},r(){i=n.getBoundingClientRect()},f(){_r(n),s()},a(){s(),s=gr(n,i,kr,{duration:250})},d(o){o&&Z(n)}}}function Ld(t){let e,n,r,i,s,o,l,u=t[1]+1+"",f,a,d=t[0].text+"",c,p,h,v,w;const _=[Fd,qd],C=[];function T($,k){return $[0].image!==null&&$[2]!==null?0:1}r=T(t),i=C[r]=_[r](t);let x=(t[0].ty==Ge.Single||t[0].ty==Ge.Multiple)&&so(t);return{c(){e=D("div"),n=D("div"),i.c(),s=P(),o=D("p"),l=D("span"),f=ee(u),a=P(),c=ee(d),p=P(),x&&x.c(),m(n,"class","image-wrapper svelte-n65hdz"),m(l,"class","question__index svelte-n65hdz"),m(o,"class","text svelte-n65hdz"),m(e,"class","question svelte-n65hdz"),Mr(e,"question--active",t[3]!==null&&t[3].id===t[0].id)},m($,k){H($,e,k),g(e,n),C[r].m(n,null),g(e,s),g(e,o),g(o,l),g(l,f),g(o,a),g(o,c),g(e,p),x&&x.m(e,null),h=!0,v||(w=[J(e,"click",t[4]),J(e,"keypress",t[5])],v=!0)},p($,[k]){let S=r;r=T($),r===S?C[r].p($,k):(qe(),G(C[S],1,1,()=>{C[S]=null}),Fe(),i=C[r],i?i.p($,k):(i=C[r]=_[r]($),i.c()),W(i,1),i.m(n,null)),(!h||k&2)&&u!==(u=$[1]+1+"")&&Se(f,u),(!h||k&1)&&d!==(d=$[0].text+"")&&Se(c,d),$[0].ty==Ge.Single||$[0].ty==Ge.Multiple?x?x.p($,k):(x=so($),x.c(),x.m(e,null)):x&&(x.d(1),x=null),(!h||k&9)&&Mr(e,"question--active",$[3]!==null&&$[3].id===$[0].id)},i($){h||(W(i),h=!0)},o($){G(i),h=!1},d($){$&&Z(e),C[r].d(),x&&x.d(),v=!1,Pe(w)}}}function Pd(t,e,n){let r,i;at(t,Nn,a=>n(6,r=a)),at(t,on,a=>n(3,i=a));let{question:s}=e,{index:o}=e,l=null;function u(){on.set(s)}function f(a){console.log(a.key),(a.key==="Return"||a.key=="Enter")&&u()}return t.$$set=a=>{"question"in a&&n(0,s=a.question),"index"in a&&n(1,o=a.index)},t.$$.update=()=>{if(t.$$.dirty&65&&s.image!==null){let a=r[s.image.uuid];a!==void 0?n(2,l=a):n(2,l=null)}},[s,o,l,i,u,f,r]}class Ud extends we{constructor(e){super(),be(this,e,Pd,Ld,ye,{question:0,index:1})}}function zd(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){H(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&Z(e)}}}class Gl extends we{constructor(e){super(),be(this,e,null,zd,ye,{})}}function Zd(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){H(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&Z(e)}}}class jd extends we{constructor(e){super(),be(this,e,null,Zd,ye,{})}}function Hd(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){H(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&Z(e)}}}class Bd extends we{constructor(e){super(),be(this,e,null,Hd,ye,{})}}function Vd(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M396-524 173-747q-9-9-9-21.5t9-21.5q8.311-8 21.156-8Q207-798 215-790l224 223-43 43Zm216 374q-12.75 0-21.375-8.675-8.625-8.676-8.625-21.5 0-12.825 8.625-21.325T612-210h95L523-393l42-43 186 184v-97q0-12.75 8.675-21.375 8.676-8.625 21.5-8.625 12.825 0 21.325 8.625T811-349v169q0 12.75-8.625 21.375T781-150H612Zm-440-21.5q-9-8.5-9-21t9-21.5l537-537h-97q-12.75 0-21.375-8.675-8.625-8.676-8.625-21.5 0-12.825 8.625-21.325T612-811h169q12.75 0 21.375 8.625T811-781v169q0 12.75-8.675 21.375-8.676 8.625-21.5 8.625-12.825 0-21.325-8.625T751-612v-96L214-171q-8.067 8-20.533 8Q181-163 172-171.5Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 -960 960 960"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(r,i){H(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&Z(e)}}}class Ql extends we{constructor(e){super(),be(this,e,null,Vd,ye,{})}}const Wd=pe.object({name:pe.string(),text:pe.string(),max_players:pe.number(),filtering:pe.string(),questions:pe.array(Du).min(1),images:pe.array(pe.object({uuid:pe.string().uuid(),name:pe.string(),size:pe.number(),type:pe.string(),data:pe.array(pe.number())}))});async function Gd(t){const e=await t.blob.arrayBuffer();return{uuid:t.uuid,name:t.name,size:t.size,type:t.blob.type,data:Array.from(new Uint8Array(e))}}async function Qd(t,e){const n=await Promise.all(e.map(Gd)),r={...t,images:n},i=JSON.stringify(r);return new Blob([i],{type:"application/json"})}async function Yd(t){const e=new FileReader;await new Promise((s,o)=>{e.onload=s,e.onerror=o,e.onabort=o,e.readAsText(t)});const n=e.result,r=JSON.parse(n),i=Wd.parse(r);for(const{data:s,uuid:o,name:l,type:u,size:f}of i.images){const a=new Uint8Array(s),d=new Blob([a.buffer],{type:u});qn.update(c=>(c.push({uuid:o,name:l,size:f,blob:d}),c.filter(p=>p.uuid!==o))),Wl(d,o)}return{name:i.name,text:i.text,max_players:i.max_players,filtering:i.filtering,questions:i.questions}}function Xd(t=void 0){const e=document.createElement("input");return e.type="file",e.hidden=!0,t!==void 0&&(e.accept=t),document.body.appendChild(e),new Promise((n,r)=>{e.onchange=()=>{if(e.files===null)return r();const i=e.files.item(0);n(i)},e.oncancel=()=>n(null),e.click(),document.body.removeChild(e)})}function Kd(t=void 0){const e=document.createElement("input");return e.type="file",e.multiple=!0,e.hidden=!0,t!==void 0&&(e.accept=t),new Promise((n,r)=>{document.body.appendChild(e),e.onchange=()=>{if(e.files===null)return r();n(e.files)},e.oncancel=()=>n(null),e.click(),document.body.removeChild(e)})}function Jd(t,e){const n=document.createElement("a");n.download=t.replace(/[ ^/]/g,"_"),n.href=URL.createObjectURL(e),n.dataset.downloadurl=["application/json",n.download,n.href].join(":"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function e1(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M546-80H414q-11 0-19.5-7T384-105l-16-101q-19-7-40-19t-37-25l-93 43q-11 5-22 1.5T159-220L93-337q-6-10-3-21t12-18l86-63q-2-9-2.5-20.5T185-480q0-9 .5-20.5T188-521l-86-63q-9-7-12-18t3-21l66-117q6-11 17-14.5t22 1.5l93 43q16-13 37-25t40-18l16-102q2-11 10.5-18t19.5-7h132q11 0 19.5 7t10.5 18l16 101q19 7 40.5 18.5T669-710l93-43q11-5 22-1.5t17 14.5l66 116q6 10 3.5 21.5T858-584l-86 61q2 10 2.5 21.5t.5 21.5q0 10-.5 21t-2.5 21l86 62q9 7 12 18t-3 21l-66 117q-6 11-17 14.5t-22-1.5l-93-43q-16 13-36.5 25.5T592-206l-16 101q-2 11-10.5 18T546-80Zm-66-270q54 0 92-38t38-92q0-54-38-92t-92-38q-54 0-92 38t-38 92q0 54 38 92t92 38Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 -960 960 960"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(r,i){H(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&Z(e)}}}class us extends we{constructor(e){super(),be(this,e,null,e1,ye,{})}}function t1(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){H(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&Z(e)}}}class Vn extends we{constructor(e){super(),be(this,e,null,t1,ye,{})}}function n1(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w,_,C,T,x,$,k,S,y,b,I,O,N,q,M,R,A,E,F,L,U,Y,B,V,z,j,re,he,Ee;return i=new Vn({}),{c(){e=D("div"),n=D("div"),r=D("button"),le(i.$$.fragment),s=ee(`
      Close`),o=P(),l=D("label"),u=D("span"),u.textContent="Title",f=P(),a=D("p"),a.innerHTML='Give your quiz a title <span class="optional svelte-hjxphc">Optional</span>',d=P(),c=D("input"),p=P(),h=D("label"),v=D("span"),v.textContent="Description",w=P(),_=D("p"),_.innerHTML='Description of your Quiz <span class="optional svelte-hjxphc">Optional</span>',C=P(),T=D("textarea"),x=P(),$=D("label"),k=D("span"),k.textContent="Max Players",S=P(),y=D("p"),y.textContent="Maximum number of players allowed to join this quiz",b=P(),I=D("input"),O=P(),N=D("label"),q=D("span"),q.textContent="Name Filtering",M=P(),R=D("p"),R.textContent=`Level of filtering on profane/inappropriate naming. Its recommended that
        you leave this on Medium or High`,A=P(),E=D("select"),F=D("option"),L=ee("None: Don't filter names"),U=D("option"),Y=ee("Low: Filter out more severe names"),B=D("option"),V=ee(`Medium: Filter out anything thats not mild
        `),z=D("option"),j=ee("High: Filter out as much as possible"),m(r,"class","btn btn--icon btn--surface"),m(u,"class","field__name svelte-hjxphc"),m(a,"class","field__desc svelte-hjxphc"),m(c,"class","input svelte-hjxphc"),m(c,"type","text"),m(c,"maxlength",ju),m(l,"class","field svelte-hjxphc"),m(v,"class","field__name svelte-hjxphc"),m(_,"class","field__desc svelte-hjxphc"),m(T,"class","input input--desc svelte-hjxphc"),m(T,"name",""),m(T,"id",""),m(T,"cols","30"),m(T,"rows","5"),m(T,"maxlength",Hu),m(h,"class","field svelte-hjxphc"),m(k,"class","field__name svelte-hjxphc"),m(y,"class","field__desc svelte-hjxphc"),m(I,"class","input svelte-hjxphc"),m(I,"type","number"),m(I,"min",oc),m(I,"max",cl),m($,"class","field svelte-hjxphc"),m(q,"class","field__name svelte-hjxphc"),m(R,"class","field__desc svelte-hjxphc"),F.__value=Dn.None,F.value=F.__value,U.__value=Dn.Low,U.value=U.__value,B.__value=Dn.Medium,B.value=B.__value,z.__value=Dn.High,z.value=z.__value,m(E,"class","input svelte-hjxphc"),t[1].filtering===void 0&&Ze(()=>t[6].call(E)),m(N,"class","field svelte-hjxphc"),m(n,"class","dialog svelte-hjxphc"),m(e,"class","floating-wrapper svelte-hjxphc")},m(ue,ge){H(ue,e,ge),g(e,n),g(n,r),se(i,r,null),g(r,s),g(n,o),g(n,l),g(l,u),g(l,f),g(l,a),g(l,d),g(l,c),Oe(c,t[1].name),g(n,p),g(n,h),g(h,v),g(h,w),g(h,_),g(h,C),g(h,T),Oe(T,t[1].text),g(n,x),g(n,$),g($,k),g($,S),g($,y),g($,b),g($,I),Oe(I,t[1].max_players),g(n,O),g(n,N),g(N,q),g(N,M),g(N,R),g(N,A),g(N,E),g(E,F),g(F,L),g(E,U),g(U,Y),g(E,B),g(B,V),g(E,z),g(z,j),Nt(E,t[1].filtering,!0),re=!0,he||(Ee=[J(r,"click",t[2]),J(c,"input",t[3]),J(T,"input",t[4]),J(I,"input",t[5]),J(E,"change",t[6])],he=!0)},p(ue,[ge]){ge&2&&c.value!==ue[1].name&&Oe(c,ue[1].name),ge&2&&Oe(T,ue[1].text),ge&2&&Xe(I.value)!==ue[1].max_players&&Oe(I,ue[1].max_players),ge&2&&Nt(E,ue[1].filtering)},i(ue){re||(W(i.$$.fragment,ue),re=!0)},o(ue){G(i.$$.fragment,ue),re=!1},d(ue){ue&&Z(e),oe(i),he=!1,Pe(Ee)}}}function r1(t,e,n){let r;at(t,ct,a=>n(1,r=a));let{visible:i}=e;const s=()=>n(0,i=!1);function o(){r.name=this.value,ct.set(r)}function l(){r.text=this.value,ct.set(r)}function u(){r.max_players=Xe(this.value),ct.set(r)}function f(){r.filtering=Jn(this),ct.set(r)}return t.$$set=a=>{"visible"in a&&n(0,i=a.visible)},[i,r,s,o,l,u,f]}class i1 extends we{constructor(e){super(),be(this,e,r1,n1,ye,{visible:0})}}function lo(t,e,n){const r=t.slice();return r[14]=e[n],r}function ao(t,e,n){const r=t.slice();return r[17]=e[n],r}function uo(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w,_,C,T,x=t[2].length<1&&t[0].length<1&&co(),$=t[2],k=[];for(let b=0;b<$.length;b+=1)k[b]=fo(ao(t,$,b));let S=t[0],y=[];for(let b=0;b<S.length;b+=1)y[b]=po(lo(t,S,b));return d=new Gl({}),{c(){e=D("div"),n=D("div"),r=D("div"),x&&x.c(),i=P();for(let b=0;b<k.length;b+=1)k[b].c();s=P();for(let b=0;b<y.length;b+=1)y[b].c();o=P(),l=D("div"),u=D("button"),u.textContent="Close",f=P(),a=D("button"),le(d.$$.fragment),c=ee(`
          Upload Images`),p=P(),h=D("button"),v=ee("Delete All Images"),m(r,"class","images svelte-jdx2r3"),m(u,"class","btn btn--surface"),m(a,"class","btn btn--icon btn--surface"),m(h,"class","btn btn--surface"),h.disabled=w=t[2].length===0,m(l,"class","actions btn-row btn-row--fill svelte-jdx2r3"),m(n,"class","dialog svelte-jdx2r3"),m(e,"class","wrapper svelte-jdx2r3")},m(b,I){H(b,e,I),g(e,n),g(n,r),x&&x.m(r,null),g(r,i);for(let O=0;O<k.length;O+=1)k[O]&&k[O].m(r,null);g(r,s);for(let O=0;O<y.length;O+=1)y[O]&&y[O].m(r,null);g(n,o),g(n,l),g(l,u),g(l,f),g(l,a),se(d,a,null),g(a,c),g(l,p),g(l,h),g(h,v),_=!0,C||(T=[J(u,"click",$d),J(a,"click",t[4]),J(h,"click",t[7]),J(n,"drop",t[5]),J(n,"dragover",c1)],C=!0)},p(b,I){if(b[2].length<1&&b[0].length<1?x||(x=co(),x.c(),x.m(r,i)):x&&(x.d(1),x=null),I&76){$=b[2];let O;for(O=0;O<$.length;O+=1){const N=ao(b,$,O);k[O]?k[O].p(N,I):(k[O]=fo(N),k[O].c(),k[O].m(r,s))}for(;O<k.length;O+=1)k[O].d(1);k.length=$.length}if(I&1){S=b[0];let O;for(O=0;O<S.length;O+=1){const N=lo(b,S,O);y[O]?y[O].p(N,I):(y[O]=po(N),y[O].c(),y[O].m(r,null))}for(;O<y.length;O+=1)y[O].d(1);y.length=S.length}(!_||I&4&&w!==(w=b[2].length===0))&&(h.disabled=w)},i(b){_||(W(d.$$.fragment,b),_=!0)},o(b){G(d.$$.fragment,b),_=!1},d(b){b&&Z(e),x&&x.d(),Ln(k,b),Ln(y,b),oe(d),C=!1,Pe(T)}}}function co(t){let e;return{c(){e=D("p"),e.textContent="Click upload or drag and drop files here to upload",m(e,"class","images__text svelte-jdx2r3")},m(n,r){H(n,e,r)},d(n){n&&Z(e)}}}function s1(t){let e;return{c(){e=D("span"),e.textContent="Preview loading.."},m(n,r){H(n,e,r)},p:Q,d(n){n&&Z(e)}}}function o1(t){let e,n;return{c(){e=D("img"),m(e,"class","image svelte-jdx2r3"),Fn(e.src,n=t[3][t[17].uuid])||m(e,"src",n),m(e,"alt","Preview")},m(r,i){H(r,e,i)},p(r,i){i&12&&!Fn(e.src,n=r[3][r[17].uuid])&&m(e,"src",n)},d(r){r&&Z(e)}}}function fo(t){let e,n,r=t[17].name+"",i,s,o,l,u,f=xs(t[17].size)+"",a,d,c,p,h,v,w,_;function C(S,y){return S[3][S[17].uuid]!==void 0?o1:s1}let T=C(t),x=T(t);function $(){return t[8](t[17])}function k(){return t[9](t[17])}return{c(){e=D("div"),n=D("p"),i=ee(r),s=P(),o=D("div"),x.c(),l=P(),u=D("p"),a=ee(f),d=P(),c=D("div"),p=D("button"),p.textContent="Select",h=P(),v=D("button"),v.textContent="Delete",m(n,"class","file__name svelte-jdx2r3"),m(o,"class","image-wrapper svelte-jdx2r3"),m(p,"class","btn btn--small"),m(v,"class","btn btn--small"),m(c,"class","file__actions svelte-jdx2r3"),m(e,"class","file svelte-jdx2r3")},m(S,y){H(S,e,y),g(e,n),g(n,i),g(e,s),g(e,o),x.m(o,null),g(e,l),g(e,u),g(u,a),g(e,d),g(e,c),g(c,p),g(c,h),g(c,v),w||(_=[J(p,"click",$),J(v,"click",k)],w=!0)},p(S,y){t=S,y&4&&r!==(r=t[17].name+"")&&Se(i,r),T===(T=C(t))&&x?x.p(t,y):(x.d(1),x=T(t),x&&(x.c(),x.m(o,null))),y&4&&f!==(f=xs(t[17].size)+"")&&Se(a,f)},d(S){S&&Z(e),x.d(),w=!1,Pe(_)}}}function l1(t){let e,n,r=t[14].progress+"",i;return{c(){e=D("p"),n=ee("Progress: "),i=ee(r)},m(s,o){H(s,e,o),g(e,n),g(e,i)},p(s,o){o&1&&r!==(r=s[14].progress+"")&&Se(i,r)},d(s){s&&Z(e)}}}function a1(t){let e,n=t[14].error+"",r;return{c(){e=D("p"),r=ee(n),m(e,"class","error svelte-jdx2r3")},m(i,s){H(i,e,s),g(e,r)},p(i,s){s&1&&n!==(n=i[14].error+"")&&Se(r,n)},d(i){i&&Z(e)}}}function po(t){let e,n,r=t[14].name+"",i,s,o;function l(a,d){return a[14].error?a1:l1}let u=l(t),f=u(t);return{c(){e=D("div"),n=D("p"),i=ee(r),s=P(),f.c(),o=P(),m(e,"class","file svelte-jdx2r3")},m(a,d){H(a,e,d),g(e,n),g(n,i),g(e,s),f.m(e,null),g(e,o)},p(a,d){d&1&&r!==(r=a[14].name+"")&&Se(i,r),u===(u=l(a))&&f?f.p(a,d):(f.d(1),f=u(a),f&&(f.c(),f.m(e,o)))},d(a){a&&Z(e),f.d()}}}function u1(t){let e,n,r=t[1]&&uo(t);return{c(){r&&r.c(),e=$t()},m(i,s){r&&r.m(i,s),H(i,e,s),n=!0},p(i,[s]){i[1]?r?(r.p(i,s),s&2&&W(r,1)):(r=uo(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(qe(),G(r,1,1,()=>{r=null}),Fe())},i(i){n||(W(r),n=!0)},o(i){G(r),n=!1},d(i){r&&r.d(i),i&&Z(e)}}}function c1(t){t.stopPropagation(),t.preventDefault()}function f1(t,e,n){let r,i,s;at(t,gi,_=>n(1,r=_)),at(t,qn,_=>n(2,i=_)),at(t,Nn,_=>n(3,s=_));let o=[];async function l(){const _=await Kd("image/*");_!==null&&f(_)}function u(_){_.stopPropagation(),_.preventDefault();const C=_.dataTransfer;if(C===null)return;const T=C.files;T!==null&&f(T)}function f(_){for(const C of _)o.push({name:C.name,progress:0,error:null}),n(0,o),Md(C,T=>{c(C.name,T)}).then(()=>a(C)).catch(T=>d(C,T))}function a(_){n(0,o=o.filter(C=>C.name!==_.name))}function d(_,C){n(0,o=o.map(T=>(T.name===_.name&&(T.error=C.message),T)))}function c(_,C){n(0,o=o.map(T=>(T.name===_&&(T.progress=C),T)))}function p(_){qn.update(C=>C.filter(T=>T.uuid!==_.uuid)),Nn.update(C=>(delete C[_.uuid],C))}async function h(){await Wo("Confirm Deletion","Are you sure you want to delete all the uploaded files?")&&(qn.set([]),Nn.set({}),n(0,o=[]))}return[o,r,i,s,l,u,p,h,_=>Od(_),_=>p(_)]}class d1 extends we{constructor(e){super(),be(this,e,f1,u1,ye,{})}}function ho(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w,_,C;return{c(){e=D("label"),n=D("span"),n.textContent="Image Fit",r=P(),i=D("p"),i.textContent="Decide how the image should be best fit for the player screens,",s=P(),o=D("p"),o.textContent=`It's recommended that you use "Contain" if the full image content is
          important to be visible`,l=P(),u=D("select"),f=D("option"),a=ee("Contain: Fit the entire image"),d=D("option"),c=ee("Cover: Fill the available space"),p=D("option"),h=ee(`Fill Width: Fill available width
          `),v=D("option"),w=ee("Fill Height: Fill available height"),m(n,"class","field__name svelte-1c3glip"),m(i,"class","field__desc svelte-1c3glip"),m(o,"class","field__desc svelte-1c3glip"),f.__value=Sn.Contain,f.value=f.__value,d.__value=Sn.Cover,d.value=d.__value,p.__value=Sn.Width,p.value=p.__value,v.__value=Sn.Height,v.value=v.__value,m(u,"class","input svelte-1c3glip"),t[0].image.fit===void 0&&Ze(()=>t[3].call(u)),m(e,"class","field svelte-1c3glip")},m(T,x){H(T,e,x),g(e,n),g(e,r),g(e,i),g(e,s),g(e,o),g(e,l),g(e,u),g(u,f),g(f,a),g(u,d),g(d,c),g(u,p),g(p,h),g(u,v),g(v,w),Nt(u,t[0].image.fit,!0),_||(C=J(u,"change",t[3]),_=!0)},p(T,x){x&1&&Nt(u,T[0].image.fit)},d(T){T&&Z(e),_=!1,C()}}}function p1(t){let e,n,r,i,s,o,l,u,f;i=new Vn({});let a=t[0].image!==null&&ho(t);return{c(){e=D("div"),n=D("div"),r=D("button"),le(i.$$.fragment),s=ee(`
      Close`),o=P(),a&&a.c(),m(r,"class","btn btn--icon btn--surface"),m(n,"class","dialog svelte-1c3glip"),m(e,"class","floating-wrapper svelte-1c3glip")},m(d,c){H(d,e,c),g(e,n),g(n,r),se(i,r,null),g(r,s),g(n,o),a&&a.m(n,null),l=!0,u||(f=J(r,"click",t[2]),u=!0)},p(d,[c]){d[0].image!==null?a?a.p(d,c):(a=ho(d),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i(d){l||(W(i.$$.fragment,d),l=!0)},o(d){G(i.$$.fragment,d),l=!1},d(d){d&&Z(e),oe(i),a&&a.d(),u=!1,f()}}}function h1(t,e,n){let{question:r}=e,{visible:i}=e;const s=()=>n(1,i=!1);function o(){r.image.fit=Jn(this),n(0,r)}return t.$$set=l=>{"question"in l&&n(0,r=l.question),"visible"in l&&n(1,i=l.visible)},[r,i,s,o]}class m1 extends we{constructor(e){super(),be(this,e,h1,p1,ye,{question:0,visible:1})}}function g1(t){let e,n,r;return{c(){e=D("button"),e.textContent="Pick Image",m(e,"class","add svelte-s58787")},m(i,s){H(i,e,s),n||(r=J(e,"click",t[3]),n=!0)},p:Q,i:Q,o:Q,d(i){i&&Z(e),n=!1,r()}}}function _1(t){let e,n,r,i,s,o,l,u,f,a,d;return u=new us({}),{c(){e=D("img"),i=P(),s=D("button"),s.textContent="Click to remove",o=P(),l=D("button"),le(u.$$.fragment),m(e,"class","image svelte-s58787"),m(e,"data-fit",n=t[0].image.fit),Fn(e.src,r=t[1])||m(e,"src",r),m(e,"alt","Uploaded Content"),m(s,"class","overlay svelte-s58787"),m(l,"class","btn btn--icon btn--icon-only settings svelte-s58787")},m(c,p){H(c,e,p),H(c,i,p),H(c,s,p),H(c,o,p),H(c,l,p),se(u,l,null),f=!0,a||(d=[J(s,"click",t[4]),J(l,"click",t[6])],a=!0)},p(c,p){(!f||p&1&&n!==(n=c[0].image.fit))&&m(e,"data-fit",n),(!f||p&2&&!Fn(e.src,r=c[1]))&&m(e,"src",r)},i(c){f||(W(u.$$.fragment,c),f=!0)},o(c){G(u.$$.fragment,c),f=!1},d(c){c&&Z(e),c&&Z(i),c&&Z(s),c&&Z(o),c&&Z(l),oe(u),a=!1,Pe(d)}}}function mo(t){let e,n,r,i;function s(u){t[7](u)}function o(u){t[8](u)}let l={};return t[0]!==void 0&&(l.question=t[0]),t[2]!==void 0&&(l.visible=t[2]),e=new m1({props:l}),it.push(()=>pt(e,"question",s)),it.push(()=>pt(e,"visible",o)),{c(){le(e.$$.fragment)},m(u,f){se(e,u,f),i=!0},p(u,f){const a={};!n&&f&1&&(n=!0,a.question=u[0],dt(()=>n=!1)),!r&&f&4&&(r=!0,a.visible=u[2],dt(()=>r=!1)),e.$set(a)},i(u){i||(W(e.$$.fragment,u),i=!0)},o(u){G(e.$$.fragment,u),i=!1},d(u){oe(e,u)}}}function v1(t){let e,n,r,i,s,o,l;const u=[_1,g1],f=[];function a(c,p){return c[0].image!==null&&c[1]?0:1}n=a(t),r=f[n]=u[n](t);let d=t[2]&&mo(t);return o=new d1({}),{c(){e=D("div"),r.c(),i=P(),d&&d.c(),s=P(),le(o.$$.fragment),m(e,"tabindex","0"),m(e,"role","button"),m(e,"class","wrapper svelte-s58787")},m(c,p){H(c,e,p),f[n].m(e,null),H(c,i,p),d&&d.m(c,p),H(c,s,p),se(o,c,p),l=!0},p(c,[p]){let h=n;n=a(c),n===h?f[n].p(c,p):(qe(),G(f[h],1,1,()=>{f[h]=null}),Fe(),r=f[n],r?r.p(c,p):(r=f[n]=u[n](c),r.c()),W(r,1),r.m(e,null)),c[2]?d?(d.p(c,p),p&4&&W(d,1)):(d=mo(c),d.c(),W(d,1),d.m(s.parentNode,s)):d&&(qe(),G(d,1,1,()=>{d=null}),Fe())},i(c){l||(W(r),W(d),W(o.$$.fragment,c),l=!0)},o(c){G(r),G(d),G(o.$$.fragment,c),l=!1},d(c){c&&Z(e),f[n].d(),c&&Z(i),d&&d.d(c),c&&Z(s),oe(o,c)}}}function y1(t,e,n){let r;at(t,Nn,c=>n(5,r=c));let{question:i}=e,s=null,o=!1;async function l(){let c=await Id();c!==null&&n(0,i.image={uuid:c.uuid,fit:Sn.Contain},i)}function u(c){c.stopPropagation(),n(0,i.image=null,i),n(1,s=null)}const f=()=>n(2,o=!0);function a(c){i=c,n(0,i)}function d(c){o=c,n(2,o)}return t.$$set=c=>{"question"in c&&n(0,i=c.question)},t.$$.update=()=>{if(t.$$.dirty&33&&i.image!==null){let c=r[i.image.uuid];c!==void 0?n(1,s=c):n(1,s=null)}},[i,s,o,l,u,r,f,a,d]}class b1 extends we{constructor(e){super(),be(this,e,y1,v1,ye,{question:0})}}function w1(t){let e,n,r,i,s,o,l,u,f,a,d,c;return{c(){e=D("div"),n=D("input"),s=P(),o=D("select"),l=D("option"),u=ee("Minutes"),f=D("option"),a=ee("Seconds"),m(n,"class","input svelte-t6875b"),m(n,"type","number"),m(n,"min",r=t[5](t[0])),m(n,"max",i=t[5](t[1])),l.__value=t[4].Minutes,l.value=l.__value,f.__value=t[4].Seconds,f.value=f.__value,m(o,"class","select svelte-t6875b"),t[2]===void 0&&Ze(()=>t[9].call(o))},m(p,h){H(p,e,h),g(e,n),Oe(n,t[3]),g(e,s),g(e,o),g(o,l),g(l,u),g(o,f),g(f,a),Nt(o,t[2],!0),d||(c=[J(n,"input",t[8]),J(n,"change",t[6]),J(o,"change",t[9]),J(o,"change",t[6])],d=!0)},p(p,[h]){h&1&&r!==(r=p[5](p[0]))&&m(n,"min",r),h&2&&i!==(i=p[5](p[1]))&&m(n,"max",i),h&8&&Xe(n.value)!==p[3]&&Oe(n,p[3]),h&20&&Nt(o,p[2])},i:Q,o:Q,d(p){p&&Z(e),d=!1,Pe(c)}}}function k1(t,e,n){let{value:r}=e,{min:i}=e,{max:s}=e;var o=(h=>(h[h.Seconds=0]="Seconds",h[h.Minutes=1]="Minutes",h))(o||{});let l=0,u=a(r);function f(h){return l==0?h*1e3:l==1?h*1e3*60:h}function a(h){return l==0?h/1e3:l==1?h/60/1e3:h}function d(){if(u<1)n(3,u=1);else{let h=f(u);h>s?h=s:h<i&&(h=i),n(3,u=a(h)),n(7,r=h)}}function c(){u=Xe(this.value),n(3,u)}function p(){l=Jn(this),n(2,l),n(4,o)}return t.$$set=h=>{"value"in h&&n(7,r=h.value),"min"in h&&n(0,i=h.min),"max"in h&&n(1,s=h.max)},[i,s,l,u,o,a,d,r,c,p]}class go extends we{constructor(e){super(),be(this,e,k1,w1,ye,{value:7,min:0,max:1})}}function E1(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w,_,C,T,x,$,k,S,y,b,I,O,N,q,M,R,A,E,F,L,U,Y,B,V,z,j,re,he,Ee,ue,ge,Ce,_e,We,Je,Ie,Ae,de,xe,Ue,Me,De,je,K;i=new Vn({});function ie(ve){t[3](ve)}let Re={min:Ku,max:Ju};t[0].answer_time!==void 0&&(Re.value=t[0].answer_time),C=new go({props:Re}),it.push(()=>pt(C,"value",ie));function Qe(ve){t[4](ve)}let ln={min:ic,max:sc};return t[0].bonus_score_time!==void 0&&(ln.value=t[0].bonus_score_time),I=new go({props:ln}),it.push(()=>pt(I,"value",Qe)),{c(){e=D("div"),n=D("div"),r=D("button"),le(i.$$.fragment),s=ee(`
      Close`),o=P(),l=D("div"),u=D("h2"),u.textContent="Timing",f=P(),a=D("p"),a.textContent="Below you can configuring the timing for different events",d=P(),c=D("div"),p=D("div"),h=D("span"),h.textContent="Answer Time",v=P(),w=D("p"),w.textContent="Time the players have to answer the question",_=P(),le(C.$$.fragment),x=P(),$=D("div"),k=D("span"),k.textContent="Bonus Score Time",S=P(),y=D("p"),y.textContent="Time the players must answer within for bonus scores",b=P(),le(I.$$.fragment),N=P(),q=D("div"),M=D("h2"),M.textContent="Scoring",R=P(),A=D("p"),A.textContent=`Score is awarded to players based on how quickly the player answers the
        question. You can configure the minimum and maximum values for this
        below`,E=P(),F=D("div"),L=D("label"),U=D("span"),U.textContent="Min Score",Y=P(),B=D("p"),B.textContent="The minimum amount of score to award for this question",V=P(),z=D("input"),re=P(),he=D("label"),Ee=D("span"),Ee.textContent="Max Score",ue=P(),ge=D("p"),ge.textContent="The maximum amount of score to award for this question",Ce=P(),_e=D("input"),Je=P(),Ie=D("label"),Ae=D("span"),Ae.textContent="Bonus Score",de=P(),xe=D("p"),xe.textContent="The amount of score to add for being within the bonus time",Ue=P(),Me=D("input"),m(r,"class","btn btn--icon btn--surface"),m(u,"class","group__title svelte-18o3u7w"),m(a,"class","group__desc svelte-18o3u7w"),m(h,"class","field__name svelte-18o3u7w"),m(w,"class","field__desc svelte-18o3u7w"),m(p,"class","field svelte-18o3u7w"),m(k,"class","field__name svelte-18o3u7w"),m(y,"class","field__desc svelte-18o3u7w"),m($,"class","field svelte-18o3u7w"),m(c,"class","group__value field-group"),m(l,"class","group"),m(M,"class","group__title svelte-18o3u7w"),m(A,"class","group__desc svelte-18o3u7w"),m(U,"class","field__name svelte-18o3u7w"),m(B,"class","field__desc svelte-18o3u7w"),m(z,"class","input svelte-18o3u7w"),m(z,"type","number"),m(z,"min",Es),m(z,"max",j=t[0].scoring.max_score),m(L,"class","field svelte-18o3u7w"),m(Ee,"class","field__name svelte-18o3u7w"),m(ge,"class","field__desc svelte-18o3u7w"),m(_e,"class","input svelte-18o3u7w"),m(_e,"type","number"),m(_e,"min",We=t[0].scoring.min_score),m(_e,"max",nc),m(he,"class","field svelte-18o3u7w"),m(Ae,"class","field__name svelte-18o3u7w"),m(xe,"class","field__desc svelte-18o3u7w"),m(Me,"class","input svelte-18o3u7w"),m(Me,"type","number"),m(Me,"min",Es),m(Me,"max",rc),m(Ie,"class","field svelte-18o3u7w"),m(F,"class","group__value field-group"),m(q,"class","group"),m(n,"class","dialog svelte-18o3u7w"),m(e,"class","floating-wrapper svelte-18o3u7w")},m(ve,et){H(ve,e,et),g(e,n),g(n,r),se(i,r,null),g(r,s),g(n,o),g(n,l),g(l,u),g(l,f),g(l,a),g(l,d),g(l,c),g(c,p),g(p,h),g(p,v),g(p,w),g(p,_),se(C,p,null),g(c,x),g(c,$),g($,k),g($,S),g($,y),g($,b),se(I,$,null),g(n,N),g(n,q),g(q,M),g(q,R),g(q,A),g(q,E),g(q,F),g(F,L),g(L,U),g(L,Y),g(L,B),g(L,V),g(L,z),Oe(z,t[0].scoring.min_score),g(F,re),g(F,he),g(he,Ee),g(he,ue),g(he,ge),g(he,Ce),g(he,_e),Oe(_e,t[0].scoring.max_score),g(F,Je),g(F,Ie),g(Ie,Ae),g(Ie,de),g(Ie,xe),g(Ie,Ue),g(Ie,Me),Oe(Me,t[0].scoring.bonus_score),De=!0,je||(K=[J(r,"click",t[2]),J(z,"input",t[5]),J(_e,"input",t[6]),J(Me,"input",t[7])],je=!0)},p(ve,[et]){const Ye={};!T&&et&1&&(T=!0,Ye.value=ve[0].answer_time,dt(()=>T=!1)),C.$set(Ye);const mt={};!O&&et&1&&(O=!0,mt.value=ve[0].bonus_score_time,dt(()=>O=!1)),I.$set(mt),(!De||et&1&&j!==(j=ve[0].scoring.max_score))&&m(z,"max",j),et&1&&Xe(z.value)!==ve[0].scoring.min_score&&Oe(z,ve[0].scoring.min_score),(!De||et&1&&We!==(We=ve[0].scoring.min_score))&&m(_e,"min",We),et&1&&Xe(_e.value)!==ve[0].scoring.max_score&&Oe(_e,ve[0].scoring.max_score),et&1&&Xe(Me.value)!==ve[0].scoring.bonus_score&&Oe(Me,ve[0].scoring.bonus_score)},i(ve){De||(W(i.$$.fragment,ve),W(C.$$.fragment,ve),W(I.$$.fragment,ve),De=!0)},o(ve){G(i.$$.fragment,ve),G(C.$$.fragment,ve),G(I.$$.fragment,ve),De=!1},d(ve){ve&&Z(e),oe(i),oe(C),oe(I),je=!1,Pe(K)}}}function A1(t,e,n){let{question:r}=e,{visible:i}=e;const s=()=>n(1,i=!1);function o(d){t.$$.not_equal(r.answer_time,d)&&(r.answer_time=d,n(0,r))}function l(d){t.$$.not_equal(r.bonus_score_time,d)&&(r.bonus_score_time=d,n(0,r))}function u(){r.scoring.min_score=Xe(this.value),n(0,r)}function f(){r.scoring.max_score=Xe(this.value),n(0,r)}function a(){r.scoring.bonus_score=Xe(this.value),n(0,r)}return t.$$set=d=>{"question"in d&&n(0,r=d.question),"visible"in d&&n(1,i=d.visible)},[r,i,s,o,l,u,f,a]}class T1 extends we{constructor(e){super(),be(this,e,A1,E1,ye,{question:0,visible:1})}}function _o(t,e,n){const r=t.slice();return r[12]=e[n],r}function vo(t,e,n){const r=t.slice();return r[12]=e[n],r}function yo(t){let e,n=t[12]+"",r,i,s=Cu[t[12]]+"",o;return{c(){e=D("option"),r=ee(n),i=ee(" Choice: "),o=ee(s),e.__value=t[12],e.value=e.__value},m(l,u){H(l,e,u),g(e,r),g(e,i),g(e,o)},p:Q,d(l){l&&Z(e)}}}function bo(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w,_,C,T,x,$,k,S,y,b,I,O,N=Object.values(Kt),q=[];for(let R=0;R<N.length;R+=1)q[R]=wo(_o(t,N,R));let M=t[0].marking.ty===Kt.Partial&&ko(t);return{c(){e=D("div"),n=D("p"),n.textContent="Marking type",r=P(),i=D("p"),i.textContent="How the question should be marked",s=P(),o=D("select");for(let R=0;R<q.length;R+=1)q[R].c();l=P(),u=D("label"),f=D("span"),f.textContent="Min",a=P(),d=D("p"),d.textContent=`The minimum number of answers the players must choose to submit their
          answer`,c=P(),p=D("input"),v=P(),w=D("label"),_=D("span"),_.textContent="Max",C=P(),T=D("p"),T.textContent="The maximum number of answers the players can choose",x=P(),$=D("input"),y=P(),M&&M.c(),b=$t(),m(n,"class","field__name svelte-16jh8zv"),m(i,"class","field__desc svelte-16jh8zv"),m(o,"class","input svelte-16jh8zv"),t[0].marking.ty===void 0&&Ze(()=>t[6].call(o)),m(e,"class","field svelte-16jh8zv"),m(f,"class","field__name svelte-16jh8zv"),m(d,"class","field__desc svelte-16jh8zv"),m(p,"class","input svelte-16jh8zv"),m(p,"type","number"),m(p,"min",1),m(p,"max",h=t[0].answers.length),m(u,"class","field svelte-16jh8zv"),m(_,"class","field__name svelte-16jh8zv"),m(T,"class","field__desc svelte-16jh8zv"),m($,"class","input svelte-16jh8zv"),m($,"type","number"),m($,"min",k=t[0].min),m($,"max",S=t[0].answers.length),m(w,"class","field svelte-16jh8zv")},m(R,A){H(R,e,A),g(e,n),g(e,r),g(e,i),g(e,s),g(e,o);for(let E=0;E<q.length;E+=1)q[E]&&q[E].m(o,null);Nt(o,t[0].marking.ty,!0),H(R,l,A),H(R,u,A),g(u,f),g(u,a),g(u,d),g(u,c),g(u,p),Oe(p,t[0].min),H(R,v,A),H(R,w,A),g(w,_),g(w,C),g(w,T),g(w,x),g(w,$),Oe($,t[0].max),H(R,y,A),M&&M.m(R,A),H(R,b,A),I||(O=[J(o,"change",t[6]),J(o,"change",t[3]),J(p,"input",t[7]),J($,"input",t[8])],I=!0)},p(R,A){if(A&0){N=Object.values(Kt);let E;for(E=0;E<N.length;E+=1){const F=_o(R,N,E);q[E]?q[E].p(F,A):(q[E]=wo(F),q[E].c(),q[E].m(o,null))}for(;E<q.length;E+=1)q[E].d(1);q.length=N.length}A&1&&Nt(o,R[0].marking.ty),A&1&&h!==(h=R[0].answers.length)&&m(p,"max",h),A&1&&Xe(p.value)!==R[0].min&&Oe(p,R[0].min),A&1&&k!==(k=R[0].min)&&m($,"min",k),A&1&&S!==(S=R[0].answers.length)&&m($,"max",S),A&1&&Xe($.value)!==R[0].max&&Oe($,R[0].max),R[0].marking.ty===Kt.Partial?M?M.p(R,A):(M=ko(R),M.c(),M.m(b.parentNode,b)):M&&(M.d(1),M=null)},d(R){R&&Z(e),Ln(q,R),R&&Z(l),R&&Z(u),R&&Z(v),R&&Z(w),R&&Z(y),M&&M.d(R),R&&Z(b),I=!1,Pe(O)}}}function wo(t){let e,n=t[12]+"",r,i,s=xu[t[12]]+"",o;return{c(){e=D("option"),r=ee(n),i=ee(": "),o=ee(s),e.__value=t[12],e.value=e.__value},m(l,u){H(l,e,u),g(e,r),g(e,i),g(e,o)},p:Q,d(l){l&&Z(e)}}}function ko(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w,_,C;return{c(){e=D("label"),n=D("span"),n.textContent="Required for partial",r=P(),i=D("p"),i.textContent=`The minimum number of correct answers to be considered a partially
            correct answer (Less than this will be considered Incorrect)`,s=P(),o=D("input"),u=P(),f=D("label"),a=D("span"),a.textContent="Required for correct",d=P(),c=D("p"),c.textContent=`The number of correct answers to be considered a completely correct
            answer (Greater than or equal to this will be considered Correct)`,p=P(),h=D("input"),m(n,"class","field__name svelte-16jh8zv"),m(i,"class","field__desc svelte-16jh8zv"),m(o,"class","input svelte-16jh8zv"),m(o,"type","number"),m(o,"min",1),m(o,"max",l=t[0].answers.length),m(e,"class","field svelte-16jh8zv"),m(a,"class","field__name svelte-16jh8zv"),m(c,"class","field__desc svelte-16jh8zv"),m(h,"class","input svelte-16jh8zv"),m(h,"type","number"),m(h,"min",v=t[0].marking.partial),m(h,"max",w=t[0].answers.length),m(f,"class","field svelte-16jh8zv")},m(T,x){H(T,e,x),g(e,n),g(e,r),g(e,i),g(e,s),g(e,o),Oe(o,t[0].marking.partial),H(T,u,x),H(T,f,x),g(f,a),g(f,d),g(f,c),g(f,p),g(f,h),Oe(h,t[0].marking.correct),_||(C=[J(o,"input",t[9]),J(h,"input",t[10])],_=!0)},p(T,x){x&1&&l!==(l=T[0].answers.length)&&m(o,"max",l),x&1&&Xe(o.value)!==T[0].marking.partial&&Oe(o,T[0].marking.partial),x&1&&v!==(v=T[0].marking.partial)&&m(h,"min",v),x&1&&w!==(w=T[0].answers.length)&&m(h,"max",w),x&1&&Xe(h.value)!==T[0].marking.correct&&Oe(h,T[0].marking.correct)},d(T){T&&Z(e),T&&Z(u),T&&Z(f),_=!1,Pe(C)}}}function C1(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w;i=new Vn({});let _=Object.values(Ge),C=[];for(let x=0;x<_.length;x+=1)C[x]=yo(vo(t,_,x));let T=t[0].ty==Ge.Multiple&&t[0].marking!==void 0&&bo(t);return{c(){e=D("div"),n=D("div"),r=D("button"),le(i.$$.fragment),s=ee(`
      Close`),o=P(),l=D("div"),u=D("p"),u.textContent="Question Type",f=P(),a=D("p"),a.textContent="The type of question to present",d=P(),c=D("select");for(let x=0;x<C.length;x+=1)C[x].c();p=P(),T&&T.c(),m(r,"class","btn btn--icon btn--surface"),m(u,"class","field__name svelte-16jh8zv"),m(a,"class","field__desc svelte-16jh8zv"),m(c,"class","input svelte-16jh8zv"),t[0].ty===void 0&&Ze(()=>t[5].call(c)),m(l,"class","field svelte-16jh8zv"),m(n,"class","dialog svelte-16jh8zv"),m(e,"class","floating-wrapper svelte-16jh8zv")},m(x,$){H(x,e,$),g(e,n),g(n,r),se(i,r,null),g(r,s),g(n,o),g(n,l),g(l,u),g(l,f),g(l,a),g(l,d),g(l,c);for(let k=0;k<C.length;k+=1)C[k]&&C[k].m(c,null);Nt(c,t[0].ty,!0),g(n,p),T&&T.m(n,null),h=!0,v||(w=[J(r,"click",t[4]),J(c,"change",t[5]),J(c,"change",t[2])],v=!0)},p(x,[$]){if($&0){_=Object.values(Ge);let k;for(k=0;k<_.length;k+=1){const S=vo(x,_,k);C[k]?C[k].p(S,$):(C[k]=yo(S),C[k].c(),C[k].m(c,null))}for(;k<C.length;k+=1)C[k].d(1);C.length=_.length}$&1&&Nt(c,x[0].ty),x[0].ty==Ge.Multiple&&x[0].marking!==void 0?T?T.p(x,$):(T=bo(x),T.c(),T.m(n,null)):T&&(T.d(1),T=null)},i(x){h||(W(i.$$.fragment,x),h=!0)},o(x){G(i.$$.fragment,x),h=!1},d(x){x&&Z(e),oe(i),Ln(C,x),T&&T.d(),v=!1,Pe(w)}}}function x1(t,e,n){let{question:r}=e,{visible:i}=e;function s(){n(0,r=wd(r))}function o(){n(0,r=Nl(r))}function l(){let v=0;for(const w of r.answers)w.correct&&(v+=1);return v}const u=()=>n(1,i=!1);function f(){r.ty=Jn(this),n(0,r)}function a(){r.marking.ty=Jn(this),n(0,r)}function d(){r.min=Xe(this.value),n(0,r)}function c(){r.max=Xe(this.value),n(0,r)}function p(){r.marking.partial=Xe(this.value),n(0,r)}function h(){r.marking.correct=Xe(this.value),n(0,r)}return t.$$set=v=>{"question"in v&&n(0,r=v.question),"visible"in v&&n(1,i=v.visible)},t.$$.update=()=>{if(t.$$.dirty&1&&r.ty===Ge.Multiple){let v=l();r.min>v&&n(0,r.min=v,r),r.max>v&&n(0,r.max=v,r),r.min>r.max&&n(0,r.max=r.min,r);const w=r.marking;w!==void 0&&w.ty===Kt.Partial&&(w.partial>v&&(w.partial=v),w.correct>v&&(w.correct=v),w.correct<w.partial&&(w.correct=w.partial))}},[r,i,s,o,u,f,a,d,c,p,h]}class D1 extends we{constructor(e){super(),be(this,e,x1,C1,ye,{question:0,visible:1})}}function S1(t){let e,n,r,i,s,o,l;return{c(){e=D("label"),n=D("input"),r=P(),i=ce("svg"),s=ce("path"),m(n,"class","input svelte-1sqhokz"),m(n,"type","checkbox"),m(s,"d","M4.575 8.977s-.404-.007-.536-.165L.057 5.64l.829-1.227L4.47 7.268 10.921.086l.923 1.103-6.863 7.64c-.134-.003-.406.148-.406.148z"),m(s,"fill","#FFF"),m(s,"fill-rule","evenodd"),m(i,"width","16"),m(i,"height","16"),m(i,"viewBox","0 0 12 9"),m(i,"xmlns","http://www.w3.org/2000/svg"),m(i,"class","mark svelte-1sqhokz"),m(e,"class","wrapper svelte-1sqhokz")},m(u,f){H(u,e,f),g(e,n),n.checked=t[0],g(e,r),g(e,i),g(i,s),o||(l=J(n,"change",t[1]),o=!0)},p(u,[f]){f&1&&(n.checked=u[0])},i:Q,o:Q,d(u){u&&Z(e),o=!1,l()}}}function I1(t,e,n){let{value:r}=e;function i(){r=this.checked,n(0,r)}return t.$$set=s=>{"value"in s&&n(0,r=s.value)},[r,i]}class $1 extends we{constructor(e){super(),be(this,e,I1,S1,ye,{value:0})}}function Eo(t,e,n){const r=t.slice();return r[6]=e[n],r[7]=e,r[8]=n,r}function Ao(t){let e,n=[],r=new Map,i,s,o=t[0].answers;const l=f=>f[6].id;for(let f=0;f<o.length;f+=1){let a=Eo(t,o,f),d=l(a);r.set(d,n[f]=To(d,a))}let u=t[0].answers.length<ws&&Co(t);return{c(){e=D("div");for(let f=0;f<n.length;f+=1)n[f].c();i=P(),u&&u.c(),m(e,"class","answers svelte-ok7b4d")},m(f,a){H(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);g(e,i),u&&u.m(e,null),s=!0},p(f,a){if(a&5){o=f[0].answers,qe();for(let d=0;d<n.length;d+=1)n[d].r();n=vr(n,a,l,1,f,o,r,e,oi,To,i,Eo);for(let d=0;d<n.length;d+=1)n[d].a();Fe()}f[0].answers.length<ws?u?u.p(f,a):(u=Co(f),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(f){if(!s){for(let a=0;a<o.length;a+=1)W(n[a]);s=!0}},o(f){for(let a=0;a<n.length;a+=1)G(n[a]);s=!1},d(f){f&&Z(e);for(let a=0;a<n.length;a+=1)n[a].d();u&&u.d()}}}function To(t,e){let n,r,i,s,o,l,u,f,a,d,c,p=Q,h,v,w;function _($){e[3]($,e[6])}let C={};e[6].correct!==void 0&&(C.value=e[6].correct),i=new $1({props:C}),it.push(()=>pt(i,"value",_));function T(){e[4].call(l,e[7],e[8])}a=new Vn({});function x(){return e[5](e[8])}return{key:t,first:null,c(){n=D("div"),r=D("div"),le(i.$$.fragment),o=P(),l=D("input"),u=P(),f=D("button"),le(a.$$.fragment),m(r,"class","answer__check svelte-ok7b4d"),m(l,"class","answer__input svelte-ok7b4d"),m(l,"type","text"),m(l,"maxlength",Qu),f.disabled=d=e[0].answers.length==1,m(f,"class","btn btn--surface btn--icon-only"),m(n,"class","answer svelte-ok7b4d"),this.first=n},m($,k){H($,n,k),g(n,r),se(i,r,null),g(n,o),g(n,l),Oe(l,e[6].value),g(n,u),g(n,f),se(a,f,null),h=!0,v||(w=[J(l,"input",T),J(f,"click",x)],v=!0)},p($,k){e=$;const S={};!s&&k&1&&(s=!0,S.value=e[6].correct,dt(()=>s=!1)),i.$set(S),k&1&&l.value!==e[6].value&&Oe(l,e[6].value),(!h||k&1&&d!==(d=e[0].answers.length==1))&&(f.disabled=d)},r(){c=n.getBoundingClientRect()},f(){_r(n),p()},a(){p(),p=gr(n,c,kr,{duration:200})},i($){h||(W(i.$$.fragment,$),W(a.$$.fragment,$),h=!0)},o($){G(i.$$.fragment,$),G(a.$$.fragment,$),h=!1},d($){$&&Z(n),oe(i),oe(a),v=!1,Pe(w)}}}function Co(t){let e,n,r;return{c(){e=D("button"),e.textContent="Add Answer",m(e,"class","btn add svelte-ok7b4d")},m(i,s){H(i,e,s),n||(r=J(e,"click",t[1]),n=!0)},p:Q,d(i){i&&Z(e),n=!1,r()}}}function O1(t){let e,n,r=(t[0].ty==Ge.Single||t[0].ty==Ge.Multiple)&&Ao(t);return{c(){r&&r.c(),e=$t()},m(i,s){r&&r.m(i,s),H(i,e,s),n=!0},p(i,[s]){i[0].ty==Ge.Single||i[0].ty==Ge.Multiple?r?(r.p(i,s),s&1&&W(r,1)):(r=Ao(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(qe(),G(r,1,1,()=>{r=null}),Fe())},i(i){n||(W(r),n=!0)},o(i){G(r),n=!1},d(i){r&&r.d(i),i&&Z(e)}}}function M1(t,e,n){let{question:r}=e;function i(){let f=0;for(const a of r.answers)a.id>=f&&(f=a.id+1);r.answers.push({id:f,value:"",correct:!1}),n(0,r)}function s(f){n(0,r.answers=r.answers.filter((a,d)=>d!=f),r)}function o(f,a){t.$$.not_equal(a.correct,f)&&(a.correct=f,n(0,r))}function l(f,a){f[a].value=this.value,n(0,r)}const u=f=>s(f);return t.$$set=f=>{"question"in f&&n(0,r=f.question)},[r,i,s,o,l,u]}class R1 extends we{constructor(e){super(),be(this,e,M1,O1,ye,{question:0})}}function N1(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M666-435q-9-9-9-21t9-21l100-100H480q-13 0-21.5-8.5T450-607q0-13 8.5-21.5T480-637h286L665-738q-9-9-8.5-20.5T666-779q9-9 21-9t21 9l151 151q5 5 7 10t2 11q0 6-2 11t-7 10L707-434q-9 9-20.5 8.5T666-435ZM252-181 101-332q-5-5-7-10t-2-11q0-6 2-11t7-10l152-152q9-9 20.5-8.5T294-525q9 9 9 21t-9 21L194-383h286q13 0 21.5 8.5T510-353q0 13-8.5 21.5T480-323H194l101 101q9 9 8.5 20.5T294-181q-9 9-21 9t-21-9Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 -960 960 960"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(r,i){H(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&Z(e)}}}class q1 extends we{constructor(e){super(),be(this,e,null,N1,ye,{})}}function xo(t){let e,n,r,i,s,o,l;return n=new Ql({}),{c(){e=D("button"),le(n.$$.fragment),r=ee(`\r
      Shuffle Answers`),m(e,"class","btn btn--icon svelte-1tif7ap"),e.disabled=i=t[0].answers.length<=1},m(u,f){H(u,e,f),se(n,e,null),g(e,r),s=!0,o||(l=J(e,"click",t[3]),o=!0)},p(u,f){(!s||f&1&&i!==(i=u[0].answers.length<=1))&&(e.disabled=i)},i(u){s||(W(n.$$.fragment,u),s=!0)},o(u){G(n.$$.fragment,u),s=!1},d(u){u&&Z(e),oe(n),o=!1,l()}}}function Do(t){let e,n,r,i;function s(u){t[10](u)}function o(u){t[11](u)}let l={};return t[0]!==void 0&&(l.question=t[0]),t[1]!==void 0&&(l.visible=t[1]),e=new T1({props:l}),it.push(()=>pt(e,"question",s)),it.push(()=>pt(e,"visible",o)),{c(){le(e.$$.fragment)},m(u,f){se(e,u,f),i=!0},p(u,f){const a={};!n&&f&1&&(n=!0,a.question=u[0],dt(()=>n=!1)),!r&&f&2&&(r=!0,a.visible=u[1],dt(()=>r=!1)),e.$set(a)},i(u){i||(W(e.$$.fragment,u),i=!0)},o(u){G(e.$$.fragment,u),i=!1},d(u){oe(e,u)}}}function So(t){let e,n,r,i;function s(u){t[12](u)}function o(u){t[13](u)}let l={};return t[0]!==void 0&&(l.question=t[0]),t[2]!==void 0&&(l.visible=t[2]),e=new D1({props:l}),it.push(()=>pt(e,"question",s)),it.push(()=>pt(e,"visible",o)),{c(){le(e.$$.fragment)},m(u,f){se(e,u,f),i=!0},p(u,f){const a={};!n&&f&1&&(n=!0,a.question=u[0],dt(()=>n=!1)),!r&&f&4&&(r=!0,a.visible=u[2],dt(()=>r=!1)),e.$set(a)},i(u){i||(W(e.$$.fragment,u),i=!0)},o(u){G(e.$$.fragment,u),i=!1},d(u){oe(e,u)}}}function F1(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v=t[0].ty+"",w,_,C,T,x,$,k,S,y,b,I,O,N,q,M,R;function A(V){t[5](V)}let E={};t[0]!==void 0&&(E.question=t[0]),e=new b1({props:E}),it.push(()=>pt(e,"question",A)),o=new us({});let F=t[0].answers!==void 0&&xo(t);c=new q1({}),T=new Vn({});function L(V){t[9](V)}let U={};t[0]!==void 0&&(U.question=t[0]),y=new R1({props:U}),it.push(()=>pt(y,"question",L));let Y=t[1]&&Do(t),B=t[2]&&So(t);return{c(){le(e.$$.fragment),r=P(),i=D("div"),s=D("button"),le(o.$$.fragment),l=P(),u=D("span"),u.textContent="Settings",f=P(),F&&F.c(),a=P(),d=D("button"),le(c.$$.fragment),p=ee(`\r
    Change Type\r
\r
    `),h=D("span"),w=ee(v),_=P(),C=D("button"),le(T.$$.fragment),x=ee(`\r
    Delete`),$=P(),k=D("textarea"),S=P(),le(y.$$.fragment),I=P(),Y&&Y.c(),O=P(),B&&B.c(),N=$t(),m(s,"class","btn btn--icon svelte-1tif7ap"),m(h,"class","qt__type svelte-1tif7ap"),m(d,"class","btn btn--icon qt svelte-1tif7ap"),m(C,"class","btn btn--icon svelte-1tif7ap"),m(i,"class","actions btn-row svelte-1tif7ap"),m(k,"class","text input svelte-1tif7ap"),m(k,"cols","30"),m(k,"rows","2"),m(k,"maxlength",Yu)},m(V,z){se(e,V,z),H(V,r,z),H(V,i,z),g(i,s),se(o,s,null),g(s,l),g(s,u),g(i,f),F&&F.m(i,null),g(i,a),g(i,d),se(c,d,null),g(d,p),g(d,h),g(h,w),g(i,_),g(i,C),se(T,C,null),g(C,x),H(V,$,z),H(V,k,z),Oe(k,t[0].text),H(V,S,z),se(y,V,z),H(V,I,z),Y&&Y.m(V,z),H(V,O,z),B&&B.m(V,z),H(V,N,z),q=!0,M||(R=[J(s,"click",t[6]),J(d,"click",t[7]),J(C,"click",t[4]),J(k,"input",t[8])],M=!0)},p(V,[z]){const j={};!n&&z&1&&(n=!0,j.question=V[0],dt(()=>n=!1)),e.$set(j),V[0].answers!==void 0?F?(F.p(V,z),z&1&&W(F,1)):(F=xo(V),F.c(),W(F,1),F.m(i,a)):F&&(qe(),G(F,1,1,()=>{F=null}),Fe()),(!q||z&1)&&v!==(v=V[0].ty+"")&&Se(w,v),z&1&&Oe(k,V[0].text);const re={};!b&&z&1&&(b=!0,re.question=V[0],dt(()=>b=!1)),y.$set(re),V[1]?Y?(Y.p(V,z),z&2&&W(Y,1)):(Y=Do(V),Y.c(),W(Y,1),Y.m(O.parentNode,O)):Y&&(qe(),G(Y,1,1,()=>{Y=null}),Fe()),V[2]?B?(B.p(V,z),z&4&&W(B,1)):(B=So(V),B.c(),W(B,1),B.m(N.parentNode,N)):B&&(qe(),G(B,1,1,()=>{B=null}),Fe())},i(V){q||(W(e.$$.fragment,V),W(o.$$.fragment,V),W(F),W(c.$$.fragment,V),W(T.$$.fragment,V),W(y.$$.fragment,V),W(Y),W(B),q=!0)},o(V){G(e.$$.fragment,V),G(o.$$.fragment,V),G(F),G(c.$$.fragment,V),G(T.$$.fragment,V),G(y.$$.fragment,V),G(Y),G(B),q=!1},d(V){oe(e,V),V&&Z(r),V&&Z(i),oe(o),F&&F.d(),oe(c),oe(T),V&&Z($),V&&Z(k),V&&Z(S),oe(y,V),V&&Z(I),Y&&Y.d(V),V&&Z(O),B&&B.d(V),V&&Z(N),M=!1,Pe(R)}}}function L1(t,e,n){let{question:r}=e,i=!1,s=!1;function o(){n(0,r.answers=yc(r.answers),r)}const l=()=>yd(r);function u(_){r=_,n(0,r)}const f=()=>n(1,i=!0),a=()=>n(2,s=!0);function d(){r.text=this.value,n(0,r)}function c(_){r=_,n(0,r)}function p(_){r=_,n(0,r)}function h(_){i=_,n(1,i)}function v(_){r=_,n(0,r)}function w(_){s=_,n(2,s)}return t.$$set=_=>{"question"in _&&n(0,r=_.question)},[r,i,s,o,l,u,f,a,d,c,p,h,v,w]}class P1 extends we{constructor(e){super(),be(this,e,L1,F1,ye,{question:0})}}function Io(t,e,n){const r=t.slice();return r[19]=e[n],r[20]=e,r[21]=n,r}function $o(t){let e,n,r,i;const s=[z1,U1],o=[];function l(u,f){return u[1]==="Uploading"?0:1}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),r=$t()},m(u,f){o[e].m(u,f),H(u,r,f),i=!0},p(u,f){let a=e;e=l(u),e===a?o[e].p(u,f):(qe(),G(o[a],1,1,()=>{o[a]=null}),Fe(),n=o[e],n?n.p(u,f):(n=o[e]=s[e](u),n.c()),W(n,1),n.m(r.parentNode,r))},i(u){i||(W(n),i=!0)},o(u){G(n),i=!1},d(u){o[e].d(u),u&&Z(r)}}}function U1(t){let e,n;return e=new Qi({props:{text:"Connecting..."}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function z1(t){let e,n;return e=new Qi({props:{text:`Uploading ${t[4].toFixed(0)}%`}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&16&&(s.text=`Uploading ${r[4].toFixed(0)}%`),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Oo(t){let e,n,r;function i(o){t[12](o)}let s={};return t[2]!==void 0&&(s.visible=t[2]),e=new i1({props:s}),it.push(()=>pt(e,"visible",i)),{c(){le(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,l){const u={};!n&&l&4&&(n=!0,u.visible=o[2],dt(()=>n=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function Mo(t){let e;return{c(){e=D("div"),m(e,"class","shadow-item svelte-1g03x1l")},m(n,r){H(n,e,r)},d(n){n&&Z(e)}}}function Ro(t,e){let n,r,i,s,o,l,u=Q,f;function a(p){e[14](p,e[19],e[20],e[21])}let d={index:e[21]};e[19]!==void 0&&(d.question=e[19]),r=new Ud({props:d}),it.push(()=>pt(r,"question",a));let c=e[19][jn]&&Mo();return{key:t,first:null,c(){n=D("div"),le(r.$$.fragment),s=P(),c&&c.c(),o=P(),Ti(n,"position","relative"),this.first=n},m(p,h){H(p,n,h),se(r,n,null),g(n,s),c&&c.m(n,null),g(n,o),f=!0},p(p,h){e=p;const v={};h&8&&(v.index=e[21]),!i&&h&8&&(i=!0,v.question=e[19],dt(()=>i=!1)),r.$set(v),e[19][jn]?c||(c=Mo(),c.c(),c.m(n,o)):c&&(c.d(1),c=null)},r(){l=n.getBoundingClientRect()},f(){_r(n),u()},a(){u(),u=gr(n,l,kr,{duration:200})},i(p){f||(W(r.$$.fragment,p),f=!0)},o(p){G(r.$$.fragment,p),f=!1},d(p){p&&Z(n),oe(r),c&&c.d()}}}function Z1(t){let e;return{c(){e=D("p"),e.textContent="No question selected"},m(n,r){H(n,e,r)},p:Q,i:Q,o:Q,d(n){n&&Z(e)}}}function j1(t){let e,n,r;function i(o){t[15](o)}let s={};return t[5]!==void 0&&(s.question=t[5]),e=new P1({props:s}),it.push(()=>pt(e,"question",i)),{c(){le(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,l){const u={};!n&&l&32&&(n=!0,u.question=o[5],dt(()=>n=!1)),e.$set(u)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function H1(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w,_,C,T,x,$,k,S,y,b,I,O,N,q,M,R,A,E,F,L,U,Y,B=[],V=new Map,z,j,re,he,Ee,ue,ge,Ce,_e,We,Je,Ie,Ae=t[0]&&$o(t),de=t[2]&&Oo(t);o=new dl({}),d=new Gl({}),w=new jd({}),$=new us({}),I=new ui({}),E=new Ql({});let xe=t[3].questions;const Ue=K=>K[19].id;for(let K=0;K<xe.length;K+=1){let ie=Io(t,xe,K),Re=Ue(ie);V.set(Re,B[K]=Ro(Re,ie))}he=new Bd({});const Me=[j1,Z1],De=[];function je(K,ie){return K[5]!==null?0:1}return Ce=je(t),_e=De[Ce]=Me[Ce](t),{c(){Ae&&Ae.c(),e=P(),de&&de.c(),n=P(),r=D("main"),i=D("header"),s=D("button"),le(o.$$.fragment),l=P(),u=D("span"),u.textContent="Back",f=P(),a=D("button"),le(d.$$.fragment),c=P(),p=D("span"),p.textContent="Import",h=P(),v=D("button"),le(w.$$.fragment),_=P(),C=D("span"),C.textContent="Export",T=P(),x=D("button"),le($.$$.fragment),k=P(),S=D("span"),S.textContent="Quiz Settings",y=P(),b=D("button"),le(I.$$.fragment),O=P(),N=D("span"),N.textContent="Play",q=P(),M=D("div"),R=D("div"),A=D("button"),le(E.$$.fragment),F=ee(`\r
        Shuffle`),U=P(),Y=D("section");for(let K=0;K<B.length;K+=1)B[K].c();j=P(),re=D("button"),le(he.$$.fragment),ue=P(),ge=D("div"),_e.c(),m(s,"class","btn btn--icon"),m(a,"class","btn btn--icon"),m(v,"class","btn btn--icon"),m(x,"class","btn btn--icon"),m(b,"class","btn btn--icon"),m(i,"class","header btn-row btn-row--fill svelte-1g03x1l"),A.disabled=L=t[3].questions.length<=1,m(A,"class","btn btn--icon"),m(Y,"class","questions svelte-1g03x1l"),re.disabled=Ee=t[3].questions.length>=ks,m(re,"class","btn add btn--icon-only"),m(R,"class","list svelte-1g03x1l"),m(ge,"class","editor svelte-1g03x1l"),m(M,"class","wrapper svelte-1g03x1l"),m(r,"class","main svelte-1g03x1l")},m(K,ie){Ae&&Ae.m(K,ie),H(K,e,ie),de&&de.m(K,ie),H(K,n,ie),H(K,r,ie),g(r,i),g(i,s),se(o,s,null),g(s,l),g(s,u),g(i,f),g(i,a),se(d,a,null),g(a,c),g(a,p),g(i,h),g(i,v),se(w,v,null),g(v,_),g(v,C),g(i,T),g(i,x),se($,x,null),g(x,k),g(x,S),g(i,y),g(i,b),se(I,b,null),g(b,O),g(b,N),g(r,q),g(r,M),g(M,R),g(R,A),se(E,A,null),g(A,F),g(R,U),g(R,Y);for(let Re=0;Re<B.length;Re+=1)B[Re]&&B[Re].m(Y,null);g(R,j),g(R,re),se(he,re,null),g(M,ue),g(M,ge),De[Ce].m(ge,null),We=!0,Je||(Ie=[J(s,"click",br),J(a,"click",t[8]),J(v,"click",t[7]),J(x,"click",t[13]),J(b,"click",t[9]),J(A,"click",bd),qo(z=hd.call(null,Y,{items:t[3].questions,flipDurationMs:200,dropTargetStyle:{}})),J(Y,"consider",t[10]),J(Y,"finalize",t[11]),J(re,"click",_d)],Je=!0)},p(K,[ie]){if(K[0]?Ae?(Ae.p(K,ie),ie&1&&W(Ae,1)):(Ae=$o(K),Ae.c(),W(Ae,1),Ae.m(e.parentNode,e)):Ae&&(qe(),G(Ae,1,1,()=>{Ae=null}),Fe()),K[2]?de?(de.p(K,ie),ie&4&&W(de,1)):(de=Oo(K),de.c(),W(de,1),de.m(n.parentNode,n)):de&&(qe(),G(de,1,1,()=>{de=null}),Fe()),(!We||ie&8&&L!==(L=K[3].questions.length<=1))&&(A.disabled=L),ie&8){xe=K[3].questions,qe();for(let Qe=0;Qe<B.length;Qe+=1)B[Qe].r();B=vr(B,ie,Ue,1,K,xe,V,Y,oi,Ro,null,Io);for(let Qe=0;Qe<B.length;Qe+=1)B[Qe].a();Fe()}z&&kn(z.update)&&ie&8&&z.update.call(null,{items:K[3].questions,flipDurationMs:200,dropTargetStyle:{}}),(!We||ie&8&&Ee!==(Ee=K[3].questions.length>=ks))&&(re.disabled=Ee);let Re=Ce;Ce=je(K),Ce===Re?De[Ce].p(K,ie):(qe(),G(De[Re],1,1,()=>{De[Re]=null}),Fe(),_e=De[Ce],_e?_e.p(K,ie):(_e=De[Ce]=Me[Ce](K),_e.c()),W(_e,1),_e.m(ge,null))},i(K){if(!We){W(Ae),W(de),W(o.$$.fragment,K),W(d.$$.fragment,K),W(w.$$.fragment,K),W($.$$.fragment,K),W(I.$$.fragment,K),W(E.$$.fragment,K);for(let ie=0;ie<xe.length;ie+=1)W(B[ie]);W(he.$$.fragment,K),W(_e),We=!0}},o(K){G(Ae),G(de),G(o.$$.fragment,K),G(d.$$.fragment,K),G(w.$$.fragment,K),G($.$$.fragment,K),G(I.$$.fragment,K),G(E.$$.fragment,K);for(let ie=0;ie<B.length;ie+=1)G(B[ie]);G(he.$$.fragment,K),G(_e),We=!1},d(K){Ae&&Ae.d(K),K&&Z(e),de&&de.d(K),K&&Z(n),K&&Z(r),oe(o),oe(d),oe(w),oe($),oe(I),oe(E);for(let ie=0;ie<B.length;ie+=1)B[ie].d();oe(he),De[Ce].d(),Je=!1,Pe(Ie)}}}function B1(t,e,n){let r,i,s,o;at(t,ct,k=>n(3,r=k)),at(t,qn,k=>n(16,i=k)),at(t,on,k=>n(5,o=k));let l=!1,u="",f=Xi(0);at(t,f,k=>n(4,s=k));async function a(){const k=r,S=i;console.debug("Exporting quiz to file",k.name);const y=await Qd(k,S),b=k.name+".quizler";Jd(b,y)}async function d(){const k=await Xd(".quizler");if(k!==null)try{const S=await Yd(k);gd(S),console.debug("Imported quiz file",S)}catch(S){console.error("Error while importing quiz file",S),Qt("Failed to import","Quiz file invalid or corrupted")}}function c(k){if(k.lengthComputable){const S=k.loaded/k.total*100;console.debug(`Uploading content: ${S.toFixed(0)}%`),f.set(S)}}function p(k){for(let S=0;S<k.questions.length;S++){const y=k.questions[S];if(y.text=y.text.trim(),y.text.length<1)return Qt("Empty quesiton",`Question ${S+1} text must not be empty`),!1;for(let b=0;b<y.answers.length;b++){const I=y.answers[b];if(I.value=I.value.trim(),I.value.length<1)return Qt("Empty answer",`Answer number ${b+1} of question ${S+1} must not be blank`),!1}}return!0}function h(){const k=r;if(!p(k))return;n(0,l=!0),n(1,u="Uploading"),k.name=k.name.trim(),k.text=k.text.trim();const S=i;console.debug("Creating quiz"),Su(k,S,c).then(y=>(n(1,u="Initializing"),console.debug("Initializing game",y),rn({ty:Ht.Initialize,uuid:y}))).then(({id:y,token:b,config:I})=>{Ho({id:y,token:b,config:I,host:!0})}).catch(y=>{console.error("Failed to create",y),y instanceof Error?Qt("Failed to create",y.message):Qt("Failed to create",Mi[y])}).finally(()=>n(0,l=!1))}function v(k){hs(ct,r.questions=k.detail.items,r)}function w(k){hs(ct,r.questions=k.detail.items,r)}let _=!1;function C(k){_=k,n(2,_)}const T=()=>n(2,_=!0);function x(k,S,y,b){y[b]=k,ct.set(r)}function $(k){o=k,on.set(o)}return[l,u,_,r,s,o,f,a,d,h,v,w,C,T,x,$]}class V1 extends we{constructor(e){super(),be(this,e,B1,H1,ye,{})}}function W1(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z"),m(e,"fill","#FFFFFF"),m(e,"width","32px"),m(e,"height","31.25px"),m(e,"viewBox","0 0 256 250"),m(e,"version","1.1"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"preserveAspectRatio","xMidYMid")},m(r,i){H(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&Z(e)}}}class G1 extends we{constructor(e){super(),be(this,e,null,W1,ye,{})}}function Q1(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){H(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&Z(e)}}}class Y1 extends we{constructor(e){super(),be(this,e,null,Q1,ye,{})}}function X1(t){let e,n,r,i,s,o,l,u,f;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),i=ce("path"),s=ce("path"),o=ce("path"),l=ce("path"),u=ce("path"),f=ce("path"),m(n,"d","M209.6,119.1v-3.38q0-16.18,2.49-20.42T225.44,83q5.69-4.19,7.9-7.8a16.8,16.8,0,0,0,2.2-9q0-6.59-4.2-10.35a14.58,14.58,0,0,0-10.16-3.76q-15.74,0-17.65,22.29L179.15,71q2.7-20.1,14.65-30.46T223,30.19q17.61,0,29.56,10.07a32.29,32.29,0,0,1,12,25.69q.06,19.3-19.76,32.34-8.61,5.71-10.43,8.92t-1.8,11.84Zm27.48,34.73-27.93.06L209.08,127,237,127Z"),m(n,"transform","translate(-5.67 -30.19)"),m(r,"d","M98.54,268.74a43,43,0,0,1-9.39,1.07q-15.06,0-20.17-6.46t-5.92-16.26a95.28,95.28,0,0,1-10.63.74q-21.31,0-34-16.68T5.67,190.36q0-23.55,12.27-40.71t36.14-17.17q23.55,0,35.9,17.08t12.35,41.05q0,19.26-7,32.06T78.7,241q0,8.65,9.88,8.65,2.88,0,10-.83ZM54,154q-20.72,0-20.71,36.39,0,36.55,20.63,36.55,20.87,0,20.87-36.06Q74.75,154,54,154Z"),m(r,"transform","translate(-5.67 -30.19)"),m(i,"d","M189.43,163.44v83.15H166.71V232.43q-6.42,15.88-24.53,15.89-9.39,0-14.41-3.5a19.32,19.32,0,0,1-7.21-9.55q-2.18-6-2.18-17.5V163.44h23.8v54.33q0,11.21,9.22,11.2a13,13,0,0,0,8.15-2.67,12,12,0,0,0,4.4-5.73q.95-3,1-10.45V163.44Z"),m(i,"transform","translate(-5.67 -30.19)"),m(s,"d","M234.22,163.44v83.15H209.69V163.44Z"),m(s,"transform","translate(-5.67 -30.19)"),m(o,"d","M311.45,163.44v15.31l-37.1,50H313.1v17.87H247.64V228.72l36.68-48.57H250.69V163.44Z"),m(o,"transform","translate(-5.67 -30.19)"),m(l,"d","M326.6,246.59V134.21h24.53V246.59Z"),m(l,"transform","translate(-5.67 -30.19)"),m(u,"d","M446,209.13H392.47q-.09,2.22-.09,3.87,0,8.9,4.74,13.42A15.79,15.79,0,0,0,408.44,231q12.27,0,14.74-13.09l22.23,1.64q-9.32,28.83-37.8,28.82-12.42,0-21.11-5a39.35,39.35,0,0,1-14.33-14.53q-5.64-9.56-5.64-22.89,0-19.84,11.32-32T407,161.71A37.84,37.84,0,0,1,434.5,173Q446,184.34,446,209.13Zm-53.6-14.24h29.56q-1.15-17.13-14.08-17.13Q394,177.76,392.38,194.89Z"),m(u,"transform","translate(-5.67 -30.19)"),m(f,"d","M485.25,246.59H461.46V163.44h22.48v15.47q5.18-17.28,17.94-17.29c1.21,0,2.69.09,4.45.25v24.21q-7.49,0-11.65,2.3t-6.79,8.28q-2.64,6-2.64,16.09Z"),m(f,"transform","translate(-5.67 -30.19)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 500.66 239.62"),m(e,"fill","#FFFFFF"),m(e,"width","248"),m(e,"height","135")},m(a,d){H(a,e,d),g(e,n),g(e,r),g(e,i),g(e,s),g(e,o),g(e,l),g(e,u),g(e,f)},p:Q,i:Q,o:Q,d(a){a&&Z(e)}}}class K1 extends we{constructor(e){super(),be(this,e,null,X1,ye,{})}}function J1(t){let e,n,r,i,s,o,l,u,f,a,d,c,p,h,v,w,_,C,T,x,$,k,S;return i=new K1({}),l=new G1({}),c=new ui({}),_=new Y1({}),{c(){e=D("main"),n=D("div"),r=D("div"),le(i.$$.fragment),s=P(),o=D("a"),le(l.$$.fragment),u=ee(`
      View on GitHub`),f=P(),a=D("div"),d=D("button"),le(c.$$.fragment),p=P(),h=D("div"),h.innerHTML=`<p class="action__name svelte-1re4mfc">Join a quiz</p> 
        <p class="action__text svelte-1re4mfc">Enter a game code and hop right in</p>`,v=P(),w=D("button"),le(_.$$.fragment),C=P(),T=D("div"),T.innerHTML=`<p class="action__name svelte-1re4mfc">Create a quiz</p> 
        <p class="action__text svelte-1re4mfc">Create your own quiz</p>`,m(r,"class","logo svelte-1re4mfc"),m(o,"href","https://github.com/jacobtread/Quizler-v2"),m(o,"target","_blank"),m(o,"rel","noreferrer"),m(o,"title","View on Github"),m(o,"class","btn btn--icon github svelte-1re4mfc"),m(n,"class","left svelte-1re4mfc"),m(h,"class","action__body svelte-1re4mfc"),m(d,"class","action svelte-1re4mfc"),m(d,"aria-label","Join"),m(T,"class","action__body svelte-1re4mfc"),m(w,"class","action svelte-1re4mfc"),m(w,"aria-label","Create"),m(a,"class","actions svelte-1re4mfc"),m(e,"class","main svelte-1re4mfc")},m(y,b){H(y,e,b),g(e,n),g(n,r),se(i,r,null),g(n,s),g(n,o),se(l,o,null),g(o,u),g(e,f),g(e,a),g(a,d),se(c,d,null),g(d,p),g(d,h),g(a,v),g(a,w),se(_,w,null),g(w,C),g(w,T),$=!0,k||(S=[J(d,"click",wa),J(w,"click",ba)],k=!0)},p:Q,i(y){$||(W(i.$$.fragment,y),W(l.$$.fragment,y),W(c.$$.fragment,y),W(_.$$.fragment,y),Ze(()=>{$&&(x||(x=Ne(e,Le,{},!0)),x.run(1))}),$=!0)},o(y){G(i.$$.fragment,y),G(l.$$.fragment,y),G(c.$$.fragment,y),G(_.$$.fragment,y),x||(x=Ne(e,Le,{},!1)),x.run(0),$=!1},d(y){y&&Z(e),oe(i),oe(l),oe(c),oe(_),y&&x&&x.end(),k=!1,Pe(S)}}}class ep extends we{constructor(e){super(),be(this,e,null,J1,ye,{})}}function tp(t){let e,n;return e=new ll({props:{text:"Connecting to server..."}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function np(t){let e,n,r,i;const s=[op,sp,ip,rp],o=[];function l(u,f){return u[1].ty==Xn.Home?0:u[1].ty===Xn.Create?1:u[1].ty===Xn.Connect?2:u[1].ty===Xn.Game?3:-1}return~(e=l(t))&&(n=o[e]=s[e](t)),{c(){n&&n.c(),r=$t()},m(u,f){~e&&o[e].m(u,f),H(u,r,f),i=!0},p(u,f){let a=e;e=l(u),e===a?~e&&o[e].p(u,f):(n&&(qe(),G(o[a],1,1,()=>{o[a]=null}),Fe()),~e?(n=o[e],n?n.p(u,f):(n=o[e]=s[e](u),n.c()),W(n,1),n.m(r.parentNode,r)):n=null)},i(u){i||(W(n),i=!0)},o(u){G(n),i=!1},d(u){~e&&o[e].d(u),u&&Z(r)}}}function rp(t){let e,n;return e=new pf({props:{gameData:t[1].gameData}}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&2&&(s.gameData=r[1].gameData),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function ip(t){let e,n;return e=new _c({}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function sp(t){let e,n;return e=new V1({}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function op(t){let e,n;return e=new ep({}),{c(){le(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function lp(t){let e,n,r,i,s;const o=[np,tp],l=[];function u(f,a){return f[0]?0:1}return e=u(t),n=l[e]=o[e](t),i=new Ca({}),{c(){n.c(),r=P(),le(i.$$.fragment)},m(f,a){l[e].m(f,a),H(f,r,a),se(i,f,a),s=!0},p(f,[a]){let d=e;e=u(f),e===d?l[e].p(f,a):(qe(),G(l[d],1,1,()=>{l[d]=null}),Fe(),n=l[e],n?n.p(f,a):(n=l[e]=o[e](f),n.c()),W(n,1),n.m(r.parentNode,r))},i(f){s||(W(n),W(i.$$.fragment,f),s=!0)},o(f){G(n),G(i.$$.fragment,f),s=!1},d(f){l[e].d(f),f&&Z(r),oe(i,f)}}}function ap(t,e,n){let r,i;return at(t,Wi,s=>n(0,r=s)),at(t,yr,s=>n(1,i=s)),[r,i]}class up extends we{constructor(e){super(),be(this,e,ap,lp,ye,{})}}new up({target:document.getElementById("app")});
