(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function G(){}const yr=n=>n;function fi(n,e){for(const t in e)n[t]=e[t];return n}function cs(n){return n()}function di(){return Object.create(null)}function Qe(n){n.forEach(cs)}function xn(n){return typeof n=="function"}function Ce(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Vn;function er(n,e){return Vn||(Vn=document.createElement("a")),Vn.href=e,n===Vn.href}function oa(n){return Object.keys(n).length===0}function ua(n,...e){if(n==null)return G;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Tt(n,e,t){n.$$.on_destroy.push(ua(e,t))}function ca(n){return n&&xn(n.destroy)?n.destroy:G}const fs=typeof window<"u";let Jr=fs?()=>window.performance.now():()=>Date.now(),Yr=fs?n=>requestAnimationFrame(n):G;const yn=new Set;function ds(n){yn.forEach(e=>{e.c(n)||(yn.delete(e),e.f())}),yn.size!==0&&Yr(ds)}function Xr(n){let e;return yn.size===0&&Yr(ds),{promise:new Promise(t=>{yn.add(e={c:n,f:t})}),abort(){yn.delete(e)}}}function p(n,e){n.appendChild(e)}function hs(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function fa(n){const e=T("style");return da(hs(n),e),e.sheet}function da(n,e){return p(n.head||n,e),e.sheet}function V(n,e,t){n.insertBefore(e,t||null)}function H(n){n.parentNode&&n.parentNode.removeChild(n)}function Mn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function T(n){return document.createElement(n)}function fe(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function re(n){return document.createTextNode(n)}function Z(){return re(" ")}function Xt(){return re("")}function ee(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function _(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function vt(n){return n===""?null:+n}function ha(n){return Array.from(n.childNodes)}function Me(n,e){e=""+e,n.data!==e&&(n.data=e)}function Pe(n,e){n.value=e??""}function hi(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Qt(n,e,t){for(let r=0;r<n.options.length;r+=1){const i=n.options[r];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function br(n){const e=n.querySelector(":checked");return e&&e.__value}function mi(n,e,t){n.classList[t?"add":"remove"](e)}function ma(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,r,e),i}const tr=new Map;let nr=0;function pa(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function _a(n,e){const t={stylesheet:fa(e),rules:{}};return tr.set(n,t),t}function qr(n,e,t,r,i,s,a,l=0){const u=16.666/r;let f=`{
`;for(let v=0;v<=1;v+=u){const g=e+(t-e)*s(v);f+=v*100+`%{${a(g,1-g)}}
`}const o=f+`100% {${a(t,1-t)}}
}`,d=`__svelte_${pa(o)}_${l}`,c=hs(n),{stylesheet:h,rules:m}=tr.get(c)||_a(c,n);m[d]||(m[d]=!0,h.insertRule(`@keyframes ${d} ${o}`,h.cssRules.length));const C=n.style.animation||"";return n.style.animation=`${C?`${C}, `:""}${d} ${r}ms linear ${i}ms 1 both`,nr+=1,d}function ms(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-r.length;i&&(n.style.animation=r.join(", "),nr-=i,nr||ga())}function ga(){Yr(()=>{nr||(tr.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&H(e)}),tr.clear())})}function wr(n,e,t,r){if(!e)return G;const i=n.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return G;const{delay:s=0,duration:a=300,easing:l=yr,start:u=Jr()+s,end:f=u+a,tick:o=G,css:d}=t(n,{from:e,to:i},r);let c=!0,h=!1,m;function C(){d&&(m=qr(n,0,1,a,s,l,d)),s||(h=!0)}function v(){d&&ms(n,m),c=!1}return Xr(g=>{if(!h&&g>=u&&(h=!0),h&&g>=f&&(o(1,0),v()),!c)return!1;if(h){const A=g-u,x=0+1*l(A/a);o(x,1-x)}return!0}),C(),o(0,1),v}function kr(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,i=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,va(n,i)}}function va(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),i=r.transform==="none"?"":r.transform;n.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Fn;function Tn(n){Fn=n}function ps(){if(!Fn)throw new Error("Function called outside component initialization");return Fn}function _s(n){ps().$$.on_mount.push(n)}function ya(n){ps().$$.on_destroy.push(n)}const mn=[],Zt=[];let bn=[];const jr=[],ba=Promise.resolve();let Pr=!1;function wa(){Pr||(Pr=!0,ba.then(gs))}function it(n){bn.push(n)}function rn(n){jr.push(n)}const Ur=new Set;let dn=0;function gs(){if(dn!==0)return;const n=Fn;do{try{for(;dn<mn.length;){const e=mn[dn];dn++,Tn(e),ka(e.$$)}}catch(e){throw mn.length=0,dn=0,e}for(Tn(null),mn.length=0,dn=0;Zt.length;)Zt.pop()();for(let e=0;e<bn.length;e+=1){const t=bn[e];Ur.has(t)||(Ur.add(t),t())}bn.length=0}while(mn.length);for(;jr.length;)jr.pop()();Pr=!1,Ur.clear(),Tn(n)}function ka(n){if(n.fragment!==null){n.update(),Qe(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(it)}}function Ca(n){const e=[],t=[];bn.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),bn=e}let En;function Aa(){return En||(En=Promise.resolve(),En.then(()=>{En=null})),En}function Nr(n,e,t){n.dispatchEvent(ma(`${e?"intro":"outro"}${t}`))}const Wn=new Set;let Pt;function ht(){Pt={r:0,c:[],p:Pt}}function mt(){Pt.r||Qe(Pt.c),Pt=Pt.p}function W(n,e){n&&n.i&&(Wn.delete(n),n.i(e))}function J(n,e,t,r){if(n&&n.o){if(Wn.has(n))return;Wn.add(n),Pt.c.push(()=>{Wn.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const xa={duration:0};function He(n,e,t,r){const i={direction:"both"};let s=e(n,t,i),a=r?0:1,l=null,u=null,f=null;function o(){f&&ms(n,f)}function d(h,m){const C=h.b-a;return m*=Math.abs(C),{a,b:h.b,d:C,duration:m,start:h.start,end:h.start+m,group:h.group}}function c(h){const{delay:m=0,duration:C=300,easing:v=yr,tick:g=G,css:A}=s||xa,x={start:Jr()+m,b:h};h||(x.group=Pt,Pt.r+=1),l||u?u=x:(A&&(o(),f=qr(n,a,h,C,m,v,A)),h&&g(0,1),l=d(x,C),it(()=>Nr(n,h,"start")),Xr(E=>{if(u&&E>u.start&&(l=d(u,C),u=null,Nr(n,l.b,"start"),A&&(o(),f=qr(n,a,l.b,l.duration,0,v,s.css))),l){if(E>=l.end)g(a=l.b,1-a),Nr(n,l.b,"end"),u||(l.b?o():--l.group.r||Qe(l.group.c)),l=null;else if(E>=l.start){const q=E-l.start;a=l.a+l.d*v(q/l.duration),g(a,1-a)}}return!!(l||u)}))}return{run(h){xn(s)?Aa().then(()=>{s=s(i),c(h)}):c(h)},end(){o(),l=u=null}}}function $a(n,e){J(n,1,1,()=>{e.delete(n.key)})}function Cr(n,e){n.f(),$a(n,e)}function Ar(n,e,t,r,i,s,a,l,u,f,o,d){let c=n.length,h=s.length,m=c;const C={};for(;m--;)C[n[m].key]=m;const v=[],g=new Map,A=new Map,x=[];for(m=h;m--;){const U=d(i,s,m),y=t(U);let b=a.get(y);b?r&&x.push(()=>b.p(U,e)):(b=f(y,U),b.c()),g.set(y,v[m]=b),y in C&&A.set(y,Math.abs(m-C[y]))}const E=new Set,q=new Set;function S(U){W(U,1),U.m(l,o),a.set(U.key,U),o=U.first,h--}for(;c&&h;){const U=v[h-1],y=n[c-1],b=U.key,I=y.key;U===y?(o=U.first,c--,h--):g.has(I)?!a.has(b)||E.has(b)?S(U):q.has(I)?c--:A.get(b)>A.get(I)?(q.add(b),S(U)):(E.add(I),c--):(u(y,a),c--)}for(;c--;){const U=n[c];g.has(U.key)||u(U,a)}for(;h;)S(v[h-1]);return Qe(x),v}const Ea=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...Ea];function sn(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function oe(n){n&&n.c()}function ae(n,e,t,r){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),r||it(()=>{const a=n.$$.on_mount.map(cs).filter(xn);n.$$.on_destroy?n.$$.on_destroy.push(...a):Qe(a),n.$$.on_mount=[]}),s.forEach(it)}function le(n,e){const t=n.$$;t.fragment!==null&&(Ca(t.after_update),Qe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ta(n,e){n.$$.dirty[0]===-1&&(mn.push(n),wa(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Ae(n,e,t,r,i,s,a,l=[-1]){const u=Fn;Tn(n);const f=n.$$={fragment:null,ctx:[],props:s,update:G,not_equal:i,bound:di(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:di(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};a&&a(f.root);let o=!1;if(f.ctx=t?t(n,e.props||{},(d,c,...h)=>{const m=h.length?h[0]:c;return f.ctx&&i(f.ctx[d],f.ctx[d]=m)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](m),o&&Ta(n,d)),c}):[],f.update(),o=!0,Qe(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const d=ha(e.target);f.fragment&&f.fragment.l(d),d.forEach(H)}else f.fragment&&f.fragment.c();e.intro&&W(n.$$.fragment),ae(n,e.target,e.anchor,e.customElement),gs()}Tn(u)}class xe{$destroy(){le(this,1),this.$destroy=G}$on(e,t){if(!xn(t))return G;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!oa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const hn=[];function Kt(n,e=G){let t;const r=new Set;function i(l){if(Ce(n,l)&&(n=l,t)){const u=!hn.length;for(const f of r)f[1](),hn.push(f,n);if(u){for(let f=0;f<hn.length;f+=2)hn[f][0](hn[f+1]);hn.length=0}}}function s(l){i(l(n))}function a(l,u=G){const f=[l,u];return r.add(f),r.size===1&&(t=e(i)||G),l(n),()=>{r.delete(f),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}var tn=(n=>(n[n.Home=0]="Home",n[n.Connect=1]="Connect",n[n.Join=2]="Join",n[n.Create=3]="Create",n[n.Editing=4]="Editing",n[n.Game=5]="Game",n))(tn||{});const cn=Kt({ty:0});function $n(){cn.set({ty:0})}function Zr(){cn.set({ty:3})}function vs(){cn.set({ty:1})}function Sa(n){cn.set({ty:2,token:n})}function ys(n){cn.set({ty:5,gameData:n})}function Ia(n){cn.set({ty:4,question:n})}function bs(n){const e=n-1;return e*e*e+1}function pi(n,{delay:e=0,duration:t=400,easing:r=yr}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*i}`}}function et(n,{delay:e=0,duration:t=400,easing:r=bs,axis:i="y"}={}){const s=getComputedStyle(n),a=+s.opacity,l=i==="y"?"height":"width",u=parseFloat(s[l]),f=i==="y"?["top","bottom"]:["left","right"],o=f.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),d=parseFloat(s[`padding${o[0]}`]),c=parseFloat(s[`padding${o[1]}`]),h=parseFloat(s[`margin${o[0]}`]),m=parseFloat(s[`margin${o[1]}`]),C=parseFloat(s[`border${o[0]}Width`]),v=parseFloat(s[`border${o[1]}Width`]);return{delay:e,duration:t,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*a};${l}: ${g*u}px;padding-${f[0]}: ${g*d}px;padding-${f[1]}: ${g*c}px;margin-${f[0]}: ${g*h}px;margin-${f[1]}: ${g*m}px;border-${f[0]}-width: ${g*C}px;border-${f[1]}-width: ${g*v}px;`}}var ws=(n=>(n[n.Error=0]="Error",n[n.Confirm=1]="Confirm",n))(ws||{});const xr=Kt(null);function Rr(n){xr.update(e=>(e!==null&&e.ty===1&&e.callback(n),null))}function $r(n,e){return new Promise(t=>{xr.set({ty:1,title:n,message:e,callback:t})})}function Dt(n,e){xr.set({ty:0,title:n,message:e})}function _i(n){let e,t,r,i=n[0].title+"",s,a,l,u=n[0].message+"",f,o,d,c,h,m;function C(A,x){return A[0].ty===ws.Error?Fa:Ma}let v=C(n),g=v(n);return{c(){e=T("div"),t=T("div"),r=T("h1"),s=re(i),a=Z(),l=T("p"),f=re(u),o=Z(),d=T("div"),g.c(),_(r,"class","dialog__title svelte-171o5q7"),_(l,"class","dialog__msg svelte-171o5q7"),_(d,"class","btn-row btn-row--fill"),_(t,"class","dialog svelte-171o5q7"),_(e,"class","dialog-wrapper svelte-171o5q7")},m(A,x){V(A,e,x),p(e,t),p(t,r),p(r,s),p(t,a),p(t,l),p(l,f),p(t,o),p(t,d),g.m(d,null),m=!0},p(A,x){(!m||x&1)&&i!==(i=A[0].title+"")&&Me(s,i),(!m||x&1)&&u!==(u=A[0].message+"")&&Me(f,u),v===(v=C(A))&&g?g.p(A,x):(g.d(1),g=v(A),g&&(g.c(),g.m(d,null)))},i(A){m||(it(()=>{m&&(c||(c=He(t,et,{duration:200},!0)),c.run(1))}),it(()=>{m&&(h||(h=He(e,pi,{duration:200},!0)),h.run(1))}),m=!0)},o(A){c||(c=He(t,et,{duration:200},!1)),c.run(0),h||(h=He(e,pi,{duration:200},!1)),h.run(0),m=!1},d(A){A&&H(e),g.d(),A&&c&&c.end(),A&&h&&h.end()}}}function Ma(n){let e,t,r,i,s;return{c(){e=T("button"),e.textContent="Confirm",t=Z(),r=T("button"),r.textContent="Cancel",_(e,"class","btn btn--surface"),_(r,"class","btn btn--surface")},m(a,l){V(a,e,l),V(a,t,l),V(a,r,l),i||(s=[ee(e,"click",n[2]),ee(r,"click",n[3])],i=!0)},p:G,d(a){a&&H(e),a&&H(t),a&&H(r),i=!1,Qe(s)}}}function Fa(n){let e,t,r;return{c(){e=T("button"),e.textContent="Close",_(e,"class","btn btn--surface")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[1]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function Ua(n){let e,t,r=n[0]&&_i(n);return{c(){r&&r.c(),e=Xt()},m(i,s){r&&r.m(i,s),V(i,e,s),t=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&W(r,1)):(r=_i(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(ht(),J(r,1,1,()=>{r=null}),mt())},i(i){t||(W(r),t=!0)},o(i){J(r),t=!1},d(i){r&&r.d(i),i&&H(e)}}}function Na(n,e,t){let r;return Tt(n,xr,l=>t(0,r=l)),[r,()=>Rr(!0),()=>Rr(!0),()=>Rr(!1)]}class Ra extends xe{constructor(e){super(),Ae(this,e,Na,Ua,Ce,{})}}var Te;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},n.find=(i,s)=>{for(const a of i)if(s(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Te||(Te={}));var Dr;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Dr||(Dr={}));const K=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vt=n=>{switch(typeof n){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(n)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(n)?K.array:n===null?K.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?K.promise:typeof Map<"u"&&n instanceof Map?K.map:typeof Set<"u"&&n instanceof Set?K.set:typeof Date<"u"&&n instanceof Date?K.date:K.object;default:return K.unknown}},Q=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Oa=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class St extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let l=r,u=0;for(;u<a.path.length;){const f=a.path[u];u===a.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(t(a))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}St.create=n=>new St(n);const Un=(n,e)=>{let t;switch(n.code){case Q.invalid_type:n.received===K.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Q.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Te.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:t=`Unrecognized key(s) in object: ${Te.joinValues(n.keys,", ")}`;break;case Q.invalid_union:t="Invalid input";break;case Q.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Te.joinValues(n.options)}`;break;case Q.invalid_enum_value:t=`Invalid enum value. Expected ${Te.joinValues(n.options)}, received '${n.received}'`;break;case Q.invalid_arguments:t="Invalid function arguments";break;case Q.invalid_return_type:t="Invalid function return type";break;case Q.invalid_date:t="Invalid date";break;case Q.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Te.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Q.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Q.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Q.custom:t="Invalid input";break;case Q.invalid_intersection_types:t="Intersection results could not be merged";break;case Q.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Q.not_finite:t="Number must be finite";break;default:t=e.defaultError,Te.assertNever(n)}return{message:t}};let ks=Un;function qa(n){ks=n}function rr(){return ks}const ir=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],a={...i,path:s};let l="";const u=r.filter(f=>!!f).slice().reverse();for(const f of u)l=f(a,{data:e,defaultError:l}).message;return{...i,path:s,message:i.message||l}},ja=[];function te(n,e){const t=ir({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,rr(),Un].filter(r=>!!r)});n.common.issues.push(t)}class ft{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return he;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t)r.push({key:await i.key,value:await i.value});return ft.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return he;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const he=Object.freeze({status:"aborted"}),Cs=n=>({status:"dirty",value:n}),dt=n=>({status:"valid",value:n}),Lr=n=>n.status==="aborted",zr=n=>n.status==="dirty",sr=n=>n.status==="valid",ar=n=>typeof Promise<"u"&&n instanceof Promise;var se;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class Rt{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gi=(n,e)=>{if(sr(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new St(n.common.issues);return this._error=t,this._error}}};function ge(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,l)=>a.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:t??l.defaultError},description:i}}class ye{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Vt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Vt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ft,ctx:{common:e.parent.common,data:e.data,parsedType:Vt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ar(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return gi(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vt(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ar(i)?i:Promise.resolve(i));return gi(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const a=e(i),l=()=>s.addIssue({code:Q.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Mt({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Lt.create(this,this._def)}nullable(){return un.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return It.create(this,this._def)}promise(){return An.create(this,this._def)}or(e){return qn.create([this,e],this._def)}and(e){return jn.create(this,e,this._def)}transform(e){return new Mt({...ge(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new zn({...ge(this._def),innerType:this,defaultValue:t,typeName:ce.ZodDefault})}brand(){return new xs({typeName:ce.ZodBranded,type:this,...ge(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new cr({...ge(this._def),innerType:this,catchValue:t,typeName:ce.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Bn.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pa=/^c[^\s-]{8,}$/i,Za=/^[a-z][a-z0-9]*$/,Da=/[0-9A-HJKMNP-TV-Z]{26}/,La=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,za=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Ha=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Ba=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Va=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Qa=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Wa(n,e){return!!((e==="v4"||!e)&&Ba.test(n)||(e==="v6"||!e)&&Va.test(n))}class Et extends ye{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(i=>e.test(i),{validation:t,code:Q.invalid_string,...se.errToObj(r)}),this.nonempty=e=>this.min(1,se.errToObj(e)),this.trim=()=>new Et({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Et({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Et({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:K.string,received:s.parsedType}),he}const r=new ft;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),te(i,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),te(i,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?te(i,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&te(i,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")za.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"email",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Ha.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"emoji",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")La.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"uuid",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Pa.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"cuid",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Za.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"cuid2",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Da.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"ulid",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),te(i,{validation:"url",code:Q.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"regex",code:Q.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),te(i,{code:Q.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),te(i,{code:Q.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),te(i,{code:Q.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Qa(s).test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{code:Q.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Wa(e.data,s.version)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"ip",code:Q.invalid_string,message:s.message}),r.dirty()):Te.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new Et({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...se.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...se.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...se.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Et.create=n=>{var e;return new Et({checks:[],typeName:ce.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ge(n)})};function Ga(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class Wt extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:K.number,received:s.parsedType}),he}let r;const i=new ft;for(const s of this._def.checks)s.kind==="int"?Te.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Ga(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.not_finite,message:s.message}),i.dirty()):Te.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,i){return new Wt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Wt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Te.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Wt.create=n=>new Wt({checks:[],typeName:ce.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ge(n)});class Gt extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==K.bigint){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:K.bigint,received:s.parsedType}),he}let r;const i=new ft;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Te.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,i){return new Gt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Gt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Gt.create=n=>{var e;return new Gt({checks:[],typeName:ce.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ge(n)})};class Nn extends ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.boolean,received:r.parsedType}),he}return dt(e.data)}}Nn.create=n=>new Nn({typeName:ce.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ge(n)});class ln extends ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:K.date,received:s.parsedType}),he}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_date}),he}const r=new ft;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),te(i,{code:Q.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),te(i,{code:Q.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Te.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ln({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ln.create=n=>new ln({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ce.ZodDate,...ge(n)});class lr extends ye{_parse(e){if(this._getType(e)!==K.symbol){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.symbol,received:r.parsedType}),he}return dt(e.data)}}lr.create=n=>new lr({typeName:ce.ZodSymbol,...ge(n)});class Rn extends ye{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.undefined,received:r.parsedType}),he}return dt(e.data)}}Rn.create=n=>new Rn({typeName:ce.ZodUndefined,...ge(n)});class On extends ye{_parse(e){if(this._getType(e)!==K.null){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.null,received:r.parsedType}),he}return dt(e.data)}}On.create=n=>new On({typeName:ce.ZodNull,...ge(n)});class Cn extends ye{constructor(){super(...arguments),this._any=!0}_parse(e){return dt(e.data)}}Cn.create=n=>new Cn({typeName:ce.ZodAny,...ge(n)});class an extends ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dt(e.data)}}an.create=n=>new an({typeName:ce.ZodUnknown,...ge(n)});class zt extends ye{_parse(e){const t=this._getOrReturnCtx(e);return te(t,{code:Q.invalid_type,expected:K.never,received:t.parsedType}),he}}zt.create=n=>new zt({typeName:ce.ZodNever,...ge(n)});class or extends ye{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.void,received:r.parsedType}),he}return dt(e.data)}}or.create=n=>new or({typeName:ce.ZodVoid,...ge(n)});class It extends ye{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==K.array)return te(t,{code:Q.invalid_type,expected:K.array,received:t.parsedType}),he;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,l=t.data.length<i.exactLength.value;(a||l)&&(te(t,{code:a?Q.too_big:Q.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(te(t,{code:Q.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(te(t,{code:Q.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,l)=>i.type._parseAsync(new Rt(t,a,t.path,l)))).then(a=>ft.mergeArray(r,a));const s=[...t.data].map((a,l)=>i.type._parseSync(new Rt(t,a,t.path,l)));return ft.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new It({...this._def,minLength:{value:e,message:se.toString(t)}})}max(e,t){return new It({...this._def,maxLength:{value:e,message:se.toString(t)}})}length(e,t){return new It({...this._def,exactLength:{value:e,message:se.toString(t)}})}nonempty(e){return this.min(1,e)}}It.create=(n,e)=>new It({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...ge(e)});function pn(n){if(n instanceof De){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Lt.create(pn(r))}return new De({...n._def,shape:()=>e})}else return n instanceof It?new It({...n._def,type:pn(n.element)}):n instanceof Lt?Lt.create(pn(n.unwrap())):n instanceof un?un.create(pn(n.unwrap())):n instanceof Ot?Ot.create(n.items.map(e=>pn(e))):n}class De extends ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Te.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==K.object){const f=this._getOrReturnCtx(e);return te(f,{code:Q.invalid_type,expected:K.object,received:f.parsedType}),he}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof zt&&this._def.unknownKeys==="strip"))for(const f in i.data)a.includes(f)||l.push(f);const u=[];for(const f of a){const o=s[f],d=i.data[f];u.push({key:{status:"valid",value:f},value:o._parse(new Rt(i,d,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof zt){const f=this._def.unknownKeys;if(f==="passthrough")for(const o of l)u.push({key:{status:"valid",value:o},value:{status:"valid",value:i.data[o]}});else if(f==="strict")l.length>0&&(te(i,{code:Q.unrecognized_keys,keys:l}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const o of l){const d=i.data[o];u.push({key:{status:"valid",value:o},value:f._parse(new Rt(i,d,i.path,o)),alwaysSet:o in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const o of u){const d=await o.key;f.push({key:d,value:await o.value,alwaysSet:o.alwaysSet})}return f}).then(f=>ft.mergeObjectSync(r,f)):ft.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new De({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,a,l;const u=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(l=se.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new De({...this._def,unknownKeys:"strip"})}passthrough(){return new De({...this._def,unknownKeys:"passthrough"})}extend(e){return new De({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new De({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ce.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new De({...this._def,catchall:e})}pick(e){const t={};return Te.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new De({...this._def,shape:()=>t})}omit(e){const t={};return Te.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new De({...this._def,shape:()=>t})}deepPartial(){return pn(this)}partial(e){const t={};return Te.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new De({...this._def,shape:()=>t})}required(e){const t={};return Te.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Lt;)s=s._def.innerType;t[r]=s}}),new De({...this._def,shape:()=>t})}keyof(){return As(Te.objectKeys(this.shape))}}De.create=(n,e)=>new De({shape:()=>n,unknownKeys:"strip",catchall:zt.create(),typeName:ce.ZodObject,...ge(e)});De.strictCreate=(n,e)=>new De({shape:()=>n,unknownKeys:"strict",catchall:zt.create(),typeName:ce.ZodObject,...ge(e)});De.lazycreate=(n,e)=>new De({shape:n,unknownKeys:"strip",catchall:zt.create(),typeName:ce.ZodObject,...ge(e)});class qn extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new St(l.ctx.common.issues));return te(t,{code:Q.invalid_union,unionErrors:a}),he}if(t.common.async)return Promise.all(r.map(async s=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const f={...t,common:{...t.common,issues:[]},parent:null},o=u._parseSync({data:t.data,path:t.path,parent:f});if(o.status==="valid")return o;o.status==="dirty"&&!s&&(s={result:o,ctx:f}),f.common.issues.length&&a.push(f.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(u=>new St(u));return te(t,{code:Q.invalid_union,unionErrors:l}),he}}get options(){return this._def.options}}qn.create=(n,e)=>new qn({options:n,typeName:ce.ZodUnion,...ge(e)});const Gn=n=>n instanceof Zn?Gn(n.schema):n instanceof Mt?Gn(n.innerType()):n instanceof Dn?[n.value]:n instanceof Jt?n.options:n instanceof Ln?Object.keys(n.enum):n instanceof zn?Gn(n._def.innerType):n instanceof Rn?[void 0]:n instanceof On?[null]:null;class Er extends ye{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.object)return te(t,{code:Q.invalid_type,expected:K.object,received:t.parsedType}),he;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(te(t,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),he)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const a=Gn(s.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Er({typeName:ce.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...ge(r)})}}function Hr(n,e){const t=Vt(n),r=Vt(e);if(n===e)return{valid:!0,data:n};if(t===K.object&&r===K.object){const i=Te.objectKeys(e),s=Te.objectKeys(n).filter(l=>i.indexOf(l)!==-1),a={...n,...e};for(const l of s){const u=Hr(n[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(t===K.array&&r===K.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const a=n[s],l=e[s],u=Hr(a,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===K.date&&r===K.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class jn extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Lr(s)||Lr(a))return he;const l=Hr(s.value,a.value);return l.valid?((zr(s)||zr(a))&&t.dirty(),{status:t.value,value:l.data}):(te(r,{code:Q.invalid_intersection_types}),he)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}jn.create=(n,e,t)=>new jn({left:n,right:e,typeName:ce.ZodIntersection,...ge(t)});class Ot extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.array)return te(r,{code:Q.invalid_type,expected:K.array,received:r.parsedType}),he;if(r.data.length<this._def.items.length)return te(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&r.data.length>this._def.items.length&&(te(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Rt(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>ft.mergeArray(t,a)):ft.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Ot({...this._def,rest:e})}}Ot.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ot({items:n,typeName:ce.ZodTuple,rest:null,...ge(e)})};class Pn extends ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.object)return te(r,{code:Q.invalid_type,expected:K.object,received:r.parsedType}),he;const i=[],s=this._def.keyType,a=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new Rt(r,l,r.path,l)),value:a._parse(new Rt(r,r.data[l],r.path,l))});return r.common.async?ft.mergeObjectAsync(t,i):ft.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof ye?new Pn({keyType:e,valueType:t,typeName:ce.ZodRecord,...ge(r)}):new Pn({keyType:Et.create(),valueType:e,typeName:ce.ZodRecord,...ge(t)})}}class ur extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.map)return te(r,{code:Q.invalid_type,expected:K.map,received:r.parsedType}),he;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([l,u],f)=>({key:i._parse(new Rt(r,l,r.path,[f,"key"])),value:s._parse(new Rt(r,u,r.path,[f,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const f=await u.key,o=await u.value;if(f.status==="aborted"||o.status==="aborted")return he;(f.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(f.value,o.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const u of a){const f=u.key,o=u.value;if(f.status==="aborted"||o.status==="aborted")return he;(f.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(f.value,o.value)}return{status:t.value,value:l}}}}ur.create=(n,e,t)=>new ur({valueType:e,keyType:n,typeName:ce.ZodMap,...ge(t)});class on extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.set)return te(r,{code:Q.invalid_type,expected:K.set,received:r.parsedType}),he;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(te(r,{code:Q.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(te(r,{code:Q.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function a(u){const f=new Set;for(const o of u){if(o.status==="aborted")return he;o.status==="dirty"&&t.dirty(),f.add(o.value)}return{status:t.value,value:f}}const l=[...r.data.values()].map((u,f)=>s._parse(new Rt(r,u,r.path,f)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,t){return new on({...this._def,minSize:{value:e,message:se.toString(t)}})}max(e,t){return new on({...this._def,maxSize:{value:e,message:se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}on.create=(n,e)=>new on({valueType:n,minSize:null,maxSize:null,typeName:ce.ZodSet,...ge(e)});class wn extends ye{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.function)return te(t,{code:Q.invalid_type,expected:K.function,received:t.parsedType}),he;function r(l,u){return ir({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rr(),Un].filter(f=>!!f),issueData:{code:Q.invalid_arguments,argumentsError:u}})}function i(l,u){return ir({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rr(),Un].filter(f=>!!f),issueData:{code:Q.invalid_return_type,returnTypeError:u}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;return this._def.returns instanceof An?dt(async(...l)=>{const u=new St([]),f=await this._def.args.parseAsync(l,s).catch(c=>{throw u.addIssue(r(l,c)),u}),o=await a(...f);return await this._def.returns._def.type.parseAsync(o,s).catch(c=>{throw u.addIssue(i(o,c)),u})}):dt((...l)=>{const u=this._def.args.safeParse(l,s);if(!u.success)throw new St([r(l,u.error)]);const f=a(...u.data),o=this._def.returns.safeParse(f,s);if(!o.success)throw new St([i(f,o.error)]);return o.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new wn({...this._def,args:Ot.create(e).rest(an.create())})}returns(e){return new wn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new wn({args:e||Ot.create([]).rest(an.create()),returns:t||an.create(),typeName:ce.ZodFunction,...ge(r)})}}class Zn extends ye{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Zn.create=(n,e)=>new Zn({getter:n,typeName:ce.ZodLazy,...ge(e)});class Dn extends ye{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return te(t,{received:t.data,code:Q.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:e.data}}get value(){return this._def.value}}Dn.create=(n,e)=>new Dn({value:n,typeName:ce.ZodLiteral,...ge(e)});function As(n,e){return new Jt({values:n,typeName:ce.ZodEnum,...ge(e)})}class Jt extends ye{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return te(t,{expected:Te.joinValues(r),received:t.parsedType,code:Q.invalid_type}),he}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),r=this._def.values;return te(t,{received:t.data,code:Q.invalid_enum_value,options:r}),he}return dt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Jt.create(e)}exclude(e){return Jt.create(this.options.filter(t=>!e.includes(t)))}}Jt.create=As;class Ln extends ye{_parse(e){const t=Te.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==K.string&&r.parsedType!==K.number){const i=Te.objectValues(t);return te(r,{expected:Te.joinValues(i),received:r.parsedType,code:Q.invalid_type}),he}if(t.indexOf(e.data)===-1){const i=Te.objectValues(t);return te(r,{received:r.data,code:Q.invalid_enum_value,options:i}),he}return dt(e.data)}get enum(){return this._def.values}}Ln.create=(n,e)=>new Ln({values:n,typeName:ce.ZodNativeEnum,...ge(e)});class An extends ye{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.promise&&t.common.async===!1)return te(t,{code:Q.invalid_type,expected:K.promise,received:t.parsedType}),he;const r=t.parsedType===K.promise?t.data:Promise.resolve(t.data);return dt(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}An.create=(n,e)=>new An({type:n,typeName:ce.ZodPromise,...ge(e)});class Mt extends ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const a=i.transform(r.data);return r.common.async?Promise.resolve(a).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}const s={addIssue:a=>{te(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const a=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?he:(l.status==="dirty"&&t.dirty(),a(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?he:(l.status==="dirty"&&t.dirty(),a(l.value).then(()=>({status:t.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!sr(a))return a;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>sr(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:t.value,value:l})):a);Te.assertNever(i)}}Mt.create=(n,e,t)=>new Mt({schema:n,typeName:ce.ZodEffects,effect:e,...ge(t)});Mt.createWithPreprocess=(n,e,t)=>new Mt({schema:e,effect:{type:"preprocess",transform:n},typeName:ce.ZodEffects,...ge(t)});class Lt extends ye{_parse(e){return this._getType(e)===K.undefined?dt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lt.create=(n,e)=>new Lt({innerType:n,typeName:ce.ZodOptional,...ge(e)});class un extends ye{_parse(e){return this._getType(e)===K.null?dt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}un.create=(n,e)=>new un({innerType:n,typeName:ce.ZodNullable,...ge(e)});class zn extends ye{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===K.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}zn.create=(n,e)=>new zn({innerType:n,typeName:ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ge(e)});class cr extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ar(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new St(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new St(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}cr.create=(n,e)=>new cr({innerType:n,typeName:ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ge(e)});class fr extends ye{_parse(e){if(this._getType(e)!==K.nan){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.nan,received:r.parsedType}),he}return{status:"valid",value:e.data}}}fr.create=n=>new fr({typeName:ce.ZodNaN,...ge(n)});const Ja=Symbol("zod_brand");class xs extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Bn extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?he:s.status==="dirty"?(t.dirty(),Cs(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?he:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new Bn({in:e,out:t,typeName:ce.ZodPipeline})}}const $s=(n,e={},t)=>n?Cn.create().superRefine((r,i)=>{var s,a;if(!n(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(s=l.fatal)!==null&&s!==void 0?s:t)!==null&&a!==void 0?a:!0,f=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...f,fatal:u})}}):Cn.create(),Ya={object:De.lazycreate};var ce;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline"})(ce||(ce={}));const Xa=(n,e={message:`Input not instance of ${n.name}`})=>$s(t=>t instanceof n,e),Es=Et.create,Ts=Wt.create,Ka=fr.create,el=Gt.create,Ss=Nn.create,tl=ln.create,nl=lr.create,rl=Rn.create,il=On.create,sl=Cn.create,al=an.create,ll=zt.create,ol=or.create,ul=It.create,cl=De.create,fl=De.strictCreate,dl=qn.create,hl=Er.create,ml=jn.create,pl=Ot.create,_l=Pn.create,gl=ur.create,vl=on.create,yl=wn.create,bl=Zn.create,wl=Dn.create,kl=Jt.create,Cl=Ln.create,Al=An.create,vi=Mt.create,xl=Lt.create,$l=un.create,El=Mt.createWithPreprocess,Tl=Bn.create,Sl=()=>Es().optional(),Il=()=>Ts().optional(),Ml=()=>Ss().optional(),Fl={string:n=>Et.create({...n,coerce:!0}),number:n=>Wt.create({...n,coerce:!0}),boolean:n=>Nn.create({...n,coerce:!0}),bigint:n=>Gt.create({...n,coerce:!0}),date:n=>ln.create({...n,coerce:!0})},Ul=he;var _e=Object.freeze({__proto__:null,defaultErrorMap:Un,setErrorMap:qa,getErrorMap:rr,makeIssue:ir,EMPTY_PATH:ja,addIssueToContext:te,ParseStatus:ft,INVALID:he,DIRTY:Cs,OK:dt,isAborted:Lr,isDirty:zr,isValid:sr,isAsync:ar,get util(){return Te},get objectUtil(){return Dr},ZodParsedType:K,getParsedType:Vt,ZodType:ye,ZodString:Et,ZodNumber:Wt,ZodBigInt:Gt,ZodBoolean:Nn,ZodDate:ln,ZodSymbol:lr,ZodUndefined:Rn,ZodNull:On,ZodAny:Cn,ZodUnknown:an,ZodNever:zt,ZodVoid:or,ZodArray:It,ZodObject:De,ZodUnion:qn,ZodDiscriminatedUnion:Er,ZodIntersection:jn,ZodTuple:Ot,ZodRecord:Pn,ZodMap:ur,ZodSet:on,ZodFunction:wn,ZodLazy:Zn,ZodLiteral:Dn,ZodEnum:Jt,ZodNativeEnum:Ln,ZodPromise:An,ZodEffects:Mt,ZodTransformer:Mt,ZodOptional:Lt,ZodNullable:un,ZodDefault:zn,ZodCatch:cr,ZodNaN:fr,BRAND:Ja,ZodBranded:xs,ZodPipeline:Bn,custom:$s,Schema:ye,ZodSchema:ye,late:Ya,get ZodFirstPartyTypeKind(){return ce},coerce:Fl,any:sl,array:ul,bigint:el,boolean:Ss,date:tl,discriminatedUnion:hl,effect:vi,enum:kl,function:yl,instanceof:Xa,intersection:ml,lazy:bl,literal:wl,map:gl,nan:Ka,nativeEnum:Cl,never:ll,null:il,nullable:$l,number:Ts,object:cl,oboolean:Ml,onumber:Il,optional:xl,ostring:Sl,pipeline:Tl,preprocess:El,promise:Al,record:_l,set:vl,strictObject:fl,string:Es,symbol:nl,transformer:vi,tuple:pl,undefined:rl,union:dl,unknown:al,void:ol,NEVER:Ul,ZodIssueCode:Q,quotelessJson:Oa,ZodError:St});const Kr={MalformedMessage:"Unknown client sent invalid message",InvalidToken:"Invalid token provided",UsernameTaken:"Username already in use",InappropriateName:"That name is not allowed/inappropriate choose another name",NotJoinable:"Quiz is not joinable",CapacityReached:"Quiz is full",UnknownPlayer:"Target player not found",Unexpected:"Unexpected error occurred",InvalidPermission:"You don't have permission to do that",UnexpectedMessage:"Client and server out of sync",InvalidAnswer:"Invalid answer type"};var _n=(n=>(n.None="None",n.Low="Low",n.Medium="Medium",n.High="High",n))(_n||{}),_t=(n=>(n.Lobby="Lobby",n.Starting="Starting",n.AwaitingReady="AwaitingReady",n.AwaitingAnswers="AwaitingAnswers",n.Marked="Marked",n.Finished="Finished",n))(_t||{}),Sn=(n=>(n.Start="Start",n.Cancel="Cancel",n.Skip="Skip",n.Reset="Reset",n))(Sn||{}),Is=(n=>(n.RemovedByHost="RemovedByHost",n.HostDisconnect="HostDisconnect",n.LostConnection="LostConnection",n.Disconnected="Disconnected",n))(Is||{});const Nl={RemovedByHost:"Removed by host",HostDisconnect:"Quiz host left",LostConnection:"Connection lost",Disconnected:"Disconnected"};var at=(n=>(n.Single="Single",n.Multiple="Multiple",n))(at||{});const yi=_e.object({id:_e.number(),value:_e.string(),correct:_e.boolean()});var gn=(n=>(n.Contain="Contain",n.Cover="Cover",n.Width="Width",n.Height="Height",n))(gn||{});const Rl=_e.object({id:_e.number(),text:_e.string(),image:_e.object({uuid:_e.string().uuid(),fit:_e.enum(["Contain","Cover","Width","Height"])}).nullable(),answer_time:_e.number(),bonus_score_time:_e.number(),scoring:_e.object({min_score:_e.number(),max_score:_e.number(),bonus_score:_e.number()})}).and(_e.discriminatedUnion("ty",[_e.object({ty:_e.literal("Single"),answers:_e.array(yi)}),_e.object({ty:_e.literal("Multiple"),answers:_e.array(yi),min:_e.number(),max:_e.number()})]));var Br=(n=>(n.Single="Single",n.Multiple="Multiple",n))(Br||{}),Nt=(n=>(n.Correct="Correct",n.Incorrect="Incorrect",n.Partial="Partial",n))(Nt||{}),Ht=(n=>(n.Initialize="Initialize",n.Connect="Connect",n.Join="Join",n.Ready="Ready",n.HostAction="HostAction",n.Answer="Answer",n.Kick="Kick",n))(Ht||{}),$t=(n=>(n.Joined="Joined",n.Ok="Ok",n.PlayerData="PlayerData",n.GameState="GameState",n.TimeSync="TimeSync",n.Question="Question",n.Scores="Scores",n.Score="Score",n.Error="Error",n.Kicked="Kicked",n))($t||{});function ei(n){return new URL(n,window.location.origin)}function bi(n,e){return ei(`/api/quiz/${n}/${e}`).toString()}function Ol(n,e,t){return new Promise((r,i)=>{const s=ql(n,e),a=new XMLHttpRequest;a.upload.onprogress=t,a.responseType="json",a.onload=()=>{if(Math.floor(a.status/100)!==2)return console.error("Failed invalid request",a),i(new Error("Invalid request try reloading the page or updating Quizler"));const f=a.response;r(f.uuid)},a.onerror=a.ontimeout=a.onabort=()=>i(new Error("Failed to connect"));const l=ei("/api/quiz");a.open("POST",l),a.send(s)})}function ql(n,e){const t=new FormData;t.append("config",JSON.stringify(n));for(const r of e)n.questions.find(s=>{var a;return((a=s.image)==null?void 0:a.uuid)===r.uuid})!==void 0&&t.append(r.uuid,r.blob);return t}async function jl(n,e){const t=e.image;if(t===null)return null;const r=6;let i=0,s=bi(n,t.uuid),a=null;for(;i<r;)try{await new Promise((l,u)=>{a=new Image,a.src=s,a.onload=l,a.onerror=u}),console.debug("Preloaded question image",s);break}catch(l){console.error("Failed to preload image trying again",s,l),i+=1,a=null,s=bi(n,t.uuid)+`?attempt=${i}`}return a}let Ms=0,dr={},Hn=[],Fs=Us();const Vr={},ti=Kt(!1);function Bt(n,e){_s(()=>{Vr[n]=e,console.log("Added handler for",n),Hn=Hn.filter(t=>t.ty===n?(e(t),!1):!0)}),ya(()=>{delete Vr[n]})}function Pl(){for(const n of Hn)console.warn("Message was not handled",n);Hn=[]}function Us(){const n=ei("/api/quiz/socket");n.protocol=n.protocol.includes("https")?"wss":"ws",console.debug("Connecting to socket server "+n);const e=new WebSocket(n);return e.onmessage=Ll,e.onopen=()=>{e.readyState==WebSocket.OPEN?(console.debug("Connected to socket"),ti.set(!0)):console.log(e.readyState)},e.onclose=t=>{console.error("WebSocket connetion closed",t),Zl()},e.onerror=t=>{console.error("WebSocket error",t)},e}function Zl(){Ms=0,dr={},Pl(),$n(),Dl()}function Dl(){console.debug("Socket connection lost (Reconnecting in 1000ms)"),ti.set(!1),setTimeout(()=>{Fs=Us()},1e3)}function Yt(n){return new Promise((e,t)=>{console.debug("Sending message to server",n),n.rid=Ms++,dr[n.rid]={resolve:e,reject:t};const r=JSON.stringify(n);try{Fs.send(r)}catch(i){console.error("Failed to send message",i),delete dr[n.rid],t({ty:$t.Error,error:"Unexpected"})}})}function Ll({data:n}){const e=JSON.parse(n);if(e.ty===void 0){console.error("Packet missing message type",n);return}const t=e.rid;if(t!==void 0){const i=dr[t];if(i===void 0){console.error(`Missing return handle ${t} for message`,e);return}e.ty===$t.Error?i.reject(e.error):i.resolve(e)}const r=Vr[e.ty];if(r!==void 0){r(e);return}Hn.push(e)}const Jn=5,Ns=1,Rs=30,zl=70,Hl=300,Bl="Example Quiz",Vl="Small description about your quiz",Ql=10,Wl=100,Gl=150,wi=8,ki=50,Jl=1e3*15,Yl=1e3,Xl=1e3*60*30,Kl=1e3*10,eo=1e3,to=1e3*60*30,no=150,ro=1e3*3,io=1e3,so=1e3*60*30,ao=1,Os=50,lo=1024*1024*15;function oo(){return{name:Bl,text:Vl,max_players:Os,filtering:_n.High,timing:{wait_time:Kl},questions:[qs()]}}function qs(){return{id:0,ty:at.Single,text:"This is an example question, you should replace this with your first question",image:null,answer_time:Jl,bonus_score_time:ro,scoring:{min_score:Ql,max_score:Wl,bonus_score:no},answers:[{id:0,value:"Example A",correct:!0},{id:1,value:"Example B",correct:!1},{id:2,value:"Example C",correct:!1},{id:3,value:"Example D",correct:!1}]}}function hr(n){return((n.total-n.elapsed)/1e3).toFixed(0)}function Yn(n,e){const t=Math.round(Math.random()*(e-n)+n);return t>e?e:t<n?n:t}function uo(n){return JSON.parse(JSON.stringify(n))}function Ci(n){const e=["th","st","nd","rd"],t=n%100;return n+(e[(t-20)%10]||e[t]||e[0])}function js(n){const e=Yn(1,n.length/2);let t=0;for(;t<e;){const r=Yn(0,n.length-1),i=Yn(0,n.length-1);r!==i&&(mr(n,r,i),t++)}return n}function mr(n,e,t){const r=n[e],i=n[t];return(r!==void 0||i!==void 0)&&(n[e]=i,n[t]=r),n}const wt=Kt(oo());let Ai=1;function co(){wt.update(n=>{const e=qs();return e.id=Ai,Ai++,n.questions.push(e),n})}function xi(n,e){wt.update(t=>(mr(t.questions,n,e),t))}function fo(n){wt.update(e=>(e.questions.splice(n,1),e))}function ho(){wt.update(n=>(js(n.questions),n))}function mo(n){wt.update(e=>{const t=e.questions.findIndex(r=>r.id===n.id);return t===-1?e.questions.push(n):e.questions[t]=n,e})}function po(n){return n.answers=n.answers??[],n.ty===at.Multiple&&(n.min=n.min??1,n.max=n.max??n.answers.length),n}function _o(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}function Ps(n,e){return new Promise(function(t,r){let i;return go(n).then(function(s){try{return i=s,t(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const go=n=>new Promise((e,t)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return t("not a valid JPEG");for(a+=2;;){const l=s.getUint16(a);if(l===65498)break;const u=s.getUint16(a+2);if(l===65505&&s.getUint32(a+4)===1165519206){const f=a+10;let o;switch(s.getUint16(f)){case 18761:o=!0;break;case 19789:o=!1;break;default:return t("TIFF header contains invalid endian")}if(s.getUint16(f+2,o)!==42)return t("TIFF header contains invalid version");const d=s.getUint32(f+4,o),c=f+d+2+12*s.getUint16(f+d,o);for(let h=f+d+2;h<c;h+=12)if(s.getUint16(h,o)==274){if(s.getUint16(h+2,o)!==3)return t("Orientation data type is invalid");if(s.getUint32(h+4,o)!==1)return t("Orientation data count is invalid");s.setUint16(h+8,1,o);break}return e(i.slice(a,a+2+u))}a+=2+u}return e(new Blob)}),r.readAsArrayBuffer(n)});var pr={},vo={get exports(){return pr},set exports(n){pr=n}};(function(n){var e,t,r={};vo.exports=r,r.parse=function(i,s){for(var a=r.bin.readUshort,l=r.bin.readUint,u=0,f={},o=new Uint8Array(i),d=o.length-4;l(o,d)!=101010256;)d--;u=d,u+=4;var c=a(o,u+=4);a(o,u+=2);var h=l(o,u+=2),m=l(o,u+=4);u+=4,u=m;for(var C=0;C<c;C++){l(o,u),u+=4,u+=4,u+=4,l(o,u+=4),h=l(o,u+=4);var v=l(o,u+=4),g=a(o,u+=4),A=a(o,u+2),x=a(o,u+4);u+=6;var E=l(o,u+=8);u+=4,u+=g+A+x,r._readLocal(o,E,f,h,v,s)}return f},r._readLocal=function(i,s,a,l,u,f){var o=r.bin.readUshort,d=r.bin.readUint;d(i,s),o(i,s+=4),o(i,s+=2);var c=o(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var h=o(i,s+=8),m=o(i,s+=2);s+=2;var C=r.bin.readUTF8(i,s,h);if(s+=h,s+=m,f)a[C]={size:u,csize:l};else{var v=new Uint8Array(i.buffer,s);if(c==0)a[C]=new Uint8Array(v.buffer.slice(s,s+l));else{if(c!=8)throw"unknown compression method: "+c;var g=new Uint8Array(u);r.inflateRaw(v,g),a[C]=g}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*i.length));l[a]=120,l[a+1]=156,a+=2,a=r.F.deflateRaw(i,l,a,s.level);var u=r.adler(i,0,i.length);return l[a+0]=u>>>24&255,l[a+1]=u>>>16&255,l[a+2]=u>>>8&255,l[a+3]=u>>>0&255,new Uint8Array(l.buffer,0,a+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),l=r.F.deflateRaw(i,a,l,s.level);return new Uint8Array(a.buffer,0,l)},r.encode=function(i,s){s==null&&(s=!1);var a=0,l=r.bin.writeUint,u=r.bin.writeUshort,f={};for(var o in i){var d=!r._noNeed(o)&&!s,c=i[o],h=r.crc.crc(c,0,c.length);f[o]={cpr:d,usize:c.length,crc:h,file:d?r.deflateRaw(c):c}}for(var o in f)a+=f[o].file.length+30+46+2*r.bin.sizeUTF8(o);a+=22;var m=new Uint8Array(a),C=0,v=[];for(var o in f){var g=f[o];v.push(C),C=r._writeHeader(m,C,o,g,0)}var A=0,x=C;for(var o in f)g=f[o],v.push(C),C=r._writeHeader(m,C,o,g,1,v[A++]);var E=C-x;return l(m,C,101010256),C+=4,u(m,C+=4,A),u(m,C+=2,A),l(m,C+=2,E),l(m,C+=4,x),C+=4,C+=2,m.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,a,l,u,f){var o=r.bin.writeUint,d=r.bin.writeUshort,c=l.file;return o(i,s,u==0?67324752:33639248),s+=4,u==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,l.cpr?8:0),o(i,s+=2,0),o(i,s+=4,l.crc),o(i,s+=4,c.length),o(i,s+=4,l.usize),d(i,s+=4,r.bin.sizeUTF8(a)),d(i,s+=2,0),s+=2,u==1&&(s+=2,s+=2,o(i,s+=6,f),s+=4),s+=r.bin.writeUTF8(i,s,a),u==0&&(i.set(c,s),s+=c.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,l){for(var u=0;u<l;u++)i=r.crc.table[255&(i^s[a+u])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^r.crc.update(4294967295,i,s,a)}},r.adler=function(i,s,a){for(var l=1,u=0,f=s,o=s+a;f<o;){for(var d=Math.min(f+5552,o);f<d;)u+=l+=i[f++];l%=65521,u%=65521}return u<<16|l},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var l="",u=0;u<a;u++)l+=String.fromCharCode(i[s+u]);return l},writeASCII:function(i,s,a){for(var l=0;l<a.length;l++)i[s+l]=a.charCodeAt(l)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var l,u="",f=0;f<a;f++)u+="%"+r.bin.pad(i[s+f].toString(16));try{l=decodeURIComponent(u)}catch{return r.bin.readASCII(i,s,a)}return l},writeUTF8:function(i,s,a){for(var l=a.length,u=0,f=0;f<l;f++){var o=a.charCodeAt(f);if(!(4294967168&o))i[s+u]=o,u++;else if(!(4294965248&o))i[s+u]=192|o>>6,i[s+u+1]=128|o>>0&63,u+=2;else if(!(4294901760&o))i[s+u]=224|o>>12,i[s+u+1]=128|o>>6&63,i[s+u+2]=128|o>>0&63,u+=3;else{if(4292870144&o)throw"e";i[s+u]=240|o>>18,i[s+u+1]=128|o>>12&63,i[s+u+2]=128|o>>6&63,i[s+u+3]=128|o>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var s=i.length,a=0,l=0;l<s;l++){var u=i.charCodeAt(l);if(!(4294967168&u))a++;else if(!(4294965248&u))a+=2;else if(!(4294901760&u))a+=3;else{if(4292870144&u)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(i,s,a,l){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],f=r.F.U,o=r.F._goodIndex;r.F._hash;var d=r.F._putsE,c=0,h=a<<3,m=0,C=i.length;if(l==0){for(;c<C;)d(s,h,c+($=Math.min(65535,C-c))==C?1:0),h=r.F._copyExact(i,c,$,s,h+8),c+=$;return h>>>3}var v=f.lits,g=f.strt,A=f.prev,x=0,E=0,q=0,S=0,U=0,y=0;for(C>2&&(g[y=r.F._hash(i,0)]=0),c=0;c<C;c++){if(U=y,c+1<C-2){y=r.F._hash(i,c+1);var b=c+1&32767;A[b]=g[y],g[y]=b}if(m<=c){(x>14e3||E>26697)&&C-c>100&&(m<c&&(v[x]=c-m,x+=2,m=c),h=r.F._writeBlock(c==C-1||m==C?1:0,v,x,S,i,q,c-q,s,h),x=E=S=0,q=c);var I=0;c<C-2&&(I=r.F._bestMatch(i,c,A,U,Math.min(u[2],C-c),u[3]));var $=I>>>16,F=65535&I;if(I!=0){F=65535&I;var R=o($=I>>>16,f.of0);f.lhst[257+R]++;var M=o(F,f.df0);f.dhst[M]++,S+=f.exb[R]+f.dxb[M],v[x]=$<<23|c-m,v[x+1]=F<<16|R<<8|M,x+=2,m=c+$}else f.lhst[i[c]]++;E++}}for(q==c&&i.length!=0||(m<c&&(v[x]=c-m,x+=2,m=c),h=r.F._writeBlock(1,v,x,S,i,q,c-q,s,h),x=0,E=0,x=E=S=0,q=c);7&h;)h++;return h>>>3},r.F._bestMatch=function(i,s,a,l,u,f){var o=32767&s,d=a[o],c=o-d+32768&32767;if(d==o||l!=r.F._hash(i,s-c))return 0;for(var h=0,m=0,C=Math.min(32767,s);c<=C&&--f!=0&&d!=o;){if(h==0||i[s+h]==i[s+h-c]){var v=r.F._howLong(i,s,c);if(v>h){if(m=c,(h=v)>=u)break;c+2<v&&(v=c+2);for(var g=0,A=0;A<v-2;A++){var x=s-c+A+32768&32767,E=x-a[x]+32768&32767;E>g&&(g=E,d=x)}}}c+=(o=d)-(d=a[o])+32768&32767}return h<<16|m},r.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var l=s,u=Math.min(i.length,s+258);for(s+=3;s<u&&i[s]==i[s-a];)s++;return s-l},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,a,l,u,f,o,d,c){var h,m,C,v,g,A,x,E,q,S=r.F.U,U=r.F._putsF,y=r.F._putsE;S.lhst[256]++,m=(h=r.F.getTrees())[0],C=h[1],v=h[2],g=h[3],A=h[4],x=h[5],E=h[6],q=h[7];var b=32+(c+3&7?8-(c+3&7):0)+(o<<3),I=l+r.F.contSize(S.fltree,S.lhst)+r.F.contSize(S.fdtree,S.dhst),$=l+r.F.contSize(S.ltree,S.lhst)+r.F.contSize(S.dtree,S.dhst);$+=14+3*x+r.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var F=0;F<286;F++)S.lhst[F]=0;for(F=0;F<30;F++)S.dhst[F]=0;for(F=0;F<19;F++)S.ihst[F]=0;var R=b<I&&b<$?0:I<$?1:2;if(U(d,c,i),U(d,c+1,R),c+=3,R==0){for(;7&c;)c++;c=r.F._copyExact(u,f,o,d,c)}else{var M,O;if(R==1&&(M=S.fltree,O=S.fdtree),R==2){r.F.makeCodes(S.ltree,m),r.F.revCodes(S.ltree,m),r.F.makeCodes(S.dtree,C),r.F.revCodes(S.dtree,C),r.F.makeCodes(S.itree,v),r.F.revCodes(S.itree,v),M=S.ltree,O=S.dtree,y(d,c,g-257),y(d,c+=5,A-1),y(d,c+=5,x-4),c+=4;for(var k=0;k<x;k++)y(d,c+3*k,S.itree[1+(S.ordr[k]<<1)]);c+=3*x,c=r.F._codeTiny(E,S.itree,d,c),c=r.F._codeTiny(q,S.itree,d,c)}for(var w=f,j=0;j<a;j+=2){for(var N=s[j],D=N>>>23,Y=w+(8388607&N);w<Y;)c=r.F._writeLit(u[w++],M,d,c);if(D!=0){var z=s[j+1],B=z>>16,L=z>>8&255,P=255&z;y(d,c=r.F._writeLit(257+L,M,d,c),D-S.of0[L]),c+=S.exb[L],U(d,c=r.F._writeLit(P,O,d,c),B-S.df0[P]),c+=S.dxb[P],w+=D}}c=r.F._writeLit(256,M,d,c)}return c},r.F._copyExact=function(i,s,a,l,u){var f=u>>>3;return l[f]=a,l[f+1]=a>>>8,l[f+2]=255-l[f],l[f+3]=255-l[f+1],f+=4,l.set(new Uint8Array(i.buffer,s,a),f),u+(a+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),a=r.F._hufTree(i.dhst,i.dtree,15),l=[],u=r.F._lenCodes(i.ltree,l),f=[],o=r.F._lenCodes(i.dtree,f),d=0;d<l.length;d+=2)i.ihst[l[d]]++;for(d=0;d<f.length;d+=2)i.ihst[f[d]]++;for(var c=r.F._hufTree(i.ihst,i.itree,7),h=19;h>4&&i.itree[1+(i.ordr[h-1]<<1)]==0;)h--;return[s,a,c,u,o,h,l,f]},r.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},r.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},r.F.contSize=function(i,s){for(var a=0,l=0;l<s.length;l++)a+=s[l]*i[1+(l<<1)];return a},r.F._codeTiny=function(i,s,a,l){for(var u=0;u<i.length;u+=2){var f=i[u],o=i[u+1];l=r.F._writeLit(f,s,a,l);var d=f==16?2:f==17?3:7;f>15&&(r.F._putsE(a,l,o,d),l+=d)}return l},r.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var u=i[l+1],f=l+3<a?i[l+3]:-1,o=l+5<a?i[l+5]:-1,d=l==0?-1:i[l-1];if(u==0&&f==u&&o==u){for(var c=l+5;c+2<a&&i[c+2]==u;)c+=2;(h=Math.min(c+1-l>>>1,138))<11?s.push(17,h-3):s.push(18,h-11),l+=2*h-2}else if(u==d&&f==u&&o==u){for(c=l+5;c+2<a&&i[c+2]==u;)c+=2;var h=Math.min(c+1-l>>>1,6);s.push(16,h-3),l+=2*h-2}else s.push(u,0)}return a>>>1},r.F._hufTree=function(i,s,a){var l=[],u=i.length,f=s.length,o=0;for(o=0;o<f;o+=2)s[o]=0,s[o+1]=0;for(o=0;o<u;o++)i[o]!=0&&l.push({lit:o,f:i[o]});var d=l.length,c=l.slice(0);if(d==0)return 0;if(d==1){var h=l[0].lit;return c=h==0?1:0,s[1+(h<<1)]=1,s[1+(c<<1)]=1,1}l.sort(function(E,q){return E.f-q.f});var m=l[0],C=l[1],v=0,g=1,A=2;for(l[0]={lit:-1,f:m.f+C.f,l:m,r:C,d:0};g!=d-1;)m=v!=g&&(A==d||l[v].f<l[A].f)?l[v++]:l[A++],C=v!=g&&(A==d||l[v].f<l[A].f)?l[v++]:l[A++],l[g++]={lit:-1,f:m.f+C.f,l:m,r:C};var x=r.F.setDepth(l[g-1],0);for(x>a&&(r.F.restrictDepth(c,a,x),x=a),o=0;o<d;o++)s[1+(c[o].lit<<1)]=c[o].d;return x},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,a){var l=0,u=1<<a-s,f=0;for(i.sort(function(d,c){return c.d==d.d?d.f-c.f:c.d-d.d}),l=0;l<i.length&&i[l].d>s;l++){var o=i[l].d;i[l].d=s,f+=u-(1<<a-o)}for(f>>>=a-s;f>0;)(o=i[l].d)<s?(i[l].d++,f-=1<<s-o-1):l++;for(;l>=0;l--)i[l].d==s&&f<0&&(i[l].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},r.F._writeLit=function(i,s,a,l){return r.F._putsF(a,l,s[i<<1]),l+s[1+(i<<1)]},r.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var l=r.F,u=l._bitsF,f=l._bitsE,o=l._decodeTiny,d=l.makeCodes,c=l.codes2map,h=l._get17,m=l.U,C=s==null;C&&(s=new a(i.length>>>2<<3));for(var v,g,A=0,x=0,E=0,q=0,S=0,U=0,y=0,b=0,I=0;A==0;)if(A=u(i,I,1),x=u(i,I+1,2),I+=3,x!=0){if(C&&(s=r.F._check(s,b+(1<<17))),x==1&&(v=m.flmap,g=m.fdmap,U=511,y=31),x==2){E=f(i,I,5)+257,q=f(i,I+5,5)+1,S=f(i,I+10,4)+4,I+=14;for(var $=0;$<38;$+=2)m.itree[$]=0,m.itree[$+1]=0;var F=1;for($=0;$<S;$++){var R=f(i,I+3*$,3);m.itree[1+(m.ordr[$]<<1)]=R,R>F&&(F=R)}I+=3*S,d(m.itree,F),c(m.itree,F,m.imap),v=m.lmap,g=m.dmap,I=o(m.imap,(1<<F)-1,E+q,i,I,m.ttree);var M=l._copyOut(m.ttree,0,E,m.ltree);U=(1<<M)-1;var O=l._copyOut(m.ttree,E,q,m.dtree);y=(1<<O)-1,d(m.ltree,M),c(m.ltree,M,v),d(m.dtree,O),c(m.dtree,O,g)}for(;;){var k=v[h(i,I)&U];I+=15&k;var w=k>>>4;if(!(w>>>8))s[b++]=w;else{if(w==256)break;var j=b+w-254;if(w>264){var N=m.ldef[w-257];j=b+(N>>>3)+f(i,I,7&N),I+=7&N}var D=g[h(i,I)&y];I+=15&D;var Y=D>>>4,z=m.ddef[Y],B=(z>>>4)+u(i,I,15&z);for(I+=15&z,C&&(s=r.F._check(s,b+(1<<17)));b<j;)s[b]=s[b++-B],s[b]=s[b++-B],s[b]=s[b++-B],s[b]=s[b++-B];b=j}}}else{7&I&&(I+=8-(7&I));var L=4+(I>>>3),P=i[L-4]|i[L-3]<<8;C&&(s=r.F._check(s,b+P)),s.set(new a(i.buffer,i.byteOffset+L,P),b),I=L+P<<3,b+=P}return s.length==b?s:s.slice(0,b)},r.F._check=function(i,s){var a=i.length;if(s<=a)return i;var l=new Uint8Array(Math.max(a<<1,s));return l.set(i,0),l},r.F._decodeTiny=function(i,s,a,l,u,f){for(var o=r.F._bitsE,d=r.F._get17,c=0;c<a;){var h=i[d(l,u)&s];u+=15&h;var m=h>>>4;if(m<=15)f[c]=m,c++;else{var C=0,v=0;m==16?(v=3+o(l,u,2),u+=2,C=f[c-1]):m==17?(v=3+o(l,u,3),u+=3):m==18&&(v=11+o(l,u,7),u+=7);for(var g=c+v;c<g;)f[c]=C,c++}}return u},r.F._copyOut=function(i,s,a,l){for(var u=0,f=0,o=l.length>>>1;f<a;){var d=i[f+s];l[f<<1]=0,l[1+(f<<1)]=d,d>u&&(u=d),f++}for(;f<o;)l[f<<1]=0,l[1+(f<<1)]=0,f++;return u},r.F.makeCodes=function(i,s){for(var a,l,u,f,o=r.F.U,d=i.length,c=o.bl_count,h=0;h<=s;h++)c[h]=0;for(h=1;h<d;h+=2)c[i[h]]++;var m=o.next_code;for(a=0,c[0]=0,l=1;l<=s;l++)a=a+c[l-1]<<1,m[l]=a;for(u=0;u<d;u+=2)(f=i[u+1])!=0&&(i[u]=m[f],m[f]++)},r.F.codes2map=function(i,s,a){for(var l=i.length,u=r.F.U.rev15,f=0;f<l;f+=2)if(i[f+1]!=0)for(var o=f>>1,d=i[f+1],c=o<<4|d,h=s-d,m=i[f]<<h,C=m+(1<<h);m!=C;)a[u[m]>>>15-s]=c,m++},r.F.revCodes=function(i,s){for(var a=r.F.U.rev15,l=15-s,u=0;u<i.length;u+=2){var f=i[u]<<s-i[u+1];i[u]=a[f]>>>l}},r.F._putsE=function(i,s,a){a<<=7&s;var l=s>>>3;i[l]|=a,i[l+1]|=a>>>8},r.F._putsF=function(i,s,a){a<<=7&s;var l=s>>>3;i[l]|=a,i[l+1]|=a>>>8,i[l+2]|=a>>>16},r.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},r.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function l(u,f,o){for(;f--!=0;)u.push(0,o)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];l(i.fltree,144,8),l(i.fltree,112,9),l(i.fltree,24,7),l(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),l(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),l(i.itree,19,0),l(i.ltree,286,0),l(i.dtree,30,0),l(i.ttree,320,0)}()})();var yo=_o({__proto__:null,default:pr},[pr]);const xt=function(){var n={nextZero(o,d){for(;o[d]!=0;)d++;return d},readUshort:(o,d)=>o[d]<<8|o[d+1],writeUshort(o,d,c){o[d]=c>>8&255,o[d+1]=255&c},readUint:(o,d)=>16777216*o[d]+(o[d+1]<<16|o[d+2]<<8|o[d+3]),writeUint(o,d,c){o[d]=c>>24&255,o[d+1]=c>>16&255,o[d+2]=c>>8&255,o[d+3]=255&c},readASCII(o,d,c){let h="";for(let m=0;m<c;m++)h+=String.fromCharCode(o[d+m]);return h},writeASCII(o,d,c){for(let h=0;h<c.length;h++)o[d+h]=c.charCodeAt(h)},readBytes(o,d,c){const h=[];for(let m=0;m<c;m++)h.push(o[d+m]);return h},pad:o=>o.length<2?`0${o}`:o,readUTF8(o,d,c){let h,m="";for(let C=0;C<c;C++)m+=`%${n.pad(o[d+C].toString(16))}`;try{h=decodeURIComponent(m)}catch{return n.readASCII(o,d,c)}return h}};function e(o,d,c,h){const m=d*c,C=s(h),v=Math.ceil(d*C/8),g=new Uint8Array(4*m),A=new Uint32Array(g.buffer),{ctype:x}=h,{depth:E}=h,q=n.readUshort;if(x==6){const N=m<<2;if(E==8)for(var S=0;S<N;S+=4)g[S]=o[S],g[S+1]=o[S+1],g[S+2]=o[S+2],g[S+3]=o[S+3];if(E==16)for(S=0;S<N;S++)g[S]=o[S<<1]}else if(x==2){const N=h.tabs.tRNS;if(N==null){if(E==8)for(S=0;S<m;S++){var U=3*S;A[S]=255<<24|o[U+2]<<16|o[U+1]<<8|o[U]}if(E==16)for(S=0;S<m;S++)U=6*S,A[S]=255<<24|o[U+4]<<16|o[U+2]<<8|o[U]}else{var y=N[0];const D=N[1],Y=N[2];if(E==8)for(S=0;S<m;S++){var b=S<<2;U=3*S,A[S]=255<<24|o[U+2]<<16|o[U+1]<<8|o[U],o[U]==y&&o[U+1]==D&&o[U+2]==Y&&(g[b+3]=0)}if(E==16)for(S=0;S<m;S++)b=S<<2,U=6*S,A[S]=255<<24|o[U+4]<<16|o[U+2]<<8|o[U],q(o,U)==y&&q(o,U+2)==D&&q(o,U+4)==Y&&(g[b+3]=0)}}else if(x==3){const N=h.tabs.PLTE,D=h.tabs.tRNS,Y=D?D.length:0;if(E==1)for(var I=0;I<c;I++){var $=I*v,F=I*d;for(S=0;S<d;S++){b=F+S<<2;var R=3*(M=o[$+(S>>3)]>>7-((7&S)<<0)&1);g[b]=N[R],g[b+1]=N[R+1],g[b+2]=N[R+2],g[b+3]=M<Y?D[M]:255}}if(E==2)for(I=0;I<c;I++)for($=I*v,F=I*d,S=0;S<d;S++)b=F+S<<2,R=3*(M=o[$+(S>>2)]>>6-((3&S)<<1)&3),g[b]=N[R],g[b+1]=N[R+1],g[b+2]=N[R+2],g[b+3]=M<Y?D[M]:255;if(E==4)for(I=0;I<c;I++)for($=I*v,F=I*d,S=0;S<d;S++)b=F+S<<2,R=3*(M=o[$+(S>>1)]>>4-((1&S)<<2)&15),g[b]=N[R],g[b+1]=N[R+1],g[b+2]=N[R+2],g[b+3]=M<Y?D[M]:255;if(E==8)for(S=0;S<m;S++){var M;b=S<<2,R=3*(M=o[S]),g[b]=N[R],g[b+1]=N[R+1],g[b+2]=N[R+2],g[b+3]=M<Y?D[M]:255}}else if(x==4){if(E==8)for(S=0;S<m;S++){b=S<<2;var O=o[k=S<<1];g[b]=O,g[b+1]=O,g[b+2]=O,g[b+3]=o[k+1]}if(E==16)for(S=0;S<m;S++){var k;b=S<<2,O=o[k=S<<2],g[b]=O,g[b+1]=O,g[b+2]=O,g[b+3]=o[k+2]}}else if(x==0)for(y=h.tabs.tRNS?h.tabs.tRNS:-1,I=0;I<c;I++){const N=I*v,D=I*d;if(E==1)for(var w=0;w<d;w++){var j=(O=255*(o[N+(w>>>3)]>>>7-(7&w)&1))==255*y?0:255;A[D+w]=j<<24|O<<16|O<<8|O}else if(E==2)for(w=0;w<d;w++)j=(O=85*(o[N+(w>>>2)]>>>6-((3&w)<<1)&3))==85*y?0:255,A[D+w]=j<<24|O<<16|O<<8|O;else if(E==4)for(w=0;w<d;w++)j=(O=17*(o[N+(w>>>1)]>>>4-((1&w)<<2)&15))==17*y?0:255,A[D+w]=j<<24|O<<16|O<<8|O;else if(E==8)for(w=0;w<d;w++)j=(O=o[N+w])==y?0:255,A[D+w]=j<<24|O<<16|O<<8|O;else if(E==16)for(w=0;w<d;w++)O=o[N+(w<<1)],j=q(o,N+(w<<1))==y?0:255,A[D+w]=j<<24|O<<16|O<<8|O}return g}function t(o,d,c,h){const m=s(o),C=Math.ceil(c*m/8),v=new Uint8Array((C+1+o.interlace)*h);return d=o.tabs.CgBI?i(d,v):r(d,v),o.interlace==0?d=a(d,o,0,c,h):o.interlace==1&&(d=function(A,x){const E=x.width,q=x.height,S=s(x),U=S>>3,y=Math.ceil(E*S/8),b=new Uint8Array(q*y);let I=0;const $=[0,0,4,0,2,0,1],F=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],M=[8,8,4,4,2,2,1];let O=0;for(;O<7;){const w=R[O],j=M[O];let N=0,D=0,Y=$[O];for(;Y<q;)Y+=w,D++;let z=F[O];for(;z<E;)z+=j,N++;const B=Math.ceil(N*S/8);a(A,x,I,N,D);let L=0,P=$[O];for(;P<q;){let ie=F[O],be=I+L*B<<3;for(;ie<E;){var k;if(S==1&&(k=(k=A[be>>3])>>7-(7&be)&1,b[P*y+(ie>>3)]|=k<<7-((7&ie)<<0)),S==2&&(k=(k=A[be>>3])>>6-(7&be)&3,b[P*y+(ie>>2)]|=k<<6-((3&ie)<<1)),S==4&&(k=(k=A[be>>3])>>4-(7&be)&15,b[P*y+(ie>>1)]|=k<<4-((1&ie)<<2)),S>=8){const ne=P*y+ie*U;for(let X=0;X<U;X++)b[ne+X]=A[(be>>3)+X]}be+=S,ie+=j}L++,P+=w}N*D!=0&&(I+=D*(1+B)),O+=1}return b}(d,o)),d}function r(o,d){return i(new Uint8Array(o.buffer,2,o.length-6),d)}var i=function(){const o={H:{}};return o.H.N=function(d,c){const h=Uint8Array;let m,C,v=0,g=0,A=0,x=0,E=0,q=0,S=0,U=0,y=0;if(d[0]==3&&d[1]==0)return c||new h(0);const b=o.H,I=b.b,$=b.e,F=b.R,R=b.n,M=b.A,O=b.Z,k=b.m,w=c==null;for(w&&(c=new h(d.length>>>2<<5));v==0;)if(v=I(d,y,1),g=I(d,y+1,2),y+=3,g!=0){if(w&&(c=o.H.W(c,U+(1<<17))),g==1&&(m=k.J,C=k.h,q=511,S=31),g==2){A=$(d,y,5)+257,x=$(d,y+5,5)+1,E=$(d,y+10,4)+4,y+=14;let N=1;for(var j=0;j<38;j+=2)k.Q[j]=0,k.Q[j+1]=0;for(j=0;j<E;j++){const z=$(d,y+3*j,3);k.Q[1+(k.X[j]<<1)]=z,z>N&&(N=z)}y+=3*E,R(k.Q,N),M(k.Q,N,k.u),m=k.w,C=k.d,y=F(k.u,(1<<N)-1,A+x,d,y,k.v);const D=b.V(k.v,0,A,k.C);q=(1<<D)-1;const Y=b.V(k.v,A,x,k.D);S=(1<<Y)-1,R(k.C,D),M(k.C,D,m),R(k.D,Y),M(k.D,Y,C)}for(;;){const N=m[O(d,y)&q];y+=15&N;const D=N>>>4;if(!(D>>>8))c[U++]=D;else{if(D==256)break;{let Y=U+D-254;if(D>264){const ie=k.q[D-257];Y=U+(ie>>>3)+$(d,y,7&ie),y+=7&ie}const z=C[O(d,y)&S];y+=15&z;const B=z>>>4,L=k.c[B],P=(L>>>4)+I(d,y,15&L);for(y+=15&L;U<Y;)c[U]=c[U++-P],c[U]=c[U++-P],c[U]=c[U++-P],c[U]=c[U++-P];U=Y}}}}else{7&y&&(y+=8-(7&y));const N=4+(y>>>3),D=d[N-4]|d[N-3]<<8;w&&(c=o.H.W(c,U+D)),c.set(new h(d.buffer,d.byteOffset+N,D),U),y=N+D<<3,U+=D}return c.length==U?c:c.slice(0,U)},o.H.W=function(d,c){const h=d.length;if(c<=h)return d;const m=new Uint8Array(h<<1);return m.set(d,0),m},o.H.R=function(d,c,h,m,C,v){const g=o.H.e,A=o.H.Z;let x=0;for(;x<h;){const E=d[A(m,C)&c];C+=15&E;const q=E>>>4;if(q<=15)v[x]=q,x++;else{let S=0,U=0;q==16?(U=3+g(m,C,2),C+=2,S=v[x-1]):q==17?(U=3+g(m,C,3),C+=3):q==18&&(U=11+g(m,C,7),C+=7);const y=x+U;for(;x<y;)v[x]=S,x++}}return C},o.H.V=function(d,c,h,m){let C=0,v=0;const g=m.length>>>1;for(;v<h;){const A=d[v+c];m[v<<1]=0,m[1+(v<<1)]=A,A>C&&(C=A),v++}for(;v<g;)m[v<<1]=0,m[1+(v<<1)]=0,v++;return C},o.H.n=function(d,c){const h=o.H.m,m=d.length;let C,v,g,A;const x=h.j;for(var E=0;E<=c;E++)x[E]=0;for(E=1;E<m;E+=2)x[d[E]]++;const q=h.K;for(C=0,x[0]=0,v=1;v<=c;v++)C=C+x[v-1]<<1,q[v]=C;for(g=0;g<m;g+=2)A=d[g+1],A!=0&&(d[g]=q[A],q[A]++)},o.H.A=function(d,c,h){const m=d.length,C=o.H.m.r;for(let v=0;v<m;v+=2)if(d[v+1]!=0){const g=v>>1,A=d[v+1],x=g<<4|A,E=c-A;let q=d[v]<<E;const S=q+(1<<E);for(;q!=S;)h[C[q]>>>15-c]=x,q++}},o.H.l=function(d,c){const h=o.H.m.r,m=15-c;for(let C=0;C<d.length;C+=2){const v=d[C]<<c-d[C+1];d[C]=h[v]>>>m}},o.H.M=function(d,c,h){h<<=7&c;const m=c>>>3;d[m]|=h,d[m+1]|=h>>>8},o.H.I=function(d,c,h){h<<=7&c;const m=c>>>3;d[m]|=h,d[m+1]|=h>>>8,d[m+2]|=h>>>16},o.H.e=function(d,c,h){return(d[c>>>3]|d[1+(c>>>3)]<<8)>>>(7&c)&(1<<h)-1},o.H.b=function(d,c,h){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)&(1<<h)-1},o.H.Z=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)},o.H.i=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16|d[3+(c>>>3)]<<24)>>>(7&c)},o.H.m=function(){const d=Uint16Array,c=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=o.H.m;for(var c=0;c<32768;c++){let m=c;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[c]=(m>>>16|m<<16)>>>17}function h(m,C,v){for(;C--!=0;)m.push(0,v)}for(c=0;c<32;c++)d.q[c]=d.S[c]<<3|d.T[c],d.c[c]=d.p[c]<<4|d.z[c];h(d._,144,8),h(d._,112,9),h(d._,24,7),h(d._,8,8),o.H.n(d._,9),o.H.A(d._,9,d.J),o.H.l(d._,9),h(d.$,32,5),o.H.n(d.$,5),o.H.A(d.$,5,d.h),o.H.l(d.$,5),h(d.Q,19,0),h(d.C,286,0),h(d.D,30,0),h(d.v,320,0)}(),o.H.N}();function s(o){return[1,null,3,1,2,null,4][o.ctype]*o.depth}function a(o,d,c,h,m){let C=s(d);const v=Math.ceil(h*C/8);let g,A;C=Math.ceil(C/8);let x=o[c],E=0;if(x>1&&(o[c]=[0,0,1][x-2]),x==3)for(E=C;E<v;E++)o[E+1]=o[E+1]+(o[E+1-C]>>>1)&255;for(let q=0;q<m;q++)if(g=c+q*v,A=g+q+1,x=o[A-1],E=0,x==0)for(;E<v;E++)o[g+E]=o[A+E];else if(x==1){for(;E<C;E++)o[g+E]=o[A+E];for(;E<v;E++)o[g+E]=o[A+E]+o[g+E-C]}else if(x==2)for(;E<v;E++)o[g+E]=o[A+E]+o[g+E-v];else if(x==3){for(;E<C;E++)o[g+E]=o[A+E]+(o[g+E-v]>>>1);for(;E<v;E++)o[g+E]=o[A+E]+(o[g+E-v]+o[g+E-C]>>>1)}else{for(;E<C;E++)o[g+E]=o[A+E]+l(0,o[g+E-v],0);for(;E<v;E++)o[g+E]=o[A+E]+l(o[g+E-C],o[g+E-v],o[g+E-C-v])}return o}function l(o,d,c){const h=o+d-c,m=h-o,C=h-d,v=h-c;return m*m<=C*C&&m*m<=v*v?o:C*C<=v*v?d:c}function u(o,d,c){c.width=n.readUint(o,d),d+=4,c.height=n.readUint(o,d),d+=4,c.depth=o[d],d++,c.ctype=o[d],d++,c.compress=o[d],d++,c.filter=o[d],d++,c.interlace=o[d],d++}function f(o,d,c,h,m,C,v,g,A){const x=Math.min(d,m),E=Math.min(c,C);let q=0,S=0;for(let O=0;O<E;O++)for(let k=0;k<x;k++)if(v>=0&&g>=0?(q=O*d+k<<2,S=(g+O)*m+v+k<<2):(q=(-g+O)*d-v+k<<2,S=O*m+k<<2),A==0)h[S]=o[q],h[S+1]=o[q+1],h[S+2]=o[q+2],h[S+3]=o[q+3];else if(A==1){var U=o[q+3]*.00392156862745098,y=o[q]*U,b=o[q+1]*U,I=o[q+2]*U,$=h[S+3]*(1/255),F=h[S]*$,R=h[S+1]*$,M=h[S+2]*$;const w=1-U,j=U+$*w,N=j==0?0:1/j;h[S+3]=255*j,h[S+0]=(y+F*w)*N,h[S+1]=(b+R*w)*N,h[S+2]=(I+M*w)*N}else if(A==2)U=o[q+3],y=o[q],b=o[q+1],I=o[q+2],$=h[S+3],F=h[S],R=h[S+1],M=h[S+2],U==$&&y==F&&b==R&&I==M?(h[S]=0,h[S+1]=0,h[S+2]=0,h[S+3]=0):(h[S]=y,h[S+1]=b,h[S+2]=I,h[S+3]=U);else if(A==3){if(U=o[q+3],y=o[q],b=o[q+1],I=o[q+2],$=h[S+3],F=h[S],R=h[S+1],M=h[S+2],U==$&&y==F&&b==R&&I==M)continue;if(U<220&&$>20)return!1}return!0}return{decode:function(d){const c=new Uint8Array(d);let h=8;const m=n,C=m.readUshort,v=m.readUint,g={tabs:{},frames:[]},A=new Uint8Array(c.length);let x,E=0,q=0;const S=[137,80,78,71,13,10,26,10];for(var U=0;U<8;U++)if(c[U]!=S[U])throw"The input is not a PNG file!";for(;h<c.length;){const O=m.readUint(c,h);h+=4;const k=m.readASCII(c,h,4);if(h+=4,k=="IHDR")u(c,h,g);else if(k=="iCCP"){for(var y=h;c[y]!=0;)y++;m.readASCII(c,h,y-h),c[y+1];const w=c.slice(y+2,h+O);let j=null;try{j=r(w)}catch{j=i(w)}g.tabs[k]=j}else if(k=="CgBI")g.tabs[k]=c.slice(h,h+4);else if(k=="IDAT"){for(U=0;U<O;U++)A[E+U]=c[h+U];E+=O}else if(k=="acTL")g.tabs[k]={num_frames:v(c,h),num_plays:v(c,h+4)},x=new Uint8Array(c.length);else if(k=="fcTL"){q!=0&&((M=g.frames[g.frames.length-1]).data=t(g,x.slice(0,q),M.rect.width,M.rect.height),q=0);const w={x:v(c,h+12),y:v(c,h+16),width:v(c,h+4),height:v(c,h+8)};let j=C(c,h+22);j=C(c,h+20)/(j==0?100:j);const N={rect:w,delay:Math.round(1e3*j),dispose:c[h+24],blend:c[h+25]};g.frames.push(N)}else if(k=="fdAT"){for(U=0;U<O-4;U++)x[q+U]=c[h+U+4];q+=O-4}else if(k=="pHYs")g.tabs[k]=[m.readUint(c,h),m.readUint(c,h+4),c[h+8]];else if(k=="cHRM")for(g.tabs[k]=[],U=0;U<8;U++)g.tabs[k].push(m.readUint(c,h+4*U));else if(k=="tEXt"||k=="zTXt"){g.tabs[k]==null&&(g.tabs[k]={});var b=m.nextZero(c,h),I=m.readASCII(c,h,b-h),$=h+O-b-1;if(k=="tEXt")R=m.readASCII(c,b+1,$);else{var F=r(c.slice(b+2,b+2+$));R=m.readUTF8(F,0,F.length)}g.tabs[k][I]=R}else if(k=="iTXt"){g.tabs[k]==null&&(g.tabs[k]={}),b=0,y=h,b=m.nextZero(c,y),I=m.readASCII(c,y,b-y);const w=c[y=b+1];var R;c[y+1],y+=2,b=m.nextZero(c,y),m.readASCII(c,y,b-y),y=b+1,b=m.nextZero(c,y),m.readUTF8(c,y,b-y),$=O-((y=b+1)-h),w==0?R=m.readUTF8(c,y,$):(F=r(c.slice(y,y+$)),R=m.readUTF8(F,0,F.length)),g.tabs[k][I]=R}else if(k=="PLTE")g.tabs[k]=m.readBytes(c,h,O);else if(k=="hIST"){const w=g.tabs.PLTE.length/3;for(g.tabs[k]=[],U=0;U<w;U++)g.tabs[k].push(C(c,h+2*U))}else if(k=="tRNS")g.ctype==3?g.tabs[k]=m.readBytes(c,h,O):g.ctype==0?g.tabs[k]=C(c,h):g.ctype==2&&(g.tabs[k]=[C(c,h),C(c,h+2),C(c,h+4)]);else if(k=="gAMA")g.tabs[k]=m.readUint(c,h)/1e5;else if(k=="sRGB")g.tabs[k]=c[h];else if(k=="bKGD")g.ctype==0||g.ctype==4?g.tabs[k]=[C(c,h)]:g.ctype==2||g.ctype==6?g.tabs[k]=[C(c,h),C(c,h+2),C(c,h+4)]:g.ctype==3&&(g.tabs[k]=c[h]);else if(k=="IEND")break;h+=O,m.readUint(c,h),h+=4}var M;return q!=0&&((M=g.frames[g.frames.length-1]).data=t(g,x.slice(0,q),M.rect.width,M.rect.height)),g.data=t(g,A,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const c=d.width,h=d.height;if(d.tabs.acTL==null)return[e(d.data,c,h,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const C=c*h*4,v=new Uint8Array(C),g=new Uint8Array(C),A=new Uint8Array(C);for(let E=0;E<d.frames.length;E++){const q=d.frames[E],S=q.rect.x,U=q.rect.y,y=q.rect.width,b=q.rect.height,I=e(q.data,y,b,d);if(E!=0)for(var x=0;x<C;x++)A[x]=v[x];if(q.blend==0?f(I,y,b,v,c,h,S,U,0):q.blend==1&&f(I,y,b,v,c,h,S,U,1),m.push(v.buffer.slice(0)),q.dispose!=0){if(q.dispose==1)f(g,y,b,v,c,h,S,U,0);else if(q.dispose==2)for(x=0;x<C;x++)v[x]=A[x]}}return m},_paeth:l,_copyTile:f,_bin:n}}();(function(){const{_copyTile:n}=xt,{_bin:e}=xt,t=xt._paeth;var r={table:function(){const y=new Uint32Array(256);for(let b=0;b<256;b++){let I=b;for(let $=0;$<8;$++)1&I?I=3988292384^I>>>1:I>>>=1;y[b]=I}return y}(),update(y,b,I,$){for(let F=0;F<$;F++)y=r.table[255&(y^b[I+F])]^y>>>8;return y},crc:(y,b,I)=>4294967295^r.update(4294967295,y,b,I)};function i(y,b,I,$){b[I]+=y[0]*$>>4,b[I+1]+=y[1]*$>>4,b[I+2]+=y[2]*$>>4,b[I+3]+=y[3]*$>>4}function s(y){return Math.max(0,Math.min(255,y))}function a(y,b){const I=y[0]-b[0],$=y[1]-b[1],F=y[2]-b[2],R=y[3]-b[3];return I*I+$*$+F*F+R*R}function l(y,b,I,$,F,R,M){M==null&&(M=1);const O=$.length,k=[];for(var w=0;w<O;w++){const P=$[w];k.push([P>>>0&255,P>>>8&255,P>>>16&255,P>>>24&255])}for(w=0;w<O;w++){let P=4294967295;for(var j=0,N=0;N<O;N++){var D=a(k[w],k[N]);N!=w&&D<P&&(P=D,j=N)}}const Y=new Uint32Array(F.buffer),z=new Int16Array(b*I*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(w=0;w<B.length;w++)B[w]=255*((B[w]+.5)/16-.5);for(let P=0;P<I;P++)for(let ie=0;ie<b;ie++){var L;w=4*(P*b+ie),M!=2?L=[s(y[w]+z[w]),s(y[w+1]+z[w+1]),s(y[w+2]+z[w+2]),s(y[w+3]+z[w+3])]:(D=B[4*(3&P)+(3&ie)],L=[s(y[w]+D),s(y[w+1]+D),s(y[w+2]+D),s(y[w+3]+D)]),j=0;let be=16777215;for(N=0;N<O;N++){const ue=a(L,k[N]);ue<be&&(be=ue,j=N)}const ne=k[j],X=[L[0]-ne[0],L[1]-ne[1],L[2]-ne[2],L[3]-ne[3]];M==1&&(ie!=b-1&&i(X,z,w+4,7),P!=I-1&&(ie!=0&&i(X,z,w+4*b-4,3),i(X,z,w+4*b,5),ie!=b-1&&i(X,z,w+4*b+4,1))),R[w>>2]=j,Y[w>>2]=$[j]}}function u(y,b,I,$,F){F==null&&(F={});const{crc:R}=r,M=e.writeUint,O=e.writeUshort,k=e.writeASCII;let w=8;const j=y.frames.length>1;let N,D=!1,Y=33+(j?20:0);if(F.sRGB!=null&&(Y+=13),F.pHYs!=null&&(Y+=21),F.iCCP!=null&&(N=pako.deflate(F.iCCP),Y+=21+N.length+4),y.ctype==3){for(var z=y.plte.length,B=0;B<z;B++)y.plte[B]>>>24!=255&&(D=!0);Y+=8+3*z+4+(D?8+1*z+4:0)}for(var L=0;L<y.frames.length;L++)j&&(Y+=38),Y+=(ne=y.frames[L]).cimg.length+12,L!=0&&(Y+=4);Y+=12;const P=new Uint8Array(Y),ie=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)P[B]=ie[B];if(M(P,w,13),w+=4,k(P,w,"IHDR"),w+=4,M(P,w,b),w+=4,M(P,w,I),w+=4,P[w]=y.depth,w++,P[w]=y.ctype,w++,P[w]=0,w++,P[w]=0,w++,P[w]=0,w++,M(P,w,R(P,w-17,17)),w+=4,F.sRGB!=null&&(M(P,w,1),w+=4,k(P,w,"sRGB"),w+=4,P[w]=F.sRGB,w++,M(P,w,R(P,w-5,5)),w+=4),F.iCCP!=null){const X=13+N.length;M(P,w,X),w+=4,k(P,w,"iCCP"),w+=4,k(P,w,"ICC profile"),w+=11,w+=2,P.set(N,w),w+=N.length,M(P,w,R(P,w-(X+4),X+4)),w+=4}if(F.pHYs!=null&&(M(P,w,9),w+=4,k(P,w,"pHYs"),w+=4,M(P,w,F.pHYs[0]),w+=4,M(P,w,F.pHYs[1]),w+=4,P[w]=F.pHYs[2],w++,M(P,w,R(P,w-13,13)),w+=4),j&&(M(P,w,8),w+=4,k(P,w,"acTL"),w+=4,M(P,w,y.frames.length),w+=4,M(P,w,F.loop!=null?F.loop:0),w+=4,M(P,w,R(P,w-12,12)),w+=4),y.ctype==3){for(M(P,w,3*(z=y.plte.length)),w+=4,k(P,w,"PLTE"),w+=4,B=0;B<z;B++){const X=3*B,ue=y.plte[B],ke=255&ue,Se=ue>>>8&255,Be=ue>>>16&255;P[w+X+0]=ke,P[w+X+1]=Se,P[w+X+2]=Be}if(w+=3*z,M(P,w,R(P,w-3*z-4,3*z+4)),w+=4,D){for(M(P,w,z),w+=4,k(P,w,"tRNS"),w+=4,B=0;B<z;B++)P[w+B]=y.plte[B]>>>24&255;w+=z,M(P,w,R(P,w-z-4,z+4)),w+=4}}let be=0;for(L=0;L<y.frames.length;L++){var ne=y.frames[L];j&&(M(P,w,26),w+=4,k(P,w,"fcTL"),w+=4,M(P,w,be++),w+=4,M(P,w,ne.rect.width),w+=4,M(P,w,ne.rect.height),w+=4,M(P,w,ne.rect.x),w+=4,M(P,w,ne.rect.y),w+=4,O(P,w,$[L]),w+=2,O(P,w,1e3),w+=2,P[w]=ne.dispose,w++,P[w]=ne.blend,w++,M(P,w,R(P,w-30,30)),w+=4);const X=ne.cimg;M(P,w,(z=X.length)+(L==0?0:4)),w+=4;const ue=w;k(P,w,L==0?"IDAT":"fdAT"),w+=4,L!=0&&(M(P,w,be++),w+=4),P.set(X,w),w+=z,M(P,w,R(P,ue,w-ue)),w+=4}return M(P,w,0),w+=4,k(P,w,"IEND"),w+=4,M(P,w,R(P,w-4,4)),w+=4,P.buffer}function f(y,b,I){for(let $=0;$<y.frames.length;$++){const F=y.frames[$];F.rect.width;const R=F.rect.height,M=new Uint8Array(R*F.bpl+R);F.cimg=h(F.img,R,F.bpp,F.bpl,M,b,I)}}function o(y,b,I,$,F){const R=F[0],M=F[1],O=F[2],k=F[3],w=F[4],j=F[5];let N=6,D=8,Y=255;for(var z=0;z<y.length;z++){const Ze=new Uint8Array(y[z]);for(var B=Ze.length,L=0;L<B;L+=4)Y&=Ze[L+3]}const P=Y!=255,ie=function(we,me,Re,Oe,$e,tt){const Ee=[];for(var Ie=0;Ie<we.length;Ie++){const qe=new Uint8Array(we[Ie]),Ue=new Uint32Array(qe.buffer);var Ne;let Ge=0,lt=0,Le=me,Je=Re,qt=Oe?1:0;if(Ie!=0){const At=tt||Oe||Ie==1||Ee[Ie-2].dispose!=0?1:2;let jt=0,rt=1e9;for(let ut=0;ut<At;ut++){var We=new Uint8Array(we[Ie-1-ut]);const ze=new Uint32Array(we[Ie-1-ut]);let Ye=me,Xe=Re,yt=-1,bt=-1;for(let Ve=0;Ve<Re;Ve++)for(let Ke=0;Ke<me;Ke++)Ue[je=Ve*me+Ke]!=ze[je]&&(Ke<Ye&&(Ye=Ke),Ke>yt&&(yt=Ke),Ve<Xe&&(Xe=Ve),Ve>bt&&(bt=Ve));yt==-1&&(Ye=Xe=yt=bt=0),$e&&((1&Ye)==1&&Ye--,(1&Xe)==1&&Xe--);const en=(yt-Ye+1)*(bt-Xe+1);en<rt&&(rt=en,jt=ut,Ge=Ye,lt=Xe,Le=yt-Ye+1,Je=bt-Xe+1)}We=new Uint8Array(we[Ie-1-jt]),jt==1&&(Ee[Ie-1].dispose=2),Ne=new Uint8Array(Le*Je*4),n(We,me,Re,Ne,Le,Je,-Ge,-lt,0),qt=n(qe,me,Re,Ne,Le,Je,-Ge,-lt,3)?1:0,qt==1?c(qe,me,Re,Ne,{x:Ge,y:lt,width:Le,height:Je}):n(qe,me,Re,Ne,Le,Je,-Ge,-lt,0)}else Ne=qe.slice(0);Ee.push({rect:{x:Ge,y:lt,width:Le,height:Je},img:Ne,blend:qt,dispose:0})}if(Oe)for(Ie=0;Ie<Ee.length;Ie++){if((nt=Ee[Ie]).blend==1)continue;const qe=nt.rect,Ue=Ee[Ie-1].rect,Ge=Math.min(qe.x,Ue.x),lt=Math.min(qe.y,Ue.y),Le={x:Ge,y:lt,width:Math.max(qe.x+qe.width,Ue.x+Ue.width)-Ge,height:Math.max(qe.y+qe.height,Ue.y+Ue.height)-lt};Ee[Ie-1].dispose=1,Ie-1!=0&&d(we,me,Re,Ee,Ie-1,Le,$e),d(we,me,Re,Ee,Ie,Le,$e)}let kt=0;if(we.length!=1)for(var je=0;je<Ee.length;je++){var nt;kt+=(nt=Ee[je]).rect.width*nt.rect.height}return Ee}(y,b,I,R,M,O),be={},ne=[],X=[];if($!=0){const Ze=[];for(L=0;L<ie.length;L++)Ze.push(ie[L].img.buffer);const we=function($e){let tt=0;for(var Ee=0;Ee<$e.length;Ee++)tt+=$e[Ee].byteLength;const Ie=new Uint8Array(tt);let Ne=0;for(Ee=0;Ee<$e.length;Ee++){const We=new Uint8Array($e[Ee]),kt=We.length;for(let je=0;je<kt;je+=4){let nt=We[je],qe=We[je+1],Ue=We[je+2];const Ge=We[je+3];Ge==0&&(nt=qe=Ue=0),Ie[Ne+je]=nt,Ie[Ne+je+1]=qe,Ie[Ne+je+2]=Ue,Ie[Ne+je+3]=Ge}Ne+=kt}return Ie.buffer}(Ze),me=C(we,$);for(L=0;L<me.plte.length;L++)ne.push(me.plte[L].est.rgba);let Re=0;for(L=0;L<ie.length;L++){const Oe=(ke=ie[L]).img.length;var ue=new Uint8Array(me.inds.buffer,Re>>2,Oe>>2);X.push(ue);const $e=new Uint8Array(me.abuf,Re,Oe);j&&l(ke.img,ke.rect.width,ke.rect.height,ne,$e,ue),ke.img.set($e),Re+=Oe}}else for(z=0;z<ie.length;z++){var ke=ie[z];const Ze=new Uint32Array(ke.img.buffer);var Se=ke.rect.width;for(B=Ze.length,ue=new Uint8Array(B),X.push(ue),L=0;L<B;L++){const we=Ze[L];if(L!=0&&we==Ze[L-1])ue[L]=ue[L-1];else if(L>Se&&we==Ze[L-Se])ue[L]=ue[L-Se];else{let me=be[we];if(me==null&&(be[we]=me=ne.length,ne.push(we),ne.length>=300))break;ue[L]=me}}}const Be=ne.length;for(Be<=256&&w==0&&(D=Be<=2?1:Be<=4?2:Be<=16?4:8,D=Math.max(D,k)),z=0;z<ie.length;z++){(ke=ie[z]).rect.x,ke.rect.y,Se=ke.rect.width;const Ze=ke.rect.height;let we=ke.img;new Uint32Array(we.buffer);let me=4*Se,Re=4;if(Be<=256&&w==0){me=Math.ceil(D*Se/8);var st=new Uint8Array(me*Ze);const Oe=X[z];for(let $e=0;$e<Ze;$e++){L=$e*me;const tt=$e*Se;if(D==8)for(var Fe=0;Fe<Se;Fe++)st[L+Fe]=Oe[tt+Fe];else if(D==4)for(Fe=0;Fe<Se;Fe++)st[L+(Fe>>1)]|=Oe[tt+Fe]<<4-4*(1&Fe);else if(D==2)for(Fe=0;Fe<Se;Fe++)st[L+(Fe>>2)]|=Oe[tt+Fe]<<6-2*(3&Fe);else if(D==1)for(Fe=0;Fe<Se;Fe++)st[L+(Fe>>3)]|=Oe[tt+Fe]<<7-1*(7&Fe)}we=st,N=3,Re=1}else if(P==0&&ie.length==1){st=new Uint8Array(Se*Ze*3);const Oe=Se*Ze;for(L=0;L<Oe;L++){const $e=3*L,tt=4*L;st[$e]=we[tt],st[$e+1]=we[tt+1],st[$e+2]=we[tt+2]}we=st,N=2,Re=3,me=3*Se}ke.img=we,ke.bpl=me,ke.bpp=Re}return{ctype:N,depth:D,plte:ne,frames:ie}}function d(y,b,I,$,F,R,M){const O=Uint8Array,k=Uint32Array,w=new O(y[F-1]),j=new k(y[F-1]),N=F+1<y.length?new O(y[F+1]):null,D=new O(y[F]),Y=new k(D.buffer);let z=b,B=I,L=-1,P=-1;for(let be=0;be<R.height;be++)for(let ne=0;ne<R.width;ne++){const X=R.x+ne,ue=R.y+be,ke=ue*b+X,Se=Y[ke];Se==0||$[F-1].dispose==0&&j[ke]==Se&&(N==null||N[4*ke+3]!=0)||(X<z&&(z=X),X>L&&(L=X),ue<B&&(B=ue),ue>P&&(P=ue))}L==-1&&(z=B=L=P=0),M&&((1&z)==1&&z--,(1&B)==1&&B--),R={x:z,y:B,width:L-z+1,height:P-B+1};const ie=$[F];ie.rect=R,ie.blend=1,ie.img=new Uint8Array(R.width*R.height*4),$[F-1].dispose==0?(n(w,b,I,ie.img,R.width,R.height,-R.x,-R.y,0),c(D,b,I,ie.img,R)):n(D,b,I,ie.img,R.width,R.height,-R.x,-R.y,0)}function c(y,b,I,$,F){n(y,b,I,$,F.width,F.height,-F.x,-F.y,2)}function h(y,b,I,$,F,R,M){const O=[];let k,w=[0,1,2,3,4];R!=-1?w=[R]:(b*$>5e5||I==1)&&(w=[0]),M&&(k={level:0});const j=yo;for(var N=0;N<w.length;N++){for(let z=0;z<b;z++)m(F,y,z,$,I,w[N]);O.push(j.deflate(F,k))}let D,Y=1e9;for(N=0;N<O.length;N++)O[N].length<Y&&(D=N,Y=O[N].length);return O[D]}function m(y,b,I,$,F,R){const M=I*$;let O=M+I;if(y[O]=R,O++,R==0)if($<500)for(var k=0;k<$;k++)y[O+k]=b[M+k];else y.set(new Uint8Array(b.buffer,M,$),O);else if(R==1){for(k=0;k<F;k++)y[O+k]=b[M+k];for(k=F;k<$;k++)y[O+k]=b[M+k]-b[M+k-F]+256&255}else if(I==0){for(k=0;k<F;k++)y[O+k]=b[M+k];if(R==2)for(k=F;k<$;k++)y[O+k]=b[M+k];if(R==3)for(k=F;k<$;k++)y[O+k]=b[M+k]-(b[M+k-F]>>1)+256&255;if(R==4)for(k=F;k<$;k++)y[O+k]=b[M+k]-t(b[M+k-F],0,0)+256&255}else{if(R==2)for(k=0;k<$;k++)y[O+k]=b[M+k]+256-b[M+k-$]&255;if(R==3){for(k=0;k<F;k++)y[O+k]=b[M+k]+256-(b[M+k-$]>>1)&255;for(k=F;k<$;k++)y[O+k]=b[M+k]+256-(b[M+k-$]+b[M+k-F]>>1)&255}if(R==4){for(k=0;k<F;k++)y[O+k]=b[M+k]+256-t(0,b[M+k-$],0)&255;for(k=F;k<$;k++)y[O+k]=b[M+k]+256-t(b[M+k-F],b[M+k-$],b[M+k-F-$])&255}}}function C(y,b){const I=new Uint8Array(y),$=I.slice(0),F=new Uint32Array($.buffer),R=v($,b),M=R[0],O=R[1],k=I.length,w=new Uint8Array(k>>2);let j;if(I.length<2e7)for(var N=0;N<k;N+=4)j=g(M,D=I[N]*(1/255),Y=I[N+1]*(1/255),z=I[N+2]*(1/255),B=I[N+3]*(1/255)),w[N>>2]=j.ind,F[N>>2]=j.est.rgba;else for(N=0;N<k;N+=4){var D=I[N]*.00392156862745098,Y=I[N+1]*(1/255),z=I[N+2]*(1/255),B=I[N+3]*(1/255);for(j=M;j.left;)j=A(j.est,D,Y,z,B)<=0?j.left:j.right;w[N>>2]=j.ind,F[N>>2]=j.est.rgba}return{abuf:$.buffer,inds:w,plte:O}}function v(y,b,I){I==null&&(I=1e-4);const $=new Uint32Array(y.buffer),F={i0:0,i1:y.length,bst:null,est:null,tdst:0,left:null,right:null};F.bst=q(y,F.i0,F.i1),F.est=S(F.bst);const R=[F];for(;R.length<b;){let O=0,k=0;for(var M=0;M<R.length;M++)R[M].est.L>O&&(O=R[M].est.L,k=M);if(O<I)break;const w=R[k],j=x(y,$,w.i0,w.i1,w.est.e,w.est.eMq255);if(w.i0>=j||w.i1<=j){w.est.L=0;continue}const N={i0:w.i0,i1:j,bst:null,est:null,tdst:0,left:null,right:null};N.bst=q(y,N.i0,N.i1),N.est=S(N.bst);const D={i0:j,i1:w.i1,bst:null,est:null,tdst:0,left:null,right:null};for(D.bst={R:[],m:[],N:w.bst.N-N.bst.N},M=0;M<16;M++)D.bst.R[M]=w.bst.R[M]-N.bst.R[M];for(M=0;M<4;M++)D.bst.m[M]=w.bst.m[M]-N.bst.m[M];D.est=S(D.bst),w.left=N,w.right=D,R[k]=N,R.push(D)}for(R.sort((O,k)=>k.bst.N-O.bst.N),M=0;M<R.length;M++)R[M].ind=M;return[F,R]}function g(y,b,I,$,F){if(y.left==null)return y.tdst=function(N,D,Y,z,B){const L=D-N[0],P=Y-N[1],ie=z-N[2],be=B-N[3];return L*L+P*P+ie*ie+be*be}(y.est.q,b,I,$,F),y;const R=A(y.est,b,I,$,F);let M=y.left,O=y.right;R>0&&(M=y.right,O=y.left);const k=g(M,b,I,$,F);if(k.tdst<=R*R)return k;const w=g(O,b,I,$,F);return w.tdst<k.tdst?w:k}function A(y,b,I,$,F){const{e:R}=y;return R[0]*b+R[1]*I+R[2]*$+R[3]*F-y.eMq}function x(y,b,I,$,F,R){for($-=4;I<$;){for(;E(y,I,F)<=R;)I+=4;for(;E(y,$,F)>R;)$-=4;if(I>=$)break;const M=b[I>>2];b[I>>2]=b[$>>2],b[$>>2]=M,I+=4,$-=4}for(;E(y,I,F)>R;)I-=4;return I+4}function E(y,b,I){return y[b]*I[0]+y[b+1]*I[1]+y[b+2]*I[2]+y[b+3]*I[3]}function q(y,b,I){const $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,0,0,0],R=I-b>>2;for(let M=b;M<I;M+=4){const O=y[M]*.00392156862745098,k=y[M+1]*(1/255),w=y[M+2]*(1/255),j=y[M+3]*(1/255);F[0]+=O,F[1]+=k,F[2]+=w,F[3]+=j,$[0]+=O*O,$[1]+=O*k,$[2]+=O*w,$[3]+=O*j,$[5]+=k*k,$[6]+=k*w,$[7]+=k*j,$[10]+=w*w,$[11]+=w*j,$[15]+=j*j}return $[4]=$[1],$[8]=$[2],$[9]=$[6],$[12]=$[3],$[13]=$[7],$[14]=$[11],{R:$,m:F,N:R}}function S(y){const{R:b}=y,{m:I}=y,{N:$}=y,F=I[0],R=I[1],M=I[2],O=I[3],k=$==0?0:1/$,w=[b[0]-F*F*k,b[1]-F*R*k,b[2]-F*M*k,b[3]-F*O*k,b[4]-R*F*k,b[5]-R*R*k,b[6]-R*M*k,b[7]-R*O*k,b[8]-M*F*k,b[9]-M*R*k,b[10]-M*M*k,b[11]-M*O*k,b[12]-O*F*k,b[13]-O*R*k,b[14]-O*M*k,b[15]-O*O*k],j=w,N=U;let D=[Math.random(),Math.random(),Math.random(),Math.random()],Y=0,z=0;if($!=0)for(let L=0;L<16&&(D=N.multVec(j,D),z=Math.sqrt(N.dot(D,D)),D=N.sml(1/z,D),!(L!=0&&Math.abs(z-Y)<1e-9));L++)Y=z;const B=[F*k,R*k,M*k,O*k];return{Cov:w,q:B,e:D,L:Y,eMq255:N.dot(N.sml(255,B),D),eMq:N.dot(D,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var U={multVec:(y,b)=>[y[0]*b[0]+y[1]*b[1]+y[2]*b[2]+y[3]*b[3],y[4]*b[0]+y[5]*b[1]+y[6]*b[2]+y[7]*b[3],y[8]*b[0]+y[9]*b[1]+y[10]*b[2]+y[11]*b[3],y[12]*b[0]+y[13]*b[1]+y[14]*b[2]+y[15]*b[3]],dot:(y,b)=>y[0]*b[0]+y[1]*b[1]+y[2]*b[2]+y[3]*b[3],sml:(y,b)=>[y*b[0],y*b[1],y*b[2],y*b[3]]};xt.encode=function(b,I,$,F,R,M,O){F==null&&(F=0),O==null&&(O=!1);const k=o(b,I,$,F,[!1,!1,!1,0,O,!1]);return f(k,-1),u(k,I,$,R,M)},xt.encodeLL=function(b,I,$,F,R,M,O,k){const w={ctype:0+(F==1?0:2)+(R==0?0:4),depth:M,frames:[]},j=(F+R)*M,N=j*I;for(let D=0;D<b.length;D++)w.frames.push({rect:{x:0,y:0,width:I,height:$},img:new Uint8Array(b[D]),blend:0,dispose:1,bpp:Math.ceil(j/8),bpl:Math.ceil(N/8)});return f(w,0,!0),u(w,I,$,O,k)},xt.encode.compress=o,xt.encode.dither=l,xt.quantize=C,xt.quantize.getKDtree=v,xt.quantize.getNearest=g})();const Zs={toArrayBuffer(n,e){const t=n.width,r=n.height,i=t<<2,s=n.getContext("2d").getImageData(0,0,t,r),a=new Uint32Array(s.data.buffer),l=(32*t+31)/32<<2,u=l*r,f=122+u,o=new ArrayBuffer(f),d=new DataView(o),c=1<<20;let h,m,C,v,g=c,A=0,x=0,E=0;function q(y){d.setUint16(x,y,!0),x+=2}function S(y){d.setUint32(x,y,!0),x+=4}function U(y){x+=y}q(19778),S(f),U(4),S(122),S(108),S(t),S(-r>>>0),q(1),q(32),S(3),S(u),S(2835),S(2835),U(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function y(){for(;A<r&&g>0;){for(v=122+A*l,h=0;h<i;)g--,m=a[E++],C=m>>>24,d.setUint32(v+h,m<<8|C),h+=4;A++}E<a.length?(g=c,setTimeout(y,Zs._dly)):e(o)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var gt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},bo={[gt.CHROME]:16384,[gt.FIREFOX]:11180,[gt.DESKTOP_SAFARI]:16384,[gt.IE]:8192,[gt.IOS]:4096,[gt.ETC]:8192};const ni=typeof window<"u",Ds=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,_r=ni&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),wo=(ni||Ds)&&(_r&&_r.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ls=(ni||Ds)&&(_r&&_r.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ri(n,e,t=Date.now()){return new Promise(r=>{const i=n.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let l=a.length;const u=new Uint8Array(l);for(;l--;)u[l]=a.charCodeAt(l);const f=new Blob([u],{type:s});f.name=e,f.lastModified=t,r(f)})}function zs(n){return new Promise((e,t)=>{const r=new Ls;r.onload=()=>e(r.result),r.onerror=i=>t(i),r.readAsDataURL(n)})}function Hs(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>t(i),r.src=n})}function nn(){if(nn.cachedResult!==void 0)return nn.cachedResult;let n=gt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=gt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=gt.IOS:/Safari/i.test(e)?n=gt.DESKTOP_SAFARI:/Firefox/i.test(e)?n=gt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=gt.IE),nn.cachedResult=n,nn.cachedResult}function Bs(n,e){const t=nn(),r=bo[t];let i=n,s=e,a=i*s;const l=i>s?s/i:i/s;for(;a>r*r;){const u=(r+i)/2,f=(r+s)/2;u<f?(s=f,i=f*l):(s=u*l,i=u),a=i*s}return{width:i,height:s}}function Tr(n,e){let t,r;try{if(t=new OffscreenCanvas(n,e),r=t.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),r=t.getContext("2d")}return t.width=n,t.height=e,[t,r]}function Vs(n,e){const{width:t,height:r}=Bs(n.width,n.height),[i,s]=Tr(t,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(n,0,0,i.width,i.height),i}function Xn(){return Xn.cachedResult!==void 0||(Xn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Xn.cachedResult}function gr(n,e={}){return new Promise(function(t,r){let i,s;var a=function(){try{return s=Vs(i,e.fileType||n.type),t([i,s])}catch(u){return r(u)}},l=function(u){try{var f=function(o){try{throw o}catch(d){return r(d)}};try{let o;return zs(n).then(function(d){try{return o=d,Hs(o).then(function(c){try{return i=c,function(){try{return a()}catch(h){return r(h)}}()}catch(h){return f(h)}},f)}catch(c){return f(c)}},f)}catch(o){f(o)}}catch(o){return r(o)}};try{if(Xn()||[gt.DESKTOP_SAFARI,gt.MOBILE_SAFARI].includes(nn()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(u){try{return i=u,a()}catch{return l()}},l)}catch{l()}})}function vr(n,e,t,r,i=1){return new Promise(function(s,a){let l;if(e==="image/png"){let d,c,h;return d=n.getContext("2d"),{data:c}=d.getImageData(0,0,n.width,n.height),h=xt.encode([c.buffer],n.width,n.height,4096*i),l=new Blob([h],{type:e}),l.name=t,l.lastModified=r,u.call(this)}{let d=function(){return u.call(this)};var f=d;if(e==="image/bmp")return new Promise(c=>Zs.toBlob(n,c)).then(function(c){try{return l=c,l.name=t,l.lastModified=r,d.call(this)}catch(h){return a(h)}}.bind(this),a);{let c=function(){return d.call(this)};var o=c;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:i}).then(function(h){try{return l=h,l.name=t,l.lastModified=r,c.call(this)}catch(m){return a(m)}}.bind(this),a);{let h;return h=n.toDataURL(e,i),ri(h,t,r).then(function(m){try{return l=m,c.call(this)}catch(C){return a(C)}}.bind(this),a)}}}function u(){return s(l)}})}function Ut(n){n.width=0,n.height=0}function vn(){return new Promise(function(n,e){let t,r,i,s;return vn.cachedResult!==void 0?n(vn.cachedResult):ri("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return t=a,gr(t).then(function(l){try{return r=l[1],vr(r,t.type,t.name,t.lastModified).then(function(u){try{return i=u,Ut(r),gr(i).then(function(f){try{return s=f[0],vn.cachedResult=s.width===1&&s.height===2,n(vn.cachedResult)}catch(o){return e(o)}},e)}catch(f){return e(f)}},e)}catch(u){return e(u)}},e)}catch(l){return e(l)}},e)})}function Qs(n){return new Promise((e,t)=>{const r=new Ls;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let l=2;for(;l<a;){if(s.getUint16(l+2,!1)<=8)return e(-1);const u=s.getUint16(l,!1);if(l+=2,u==65505){if(s.getUint32(l+=2,!1)!=1165519206)return e(-1);const f=s.getUint16(l+=6,!1)==18761;l+=s.getUint32(l+4,f);const o=s.getUint16(l,f);l+=2;for(let d=0;d<o;d++)if(s.getUint16(l+12*d,f)==274)return e(s.getUint16(l+12*d+8,f))}else{if((65280&u)!=65280)break;l+=s.getUint16(l,!1)}}return e(-1)},r.onerror=i=>t(i),r.readAsArrayBuffer(n)})}function Ws(n,e){const{width:t}=n,{height:r}=n,{maxWidthOrHeight:i}=e;let s,a=n;return isFinite(i)&&(t>i||r>i)&&([a,s]=Tr(t,r),t>r?(a.width=i,a.height=r/t*i):(a.width=t/r*i,a.height=i),s.drawImage(n,0,0,a.width,a.height),Ut(n)),a}function Gs(n,e){const{width:t}=n,{height:r}=n,[i,s]=Tr(t,r);switch(e>4&&e<9?(i.width=r,i.height=t):(i.width=t,i.height=r),e){case 2:s.transform(-1,0,0,1,t,0);break;case 3:s.transform(-1,0,0,-1,t,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,t);break;case 8:s.transform(0,-1,1,0,0,t)}return s.drawImage(n,0,0,t,r),Ut(n),i}function $i(n,e,t=0){return new Promise(function(r,i){let s,a,l,u,f,o,d,c,h,m,C,v,g,A,x,E,q,S,U,y;function b($=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=$,e.onProgress(Math.min(s,100))}function I($){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max($,s),100),e.onProgress(s)}return s=t,a=e.maxIteration||10,l=1024*e.maxSizeMB*1024,b(),gr(n,e).then(function($){try{return[,u]=$,b(),f=Ws(u,e),b(),new Promise(function(F,R){var M;if(!(M=e.exifOrientation))return Qs(n).then(function(k){try{return M=k,O.call(this)}catch(w){return R(w)}}.bind(this),R);function O(){return F(M)}return O.call(this)}).then(function(F){try{return o=F,b(),vn().then(function(R){try{return d=R?f:Gs(f,o),b(),c=e.initialQuality||1,h=e.fileType||n.type,vr(d,h,n.name,n.lastModified,c).then(function(M){try{{let j=function(){if(a--&&(x>l||x>g)){let D,Y;return D=y?.95*U.width:U.width,Y=y?.95*U.height:U.height,[q,S]=Tr(D,Y),S.drawImage(U,0,0,D,Y),c*=h==="image/png"?.85:.95,vr(q,h,n.name,n.lastModified,c).then(function(z){try{return E=z,Ut(U),U=q,x=E.size,I(Math.min(99,Math.floor((A-x)/(A-l)*100))),j}catch(B){return i(B)}},i)}return[1]},N=function(){return Ut(U),Ut(q),Ut(f),Ut(d),Ut(u),I(100),r(E)};var k=j,w=N;if(m=M,b(),C=m.size>l,v=m.size>n.size,!C&&!v)return I(100),r(m);var O;return g=n.size,A=m.size,x=A,U=d,y=!e.alwaysKeepResolution&&C,(O=function(D){for(;D;){if(D.then)return void D.then(O,i);try{if(D.pop){if(D.length)return D.pop()?N.call(this):D;D=j}else D=D.call(this)}catch(Y){return i(Y)}}}.bind(this))(j)}}catch(j){return i(j)}}.bind(this),i)}catch(M){return i(M)}}.bind(this),i)}catch(R){return i(R)}}.bind(this),i)}catch(F){return i(F)}}.bind(this),i)})}const ko=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Or;function Co(n,e){return new Promise((t,r)=>{Or||(Or=function(a){const l=[];return typeof a=="function"?l.push(`(${a})()`):l.push(a),URL.createObjectURL(new Blob(l))}(ko));const i=new Worker(Or);i.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void i.terminate();t(a.data.file),i.terminate()}else e.onProgress(a.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function ct(n,e){return new Promise(function(t,r){let i,s,a,l,u,f;if(i={...e},a=0,{onProgress:l}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=h=>{a=h,typeof l=="function"&&l(a)},!(n instanceof Blob||n instanceof wo))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||f)return $i(n,i).then(function(h){try{return s=h,c.call(this)}catch(m){return r(m)}}.bind(this),r);var o=function(){try{return c.call(this)}catch(h){return r(h)}}.bind(this),d=function(h){try{return $i(n,i).then(function(m){try{return s=m,o()}catch(C){return r(C)}},r)}catch(m){return r(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Co(n,i).then(function(h){try{return s=h,o()}catch{return d()}},d)}catch{d()}function c(){try{s.name=n.name,s.lastModified=n.lastModified}catch{}try{i.preserveExif&&n.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===n.type)&&(s=Ps(n,s))}catch{}return t(s)}})}ct.getDataUrlFromFile=zs,ct.getFilefromDataUrl=ri,ct.loadImage=Hs,ct.drawImageInCanvas=Vs,ct.drawFileInCanvas=gr,ct.canvasToFile=vr,ct.getExifOrientation=Qs,ct.handleMaxWidthOrHeight=Ws,ct.followExifOrientation=Gs,ct.cleanupCanvasMemory=Ut,ct.isAutoOrientationInBrowser=vn,ct.approximateBelowMaximumCanvasSizeOfBrowser=Bs,ct.copyExifWithoutOrientation=Ps,ct.getBrowserName=nn,ct.version="2.0.2";let Qn;const Ao=new Uint8Array(16);function xo(){if(!Qn&&(Qn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qn(Ao)}const ot=[];for(let n=0;n<256;++n)ot.push((n+256).toString(16).slice(1));function $o(n,e=0){return(ot[n[e+0]]+ot[n[e+1]]+ot[n[e+2]]+ot[n[e+3]]+"-"+ot[n[e+4]]+ot[n[e+5]]+"-"+ot[n[e+6]]+ot[n[e+7]]+"-"+ot[n[e+8]]+ot[n[e+9]]+"-"+ot[n[e+10]]+ot[n[e+11]]+ot[n[e+12]]+ot[n[e+13]]+ot[n[e+14]]+ot[n[e+15]]).toLowerCase()}const Eo=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ei={randomUUID:Eo};function To(n,e,t){if(Ei.randomUUID&&!e&&!n)return Ei.randomUUID();n=n||{};const r=n.random||(n.rng||xo)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return $o(r)}const In=Kt({}),kn=Kt([]),Sr=Kt(null);function So(){return new Promise(n=>{Sr.set(n)})}function Io(){Sr.update(n=>(n!==null&&n(null),null))}function Mo(n){Sr.update(e=>(e!==null&&e(n),null))}async function Fo(n,e){const t=To(),r=await ct(n,{maxSizeMB:.8,onProgress:e});if(r.size>=lo)throw Error("File is too large (max 15mb)");kn.update(i=>(i.push({uuid:t,name:n.name,size:n.size,blob:r}),i)),Js(r,t)}async function Js(n,e){const t=new FileReader;await new Promise((i,s)=>{t.onload=i,t.onerror=s,t.onabort=s,t.readAsDataURL(n)});const r=t.result;In.update(i=>(i[e]=r,i))}function Uo(n=void 0){const e=document.createElement("input");return e.type="file",e.hidden=!0,n!==void 0&&(e.accept=n),document.body.appendChild(e),new Promise((t,r)=>{e.onchange=()=>{if(e.files===null)return r();const i=e.files.item(0);t(i)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function No(n=void 0){const e=document.createElement("input");return e.type="file",e.multiple=!0,e.hidden=!0,n!==void 0&&(e.accept=n),new Promise((t,r)=>{document.body.appendChild(e),e.onchange=()=>{if(e.files===null)return r();t(e.files)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function Ro(n,e){const t=document.createElement("a");t.download=n.replace(/[ ^/]/g,"_"),t.href=URL.createObjectURL(e),t.dataset.downloadurl=["application/json",t.download,t.href].join(":"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function Oo(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),p(e,t),p(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Ys extends xe{constructor(e){super(),Ae(this,e,null,Oo,Ce,{})}}function Ti(n,e,t){const r=n.slice();return r[14]=e[t],r}function Si(n,e,t){const r=n.slice();return r[17]=e[t],r}function Ii(n){let e,t,r,i,s,a,l,u,f,o,d,c,h,m,C,v,g,A,x,E=n[2].length<1&&n[0].length<1&&Mi(),q=n[2],S=[];for(let b=0;b<q.length;b+=1)S[b]=Fi(Si(n,q,b));let U=n[0],y=[];for(let b=0;b<U.length;b+=1)y[b]=Ui(Ti(n,U,b));return d=new Ys({}),{c(){e=T("div"),t=T("div"),r=T("div"),E&&E.c(),i=Z();for(let b=0;b<S.length;b+=1)S[b].c();s=Z();for(let b=0;b<y.length;b+=1)y[b].c();a=Z(),l=T("div"),u=T("button"),u.textContent="Close",f=Z(),o=T("button"),oe(d.$$.fragment),c=re(`
          Upload Images`),h=Z(),m=T("button"),C=re("Delete All Images"),_(r,"class","images svelte-jdx2r3"),_(u,"class","btn btn--surface"),_(o,"class","btn btn--icon btn--surface"),_(m,"class","btn btn--surface"),m.disabled=v=n[2].length===0,_(l,"class","actions btn-row btn-row--fill svelte-jdx2r3"),_(t,"class","dialog svelte-jdx2r3"),_(e,"class","wrapper svelte-jdx2r3")},m(b,I){V(b,e,I),p(e,t),p(t,r),E&&E.m(r,null),p(r,i);for(let $=0;$<S.length;$+=1)S[$]&&S[$].m(r,null);p(r,s);for(let $=0;$<y.length;$+=1)y[$]&&y[$].m(r,null);p(t,a),p(t,l),p(l,u),p(l,f),p(l,o),ae(d,o,null),p(o,c),p(l,h),p(l,m),p(m,C),g=!0,A||(x=[ee(u,"click",Io),ee(o,"click",n[4]),ee(m,"click",n[7]),ee(t,"drop",n[5]),ee(t,"dragover",Lo)],A=!0)},p(b,I){if(b[2].length<1&&b[0].length<1?E||(E=Mi(),E.c(),E.m(r,i)):E&&(E.d(1),E=null),I&76){q=b[2];let $;for($=0;$<q.length;$+=1){const F=Si(b,q,$);S[$]?S[$].p(F,I):(S[$]=Fi(F),S[$].c(),S[$].m(r,s))}for(;$<S.length;$+=1)S[$].d(1);S.length=q.length}if(I&1){U=b[0];let $;for($=0;$<U.length;$+=1){const F=Ti(b,U,$);y[$]?y[$].p(F,I):(y[$]=Ui(F),y[$].c(),y[$].m(r,null))}for(;$<y.length;$+=1)y[$].d(1);y.length=U.length}(!g||I&4&&v!==(v=b[2].length===0))&&(m.disabled=v)},i(b){g||(W(d.$$.fragment,b),g=!0)},o(b){J(d.$$.fragment,b),g=!1},d(b){b&&H(e),E&&E.d(),Mn(S,b),Mn(y,b),le(d),A=!1,Qe(x)}}}function Mi(n){let e;return{c(){e=T("p"),e.textContent="Click upload or drag and drop files here to upload",_(e,"class","images__text svelte-jdx2r3")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function qo(n){let e;return{c(){e=T("span"),e.textContent="Preview loading.."},m(t,r){V(t,e,r)},p:G,d(t){t&&H(e)}}}function jo(n){let e,t;return{c(){e=T("img"),_(e,"class","image svelte-jdx2r3"),er(e.src,t=n[3][n[17].uuid])||_(e,"src",t),_(e,"alt","Preview")},m(r,i){V(r,e,i)},p(r,i){i&12&&!er(e.src,t=r[3][r[17].uuid])&&_(e,"src",t)},d(r){r&&H(e)}}}function Fi(n){let e,t,r=n[17].name+"",i,s,a,l,u,f=n[17].size+"",o,d,c,h,m,C,v,g,A;function x(y,b){return y[3][y[17].uuid]!==void 0?jo:qo}let E=x(n),q=E(n);function S(){return n[8](n[17])}function U(){return n[9](n[17])}return{c(){e=T("div"),t=T("p"),i=re(r),s=Z(),a=T("div"),q.c(),l=Z(),u=T("p"),o=re(f),d=re(" bytes"),c=Z(),h=T("div"),m=T("button"),m.textContent="Select",C=Z(),v=T("button"),v.textContent="Delete",_(t,"class","file__name svelte-jdx2r3"),_(a,"class","image-wrapper svelte-jdx2r3"),_(m,"class","btn btn--small"),_(v,"class","btn btn--small"),_(h,"class","file__actions svelte-jdx2r3"),_(e,"class","file svelte-jdx2r3")},m(y,b){V(y,e,b),p(e,t),p(t,i),p(e,s),p(e,a),q.m(a,null),p(e,l),p(e,u),p(u,o),p(u,d),p(e,c),p(e,h),p(h,m),p(h,C),p(h,v),g||(A=[ee(m,"click",S),ee(v,"click",U)],g=!0)},p(y,b){n=y,b&4&&r!==(r=n[17].name+"")&&Me(i,r),E===(E=x(n))&&q?q.p(n,b):(q.d(1),q=E(n),q&&(q.c(),q.m(a,null))),b&4&&f!==(f=n[17].size+"")&&Me(o,f)},d(y){y&&H(e),q.d(),g=!1,Qe(A)}}}function Po(n){let e,t,r=n[14].progress+"",i;return{c(){e=T("p"),t=re("Progress: "),i=re(r)},m(s,a){V(s,e,a),p(e,t),p(e,i)},p(s,a){a&1&&r!==(r=s[14].progress+"")&&Me(i,r)},d(s){s&&H(e)}}}function Zo(n){let e,t=n[14].error+"",r;return{c(){e=T("p"),r=re(t),_(e,"class","error svelte-jdx2r3")},m(i,s){V(i,e,s),p(e,r)},p(i,s){s&1&&t!==(t=i[14].error+"")&&Me(r,t)},d(i){i&&H(e)}}}function Ui(n){let e,t,r=n[14].name+"",i,s,a;function l(o,d){return o[14].error?Zo:Po}let u=l(n),f=u(n);return{c(){e=T("div"),t=T("p"),i=re(r),s=Z(),f.c(),a=Z(),_(e,"class","file svelte-jdx2r3")},m(o,d){V(o,e,d),p(e,t),p(t,i),p(e,s),f.m(e,null),p(e,a)},p(o,d){d&1&&r!==(r=o[14].name+"")&&Me(i,r),u===(u=l(o))&&f?f.p(o,d):(f.d(1),f=u(o),f&&(f.c(),f.m(e,a)))},d(o){o&&H(e),f.d()}}}function Do(n){let e,t,r=n[1]&&Ii(n);return{c(){r&&r.c(),e=Xt()},m(i,s){r&&r.m(i,s),V(i,e,s),t=!0},p(i,[s]){i[1]?r?(r.p(i,s),s&2&&W(r,1)):(r=Ii(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(ht(),J(r,1,1,()=>{r=null}),mt())},i(i){t||(W(r),t=!0)},o(i){J(r),t=!1},d(i){r&&r.d(i),i&&H(e)}}}function Lo(n){n.stopPropagation(),n.preventDefault()}function zo(n,e,t){let r,i,s;Tt(n,Sr,g=>t(1,r=g)),Tt(n,kn,g=>t(2,i=g)),Tt(n,In,g=>t(3,s=g));let a=[];async function l(){const g=await No("image/*");g!==null&&f(g)}function u(g){g.stopPropagation(),g.preventDefault();const A=g.dataTransfer;if(A===null)return;const x=A.files;x!==null&&f(x)}function f(g){for(const A of g)a.push({name:A.name,progress:0,error:null}),t(0,a),Fo(A,x=>{c(A.name,x)}).then(()=>o(A)).catch(x=>d(A,x))}function o(g){t(0,a=a.filter(A=>A.name!==g.name))}function d(g,A){t(0,a=a.map(x=>(x.name===g.name&&(x.error=A.message),x)))}function c(g,A){t(0,a=a.map(x=>(x.name===g&&(x.progress=A),x)))}function h(g){kn.update(A=>A.filter(x=>x.uuid!==g.uuid)),In.update(A=>(delete A[g.uuid],A))}async function m(){await $r("Confirm Deletion","Are you sure you want to delete all the uploaded files?")&&(kn.set([]),In.set({}),t(0,a=[]))}return[a,r,i,s,l,u,h,m,g=>Mo(g),g=>h(g)]}class Ho extends xe{constructor(e){super(),Ae(this,e,zo,Do,Ce,{})}}function Bo(n){let e;return{c(){e=T("p"),e.textContent="Pick Image"},m(t,r){V(t,e,r)},p:G,d(t){t&&H(e)}}}function Vo(n){let e,t,r,i,s,a,l;return{c(){e=T("img"),i=Z(),s=T("button"),s.textContent="Click to remove",_(e,"class","image svelte-8u6k8r"),_(e,"data-fit",t=n[0].image.fit),er(e.src,r=n[1])||_(e,"src",r),_(e,"alt","Uploaded Content"),_(s,"class","overlay svelte-8u6k8r")},m(u,f){V(u,e,f),V(u,i,f),V(u,s,f),a||(l=ee(s,"click",n[3]),a=!0)},p(u,f){f&1&&t!==(t=u[0].image.fit)&&_(e,"data-fit",t),f&2&&!er(e.src,r=u[1])&&_(e,"src",r)},d(u){u&&H(e),u&&H(i),u&&H(s),a=!1,l()}}}function Ni(n){let e,t,r,i,s,a,l,u,f,o,d,c,h,m,C,v;return{c(){e=T("label"),t=T("span"),t.textContent="Image Fit",r=Z(),i=T("p"),i.textContent=`Decide how the image should be best fit for the player screens, It's
      recommended that you use "Contain" if the full image content is important
      to be visible`,s=Z(),a=T("select"),l=T("option"),u=re("Contain: Fit the entire image"),f=T("option"),o=re("Cover: Fill the available space"),d=T("option"),c=re("Fill Width: Fill available width "),h=T("option"),m=re("Fill Height: Fill available height"),_(t,"class","field__name svelte-8u6k8r"),_(i,"class","field__desc svelte-8u6k8r"),l.__value=gn.Contain,l.value=l.__value,f.__value=gn.Cover,f.value=f.__value,d.__value=gn.Width,d.value=d.__value,h.__value=gn.Height,h.value=h.__value,_(a,"class","input svelte-8u6k8r"),n[0].image.fit===void 0&&it(()=>n[6].call(a)),_(e,"class","field svelte-8u6k8r")},m(g,A){V(g,e,A),p(e,t),p(e,r),p(e,i),p(e,s),p(e,a),p(a,l),p(l,u),p(a,f),p(f,o),p(a,d),p(d,c),p(a,h),p(h,m),Qt(a,n[0].image.fit,!0),C||(v=ee(a,"change",n[6]),C=!0)},p(g,A){A&1&&Qt(a,g[0].image.fit)},d(g){g&&H(e),C=!1,v()}}}function Qo(n){let e,t,r,i,s,a,l;function u(c,h){return c[0].image!==null&&c[1]?Vo:Bo}let f=u(n),o=f(n),d=n[0].image!==null&&Ni(n);return i=new Ho({}),{c(){e=T("div"),o.c(),t=Z(),d&&d.c(),r=Z(),oe(i.$$.fragment),_(e,"tabindex","0"),_(e,"role","button"),_(e,"class","wrapper svelte-8u6k8r")},m(c,h){V(c,e,h),o.m(e,null),V(c,t,h),d&&d.m(c,h),V(c,r,h),ae(i,c,h),s=!0,a||(l=[ee(e,"click",n[2]),ee(e,"keypress",n[4])],a=!0)},p(c,[h]){f===(f=u(c))&&o?o.p(c,h):(o.d(1),o=f(c),o&&(o.c(),o.m(e,null))),c[0].image!==null?d?d.p(c,h):(d=Ni(c),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},i(c){s||(W(i.$$.fragment,c),s=!0)},o(c){J(i.$$.fragment,c),s=!1},d(c){c&&H(e),o.d(),c&&H(t),d&&d.d(c),c&&H(r),le(i,c),a=!1,Qe(l)}}}function Wo(n,e,t){let r;Tt(n,In,o=>t(5,r=o));let{question:i}=e,s=null;async function a(){let o=await So();o!==null&&t(0,i.image={uuid:o.uuid,fit:gn.Contain},i)}function l(o){o.stopPropagation(),t(0,i.image=null,i),t(1,s=null)}function u(o){(o.key==="Enter"||o.key==="NumpadEnter")&&a()}function f(){i.image.fit=br(this),t(0,i)}return n.$$set=o=>{"question"in o&&t(0,i=o.question)},n.$$.update=()=>{if(n.$$.dirty&33&&i.image!==null){let o=r[i.image.uuid];o!==void 0?t(1,s=o):t(1,s=null)}},[i,s,a,l,u,r,f]}class Go extends xe{constructor(e){super(),Ae(this,e,Wo,Qo,Ce,{question:0})}}function Ir(n,{from:e,to:t},r={}){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform,[a,l]=i.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/t.width-(t.left+a),f=e.top+e.height*l/t.height-(t.top+l),{delay:o=0,duration:d=h=>Math.sqrt(h)*120,easing:c=bs}=r;return{delay:o,duration:xn(d)?d(Math.sqrt(u*u+f*f)):d,easing:c,css:(h,m)=>{const C=m*u,v=m*f,g=h+m*e.width/t.width,A=h+m*e.height/t.height;return`transform: ${s} translate(${C}px, ${v}px) scale(${g}, ${A});`}}}function Jo(n){let e,t,r,i,s,a,l;return{c(){e=T("label"),t=T("input"),r=Z(),i=fe("svg"),s=fe("path"),_(t,"class","input svelte-1sqhokz"),_(t,"type","checkbox"),_(s,"d","M4.575 8.977s-.404-.007-.536-.165L.057 5.64l.829-1.227L4.47 7.268 10.921.086l.923 1.103-6.863 7.64c-.134-.003-.406.148-.406.148z"),_(s,"fill","#FFF"),_(s,"fill-rule","evenodd"),_(i,"width","16"),_(i,"height","16"),_(i,"viewBox","0 0 12 9"),_(i,"xmlns","http://www.w3.org/2000/svg"),_(i,"class","mark svelte-1sqhokz"),_(e,"class","wrapper svelte-1sqhokz")},m(u,f){V(u,e,f),p(e,t),t.checked=n[0],p(e,r),p(e,i),p(i,s),a||(l=ee(t,"change",n[1]),a=!0)},p(u,[f]){f&1&&(t.checked=u[0])},i:G,o:G,d(u){u&&H(e),a=!1,l()}}}function Yo(n,e,t){let{value:r}=e;function i(){r=this.checked,t(0,r)}return n.$$set=s=>{"value"in s&&t(0,r=s.value)},[r,i]}class Xo extends xe{constructor(e){super(),Ae(this,e,Yo,Jo,Ce,{value:0})}}function Ko(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),p(e,t),p(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Xs extends xe{constructor(e){super(),Ae(this,e,null,Ko,Ce,{})}}function eu(n){let e,t;return{c(){e=fe("svg"),t=fe("path"),_(t,"d","m283 699-43-43 240-240 240 240-43 43-197-197-197 197Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 96 960 960"),_(e,"width","48"),_(e,"height","48"),_(e,"fill","#FFFFFF")},m(r,i){V(r,e,i),p(e,t)},p:G,i:G,o:G,d(r){r&&H(e)}}}class Ks extends xe{constructor(e){super(),Ae(this,e,null,eu,Ce,{})}}function tu(n){let e,t;return{c(){e=fe("svg"),t=fe("path"),_(t,"d","M480 712 240 472l43-43 197 197 197-197 43 43-240 240Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 96 960 960"),_(e,"width","48"),_(e,"height","48"),_(e,"fill","#FFFFFF")},m(r,i){V(r,e,i),p(e,t)},p:G,i:G,o:G,d(r){r&&H(e)}}}class ea extends xe{constructor(e){super(),Ae(this,e,null,tu,Ce,{})}}function Ri(n,e,t){const r=n.slice();return r[11]=e[t],r[12]=e,r[13]=t,r}function Oi(n){let e,t=[],r=new Map,i,s,a,l,u,f,o,d,c,h,m,C,v=n[0].answers;const g=A=>A[11].id;for(let A=0;A<v.length;A+=1){let x=Ri(n,v,A),E=g(x);r.set(E,t[A]=qi(E,x))}return{c(){e=T("div");for(let A=0;A<t.length;A+=1)t[A].c();i=Z(),s=T("div"),a=T("button"),l=re("Add Answer"),f=Z(),o=T("button"),d=re("Shuffle"),_(a,"class","btn"),a.disabled=u=n[0].answers.length>=wi,_(o,"class","btn"),o.disabled=c=n[0].answers.length<=1,_(s,"class","field-group"),_(e,"class","answers svelte-9k2gpx")},m(A,x){V(A,e,x);for(let E=0;E<t.length;E+=1)t[E]&&t[E].m(e,null);p(e,i),p(e,s),p(s,a),p(a,l),p(s,f),p(s,o),p(o,d),h=!0,m||(C=[ee(a,"click",n[1]),ee(o,"click",n[5])],m=!0)},p(A,x){if(x&29){v=A[0].answers,ht();for(let E=0;E<t.length;E+=1)t[E].r();t=Ar(t,x,g,1,A,v,r,e,Cr,qi,i,Ri);for(let E=0;E<t.length;E+=1)t[E].a();mt()}(!h||x&1&&u!==(u=A[0].answers.length>=wi))&&(a.disabled=u),(!h||x&1&&c!==(c=A[0].answers.length<=1))&&(o.disabled=c)},i(A){if(!h){for(let x=0;x<v.length;x+=1)W(t[x]);h=!0}},o(A){for(let x=0;x<t.length;x+=1)J(t[x]);h=!1},d(A){A&&H(e);for(let x=0;x<t.length;x+=1)t[x].d();m=!1,Qe(C)}}}function qi(n,e){let t,r,i,s,a,l,u,f,o,d,c,h,m,C,v,g,A,x,E,q,S=G,U,y,b;function I(k){e[6](k,e[11])}let $={};e[11].correct!==void 0&&($.value=e[11].correct),i=new Xo({props:$}),Zt.push(()=>sn(i,"value",I)),f=new Ks({});function F(){return e[7](e[13])}h=new ea({});function R(){return e[8](e[13])}function M(){e[9].call(v,e[12],e[13])}x=new Xs({});function O(){return e[10](e[13])}return{key:n,first:null,c(){t=T("div"),r=T("div"),oe(i.$$.fragment),a=Z(),l=T("div"),u=T("button"),oe(f.$$.fragment),d=Z(),c=T("button"),oe(h.$$.fragment),C=Z(),v=T("input"),g=Z(),A=T("button"),oe(x.$$.fragment),_(r,"class","answer__check svelte-9k2gpx"),u.disabled=o=e[13]<=0,_(u,"class","btn btn--icon-only btn--surface btn-small arrow"),c.disabled=m=e[13]+1>=e[0].answers.length,_(c,"class","btn btn--icon-only btn--surface btn-small arrow"),_(l,"class","answer__actions svelte-9k2gpx"),_(v,"class","answer__question input svelte-9k2gpx"),_(v,"type","text"),_(v,"maxlength",Gl),A.disabled=E=e[0].answers.length==1,_(A,"class","btn btn--icon-only"),_(t,"class","answer svelte-9k2gpx"),this.first=t},m(k,w){V(k,t,w),p(t,r),ae(i,r,null),p(t,a),p(t,l),p(l,u),ae(f,u,null),p(l,d),p(l,c),ae(h,c,null),p(t,C),p(t,v),Pe(v,e[11].value),p(t,g),p(t,A),ae(x,A,null),U=!0,y||(b=[ee(u,"click",F),ee(c,"click",R),ee(v,"input",M),ee(A,"click",O)],y=!0)},p(k,w){e=k;const j={};!s&&w&1&&(s=!0,j.value=e[11].correct,rn(()=>s=!1)),i.$set(j),(!U||w&1&&o!==(o=e[13]<=0))&&(u.disabled=o),(!U||w&1&&m!==(m=e[13]+1>=e[0].answers.length))&&(c.disabled=m),w&1&&v.value!==e[11].value&&Pe(v,e[11].value),(!U||w&1&&E!==(E=e[0].answers.length==1))&&(A.disabled=E)},r(){q=t.getBoundingClientRect()},f(){kr(t),S()},a(){S(),S=wr(t,q,Ir,{duration:500})},i(k){U||(W(i.$$.fragment,k),W(f.$$.fragment,k),W(h.$$.fragment,k),W(x.$$.fragment,k),U=!0)},o(k){J(i.$$.fragment,k),J(f.$$.fragment,k),J(h.$$.fragment,k),J(x.$$.fragment,k),U=!1},d(k){k&&H(t),le(i),le(f),le(h),le(x),y=!1,Qe(b)}}}function nu(n){let e,t,r=(n[0].ty==at.Single||n[0].ty==at.Multiple)&&Oi(n);return{c(){r&&r.c(),e=Xt()},m(i,s){r&&r.m(i,s),V(i,e,s),t=!0},p(i,[s]){i[0].ty==at.Single||i[0].ty==at.Multiple?r?(r.p(i,s),s&1&&W(r,1)):(r=Oi(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(ht(),J(r,1,1,()=>{r=null}),mt())},i(i){t||(W(r),t=!0)},o(i){J(r),t=!1},d(i){r&&r.d(i),i&&H(e)}}}function ru(n,e,t){let{question:r}=e;function i(){let m=0;for(const C of r.answers)C.id>=m&&(m=C.id+1);r.answers.push({id:m,value:"",correct:!1}),t(0,r)}const s=m=>{t(0,r.answers=mr(r.answers,m,m-1),r)},a=m=>{t(0,r.answers=mr(r.answers,m,m+1),r)};function l(m){t(0,r.answers=r.answers.filter((C,v)=>v!=m),r)}function u(){t(0,r.answers=js(r.answers),r)}function f(m,C){n.$$.not_equal(C.correct,m)&&(C.correct=m,t(0,r))}const o=m=>s(m),d=m=>a(m);function c(m,C){m[C].value=this.value,t(0,r)}const h=m=>l(m);return n.$$set=m=>{"question"in m&&t(0,r=m.question)},[r,i,s,a,l,u,f,o,d,c,h]}class iu extends xe{constructor(e){super(),Ae(this,e,ru,nu,Ce,{question:0})}}function su(n){let e,t,r,i,s,a,l,u,f,o,d,c;return{c(){e=T("div"),t=T("input"),s=Z(),a=T("select"),l=T("option"),u=re("Minutes"),f=T("option"),o=re("Seconds"),_(t,"class","input svelte-t6875b"),_(t,"type","number"),_(t,"min",r=n[5](n[0])),_(t,"max",i=n[5](n[1])),l.__value=n[4].Minutes,l.value=l.__value,f.__value=n[4].Seconds,f.value=f.__value,_(a,"class","select svelte-t6875b"),n[2]===void 0&&it(()=>n[9].call(a))},m(h,m){V(h,e,m),p(e,t),Pe(t,n[3]),p(e,s),p(e,a),p(a,l),p(l,u),p(a,f),p(f,o),Qt(a,n[2],!0),d||(c=[ee(t,"input",n[8]),ee(t,"change",n[6]),ee(a,"change",n[9]),ee(a,"change",n[6])],d=!0)},p(h,[m]){m&1&&r!==(r=h[5](h[0]))&&_(t,"min",r),m&2&&i!==(i=h[5](h[1]))&&_(t,"max",i),m&8&&vt(t.value)!==h[3]&&Pe(t,h[3]),m&20&&Qt(a,h[2])},i:G,o:G,d(h){h&&H(e),d=!1,Qe(c)}}}function au(n,e,t){let{value:r}=e,{min:i}=e,{max:s}=e;var a=(m=>(m[m.Seconds=0]="Seconds",m[m.Minutes=1]="Minutes",m))(a||{});let l=0,u=o(r);function f(m){return l==0?m*1e3:l==1?m*1e3*60:m}function o(m){return l==0?m/1e3:l==1?m/60/1e3:m}function d(){if(u<1)t(3,u=1);else{let m=f(u);m>s?m=s:m<i&&(m=i),t(3,u=o(m)),t(7,r=m)}}function c(){u=vt(this.value),t(3,u)}function h(){l=br(this),t(2,l),t(4,a)}return n.$$set=m=>{"value"in m&&t(7,r=m.value),"min"in m&&t(0,i=m.min),"max"in m&&t(1,s=m.max)},[i,s,l,u,a,o,d,r,c,h]}class Qr extends xe{constructor(e){super(),Ae(this,e,au,su,Ce,{value:7,min:0,max:1})}}function lu(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),p(e,t),p(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Mr extends xe{constructor(e){super(),Ae(this,e,null,lu,Ce,{})}}function ji(n){let e,t,r,i,s,a,l,u,f,o,d,c,h,m,C,v,g,A;return{c(){e=T("label"),t=T("span"),t.textContent="Min Choices",r=Z(),i=T("p"),i.textContent="The minimum number of answers that must be selected to get a pass",s=Z(),a=T("input"),u=Z(),f=T("label"),o=T("span"),o.textContent="Desired Choices",d=Z(),c=T("p"),c.textContent=`The total number of answers the player must choose to get a full\r
          score. Can be the same as the minimum choices`,h=Z(),m=T("input"),_(t,"class","field__name svelte-160lkeg"),_(i,"class","field__desc svelte-160lkeg"),_(a,"class","input svelte-160lkeg"),_(a,"type","number"),_(a,"min",1),_(a,"max",l=n[0].answers.length),_(e,"class","field svelte-160lkeg"),_(o,"class","field__name svelte-160lkeg"),_(c,"class","field__desc svelte-160lkeg"),_(m,"class","input svelte-160lkeg"),_(m,"type","number"),_(m,"min",C=n[0].min),_(m,"max",v=n[0].answers.length),_(f,"class","field svelte-160lkeg")},m(x,E){V(x,e,E),p(e,t),p(e,r),p(e,i),p(e,s),p(e,a),Pe(a,n[0].min),V(x,u,E),V(x,f,E),p(f,o),p(f,d),p(f,c),p(f,h),p(f,m),Pe(m,n[0].max),g||(A=[ee(a,"input",n[6]),ee(m,"input",n[7])],g=!0)},p(x,E){E&1&&l!==(l=x[0].answers.length)&&_(a,"max",l),E&1&&vt(a.value)!==x[0].min&&Pe(a,x[0].min),E&1&&C!==(C=x[0].min)&&_(m,"min",C),E&1&&v!==(v=x[0].answers.length)&&_(m,"max",v),E&1&&vt(m.value)!==x[0].max&&Pe(m,x[0].max)},d(x){x&&H(e),x&&H(u),x&&H(f),g=!1,Qe(A)}}}function ou(n){let e,t,r,i,s,a,l,u,f,o,d,c,h,m,C,v,g,A,x,E,q,S,U,y,b,I,$,F,R,M,O,k,w,j,N,D,Y,z,B,L,P,ie,be,ne,X,ue,ke,Se,Be,st,Fe,Ze,we,me,Re,Oe,$e,tt,Ee,Ie,Ne,We,kt,je,nt,qe,Ue,Ge,lt,Le,Je,qt,At,jt,rt,ut,ze,Ye,Xe,yt,bt,en,Ve,Ke,fn,de;i=new Mr({}),f=new Go({props:{question:n[0]}});let pe=n[0].ty==at.Multiple&&ji(n);function Ct(ve){n[8](ve)}let Ft={};n[0]!==void 0&&(Ft.question=n[0]),O=new iu({props:Ft}),Zt.push(()=>sn(O,"question",Ct));function aa(ve){n[9](ve)}let si={min:Yl,max:Xl};n[0].answer_time!==void 0&&(si.value=n[0].answer_time),X=new Qr({props:si}),Zt.push(()=>sn(X,"value",aa));function la(ve){n[10](ve)}let ai={min:io,max:so};return n[0].bonus_score_time!==void 0&&(ai.value=n[0].bonus_score_time),we=new Qr({props:ai}),Zt.push(()=>sn(we,"value",la)),{c(){e=T("main"),t=T("header"),r=T("button"),oe(i.$$.fragment),s=re(`\r
      Back`),a=Z(),l=T("button"),l.textContent="Save",u=Z(),oe(f.$$.fragment),o=Z(),d=T("div"),c=T("p"),c.textContent="Question",h=Z(),m=T("p"),m.textContent="Enter the question to ask the players",C=Z(),v=T("textarea"),g=Z(),A=T("div"),x=T("div"),E=T("p"),E.textContent="Question Type",q=Z(),S=T("p"),S.textContent="The type of question to present",U=Z(),y=T("select"),b=T("option"),I=re("Single Choice"),$=T("option"),F=re("Multiple Choice"),R=Z(),pe&&pe.c(),M=Z(),oe(O.$$.fragment),w=Z(),j=T("div"),N=T("h2"),N.textContent="Timing",D=Z(),Y=T("p"),Y.textContent="Below you can configuring the timing for different events",z=Z(),B=T("div"),L=T("div"),P=T("span"),P.textContent="Answer Time",ie=Z(),be=T("p"),be.textContent="Time the players have to answer the question",ne=Z(),oe(X.$$.fragment),ke=Z(),Se=T("div"),Be=T("span"),Be.textContent="Bonus Score Time",st=Z(),Fe=T("p"),Fe.textContent="Time the players must answer within for bonus scores",Ze=Z(),oe(we.$$.fragment),Re=Z(),Oe=T("div"),$e=T("h2"),$e.textContent="Scoring",tt=Z(),Ee=T("p"),Ee.textContent=`Score is awarded to players based on how quickly the player answers the\r
      question. You can configure the minimum and maximum values for this below`,Ie=Z(),Ne=T("div"),We=T("label"),kt=T("span"),kt.textContent="Min Score",je=Z(),nt=T("p"),nt.textContent="The minimum amount of score to award for this question",qe=Z(),Ue=T("input"),lt=Z(),Le=T("label"),Je=T("span"),Je.textContent="Max Score",qt=Z(),At=T("p"),At.textContent="The maximum amount of score to award for this question",jt=Z(),rt=T("input"),ze=Z(),Ye=T("label"),Xe=T("span"),Xe.textContent="Bonus Score",yt=Z(),bt=T("p"),bt.textContent="The amount of score to add for being within the bonus time",en=Z(),Ve=T("input"),_(r,"class","btn btn--icon"),_(l,"class","btn"),_(t,"class","header btn-row svelte-160lkeg"),_(c,"class","field__name svelte-160lkeg"),_(m,"class","field__desc svelte-160lkeg"),_(v,"class","question__text input svelte-160lkeg"),_(v,"cols","30"),_(v,"rows","10"),_(d,"class","field svelte-160lkeg"),_(E,"class","field__name svelte-160lkeg"),_(S,"class","field__desc svelte-160lkeg"),b.__value=at.Single,b.value=b.__value,$.__value=at.Multiple,$.value=$.__value,_(y,"class","input svelte-160lkeg"),n[0].ty===void 0&&it(()=>n[5].call(y)),_(x,"class","field svelte-160lkeg"),_(A,"class","field-group svelte-160lkeg"),_(N,"class","group__title svelte-160lkeg"),_(Y,"class","group__desc svelte-160lkeg"),_(P,"class","field__name svelte-160lkeg"),_(be,"class","field__desc svelte-160lkeg"),_(L,"class","field svelte-160lkeg"),_(Be,"class","field__name svelte-160lkeg"),_(Fe,"class","field__desc svelte-160lkeg"),_(Se,"class","field svelte-160lkeg"),_(B,"class","group__value field-group svelte-160lkeg"),_(j,"class","group"),_($e,"class","group__title svelte-160lkeg"),_(Ee,"class","group__desc svelte-160lkeg"),_(kt,"class","field__name svelte-160lkeg"),_(nt,"class","field__desc svelte-160lkeg"),_(Ue,"class","input svelte-160lkeg"),_(Ue,"type","number"),_(Ue,"min",0),_(Ue,"max",Ge=n[0].scoring.max_score),_(We,"class","field svelte-160lkeg"),_(Je,"class","field__name svelte-160lkeg"),_(At,"class","field__desc svelte-160lkeg"),_(rt,"class","input svelte-160lkeg"),_(rt,"type","number"),_(rt,"min",ut=n[0].scoring.min_score),_(rt,"max",1e3),_(Le,"class","field svelte-160lkeg"),_(Xe,"class","field__name svelte-160lkeg"),_(bt,"class","field__desc svelte-160lkeg"),_(Ve,"class","input svelte-160lkeg"),_(Ve,"type","number"),_(Ve,"min",0),_(Ve,"max",1e3),_(Ye,"class","field svelte-160lkeg"),_(Ne,"class","group__value field-group svelte-160lkeg"),_(Oe,"class","group"),_(e,"class","main svelte-160lkeg")},m(ve,pt){V(ve,e,pt),p(e,t),p(t,r),ae(i,r,null),p(r,s),p(t,a),p(t,l),p(e,u),ae(f,e,null),p(e,o),p(e,d),p(d,c),p(d,h),p(d,m),p(d,C),p(d,v),Pe(v,n[0].text),p(e,g),p(e,A),p(A,x),p(x,E),p(x,q),p(x,S),p(x,U),p(x,y),p(y,b),p(b,I),p(y,$),p($,F),Qt(y,n[0].ty,!0),p(A,R),pe&&pe.m(A,null),p(e,M),ae(O,e,null),p(e,w),p(e,j),p(j,N),p(j,D),p(j,Y),p(j,z),p(j,B),p(B,L),p(L,P),p(L,ie),p(L,be),p(L,ne),ae(X,L,null),p(B,ke),p(B,Se),p(Se,Be),p(Se,st),p(Se,Fe),p(Se,Ze),ae(we,Se,null),p(e,Re),p(e,Oe),p(Oe,$e),p(Oe,tt),p(Oe,Ee),p(Oe,Ie),p(Oe,Ne),p(Ne,We),p(We,kt),p(We,je),p(We,nt),p(We,qe),p(We,Ue),Pe(Ue,n[0].scoring.min_score),p(Ne,lt),p(Ne,Le),p(Le,Je),p(Le,qt),p(Le,At),p(Le,jt),p(Le,rt),Pe(rt,n[0].scoring.max_score),p(Ne,ze),p(Ne,Ye),p(Ye,Xe),p(Ye,yt),p(Ye,bt),p(Ye,en),p(Ye,Ve),Pe(Ve,n[0].scoring.bonus_score),Ke=!0,fn||(de=[ee(r,"click",n[1]),ee(l,"click",n[3]),ee(v,"input",n[4]),ee(y,"change",n[5]),ee(y,"change",n[2]),ee(Ue,"input",n[11]),ee(rt,"input",n[12]),ee(Ve,"input",n[13])],fn=!0)},p(ve,[pt]){const li={};pt&1&&(li.question=ve[0]),f.$set(li),pt&1&&Pe(v,ve[0].text),pt&1&&Qt(y,ve[0].ty),ve[0].ty==at.Multiple?pe?pe.p(ve,pt):(pe=ji(ve),pe.c(),pe.m(A,null)):pe&&(pe.d(1),pe=null);const oi={};!k&&pt&1&&(k=!0,oi.question=ve[0],rn(()=>k=!1)),O.$set(oi);const ui={};!ue&&pt&1&&(ue=!0,ui.value=ve[0].answer_time,rn(()=>ue=!1)),X.$set(ui);const ci={};!me&&pt&1&&(me=!0,ci.value=ve[0].bonus_score_time,rn(()=>me=!1)),we.$set(ci),(!Ke||pt&1&&Ge!==(Ge=ve[0].scoring.max_score))&&_(Ue,"max",Ge),pt&1&&vt(Ue.value)!==ve[0].scoring.min_score&&Pe(Ue,ve[0].scoring.min_score),(!Ke||pt&1&&ut!==(ut=ve[0].scoring.min_score))&&_(rt,"min",ut),pt&1&&vt(rt.value)!==ve[0].scoring.max_score&&Pe(rt,ve[0].scoring.max_score),pt&1&&vt(Ve.value)!==ve[0].scoring.bonus_score&&Pe(Ve,ve[0].scoring.bonus_score)},i(ve){Ke||(W(i.$$.fragment,ve),W(f.$$.fragment,ve),W(O.$$.fragment,ve),W(X.$$.fragment,ve),W(we.$$.fragment,ve),Ke=!0)},o(ve){J(i.$$.fragment,ve),J(f.$$.fragment,ve),J(O.$$.fragment,ve),J(X.$$.fragment,ve),J(we.$$.fragment,ve),Ke=!1},d(ve){ve&&H(e),le(i),le(f),pe&&pe.d(),le(O),le(X),le(we),fn=!1,Qe(de)}}}function uu(n,e,t){let{question:r}=e;async function i(){await $r("Confirm Back","Are you sure you want to go back? You will loose any unsaved progress")&&Zr()}function s(){t(0,r=po(r))}function a(){let A=0;for(const x of r.answers)x.correct&&(A+=1);return A}function l(){if(a()<1){Dt("No answers","You must select atleast 1 answer as a correct answer");return}if(t(0,r.text=r.text.trim(),r),r.text.length<1){Dt("Empty quesiton","The question text must not be empty");return}for(let A=0;A<r.answers.length;A++){const x=r.answers[A];if(x.value=x.value.trim(),x.value.length<1){Dt("Empty answer",`Answer number ${A+1} must not be blank`);return}}mo(r),Zr()}function u(){r.text=this.value,t(0,r)}function f(){r.ty=br(this),t(0,r)}function o(){r.min=vt(this.value),t(0,r)}function d(){r.max=vt(this.value),t(0,r)}function c(A){r=A,t(0,r)}function h(A){n.$$.not_equal(r.answer_time,A)&&(r.answer_time=A,t(0,r))}function m(A){n.$$.not_equal(r.bonus_score_time,A)&&(r.bonus_score_time=A,t(0,r))}function C(){r.scoring.min_score=vt(this.value),t(0,r)}function v(){r.scoring.max_score=vt(this.value),t(0,r)}function g(){r.scoring.bonus_score=vt(this.value),t(0,r)}return n.$$set=A=>{"question"in A&&t(0,r=A.question)},n.$$.update=()=>{if(n.$$.dirty&1&&r.ty===at.Multiple){let A=a();r.max>A&&t(0,r.max=A,r),r.max<r.min&&t(0,r.max=r.min,r)}},[r,i,s,l,u,f,o,d,c,h,m,C,v,g]}class cu extends xe{constructor(e){super(),Ae(this,e,uu,ou,Ce,{question:0})}}function fu(n){let e;return{c(){e=T("div"),_(e,"class","spin svelte-1ku7j7d")},m(t,r){V(t,e,r)},p:G,i:G,o:G,d(t){t&&H(e)}}}class du extends xe{constructor(e){super(),Ae(this,e,null,fu,Ce,{})}}function hu(n){let e,t,r,i,s,a;return t=new du({}),{c(){e=T("main"),oe(t.$$.fragment),r=Z(),i=T("p"),s=re(n[0]),_(i,"class","text svelte-1n3hv6a"),_(e,"class","main svelte-1n3hv6a")},m(l,u){V(l,e,u),ae(t,e,null),p(e,r),p(e,i),p(i,s),a=!0},p(l,[u]){(!a||u&1)&&Me(s,l[0])},i(l){a||(W(t.$$.fragment,l),a=!0)},o(l){J(t.$$.fragment,l),a=!1},d(l){l&&H(e),le(t)}}}function mu(n,e,t){let{text:r}=e;return n.$$set=i=>{"text"in i&&t(0,r=i.text)},[r]}class ii extends xe{constructor(e){super(),Ae(this,e,mu,hu,Ce,{text:0})}}function pu(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M8 5v14l11-7z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),p(e,t),p(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Fr extends xe{constructor(e){super(),Ae(this,e,null,pu,Ce,{})}}function Pi(n){let e,t,r,i,s,a;return t=new Fr({}),{c(){e=T("button"),oe(t.$$.fragment),_(e,"class","play svelte-ks6myu")},m(l,u){V(l,e,u),ae(t,e,null),i=!0,s||(a=ee(e,"click",n[3]),s=!0)},p:G,i(l){i||(W(t.$$.fragment,l),it(()=>{i&&(r||(r=He(e,et,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){J(t.$$.fragment,l),r||(r=He(e,et,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&H(e),le(t),l&&r&&r.end(),s=!1,a()}}}function _u(n){let e,t,r,i,s,a,l,u,f,o,d,c,h,m,C;r=new Mr({});let v=!n[1]&&Pi(n);return{c(){e=T("main"),t=T("button"),oe(r.$$.fragment),i=Z(),s=T("h1"),s.textContent="Enter Code",a=Z(),l=T("p"),l.textContent="Please enter your quiz code below",u=Z(),f=T("div"),o=T("input"),d=Z(),v&&v.c(),_(t,"class","back back--floating"),_(o,"class","input svelte-ks6myu"),_(o,"type","text"),_(o,"minlength",Jn),_(o,"maxlength",Jn),_(o,"placeholder","X".repeat(Jn)),_(f,"class","form svelte-ks6myu"),_(e,"class","main svelte-ks6myu")},m(g,A){V(g,e,A),p(e,t),ae(r,t,null),p(e,i),p(e,s),p(e,a),p(e,l),p(e,u),p(e,f),p(f,o),Pe(o,n[0]),p(f,d),v&&v.m(f,null),h=!0,m||(C=[ee(t,"click",$n),ee(o,"input",n[4]),ee(o,"input",n[2])],m=!0)},p(g,[A]){A&1&&o.value!==g[0]&&Pe(o,g[0]),g[1]?v&&(ht(),J(v,1,1,()=>{v=null}),mt()):v?(v.p(g,A),A&2&&W(v,1)):(v=Pi(g),v.c(),W(v,1),v.m(f,null))},i(g){h||(W(r.$$.fragment,g),W(v),it(()=>{h&&(c||(c=He(e,et,{},!0)),c.run(1))}),h=!0)},o(g){J(r.$$.fragment,g),J(v),c||(c=He(e,et,{},!1)),c.run(0),h=!1},d(g){g&&H(e),le(r),v&&v.d(),g&&c&&c.end(),m=!1,Qe(C)}}}function gu(n,e,t){let r="",i=!0;function s(){t(0,r=r.toUpperCase().replace(/[^A-Z0-9]/,"")),t(1,i=r.length!=Jn)}function a(){Yt({ty:Ht.Connect,token:r}).then(()=>Sa(r)).catch(u=>{console.error("Failed to connect",u),Dt("Failed to connect",Kr[u])})}function l(){r=this.value,t(0,r)}return[r,i,s,a,l]}class vu extends xe{constructor(e){super(),Ae(this,e,gu,_u,Ce,{})}}async function Wr(n){try{await Yt({ty:Ht.Kick,id:n})}catch(e){console.error("Error while attempting to kick",e)}}async function Kn(n){try{await Yt({ty:Ht.HostAction,action:n})}catch(e){console.error("Error while attempting host action",n,e)}}async function yu(){try{await Yt({ty:Ht.Ready})}catch(n){console.error("Error while attempting to ready",n)}}const bu={Answered:["Hmm I wonder if you got it right....","It definitely had to be that one! ","Yeah it was probably that one... ","0_0 good luck i guess..","Are you sure it was that one..?"," Probbably right","It gotta be that one!","If you say so ","1 + 1 = 5?","Was definitely that one! "," don't tell them the answer","Made it in time ","Nice answer ","Mastermind "],[Nt.Correct]:["You did it!","That one was right!","Good job!","Yup that was it!","Nicely done ","Brainy ","Smarty pants "],[Nt.Incorrect]:["Ooops..","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"],[Nt.Partial]:["Almost there...","Not quite there","Just about...","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"]};function ta(n){const e=bu[n];return e[Yn(0,e.length-1)]}function wu(n){let e,t,r,i,s,a;return{c(){e=T("main"),t=T("h1"),t.textContent="Waiting...",r=Z(),i=T("p"),i.textContent=`${n[0]}`,_(t,"class","title svelte-1p2ou5x"),_(i,"class","text svelte-1p2ou5x"),_(e,"class","main svelte-1p2ou5x")},m(l,u){V(l,e,u),p(e,t),p(e,r),p(e,i),a=!0},p:G,i(l){a||(it(()=>{a&&(s||(s=He(e,et,{},!0)),s.run(1))}),a=!0)},o(l){s||(s=He(e,et,{},!1)),s.run(0),a=!1},d(l){l&&H(e),l&&s&&s.end()}}}function ku(n){return[ta("Answered")]}class Cu extends xe{constructor(e){super(),Ae(this,e,ku,wu,Ce,{})}}function Zi(n){return Object.prototype.toString.call(n)==="[object Date]"}function Gr(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((i,s)=>Gr(n[s],i));return i=>r.map(s=>s(i))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Zi(n)&&Zi(e)){n=n.getTime(),e=e.getTime();const s=e-n;return a=>new Date(n+a*s)}const r=Object.keys(e),i={};return r.forEach(s=>{i[s]=Gr(n[s],e[s])}),s=>{const a={};return r.forEach(l=>{a[l]=i[l](s)}),a}}if(t==="number"){const r=e-n;return i=>n+i*r}throw new Error(`Cannot interpolate ${t} values`)}function na(n,e={}){const t=Kt(n);let r,i=n;function s(a,l){if(n==null)return t.set(n=a),Promise.resolve();i=a;let u=r,f=!1,{delay:o=0,duration:d=400,easing:c=yr,interpolate:h=Gr}=fi(fi({},e),l);if(d===0)return u&&(u.abort(),u=null),t.set(n=i),Promise.resolve();const m=Jr()+o;let C;return r=Xr(v=>{if(v<m)return!0;f||(C=h(n,a),typeof d=="function"&&(d=d(n,a)),f=!0),u&&(u.abort(),u=null);const g=v-m;return g>d?(t.set(n=a),!1):(t.set(n=C(c(g/d))),!0)}),r.promise}return{set:s,update:(a,l)=>s(a(i,n),l),subscribe:t.subscribe}}function Au(n){let e=n[0].toFixed(0)+"",t;return{c(){t=re(e)},m(r,i){V(r,t,i)},p(r,[i]){i&1&&e!==(e=r[0].toFixed(0)+"")&&Me(t,e)},i:G,o:G,d(r){r&&H(t)}}}function xu(n,e,t){let r,{value:i}=e;const s=na(0,{delay:500});return Tt(n,s,a=>t(0,r=a)),n.$$set=a=>{"value"in a&&t(2,i=a.value)},n.$$.update=()=>{n.$$.dirty&4&&s.set(i)},[r,s,i]}class ra extends xe{constructor(e){super(),Ae(this,e,xu,Au,Ce,{value:2})}}function $u(n){let e,t,r,i,s,a,l,u,f;return{c(){e=fe("svg"),t=fe("g"),r=fe("polygon"),i=fe("polygon"),s=fe("polygon"),a=fe("g"),l=fe("circle"),u=fe("circle"),f=fe("path"),hi(r,"fill","#FFD102"),_(r,"points","371.342,210.903 469.209,150.675 379.787,95.648 281.922,155.874 	"),hi(i,"fill","#FFD102"),_(i,"points","127.994,210.903 225.863,150.675 136.44,95.648 38.576,155.874 	"),_(s,"fill","#FFE368"),_(s,"points",`383.997,197.691 255.992,118.921 127.994,197.691 0,118.921 22.505,382.593 489.495,382.593 
	512,118.921 `),_(l,"fill","#FFAA0E"),_(l,"cx","99.947"),_(l,"cy","320.636"),_(l,"r","8.44"),_(u,"fill","#FFAA0E"),_(u,"cx","66.184"),_(u,"cy","286.878"),_(u,"r","8.44"),_(f,"fill","#FFAA0E"),_(f,"d",`M489.495,371.341H22.505C10.076,371.341,0,381.416,0,393.846c0,12.43,10.076,22.505,22.505,22.505
		h466.989c12.43,0,22.505-10.076,22.505-22.505C512,381.416,501.924,371.341,489.495,371.341z`),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"viewBox","0 0 512 512"),_(e,"xml:space","preserve")},m(o,d){V(o,e,d),p(e,t),p(t,r),p(t,i),p(e,s),p(e,a),p(a,l),p(a,u),p(a,f)},p:G,i:G,o:G,d(o){o&&H(e)}}}class Eu extends xe{constructor(e){super(),Ae(this,e,null,$u,Ce,{})}}function Di(n,e,t){const r=n.slice();return r[4]=e[t],r[6]=t,r}function Li(n){let e,t,r;return{c(){e=T("button"),e.textContent="Restart",_(e,"class","btn")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[3]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function zi(n){let e,t,r;return t=new Eu({}),{c(){e=T("div"),oe(t.$$.fragment),_(e,"class","crown svelte-1x6mh6t")},m(i,s){V(i,e,s),ae(t,e,null),r=!0},i(i){r||(W(t.$$.fragment,i),r=!0)},o(i){J(t.$$.fragment,i),r=!1},d(i){i&&H(e),le(t)}}}function Hi(n,e){let t,r,i,s=Ci(e[6]+1)+"",a,l,u,f=e[4].name+"",o,d,c,h,m,C,v=G,g,A=e[6]==0&&zi();return h=new ra({props:{value:e[4].score}}),{key:n,first:null,c(){t=T("tr"),r=T("td"),A&&A.c(),i=Z(),a=re(s),l=Z(),u=T("td"),o=re(f),d=Z(),c=T("td"),oe(h.$$.fragment),m=Z(),_(r,"class","player__place svelte-1x6mh6t"),_(u,"class","player__name svelte-1x6mh6t"),_(c,"class","player_score svelte-1x6mh6t"),_(t,"class","player svelte-1x6mh6t"),this.first=t},m(x,E){V(x,t,E),p(t,r),A&&A.m(r,null),p(r,i),p(r,a),p(t,l),p(t,u),p(u,o),p(t,d),p(t,c),ae(h,c,null),p(t,m),g=!0},p(x,E){e=x,e[6]==0?A?E&1&&W(A,1):(A=zi(),A.c(),W(A,1),A.m(r,i)):A&&(ht(),J(A,1,1,()=>{A=null}),mt()),(!g||E&1)&&s!==(s=Ci(e[6]+1)+"")&&Me(a,s),(!g||E&1)&&f!==(f=e[4].name+"")&&Me(o,f);const q={};E&1&&(q.value=e[4].score),h.$set(q)},r(){C=t.getBoundingClientRect()},f(){kr(t),v()},a(){v(),v=wr(t,C,Ir,{})},i(x){g||(W(A),W(h.$$.fragment,x),g=!0)},o(x){J(A),J(h.$$.fragment,x),g=!1},d(x){x&&H(t),A&&A.d(),le(h)}}}function Tu(n){let e,t,r,i,s=n[1].token+"",a,l,u,f=n[1].config.name+"",o,d,c,h=n[1].config.text+"",m,C,v,g,A,x,E,q,S,U,y=[],b=new Map,I,$,F,R,M=n[1].host&&Li(n),O=n[0].players;const k=w=>w[4].id;for(let w=0;w<O.length;w+=1){let j=Di(n,O,w),N=k(j);b.set(N,y[w]=Hi(N,j))}return{c(){e=T("main"),t=T("div"),r=T("div"),i=T("h1"),a=re(s),l=Z(),u=T("h2"),o=re(f),d=Z(),c=T("p"),m=re(h),C=Z(),v=T("div"),g=T("button"),g.textContent="Leave",A=Z(),M&&M.c(),x=Z(),E=T("table"),q=T("thead"),q.innerHTML=`<tr><th class="svelte-1x6mh6t">Place</th> 
          <th class="svelte-1x6mh6t">Name</th> 
          <th class="svelte-1x6mh6t">Score</th></tr>`,S=Z(),U=T("tbody");for(let w=0;w<y.length;w+=1)y[w].c();_(i,"class","token svelte-1x6mh6t"),_(r,"class","head svelte-1x6mh6t"),_(u,"class","name"),_(c,"class","desc svelte-1x6mh6t"),_(g,"class","btn"),_(v,"class","btn-row btn-row--fill"),_(E,"class","players svelte-1x6mh6t"),_(t,"class","quiz svelte-1x6mh6t"),_(e,"class","main svelte-1x6mh6t")},m(w,j){V(w,e,j),p(e,t),p(t,r),p(r,i),p(i,a),p(t,l),p(t,u),p(u,o),p(t,d),p(t,c),p(c,m),p(t,C),p(t,v),p(v,g),p(v,A),M&&M.m(v,null),p(t,x),p(t,E),p(E,q),p(E,S),p(E,U);for(let N=0;N<y.length;N+=1)y[N]&&y[N].m(U,null);$=!0,F||(R=ee(g,"click",n[2]),F=!0)},p(w,[j]){if((!$||j&2)&&s!==(s=w[1].token+"")&&Me(a,s),(!$||j&2)&&f!==(f=w[1].config.name+"")&&Me(o,f),(!$||j&2)&&h!==(h=w[1].config.text+"")&&Me(m,h),w[1].host?M?M.p(w,j):(M=Li(w),M.c(),M.m(v,null)):M&&(M.d(1),M=null),j&1){O=w[0].players,ht();for(let N=0;N<y.length;N+=1)y[N].r();y=Ar(y,j,k,1,w,O,b,U,Cr,Hi,null,Di);for(let N=0;N<y.length;N+=1)y[N].a();mt()}},i(w){if(!$){for(let j=0;j<O.length;j+=1)W(y[j]);it(()=>{$&&(I||(I=He(e,et,{},!0)),I.run(1))}),$=!0}},o(w){for(let j=0;j<y.length;j+=1)J(y[j]);I||(I=He(e,et,{},!1)),I.run(0),$=!1},d(w){w&&H(e),M&&M.d();for(let j=0;j<y.length;j+=1)y[j].d();w&&I&&I.end(),F=!1,R()}}}function Su(n,e,t){let{summary:r}=e,{gameData:i}=e;async function s(){i.host&&!await $r("Confirm Leave","Are you sure you want to leave? Leaving will remove all other players from the game")||(await Wr(i.id),$n())}const a=()=>Kn(Sn.Reset);return n.$$set=l=>{"summary"in l&&t(0,r=l.summary),"gameData"in l&&t(1,i=l.gameData)},[r,i,s,a]}class Iu extends xe{constructor(e){super(),Ae(this,e,Su,Tu,Ce,{summary:0,gameData:1})}}function Bi(n,e,t){const r=n.slice();return r[10]=e[t],r[12]=t,r}function Vi(n,e,t){const r=n.slice();return r[10]=e[t],r[12]=t,r}function Qi(n){let e,t,r,i;return{c(){e=T("div"),_(e,"class","image-wrapper svelte-h41osy")},m(s,a){V(s,e,a),r||(i=ca(t=Nu.call(null,e,n[2])),r=!0)},p(s,a){t&&xn(t.update)&&a&4&&t.update.call(null,s[2])},d(s){s&&H(e),r=!1,i()}}}function Mu(n){let e,t,r,i,s,a,l,u=n[1].answers,f=[];for(let o=0;o<u.length;o+=1)f[o]=Wi(Bi(n,u,o));return{c(){e=T("div");for(let o=0;o<f.length;o+=1)f[o].c();t=Z(),r=T("button"),i=re("Submit"),_(e,"class","answers svelte-h41osy"),_(r,"class","btn submit svelte-h41osy"),r.disabled=s=n[3].length<n[1].min},m(o,d){V(o,e,d);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);V(o,t,d),V(o,r,d),p(r,i),a||(l=ee(r,"click",n[5]),a=!0)},p(o,d){if(d&74){u=o[1].answers;let c;for(c=0;c<u.length;c+=1){const h=Bi(o,u,c);f[c]?f[c].p(h,d):(f[c]=Wi(h),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=u.length}d&10&&s!==(s=o[3].length<o[1].min)&&(r.disabled=s)},d(o){o&&H(e),Mn(f,o),o&&H(t),o&&H(r),a=!1,l()}}}function Fu(n){let e,t=n[1].answers,r=[];for(let i=0;i<t.length;i+=1)r[i]=Gi(Vi(n,t,i));return{c(){e=T("div");for(let i=0;i<r.length;i+=1)r[i].c();_(e,"class","answers svelte-h41osy")},m(i,s){V(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,s){if(s&18){t=i[1].answers;let a;for(a=0;a<t.length;a+=1){const l=Vi(i,t,a);r[a]?r[a].p(l,s):(r[a]=Gi(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&H(e),Mn(r,i)}}}function Wi(n){let e,t=n[10].value+"",r,i,s,a,l;function u(){return n[9](n[12])}return{c(){e=T("button"),r=re(t),i=Z(),_(e,"class","answer btn svelte-h41osy"),e.disabled=s=n[3].length>=n[1].max&&!n[3].includes(n[12]),mi(e,"answer--checked",n[3].includes(n[12]))},m(f,o){V(f,e,o),p(e,r),p(e,i),a||(l=ee(e,"click",u),a=!0)},p(f,o){n=f,o&2&&t!==(t=n[10].value+"")&&Me(r,t),o&10&&s!==(s=n[3].length>=n[1].max&&!n[3].includes(n[12]))&&(e.disabled=s),o&8&&mi(e,"answer--checked",n[3].includes(n[12]))},d(f){f&&H(e),a=!1,l()}}}function Gi(n){let e,t=n[10].value+"",r,i,s,a;function l(){return n[8](n[12])}return{c(){e=T("button"),r=re(t),i=Z(),_(e,"class","answer btn svelte-h41osy")},m(u,f){V(u,e,f),p(e,r),p(e,i),s||(a=ee(e,"click",l),s=!0)},p(u,f){n=u,f&2&&t!==(t=n[10].value+"")&&Me(r,t)},d(u){u&&H(e),s=!1,a()}}}function Uu(n){let e,t=hr(n[0])+"",r,i,s,a,l,u,f=n[1].text+"",o,d,c=n[2]!==null&&Qi(n);function h(v,g){if(v[1].ty===at.Single)return Fu;if(v[1].ty===at.Multiple)return Mu}let m=h(n),C=m&&m(n);return{c(){e=T("p"),r=re(t),i=Z(),s=T("main"),c&&c.c(),a=Z(),l=T("div"),u=T("p"),o=re(f),d=Z(),C&&C.c(),_(e,"class","time svelte-h41osy"),_(u,"class","text svelte-h41osy"),_(l,"class","content svelte-h41osy"),_(s,"class","main svelte-h41osy")},m(v,g){V(v,e,g),p(e,r),V(v,i,g),V(v,s,g),c&&c.m(s,null),p(s,a),p(s,l),p(l,u),p(u,o),p(l,d),C&&C.m(l,null)},p(v,[g]){g&1&&t!==(t=hr(v[0])+"")&&Me(r,t),v[2]!==null?c?c.p(v,g):(c=Qi(v),c.c(),c.m(s,a)):c&&(c.d(1),c=null),g&2&&f!==(f=v[1].text+"")&&Me(o,f),m===(m=h(v))&&C?C.p(v,g):(C&&C.d(1),C=m&&m(v),C&&(C.c(),C.m(l,null)))},i:G,o:G,d(v){v&&H(e),v&&H(i),v&&H(s),c&&c.d(),C&&C.d()}}}function Nu(n,e){n.appendChild(e)}function Ru(n,e,t){let{timer:r}=e,{question:i}=e,{answered:s}=e,{preloadedImage:a}=e,l=[];async function u(h){t(7,s=!0);try{await Yt({ty:Ht.Answer,answer:{ty:Br.Single,answer:h}})}catch(m){console.error("Error while attempting to answer",m)}}async function f(){t(7,s=!0);try{await Yt({ty:Ht.Answer,answer:{ty:Br.Multiple,answers:l}})}catch(h){console.error("Error while attempting to answer",h)}}function o(h){l.includes(h)?t(3,l=l.filter(m=>m!=h)):(l.push(h),t(3,l))}const d=h=>u(h),c=h=>o(h);return n.$$set=h=>{"timer"in h&&t(0,r=h.timer),"question"in h&&t(1,i=h.question),"answered"in h&&t(7,s=h.answered),"preloadedImage"in h&&t(2,a=h.preloadedImage)},[r,i,a,l,u,f,o,s,d,c]}class Ou extends xe{constructor(e){super(),Ae(this,e,Ru,Uu,Ce,{timer:0,question:1,answered:7,preloadedImage:2})}}function Ji(n,e,t){const r=n.slice();return r[10]=e[t],r}function Yi(n){let e;return{c(){e=T("span"),e.textContent="Starting",_(e,"class","starting")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function Xi(n){let e,t=hr(n[0])+"",r;return{c(){e=T("span"),r=re(t),_(e,"class","time svelte-1t27o1x")},m(i,s){V(i,e,s),p(e,r)},p(i,s){s&1&&t!==(t=hr(i[0])+"")&&Me(r,t)},d(i){i&&H(e)}}}function Ki(n){let e,t,r=n[0].elapsed!==n[0].total&&es(n);function i(l,u){if(l[4]===_t.Starting)return ju;if(l[2].length>0&&l[4]===_t.Lobby)return qu}let s=i(n),a=s&&s(n);return{c(){r&&r.c(),e=Z(),a&&a.c(),t=Xt()},m(l,u){r&&r.m(l,u),V(l,e,u),a&&a.m(l,u),V(l,t,u)},p(l,u){l[0].elapsed!==l[0].total?r?r.p(l,u):(r=es(l),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s===(s=i(l))&&a?a.p(l,u):(a&&a.d(1),a=s&&s(l),a&&(a.c(),a.m(t.parentNode,t)))},d(l){r&&r.d(l),l&&H(e),a&&a.d(l),l&&H(t)}}}function es(n){let e,t,r;return{c(){e=T("button"),e.textContent="Skip",_(e,"class","btn")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[8]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function qu(n){let e,t,r;return{c(){e=T("button"),e.textContent="Start",_(e,"class","btn")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[6]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function ju(n){let e,t,r;return{c(){e=T("button"),e.textContent="Cancel",_(e,"class","btn")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[7]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function ts(n){let e;return{c(){e=T("th"),e.textContent="Actions",_(e,"class","svelte-1t27o1x")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function ns(n){let e,t,r,i;function s(){return n[9](n[10])}return{c(){e=T("td"),t=T("button"),t.textContent="Kick",_(t,"class","btn"),_(e,"class","player__action svelte-1t27o1x")},m(a,l){V(a,e,l),p(e,t),r||(i=ee(t,"click",s),r=!0)},p(a,l){n=a},d(a){a&&H(e),r=!1,i()}}}function rs(n,e){let t,r,i=e[10].name+"",s,a,l,u,f,o,d,c=G,h;u=new ra({props:{value:e[3][e[10].id]??0}});let m=e[1].host&&ns(e);return{key:n,first:null,c(){t=T("tr"),r=T("td"),s=re(i),a=Z(),l=T("td"),oe(u.$$.fragment),f=Z(),m&&m.c(),o=Z(),_(r,"class","player__name svelte-1t27o1x"),_(l,"class","player_score svelte-1t27o1x"),_(t,"class","player svelte-1t27o1x"),this.first=t},m(C,v){V(C,t,v),p(t,r),p(r,s),p(t,a),p(t,l),ae(u,l,null),p(t,f),m&&m.m(t,null),p(t,o),h=!0},p(C,v){e=C,(!h||v&4)&&i!==(i=e[10].name+"")&&Me(s,i);const g={};v&12&&(g.value=e[3][e[10].id]??0),u.$set(g),e[1].host?m?m.p(e,v):(m=ns(e),m.c(),m.m(t,o)):m&&(m.d(1),m=null)},r(){d=t.getBoundingClientRect()},f(){kr(t),c()},a(){c(),c=wr(t,d,Ir,{})},i(C){h||(W(u.$$.fragment,C),h=!0)},o(C){J(u.$$.fragment,C),h=!1},d(C){C&&H(t),le(u),m&&m.d()}}}function Pu(n){let e,t,r,i,s=n[1].token+"",a,l,u,f,o,d,c=n[1].config.name+"",h,m,C,v=n[1].config.text+"",g,A,x,E,q,S,U,y,b,I,$,F,R,M,O,k=[],w=new Map,j,N,D,Y,z=n[4]===_t.Starting&&Yi(),B=n[0].elapsed!==n[0].total&&Xi(n),L=n[1].host&&Ki(n),P=n[1].host&&ts(),ie=n[2];const be=ne=>ne[10].id;for(let ne=0;ne<ie.length;ne+=1){let X=Ji(n,ie,ne),ue=be(X);w.set(ue,k[ne]=rs(ue,X))}return{c(){e=T("main"),t=T("div"),r=T("div"),i=T("h1"),a=re(s),l=Z(),u=T("p"),z&&z.c(),f=Z(),B&&B.c(),o=Z(),d=T("h2"),h=re(c),m=Z(),C=T("p"),g=re(v),A=Z(),x=T("div"),E=T("button"),E.textContent="Leave",q=Z(),L&&L.c(),S=Z(),U=T("table"),y=T("thead"),b=T("tr"),I=T("th"),I.textContent="Name",$=Z(),F=T("th"),F.textContent="Score",R=Z(),P&&P.c(),M=Z(),O=T("tbody");for(let ne=0;ne<k.length;ne+=1)k[ne].c();_(i,"class","token svelte-1t27o1x"),_(u,"class","timing svelte-1t27o1x"),_(r,"class","head svelte-1t27o1x"),_(d,"class","name"),_(C,"class","desc svelte-1t27o1x"),_(E,"class","btn"),_(x,"class","btn-row btn-row--fill"),_(I,"class","svelte-1t27o1x"),_(F,"class","svelte-1t27o1x"),_(U,"class","players svelte-1t27o1x"),_(t,"class","quiz svelte-1t27o1x"),_(e,"class","main svelte-1t27o1x")},m(ne,X){V(ne,e,X),p(e,t),p(t,r),p(r,i),p(i,a),p(r,l),p(r,u),z&&z.m(u,null),p(u,f),B&&B.m(u,null),p(t,o),p(t,d),p(d,h),p(t,m),p(t,C),p(C,g),p(t,A),p(t,x),p(x,E),p(x,q),L&&L.m(x,null),p(t,S),p(t,U),p(U,y),p(y,b),p(b,I),p(b,$),p(b,F),p(b,R),P&&P.m(b,null),p(U,M),p(U,O);for(let ue=0;ue<k.length;ue+=1)k[ue]&&k[ue].m(O,null);N=!0,D||(Y=ee(E,"click",n[5]),D=!0)},p(ne,[X]){if((!N||X&2)&&s!==(s=ne[1].token+"")&&Me(a,s),ne[4]===_t.Starting?z||(z=Yi(),z.c(),z.m(u,f)):z&&(z.d(1),z=null),ne[0].elapsed!==ne[0].total?B?B.p(ne,X):(B=Xi(ne),B.c(),B.m(u,null)):B&&(B.d(1),B=null),(!N||X&2)&&c!==(c=ne[1].config.name+"")&&Me(h,c),(!N||X&2)&&v!==(v=ne[1].config.text+"")&&Me(g,v),ne[1].host?L?L.p(ne,X):(L=Ki(ne),L.c(),L.m(x,null)):L&&(L.d(1),L=null),ne[1].host?P||(P=ts(),P.c(),P.m(b,null)):P&&(P.d(1),P=null),X&14){ie=ne[2],ht();for(let ue=0;ue<k.length;ue+=1)k[ue].r();k=Ar(k,X,be,1,ne,ie,w,O,Cr,rs,null,Ji);for(let ue=0;ue<k.length;ue+=1)k[ue].a();mt()}},i(ne){if(!N){for(let X=0;X<ie.length;X+=1)W(k[X]);it(()=>{N&&(j||(j=He(e,et,{},!0)),j.run(1))}),N=!0}},o(ne){for(let X=0;X<k.length;X+=1)J(k[X]);j||(j=He(e,et,{},!1)),j.run(0),N=!1},d(ne){ne&&H(e),z&&z.d(),B&&B.d(),L&&L.d(),P&&P.d();for(let X=0;X<k.length;X+=1)k[X].d();ne&&j&&j.end(),D=!1,Y()}}}function Zu(n,e,t){let{timer:r}=e,{gameData:i}=e,{players:s}=e,{scores:a}=e,{gameState:l}=e;async function u(){const h=i.host?"Are you sure you want to leave? Leaving will remove all other players from the game":"Are you sure you want to leave?";await $r("Confirm Leave",h)&&(await Wr(i.id),$n())}const f=()=>Kn(Sn.Start),o=()=>Kn(Sn.Cancel),d=()=>Kn(Sn.Skip),c=h=>Wr(h.id);return n.$$set=h=>{"timer"in h&&t(0,r=h.timer),"gameData"in h&&t(1,i=h.gameData),"players"in h&&t(2,s=h.players),"scores"in h&&t(3,a=h.scores),"gameState"in h&&t(4,l=h.gameState)},[r,i,s,a,l,u,f,o,d,c]}class ia extends xe{constructor(e){super(),Ae(this,e,Zu,Pu,Ce,{timer:0,gameData:1,players:2,scores:3,gameState:4})}}function Du(n){let e,t=n[0].count+"",r,i,s=n[0].total+"",a,l,u,f,o=n[1].toFixed(0)+"",d;return{c(){e=T("p"),r=re(t),i=re(" / "),a=re(s),l=Z(),u=T("p"),f=re("+"),d=re(o),_(e,"class","ratio"),_(u,"class","score svelte-1dywswa")},m(c,h){V(c,e,h),p(e,r),p(e,i),p(e,a),V(c,l,h),V(c,u,h),p(u,f),p(u,d)},p(c,h){h&1&&t!==(t=c[0].count+"")&&Me(r,t),h&1&&s!==(s=c[0].total+"")&&Me(a,s),h&2&&o!==(o=c[1].toFixed(0)+"")&&Me(d,o)},d(c){c&&H(e),c&&H(l),c&&H(u)}}}function Lu(n){let e,t,r=n[1].toFixed(0)+"",i;return{c(){e=T("p"),t=re("+"),i=re(r),_(e,"class","score svelte-1dywswa")},m(s,a){V(s,e,a),p(e,t),p(e,i)},p(s,a){a&2&&r!==(r=s[1].toFixed(0)+"")&&Me(i,r)},d(s){s&&H(e)}}}function zu(n){let e,t,r=n[0].ty+"",i,s,a,l,u,f,o;function d(m,C){if(m[0].ty===Nt.Correct)return Lu;if(m[0].ty===Nt.Partial)return Du}let c=d(n),h=c&&c(n);return{c(){e=T("main"),t=T("h1"),i=re(r),s=Z(),a=T("p"),a.textContent=`${n[2]}`,l=Z(),h&&h.c(),_(t,"class","title svelte-1dywswa"),_(a,"class","text svelte-1dywswa"),_(e,"class","main svelte-1dywswa"),_(e,"data-type",u=n[0].ty)},m(m,C){V(m,e,C),p(e,t),p(t,i),p(e,s),p(e,a),p(e,l),h&&h.m(e,null),o=!0},p(m,[C]){(!o||C&1)&&r!==(r=m[0].ty+"")&&Me(i,r),c===(c=d(m))&&h?h.p(m,C):(h&&h.d(1),h=c&&c(m),h&&(h.c(),h.m(e,null))),(!o||C&1&&u!==(u=m[0].ty))&&_(e,"data-type",u)},i(m){o||(it(()=>{o&&(f||(f=He(e,et,{},!0)),f.run(1))}),o=!0)},o(m){f||(f=He(e,et,{},!1)),f.run(0),o=!1},d(m){m&&H(e),h&&h.d(),m&&f&&f.end()}}}function Hu(n,e,t){let r,{score:i}=e;const s=ta(i.ty),a=na(0,{delay:500});return Tt(n,a,l=>t(1,r=l)),n.$$set=l=>{"score"in l&&t(0,i=l.score)},n.$$.update=()=>{n.$$.dirty&1&&(i.ty===Nt.Correct||i.ty===Nt.Partial)&&a.set(i.value)},[i,r,s,a]}class Bu extends xe{constructor(e){super(),Ae(this,e,Hu,zu,Ce,{score:0})}}function Vu(n){let e,t;return e=new ii({props:{text:"..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Qu(n){let e,t,r,i;const s=[Ku,Xu],a=[];function l(u,f){return u[9].elapsed>=u[9].total*.25?0:1}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Xt()},m(u,f){a[e].m(u,f),V(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?a[e].p(u,f):(ht(),J(a[o],1,1,()=>{a[o]=null}),mt(),t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r))},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){a[e].d(u),u&&H(r)}}}function Wu(n){let e,t,r,i;const s=[tc,ec],a=[];function l(u,f){return u[8]?u[2].length!==1?1:-1:0}return~(e=l(n))&&(t=a[e]=s[e](n)),{c(){t&&t.c(),r=Xt()},m(u,f){~e&&a[e].m(u,f),V(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?~e&&a[e].p(u,f):(t&&(ht(),J(a[o],1,1,()=>{a[o]=null}),mt()),~e?(t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r)):t=null)},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){~e&&a[e].d(u),u&&H(r)}}}function Gu(n){let e,t;return e=new ii({props:{text:"Waiting for other players..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Ju(n){let e,t;return e=new ia({props:{gameData:n[0],gameState:n[3],players:n[2],timer:n[9],scores:n[7]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&8&&(s.gameState=r[3]),i&4&&(s.players=r[2]),i&512&&(s.timer=r[9]),i&128&&(s.scores=r[7]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Yu(n){let e,t;return e=new Iu({props:{gameData:n[0],summary:n[4]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&16&&(s.summary=r[4]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Xu(n){let e,t;return e=new Bu({props:{score:n[6]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&64&&(s.score=r[6]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Ku(n){let e,t;return e=new ia({props:{gameData:n[0],gameState:n[3],players:n[2],timer:n[9],scores:n[7]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&8&&(s.gameState=r[3]),i&4&&(s.players=r[2]),i&512&&(s.timer=r[9]),i&128&&(s.scores=r[7]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function ec(n){let e,t;return e=new Cu({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function tc(n){let e,t,r;function i(a){n[10](a)}let s={question:n[5],timer:n[9],preloadedImage:n[1]};return n[8]!==void 0&&(s.answered=n[8]),e=new Ou({props:s}),Zt.push(()=>sn(e,"answered",i)),{c(){oe(e.$$.fragment)},m(a,l){ae(e,a,l),r=!0},p(a,l){const u={};l&32&&(u.question=a[5]),l&512&&(u.timer=a[9]),l&2&&(u.preloadedImage=a[1]),!t&&l&256&&(t=!0,u.answered=a[8],rn(()=>t=!1)),e.$set(u)},i(a){r||(W(e.$$.fragment,a),r=!0)},o(a){J(e.$$.fragment,a),r=!1},d(a){le(e,a)}}}function nc(n){let e,t,r,i;const s=[Yu,Ju,Gu,Wu,Qu,Vu],a=[];function l(u,f){return u[3]===_t.Finished&&u[4]!=null?0:u[0].host||u[3]===_t.Lobby||u[3]===_t.Starting?1:u[3]===_t.AwaitingReady?2:u[3]===_t.AwaitingAnswers&&u[5]!=null?3:u[3]===_t.Marked?4:5}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Xt()},m(u,f){a[e].m(u,f),V(u,r,f),i=!0},p(u,[f]){let o=e;e=l(u),e===o?a[e].p(u,f):(ht(),J(a[o],1,1,()=>{a[o]=null}),mt(),t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r))},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){a[e].d(u),u&&H(r)}}}function rc(n,e,t){let{gameData:r}=e,i=null,s=[],a=_t.Lobby,l=null;r.host||s.push({id:r.id,name:r.name??""});let u=null,f={ty:Nt.Incorrect},o={},d,c={total:0,elapsed:0},h=0;function m(){if(c.elapsed===c.total)return;const v=performance.now(),g=v-h;t(9,c.elapsed+=g,c),h=v,c.elapsed>c.total?t(9,c.elapsed=c.total,c):requestAnimationFrame(m)}Bt($t.PlayerData,v=>{console.debug("Other player message",v),s.push(v),t(2,s)}),Bt($t.GameState,v=>{if(console.debug("Game state message",v),t(3,a=v.state),t(8,d=!1),v.state===_t.Lobby)t(7,o={});else if(v.state===_t.Finished){const g=s.map(A=>({score:o[A.id]??0,...A}));g.sort((A,x)=>x.score-A.score),t(4,l={players:g})}}),Bt($t.TimeSync,v=>{console.debug("Time sync message",v),h=performance.now(),t(9,c={total:v.total,elapsed:v.elapsed}),m()}),Bt($t.Question,async v=>{console.debug("Question message",v),t(5,u=v.question),t(6,f={ty:Nt.Incorrect}),!r.host&&(t(1,i=await jl(r.token,u)),i!==null&&u.image!==null&&(i.classList.add("question-image"),i.setAttribute("data-fit",u.image.fit),t(1,i.alt=u.text,i),i.decode!==void 0&&await i.decode()),await yu(),console.debug("Server acknowledged ready state"))}),Bt($t.Scores,v=>{console.debug("Score message",v),t(7,o=v.scores);let g=A=>o[A]??0;t(2,s=s.sort((A,x)=>g(x.id)-g(A.id)))}),Bt($t.Score,v=>{console.debug("Score message",v),t(6,f=v.score)}),Bt($t.Error,v=>{console.error("Server error",v.error)}),Bt($t.Kicked,v=>{if(console.debug("Kick message",v),t(2,s=s.filter(g=>g.id!==v.id)),v.id===r.id&&($n(),v.reason!==Is.Disconnected)){const g=Nl[v.reason];Dt("Removed from game",g)}}),_s(()=>{});function C(v){d=v,t(8,d)}return n.$$set=v=>{"gameData"in v&&t(0,r=v.gameData)},[r,i,s,a,l,u,f,o,d,c,C]}class ic extends xe{constructor(e){super(),Ae(this,e,rc,nc,Ce,{gameData:0})}}function sc(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),p(e,t),p(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class sa extends xe{constructor(e){super(),Ae(this,e,null,sc,Ce,{})}}function is(n,e,t){const r=n.slice();return r[7]=e[t],r}function ss(n){let e,t=n[0].answers,r=[];for(let i=0;i<t.length;i+=1)r[i]=as(is(n,t,i));return{c(){e=T("ul");for(let i=0;i<r.length;i+=1)r[i].c();_(e,"class","answers svelte-123upp3")},m(i,s){V(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,s){if(s&1){t=i[0].answers;let a;for(a=0;a<t.length;a+=1){const l=is(i,t,a);r[a]?r[a].p(l,s):(r[a]=as(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&H(e),Mn(r,i)}}}function as(n){let e,t=n[7].value+"",r,i,s;return{c(){e=T("li"),r=re(t),i=Z(),_(e,"class","answer svelte-123upp3"),_(e,"data-correct",s=n[7].correct)},m(a,l){V(a,e,l),p(e,r),p(e,i)},p(a,l){l&1&&t!==(t=a[7].value+"")&&Me(r,t),l&1&&s!==(s=a[7].correct)&&_(e,"data-correct",s)},d(a){a&&H(e)}}}function ac(n){let e,t,r,i,s,a,l,u,f,o,d,c,h,m,C,v,g,A,x,E=n[0].text+"",q,S,U,y,b;i=new Ks({}),u=new Xs({}),c=new sa({}),C=new ea({});let I=(n[0].ty==at.Single||n[0].ty==at.Multiple)&&ss(n);return{c(){e=T("div"),t=T("div"),r=T("button"),oe(i.$$.fragment),a=Z(),l=T("button"),oe(u.$$.fragment),o=Z(),d=T("button"),oe(c.$$.fragment),h=Z(),m=T("button"),oe(C.$$.fragment),g=Z(),A=T("div"),x=T("p"),q=re(E),S=Z(),I&&I.c(),r.disabled=s=n[1]<=0,_(r,"class","btn btn--icon-only btn--surface"),l.disabled=f=n[2]==1,_(l,"class","btn btn--icon-only btn--surface"),_(d,"class","btn btn--icon-only btn--surface"),m.disabled=v=n[1]+1>=n[2],_(m,"class","btn btn--icon-only btn--surface"),_(t,"class","actions svelte-123upp3"),_(A,"class","body svelte-123upp3"),_(e,"class","question svelte-123upp3")},m($,F){V($,e,F),p(e,t),p(t,r),ae(i,r,null),p(t,a),p(t,l),ae(u,l,null),p(t,o),p(t,d),ae(c,d,null),p(t,h),p(t,m),ae(C,m,null),p(e,g),p(e,A),p(A,x),p(x,q),p(A,S),I&&I.m(A,null),U=!0,y||(b=[ee(r,"click",n[4]),ee(l,"click",n[6]),ee(d,"click",n[3]),ee(m,"click",n[5])],y=!0)},p($,[F]){(!U||F&2&&s!==(s=$[1]<=0))&&(r.disabled=s),(!U||F&4&&f!==(f=$[2]==1))&&(l.disabled=f),(!U||F&6&&v!==(v=$[1]+1>=$[2]))&&(m.disabled=v),(!U||F&1)&&E!==(E=$[0].text+"")&&Me(q,E),$[0].ty==at.Single||$[0].ty==at.Multiple?I?I.p($,F):(I=ss($),I.c(),I.m(A,null)):I&&(I.d(1),I=null)},i($){U||(W(i.$$.fragment,$),W(u.$$.fragment,$),W(c.$$.fragment,$),W(C.$$.fragment,$),U=!0)},o($){J(i.$$.fragment,$),J(u.$$.fragment,$),J(c.$$.fragment,$),J(C.$$.fragment,$),U=!1},d($){$&&H(e),le(i),le(u),le(c),le(C),I&&I.d(),y=!1,Qe(b)}}}function lc(n,e,t){let{question:r}=e,{index:i}=e,{length:s}=e;function a(){Ia(uo(r))}const l=()=>xi(i,i-1),u=()=>xi(i,i+1),f=()=>fo(i);return n.$$set=o=>{"question"in o&&t(0,r=o.question),"index"in o&&t(1,i=o.index),"length"in o&&t(2,s=o.length)},[r,i,s,a,l,u,f]}class oc extends xe{constructor(e){super(),Ae(this,e,lc,ac,Ce,{question:0,index:1,length:2})}}function uc(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),p(e,t),p(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class cc extends xe{constructor(e){super(),Ae(this,e,null,uc,Ce,{})}}function fc(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),p(e,t),p(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class dc extends xe{constructor(e){super(),Ae(this,e,null,fc,Ce,{})}}const hc=_e.object({name:_e.string(),text:_e.string(),max_players:_e.number(),filtering:_e.string(),timing:_e.object({wait_time:_e.number()}),questions:_e.array(Rl).min(1),images:_e.array(_e.object({uuid:_e.string().uuid(),name:_e.string(),size:_e.number(),type:_e.string(),data:_e.array(_e.number())}))});async function mc(n){const e=await n.blob.arrayBuffer();return{uuid:n.uuid,name:n.name,size:n.size,type:n.blob.type,data:Array.from(new Uint8Array(e))}}async function pc(n,e){const t=await Promise.all(e.map(mc)),r={...n,images:t},i=JSON.stringify(r);return new Blob([i],{type:"application/json"})}async function _c(n){const e=new FileReader;await new Promise((s,a)=>{e.onload=s,e.onerror=a,e.onabort=a,e.readAsText(n)});const t=e.result,r=JSON.parse(t),i=hc.parse(r);for(const{data:s,uuid:a,name:l,type:u,size:f}of i.images){const o=new Uint8Array(s),d=new Blob([o.buffer],{type:u});kn.update(c=>(c.push({uuid:a,name:l,size:f,blob:d}),c.filter(h=>h.uuid!==a))),Js(d,a)}return{name:i.name,text:i.text,max_players:i.max_players,filtering:i.filtering,questions:i.questions,timing:i.timing}}function ls(n,e,t){const r=n.slice();return r[11]=e[t],r[12]=e,r[13]=t,r}function os(n,e){let t,r,i,s,a,l=G,u;function f(d){e[9](d,e[11],e[12],e[13])}let o={index:e[13],length:e[0].questions.length};return e[11]!==void 0&&(o.question=e[11]),r=new oc({props:o}),Zt.push(()=>sn(r,"question",f)),{key:n,first:null,c(){t=T("li"),oe(r.$$.fragment),s=Z(),this.first=t},m(d,c){V(d,t,c),ae(r,t,null),p(t,s),u=!0},p(d,c){e=d;const h={};c&1&&(h.index=e[13]),c&1&&(h.length=e[0].questions.length),!i&&c&1&&(i=!0,h.question=e[11],rn(()=>i=!1)),r.$set(h)},r(){a=t.getBoundingClientRect()},f(){kr(t),l()},a(){l(),l=wr(t,a,Ir,{duration:500})},i(d){u||(W(r.$$.fragment,d),u=!0)},o(d){J(r.$$.fragment,d),u=!1},d(d){d&&H(t),le(r)}}}function gc(n){let e,t,r,i,s,a,l,u,f,o,d,c,h,m,C,v,g,A,x,E,q,S,U,y,b,I,$,F,R,M,O,k,w,j,N,D,Y,z,B,L,P,ie,be,ne,X,ue,ke,Se,Be,st,Fe,Ze,we,me,Re,Oe,$e,tt,Ee,Ie,Ne,We,kt,je,nt,qe,Ue,Ge,lt,Le,Je,qt,At,jt,rt,ut,ze=[],Ye=new Map,Xe,yt,bt;s=new Mr({}),f=new Ys({}),h=new cc({}),g=new Fr({});function en(de){n[6](de)}let Ve={min:eo,max:to};n[0].timing.wait_time!==void 0&&(Ve.value=n[0].timing.wait_time),B=new Qr({props:Ve}),Zt.push(()=>sn(B,"value",en)),Ue=new dc({});let Ke=n[0].questions;const fn=de=>de[11].id;for(let de=0;de<Ke.length;de+=1){let pe=ls(n,Ke,de),Ct=fn(pe);Ye.set(Ct,ze[de]=os(Ct,pe))}return{c(){e=T("main"),t=T("div"),r=T("header"),i=T("button"),oe(s.$$.fragment),a=re(`
        Back`),l=Z(),u=T("button"),oe(f.$$.fragment),o=re(`
        Import`),d=Z(),c=T("button"),oe(h.$$.fragment),m=re(`
        Export`),C=Z(),v=T("button"),oe(g.$$.fragment),A=re(`
        Play`),x=Z(),E=T("label"),q=T("span"),q.textContent="Title",S=Z(),U=T("p"),U.innerHTML='Give your quiz a title <span class="optional svelte-2jvmi2">Optional</span>',y=Z(),b=T("input"),I=Z(),$=T("label"),F=T("span"),F.textContent="Description",R=Z(),M=T("p"),M.innerHTML='Description of your Quiz <span class="optional svelte-2jvmi2">Optional</span>',O=Z(),k=T("textarea"),w=Z(),j=T("div"),N=T("span"),N.textContent="Wait Time",D=Z(),Y=T("p"),Y.textContent="Time to wait between each question",z=Z(),oe(B.$$.fragment),P=Z(),ie=T("label"),be=T("span"),be.textContent="Max Players",ne=Z(),X=T("p"),X.textContent="Maximum number of players allowed to join this quiz",ue=Z(),ke=T("input"),Se=Z(),Be=T("label"),st=T("span"),st.textContent="Name Filtering",Fe=Z(),Ze=T("p"),Ze.textContent=`Level of filtering on profane/inappropriate naming. Its recommended that
        you leave this on Medium or High`,we=Z(),me=T("select"),Re=T("option"),Oe=re("None: Don't filter names"),$e=T("option"),tt=re("Low: Filter out more severe names"),Ee=T("option"),Ie=re(`Medium: Filter out anything thats not mild
        `),Ne=T("option"),We=re("High: Filter out as much as possible"),kt=Z(),je=T("div"),nt=T("div"),qe=T("button"),oe(Ue.$$.fragment),Ge=re(`
        Add Question`),Le=Z(),Je=T("button"),qt=re("Shuffle"),jt=Z(),rt=T("div"),ut=T("ol");for(let de=0;de<ze.length;de+=1)ze[de].c();_(i,"class","btn btn--icon svelte-2jvmi2"),_(u,"class","btn btn--icon svelte-2jvmi2"),_(c,"class","btn btn--icon svelte-2jvmi2"),_(v,"class","btn btn--icon svelte-2jvmi2"),_(r,"class","header svelte-2jvmi2"),_(q,"class","field__name svelte-2jvmi2"),_(U,"class","field__desc svelte-2jvmi2"),_(b,"class","input svelte-2jvmi2"),_(b,"type","text"),_(b,"maxlength",zl),_(E,"class","field svelte-2jvmi2"),_(F,"class","field__name svelte-2jvmi2"),_(M,"class","field__desc svelte-2jvmi2"),_(k,"class","input input--desc svelte-2jvmi2"),_(k,"name",""),_(k,"id",""),_(k,"cols","30"),_(k,"rows","5"),_(k,"maxlength",Hl),_($,"class","field svelte-2jvmi2"),_(N,"class","field__name svelte-2jvmi2"),_(Y,"class","field__desc svelte-2jvmi2"),_(j,"class","field svelte-2jvmi2"),_(be,"class","field__name svelte-2jvmi2"),_(X,"class","field__desc svelte-2jvmi2"),_(ke,"class","input svelte-2jvmi2"),_(ke,"type","number"),_(ke,"min",ao),_(ke,"max",Os),_(ie,"class","field svelte-2jvmi2"),_(st,"class","field__name svelte-2jvmi2"),_(Ze,"class","field__desc svelte-2jvmi2"),Re.__value=_n.None,Re.value=Re.__value,$e.__value=_n.Low,$e.value=$e.__value,Ee.__value=_n.Medium,Ee.value=Ee.__value,Ne.__value=_n.High,Ne.value=Ne.__value,_(me,"class","input svelte-2jvmi2"),n[0].filtering===void 0&&it(()=>n[8].call(me)),_(Be,"class","field svelte-2jvmi2"),_(t,"class","details svelte-2jvmi2"),qe.disabled=lt=n[0].questions.length>=ki,_(qe,"class","btn btn--icon svelte-2jvmi2"),Je.disabled=At=n[0].questions.length<=1,_(Je,"class","btn btn--sm svelte-2jvmi2"),_(nt,"class","list__actions svelte-2jvmi2"),_(ut,"class","questions svelte-2jvmi2"),_(rt,"class","list__content svelte-2jvmi2"),_(je,"class","list svelte-2jvmi2"),_(e,"class","main svelte-2jvmi2")},m(de,pe){V(de,e,pe),p(e,t),p(t,r),p(r,i),ae(s,i,null),p(i,a),p(r,l),p(r,u),ae(f,u,null),p(u,o),p(r,d),p(r,c),ae(h,c,null),p(c,m),p(r,C),p(r,v),ae(g,v,null),p(v,A),p(t,x),p(t,E),p(E,q),p(E,S),p(E,U),p(E,y),p(E,b),Pe(b,n[0].name),p(t,I),p(t,$),p($,F),p($,R),p($,M),p($,O),p($,k),Pe(k,n[0].text),p(t,w),p(t,j),p(j,N),p(j,D),p(j,Y),p(j,z),ae(B,j,null),p(t,P),p(t,ie),p(ie,be),p(ie,ne),p(ie,X),p(ie,ue),p(ie,ke),Pe(ke,n[0].max_players),p(t,Se),p(t,Be),p(Be,st),p(Be,Fe),p(Be,Ze),p(Be,we),p(Be,me),p(me,Re),p(Re,Oe),p(me,$e),p($e,tt),p(me,Ee),p(Ee,Ie),p(me,Ne),p(Ne,We),Qt(me,n[0].filtering,!0),p(e,kt),p(e,je),p(je,nt),p(nt,qe),ae(Ue,qe,null),p(qe,Ge),p(nt,Le),p(nt,Je),p(Je,qt),p(je,jt),p(je,rt),p(rt,ut);for(let Ct=0;Ct<ze.length;Ct+=1)ze[Ct]&&ze[Ct].m(ut,null);Xe=!0,yt||(bt=[ee(i,"click",$n),ee(u,"click",n[2]),ee(c,"click",n[1]),ee(v,"click",n[3]),ee(b,"input",n[4]),ee(k,"input",n[5]),ee(ke,"input",n[7]),ee(me,"change",n[8]),ee(qe,"click",co),ee(Je,"click",ho)],yt=!0)},p(de,[pe]){pe&1&&b.value!==de[0].name&&Pe(b,de[0].name),pe&1&&Pe(k,de[0].text);const Ct={};if(!L&&pe&1&&(L=!0,Ct.value=de[0].timing.wait_time,rn(()=>L=!1)),B.$set(Ct),pe&1&&vt(ke.value)!==de[0].max_players&&Pe(ke,de[0].max_players),pe&1&&Qt(me,de[0].filtering),(!Xe||pe&1&&lt!==(lt=de[0].questions.length>=ki))&&(qe.disabled=lt),(!Xe||pe&1&&At!==(At=de[0].questions.length<=1))&&(Je.disabled=At),pe&1){Ke=de[0].questions,ht();for(let Ft=0;Ft<ze.length;Ft+=1)ze[Ft].r();ze=Ar(ze,pe,fn,1,de,Ke,Ye,ut,Cr,os,null,ls);for(let Ft=0;Ft<ze.length;Ft+=1)ze[Ft].a();mt()}},i(de){if(!Xe){W(s.$$.fragment,de),W(f.$$.fragment,de),W(h.$$.fragment,de),W(g.$$.fragment,de),W(B.$$.fragment,de),W(Ue.$$.fragment,de);for(let pe=0;pe<Ke.length;pe+=1)W(ze[pe]);Xe=!0}},o(de){J(s.$$.fragment,de),J(f.$$.fragment,de),J(h.$$.fragment,de),J(g.$$.fragment,de),J(B.$$.fragment,de),J(Ue.$$.fragment,de);for(let pe=0;pe<ze.length;pe+=1)J(ze[pe]);Xe=!1},d(de){de&&H(e),le(s),le(f),le(h),le(g),le(B),le(Ue);for(let pe=0;pe<ze.length;pe+=1)ze[pe].d();yt=!1,Qe(bt)}}}function vc(n){if(n.lengthComputable){const e=n.loaded/n.total*100;console.debug(`Uploading content: ${e}%`)}}function yc(n,e,t){let r,i;Tt(n,kn,m=>t(10,r=m)),Tt(n,wt,m=>t(0,i=m));async function s(){const m=i,C=r;console.debug("Exporting quiz to file",m.name);const v=await pc(m,C),g=m.name+".quizler";Ro(g,v)}async function a(){const m=await Uo(".quizler");if(m!==null)try{const C=await _c(m);wt.set(C),console.debug("Imported quiz file",C)}catch(C){console.error("Error while importing quiz file",C),Dt("Failed to import","Quiz file invalid or corrupted")}}function l(){const m=i;m.name=m.name.trim(),m.text=m.text.trim();const C=r;console.debug("Creating quiz"),Ol(m,C,vc).then(v=>Yt({ty:Ht.Initialize,uuid:v})).then(({id:v,token:g,config:A})=>{ys({id:v,token:g,config:A,host:!0})}).catch(v=>{console.error("Failed to create",v),v instanceof Error?Dt("Failed to create",v.message):Dt("Failed to create",Kr[v])})}function u(){i.name=this.value,wt.set(i)}function f(){i.text=this.value,wt.set(i)}function o(m){n.$$.not_equal(i.timing.wait_time,m)&&(i.timing.wait_time=m,wt.set(i))}function d(){i.max_players=vt(this.value),wt.set(i)}function c(){i.filtering=br(this),wt.set(i)}function h(m,C,v,g){v[g]=m,wt.set(i)}return[i,s,a,l,u,f,o,d,c,h]}class bc extends xe{constructor(e){super(),Ae(this,e,yc,gc,Ce,{})}}function wc(n){let e,t;return{c(){e=fe("svg"),t=fe("path"),_(t,"d","M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z"),_(e,"fill","#FFFFFF"),_(e,"width","32px"),_(e,"height","31.25px"),_(e,"viewBox","0 0 256 250"),_(e,"version","1.1"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"preserveAspectRatio","xMidYMid")},m(r,i){V(r,e,i),p(e,t)},p:G,i:G,o:G,d(r){r&&H(e)}}}class kc extends xe{constructor(e){super(),Ae(this,e,null,wc,Ce,{})}}function Cc(n){let e,t,r,i,s,a,l,u,f;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),i=fe("path"),s=fe("path"),a=fe("path"),l=fe("path"),u=fe("path"),f=fe("path"),_(t,"d","M209.6,119.1v-3.38q0-16.18,2.49-20.42T225.44,83q5.69-4.19,7.9-7.8a16.8,16.8,0,0,0,2.2-9q0-6.59-4.2-10.35a14.58,14.58,0,0,0-10.16-3.76q-15.74,0-17.65,22.29L179.15,71q2.7-20.1,14.65-30.46T223,30.19q17.61,0,29.56,10.07a32.29,32.29,0,0,1,12,25.69q.06,19.3-19.76,32.34-8.61,5.71-10.43,8.92t-1.8,11.84Zm27.48,34.73-27.93.06L209.08,127,237,127Z"),_(t,"transform","translate(-5.67 -30.19)"),_(r,"d","M98.54,268.74a43,43,0,0,1-9.39,1.07q-15.06,0-20.17-6.46t-5.92-16.26a95.28,95.28,0,0,1-10.63.74q-21.31,0-34-16.68T5.67,190.36q0-23.55,12.27-40.71t36.14-17.17q23.55,0,35.9,17.08t12.35,41.05q0,19.26-7,32.06T78.7,241q0,8.65,9.88,8.65,2.88,0,10-.83ZM54,154q-20.72,0-20.71,36.39,0,36.55,20.63,36.55,20.87,0,20.87-36.06Q74.75,154,54,154Z"),_(r,"transform","translate(-5.67 -30.19)"),_(i,"d","M189.43,163.44v83.15H166.71V232.43q-6.42,15.88-24.53,15.89-9.39,0-14.41-3.5a19.32,19.32,0,0,1-7.21-9.55q-2.18-6-2.18-17.5V163.44h23.8v54.33q0,11.21,9.22,11.2a13,13,0,0,0,8.15-2.67,12,12,0,0,0,4.4-5.73q.95-3,1-10.45V163.44Z"),_(i,"transform","translate(-5.67 -30.19)"),_(s,"d","M234.22,163.44v83.15H209.69V163.44Z"),_(s,"transform","translate(-5.67 -30.19)"),_(a,"d","M311.45,163.44v15.31l-37.1,50H313.1v17.87H247.64V228.72l36.68-48.57H250.69V163.44Z"),_(a,"transform","translate(-5.67 -30.19)"),_(l,"d","M326.6,246.59V134.21h24.53V246.59Z"),_(l,"transform","translate(-5.67 -30.19)"),_(u,"d","M446,209.13H392.47q-.09,2.22-.09,3.87,0,8.9,4.74,13.42A15.79,15.79,0,0,0,408.44,231q12.27,0,14.74-13.09l22.23,1.64q-9.32,28.83-37.8,28.82-12.42,0-21.11-5a39.35,39.35,0,0,1-14.33-14.53q-5.64-9.56-5.64-22.89,0-19.84,11.32-32T407,161.71A37.84,37.84,0,0,1,434.5,173Q446,184.34,446,209.13Zm-53.6-14.24h29.56q-1.15-17.13-14.08-17.13Q394,177.76,392.38,194.89Z"),_(u,"transform","translate(-5.67 -30.19)"),_(f,"d","M485.25,246.59H461.46V163.44h22.48v15.47q5.18-17.28,17.94-17.29c1.21,0,2.69.09,4.45.25v24.21q-7.49,0-11.65,2.3t-6.79,8.28q-2.64,6-2.64,16.09Z"),_(f,"transform","translate(-5.67 -30.19)"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 500.66 239.62"),_(e,"fill","#FFFFFF"),_(e,"width","248"),_(e,"height","135")},m(o,d){V(o,e,d),p(e,t),p(e,r),p(e,i),p(e,s),p(e,a),p(e,l),p(e,u),p(e,f)},p:G,i:G,o:G,d(o){o&&H(e)}}}class Ac extends xe{constructor(e){super(),Ae(this,e,null,Cc,Ce,{})}}function xc(n){let e,t,r,i,s,a,l,u,f,o,d,c,h,m,C,v,g,A,x,E,q,S,U;return i=new Ac({}),l=new kc({}),c=new Fr({}),g=new sa({}),{c(){e=T("main"),t=T("div"),r=T("div"),oe(i.$$.fragment),s=Z(),a=T("a"),oe(l.$$.fragment),u=re(`
      View on GitHub`),f=Z(),o=T("div"),d=T("button"),oe(c.$$.fragment),h=Z(),m=T("div"),m.innerHTML=`<p class="action__name svelte-l0hn24">Join a quiz</p> 
        <p class="action__text svelte-l0hn24">Enter a game code and hop right in</p>`,C=Z(),v=T("button"),oe(g.$$.fragment),A=Z(),x=T("div"),x.innerHTML=`<p class="action__name svelte-l0hn24">Create a quiz</p> 
        <p class="action__text svelte-l0hn24">Create your own quiz</p>`,_(r,"class","logo svelte-l0hn24"),_(a,"href","https://github.com/jacobtread/Quizler-v2"),_(a,"target","_blank"),_(a,"rel","noreferrer"),_(a,"title","View on Github"),_(a,"class","btn btn--icon github svelte-l0hn24"),_(t,"class","left svelte-l0hn24"),_(m,"class","action__body svelte-l0hn24"),_(d,"class","action svelte-l0hn24"),_(d,"aria-label","Join"),_(x,"class","action__body svelte-l0hn24"),_(v,"class","action svelte-l0hn24"),_(v,"aria-label","Create"),_(o,"class","actions svelte-l0hn24"),_(e,"class","main svelte-l0hn24")},m(y,b){V(y,e,b),p(e,t),p(t,r),ae(i,r,null),p(t,s),p(t,a),ae(l,a,null),p(a,u),p(e,f),p(e,o),p(o,d),ae(c,d,null),p(d,h),p(d,m),p(o,C),p(o,v),ae(g,v,null),p(v,A),p(v,x),q=!0,S||(U=[ee(d,"click",vs),ee(v,"click",Zr)],S=!0)},p:G,i(y){q||(W(i.$$.fragment,y),W(l.$$.fragment,y),W(c.$$.fragment,y),W(g.$$.fragment,y),it(()=>{q&&(E||(E=He(e,et,{},!0)),E.run(1))}),q=!0)},o(y){J(i.$$.fragment,y),J(l.$$.fragment,y),J(c.$$.fragment,y),J(g.$$.fragment,y),E||(E=He(e,et,{},!1)),E.run(0),q=!1},d(y){y&&H(e),le(i),le(l),le(c),le(g),y&&E&&E.end(),S=!1,Qe(U)}}}class $c extends xe{constructor(e){super(),Ae(this,e,null,xc,Ce,{})}}function us(n){let e,t,r,i,s,a;return t=new Fr({}),{c(){e=T("button"),oe(t.$$.fragment),_(e,"class","play svelte-gsvo0n")},m(l,u){V(l,e,u),ae(t,e,null),i=!0,s||(a=ee(e,"click",n[4]),s=!0)},p:G,i(l){i||(W(t.$$.fragment,l),it(()=>{i&&(r||(r=He(e,et,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){J(t.$$.fragment,l),r||(r=He(e,et,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&H(e),le(t),l&&r&&r.end(),s=!1,a()}}}function Ec(n){let e,t,r,i,s,a,l,u,f,o,d,c,h,m,C,v,g,A;r=new Mr({});let x=!n[2]&&us(n);return{c(){e=T("main"),t=T("button"),oe(r.$$.fragment),i=Z(),s=T("p"),a=re(n[0]),l=Z(),u=T("h1"),u.textContent="Enter Name",f=Z(),o=T("p"),o.textContent="Please enter your desired name",d=Z(),c=T("div"),h=T("input"),m=Z(),x&&x.c(),_(t,"class","back back--floating"),_(h,"class","input svelte-gsvo0n"),_(h,"type","text"),_(h,"minlength",Ns),_(h,"maxlength",Rs),_(c,"class","form svelte-gsvo0n"),_(e,"class","main svelte-gsvo0n")},m(E,q){V(E,e,q),p(e,t),ae(r,t,null),p(e,i),p(e,s),p(s,a),p(e,l),p(e,u),p(e,f),p(e,o),p(e,d),p(e,c),p(c,h),Pe(h,n[1]),p(c,m),x&&x.m(c,null),v=!0,g||(A=[ee(t,"click",vs),ee(h,"input",n[5]),ee(h,"input",n[3])],g=!0)},p(E,[q]){(!v||q&1)&&Me(a,E[0]),q&2&&h.value!==E[1]&&Pe(h,E[1]),E[2]?x&&(ht(),J(x,1,1,()=>{x=null}),mt()):x?(x.p(E,q),q&4&&W(x,1)):(x=us(E),x.c(),W(x,1),x.m(c,null))},i(E){v||(W(r.$$.fragment,E),W(x),it(()=>{v&&(C||(C=He(e,et,{},!0)),C.run(1))}),v=!0)},o(E){J(r.$$.fragment,E),J(x),C||(C=He(e,et,{},!1)),C.run(0),v=!1},d(E){E&&H(e),le(r),x&&x.d(),E&&C&&C.end(),g=!1,Qe(A)}}}function Tc(n,e,t){let{token:r}=e,i="",s=!0;function a(){t(2,s=i.length<Ns||i.length>Rs)}function l(){Yt({ty:Ht.Join,name:i}).then(({id:f,token:o,config:d})=>{ys({id:f,token:o,config:d,host:!1,name:i})}).catch(f=>{console.error("Failed to join",f),Dt("Failed to join",Kr[f])})}function u(){i=this.value,t(1,i)}return n.$$set=f=>{"token"in f&&t(0,r=f.token)},[r,i,s,a,l,u]}class Sc extends xe{constructor(e){super(),Ae(this,e,Tc,Ec,Ce,{token:0})}}function Ic(n){let e,t;return e=new ii({props:{text:"Connecting to server..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Mc(n){let e,t,r,i;const s=[qc,Oc,Rc,Nc,Uc,Fc],a=[];function l(u,f){return u[1].ty==tn.Home?0:u[1].ty===tn.Create?1:u[1].ty===tn.Connect?2:u[1].ty===tn.Join?3:u[1].ty===tn.Editing?4:u[1].ty===tn.Game?5:-1}return~(e=l(n))&&(t=a[e]=s[e](n)),{c(){t&&t.c(),r=Xt()},m(u,f){~e&&a[e].m(u,f),V(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?~e&&a[e].p(u,f):(t&&(ht(),J(a[o],1,1,()=>{a[o]=null}),mt()),~e?(t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r)):t=null)},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){~e&&a[e].d(u),u&&H(r)}}}function Fc(n){let e,t;return e=new ic({props:{gameData:n[1].gameData}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.gameData=r[1].gameData),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Uc(n){let e,t;return e=new cu({props:{question:n[1].question}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.question=r[1].question),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Nc(n){let e,t;return e=new Sc({props:{token:n[1].token}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.token=r[1].token),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Rc(n){let e,t;return e=new vu({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Oc(n){let e,t;return e=new bc({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function qc(n){let e,t;return e=new $c({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function jc(n){let e,t,r,i,s;const a=[Mc,Ic],l=[];function u(f,o){return f[0]?0:1}return e=u(n),t=l[e]=a[e](n),i=new Ra({}),{c(){t.c(),r=Z(),oe(i.$$.fragment)},m(f,o){l[e].m(f,o),V(f,r,o),ae(i,f,o),s=!0},p(f,[o]){let d=e;e=u(f),e===d?l[e].p(f,o):(ht(),J(l[d],1,1,()=>{l[d]=null}),mt(),t=l[e],t?t.p(f,o):(t=l[e]=a[e](f),t.c()),W(t,1),t.m(r.parentNode,r))},i(f){s||(W(t),W(i.$$.fragment,f),s=!0)},o(f){J(t),J(i.$$.fragment,f),s=!1},d(f){l[e].d(f),f&&H(r),le(i,f)}}}function Pc(n,e,t){let r,i;return Tt(n,ti,s=>t(0,r=s)),Tt(n,cn,s=>t(1,i=s)),[r,i]}class Zc extends xe{constructor(e){super(),Ae(this,e,Pc,jc,Ce,{})}}new Zc({target:document.getElementById("app")});
