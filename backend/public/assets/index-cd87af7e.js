(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Q(){}const si=t=>t;function ms(t,e){for(const n in e)t[n]=e[n];return t}function Ml(t){return t()}function gs(){return Object.create(null)}function Ue(t){t.forEach(Ml)}function kn(t){return typeof t=="function"}function be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Sr;function zn(t,e){return Sr||(Sr=document.createElement("a")),Sr.href=e,t===Sr.href}function Qo(t){return Object.keys(t).length===0}function Yo(t,...e){if(t==null)return Q;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function at(t,e,n){t.$$.on_destroy.push(Yo(e,n))}function _s(t,e,n){return t.set(n),e}function Ol(t){return t&&kn(t.destroy)?t.destroy:Q}const Rl=typeof window<"u";let Zi=Rl?()=>window.performance.now():()=>Date.now(),Hi=Rl?t=>requestAnimationFrame(t):Q;const Mn=new Set;function Nl(t){Mn.forEach(e=>{e.c(t)||(Mn.delete(e),e.f())}),Mn.size!==0&&Hi(Nl)}function Bi(t){let e;return Mn.size===0&&Hi(Nl),{promise:new Promise(n=>{Mn.add(e={c:t,f:n})}),abort(){Mn.delete(e)}}}function g(t,e){t.appendChild(e)}function Fl(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Xo(t){const e=C("style");return Ko(Fl(t),e),e.sheet}function Ko(t,e){return g(t.head||t,e),e.sheet}function V(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function nr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function ce(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function te(t){return document.createTextNode(t)}function P(){return te(" ")}function zt(){return te("")}function J(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function ql(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Jo(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function Ft(t){return t===""?null:+t}function ea(t){return Array.from(t.childNodes)}function Ie(t,e){e=""+e,t.data!==e&&(t.data=e)}function ze(t,e){t.value=e??""}function Ci(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Un(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Vi(t){const e=t.querySelector(":checked");return e&&e.__value}function Je(t,e,n){t.classList[n?"add":"remove"](e)}function ta(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}const Nr=new Map;let Fr=0;function na(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ra(t,e){const n={stylesheet:Xo(e),rules:{}};return Nr.set(t,n),n}function Di(t,e,n,r,i,s,l,o=0){const a=16.666/r;let f=`{
`;for(let k=0;k<=1;k+=a){const _=e+(n-e)*s(k);f+=k*100+`%{${l(_,1-_)}}
`}const u=f+`100% {${l(n,1-n)}}
}`,d=`__svelte_${na(u)}_${o}`,c=Fl(t),{stylesheet:p,rules:h}=Nr.get(c)||ra(c,t);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${d} ${r}ms linear ${i}ms 1 both`,Fr+=1,d}function Ll(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),Fr-=i,Fr||ia())}function ia(){Hi(()=>{Fr||(Nr.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&H(e)}),Nr.clear())})}function yr(t,e,n,r){if(!e)return Q;const i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return Q;const{delay:s=0,duration:l=300,easing:o=si,start:a=Zi()+s,end:f=a+l,tick:u=Q,css:d}=n(t,{from:e,to:i},r);let c=!0,p=!1,h;function y(){d&&(h=Di(t,0,1,l,s,o,d)),s||(p=!0)}function k(){d&&Ll(t,h),c=!1}return Bi(_=>{if(!p&&_>=a&&(p=!0),p&&_>=f&&(u(1,0),k()),!c)return!1;if(p){const D=_-a,x=0+1*o(D/l);u(x,1-x)}return!0}),y(),u(0,1),k}function br(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:r}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,sa(t,i)}}function sa(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),i=r.transform==="none"?"":r.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let rr;function tr(t){rr=t}function Wi(){if(!rr)throw new Error("Function called outside component initialization");return rr}function Pl(t){Wi().$$.on_mount.push(t)}function la(t){Wi().$$.after_update.push(t)}function oa(t){Wi().$$.on_destroy.push(t)}const Dn=[],Ye=[];let On=[];const Si=[],aa=Promise.resolve();let xi=!1;function ua(){xi||(xi=!0,aa.then(zl))}function Pe(t){On.push(t)}function pt(t){Si.push(t)}const bi=new Set;let An=0;function zl(){if(An!==0)return;const t=rr;do{try{for(;An<Dn.length;){const e=Dn[An];An++,tr(e),ca(e.$$)}}catch(e){throw Dn.length=0,An=0,e}for(tr(null),Dn.length=0,An=0;Ye.length;)Ye.pop()();for(let e=0;e<On.length;e+=1){const n=On[e];bi.has(n)||(bi.add(n),n())}On.length=0}while(Dn.length);for(;Si.length;)Si.pop()();xi=!1,bi.clear(),tr(t)}function ca(t){if(t.fragment!==null){t.update(),Ue(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Pe)}}function fa(t){const e=[],n=[];On.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),On=e}let Xn;function da(){return Xn||(Xn=Promise.resolve(),Xn.then(()=>{Xn=null})),Xn}function wi(t,e,n){t.dispatchEvent(ta(`${e?"intro":"outro"}${n}`))}const $r=new Set;let Zt;function Fe(){Zt={r:0,c:[],p:Zt}}function qe(){Zt.r||Ue(Zt.c),Zt=Zt.p}function j(t,e){t&&t.i&&($r.delete(t),t.i(e))}function G(t,e,n,r){if(t&&t.o){if($r.has(t))return;$r.add(t),Zt.c.push(()=>{$r.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const pa={duration:0};function we(t,e,n,r){const i={direction:"both"};let s=e(t,n,i),l=r?0:1,o=null,a=null,f=null;function u(){f&&Ll(t,f)}function d(p,h){const y=p.b-l;return h*=Math.abs(y),{a:l,b:p.b,d:y,duration:h,start:p.start,end:p.start+h,group:p.group}}function c(p){const{delay:h=0,duration:y=300,easing:k=si,tick:_=Q,css:D}=s||pa,x={start:Zi()+h,b:p};p||(x.group=Zt,Zt.r+=1),o||a?a=x:(D&&(u(),f=Di(t,l,p,y,h,k,D)),p&&_(0,1),o=d(x,y),Pe(()=>wi(t,p,"start")),Bi(I=>{if(a&&I>a.start&&(o=d(a,y),a=null,wi(t,o.b,"start"),D&&(u(),f=Di(t,l,o.b,o.duration,0,k,s.css))),o){if(I>=o.end)_(l=o.b,1-l),wi(t,o.b,"end"),a||(o.b?u():--o.group.r||Ue(o.group.c)),o=null;else if(I>=o.start){const S=I-o.start;l=o.a+o.d*k(S/o.duration),_(l,1-l)}}return!!(o||a)}))}return{run(p){kn(s)?da().then(()=>{s=s(i),c(p)}):c(p)},end(){u(),o=a=null}}}function ha(t,e){t.d(1),e.delete(t.key)}function ma(t,e){G(t,1,1,()=>{e.delete(t.key)})}function ga(t,e){t.f(),ha(t,e)}function li(t,e){t.f(),ma(t,e)}function wr(t,e,n,r,i,s,l,o,a,f,u,d){let c=t.length,p=s.length,h=c;const y={};for(;h--;)y[t[h].key]=h;const k=[],_=new Map,D=new Map,x=[];for(h=p;h--;){const A=d(i,s,h),v=n(A);let b=l.get(v);b?r&&x.push(()=>b.p(A,e)):(b=f(v,A),b.c()),_.set(v,k[h]=b),v in y&&D.set(v,Math.abs(h-y[v]))}const I=new Set,S=new Set;function w(A){j(A,1),A.m(o,u),l.set(A.key,A),u=A.first,p--}for(;c&&p;){const A=k[p-1],v=t[c-1],b=A.key,$=v.key;A===v?(u=A.first,c--,p--):_.has($)?!l.has(b)||I.has(b)?w(A):S.has($)?c--:D.get(b)>D.get($)?(S.add(b),w(A)):(I.add($),c--):(a(v,l),c--)}for(;c--;){const A=t[c];_.has(A.key)||a(A,l)}for(;p;)w(k[p-1]);return Ue(x),k}const _a=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[..._a];function ht(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function oe(t){t&&t.c()}function se(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||Pe(()=>{const l=t.$$.on_mount.map(Ml).filter(kn);t.$$.on_destroy?t.$$.on_destroy.push(...l):Ue(l),t.$$.on_mount=[]}),s.forEach(Pe)}function le(t,e){const n=t.$$;n.fragment!==null&&(fa(n.after_update),Ue(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function va(t,e){t.$$.dirty[0]===-1&&(Dn.push(t),ua(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ke(t,e,n,r,i,s,l,o=[-1]){const a=rr;tr(t);const f=t.$$={fragment:null,ctx:[],props:s,update:Q,not_equal:i,bound:gs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:gs(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(f.root);let u=!1;if(f.ctx=n?n(t,e.props||{},(d,c,...p)=>{const h=p.length?p[0]:c;return f.ctx&&i(f.ctx[d],f.ctx[d]=h)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](h),u&&va(t,d)),c}):[],f.update(),u=!0,Ue(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const d=ea(e.target);f.fragment&&f.fragment.l(d),d.forEach(H)}else f.fragment&&f.fragment.c();e.intro&&j(t.$$.fragment),se(t,e.target,e.anchor,e.customElement),zl()}tr(a)}class Ee{$destroy(){le(this,1),this.$destroy=Q}$on(e,n){if(!kn(n))return Q;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Qo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Cn=[];function Gt(t,e=Q){let n;const r=new Set;function i(o){if(be(t,o)&&(t=o,n)){const a=!Cn.length;for(const f of r)f[1](),Cn.push(f,t);if(a){for(let f=0;f<Cn.length;f+=2)Cn[f][0](Cn[f+1]);Cn.length=0}}}function s(o){i(o(t))}function l(o,a=Q){const f=[o,a];return r.add(f),r.size===1&&(n=e(i)||Q),o(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:l}}var Jn=(t=>(t[t.Home=0]="Home",t[t.Connect=1]="Connect",t[t.Create=2]="Create",t[t.Game=3]="Game",t))(Jn||{});const kr=Gt({ty:0});function Er(){kr.set({ty:0})}function ya(){kr.set({ty:2})}function ba(){kr.set({ty:1})}function Ul(t){kr.set({ty:3,gameData:t})}function jl(t){const e=t-1;return e*e*e+1}function qt(t,{delay:e=0,duration:n=400,easing:r=si}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}function Re(t,{delay:e=0,duration:n=400,easing:r=jl,axis:i="y"}={}){const s=getComputedStyle(t),l=+s.opacity,o=i==="y"?"height":"width",a=parseFloat(s[o]),f=i==="y"?["top","bottom"]:["left","right"],u=f.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),d=parseFloat(s[`padding${u[0]}`]),c=parseFloat(s[`padding${u[1]}`]),p=parseFloat(s[`margin${u[0]}`]),h=parseFloat(s[`margin${u[1]}`]),y=parseFloat(s[`border${u[0]}Width`]),k=parseFloat(s[`border${u[1]}Width`]);return{delay:e,duration:n,easing:r,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*l};${o}: ${_*a}px;padding-${f[0]}: ${_*d}px;padding-${f[1]}: ${_*c}px;margin-${f[0]}: ${_*p}px;margin-${f[1]}: ${_*h}px;border-${f[0]}-width: ${_*y}px;border-${f[1]}-width: ${_*k}px;`}}var Zl=(t=>(t[t.Error=0]="Error",t[t.Confirm=1]="Confirm",t))(Zl||{});const oi=Gt(null);function ki(t){oi.update(e=>(e!==null&&e.ty===1&&e.callback(t),null))}function ai(t,e){return new Promise(n=>{oi.set({ty:1,title:t,message:e,callback:n})})}function jt(t,e){oi.set({ty:0,title:t,message:e})}function vs(t){let e,n,r,i=t[0].title+"",s,l,o,a=t[0].message+"",f,u,d,c,p,h;function y(D,x){return D[0].ty===Zl.Error?ka:wa}let k=y(t),_=k(t);return{c(){e=C("div"),n=C("div"),r=C("h1"),s=te(i),l=P(),o=C("p"),f=te(a),u=P(),d=C("div"),_.c(),m(r,"class","dialog__title svelte-1c44tbu"),m(o,"class","dialog__msg svelte-1c44tbu"),m(d,"class","btn-row btn-row--fill"),m(n,"class","dialog svelte-1c44tbu"),m(e,"class","floating-wrapper")},m(D,x){V(D,e,x),g(e,n),g(n,r),g(r,s),g(n,l),g(n,o),g(o,f),g(n,u),g(n,d),_.m(d,null),h=!0},p(D,x){(!h||x&1)&&i!==(i=D[0].title+"")&&Ie(s,i),(!h||x&1)&&a!==(a=D[0].message+"")&&Ie(f,a),k===(k=y(D))&&_?_.p(D,x):(_.d(1),_=k(D),_&&(_.c(),_.m(d,null)))},i(D){h||(Pe(()=>{h&&(c||(c=we(n,Re,{duration:200},!0)),c.run(1))}),Pe(()=>{h&&(p||(p=we(e,qt,{duration:200},!0)),p.run(1))}),h=!0)},o(D){c||(c=we(n,Re,{duration:200},!1)),c.run(0),p||(p=we(e,qt,{duration:200},!1)),p.run(0),h=!1},d(D){D&&H(e),_.d(),D&&c&&c.end(),D&&p&&p.end()}}}function wa(t){let e,n,r,i,s;return{c(){e=C("button"),e.textContent="Confirm",n=P(),r=C("button"),r.textContent="Cancel",m(e,"class","btn btn--surface"),m(r,"class","btn btn--surface")},m(l,o){V(l,e,o),V(l,n,o),V(l,r,o),i||(s=[J(e,"click",t[2]),J(r,"click",t[3])],i=!0)},p:Q,d(l){l&&H(e),l&&H(n),l&&H(r),i=!1,Ue(s)}}}function ka(t){let e,n,r;return{c(){e=C("button"),e.textContent="Close",m(e,"class","btn btn--surface")},m(i,s){V(i,e,s),n||(r=J(e,"click",t[1]),n=!0)},p:Q,d(i){i&&H(e),n=!1,r()}}}function Ea(t){let e,n,r=t[0]&&vs(t);return{c(){r&&r.c(),e=zt()},m(i,s){r&&r.m(i,s),V(i,e,s),n=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&j(r,1)):(r=vs(i),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Fe(),G(r,1,1,()=>{r=null}),qe())},i(i){n||(j(r),n=!0)},o(i){G(r),n=!1},d(i){r&&r.d(i),i&&H(e)}}}function Ta(t,e,n){let r;return at(t,oi,o=>n(0,r=o)),[r,()=>ki(!0),()=>ki(!0),()=>ki(!1)]}class Aa extends Ee{constructor(e){super(),ke(this,e,Ta,Ea,be,{})}}var Oe;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const l of i)s[l]=l;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),l={};for(const o of s)l[o]=i[o];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&s.push(l);return s},t.find=(i,s)=>{for(const l of i)if(s(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Oe||(Oe={}));var $i;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})($i||($i={}));const ee=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kt=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},X=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ca=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class St extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const l of s.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let o=r,a=0;for(;a<l.path.length;){const f=l.path[a];a===l.path.length-1?(o[f]=o[f]||{_errors:[]},o[f]._errors.push(n(l))):o[f]=o[f]||{_errors:[]},o=o[f],a++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}St.create=t=>new St(t);const ir=(t,e)=>{let n;switch(t.code){case X.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Oe.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:n=`Unrecognized key(s) in object: ${Oe.joinValues(t.keys,", ")}`;break;case X.invalid_union:n="Invalid input";break;case X.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Oe.joinValues(t.options)}`;break;case X.invalid_enum_value:n=`Invalid enum value. Expected ${Oe.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:n="Invalid function arguments";break;case X.invalid_return_type:n="Invalid function return type";break;case X.invalid_date:n="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Oe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case X.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case X.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case X.custom:n="Invalid input";break;case X.invalid_intersection_types:n="Intersection results could not be merged";break;case X.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:n="Number must be finite";break;default:n=e.defaultError,Oe.assertNever(t)}return{message:n}};let Hl=ir;function Da(t){Hl=t}function qr(){return Hl}const Lr=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],l={...i,path:s};let o="";const a=r.filter(f=>!!f).slice().reverse();for(const f of a)o=f(l,{data:e,defaultError:o}).message;return{...i,path:s,message:i.message||o}},Sa=[];function re(t,e){const n=Lr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,qr(),ir].filter(r=>!!r)});t.common.issues.push(n)}class ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ye;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return ut.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:l}=i;if(s.status==="aborted"||l.status==="aborted")return ye;s.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),(typeof l.value<"u"||i.alwaysSet)&&(r[s.value]=l.value)}return{status:e.value,value:r}}}const ye=Object.freeze({status:"aborted"}),Bl=t=>({status:"dirty",value:t}),mt=t=>({status:"valid",value:t}),Ii=t=>t.status==="aborted",Mi=t=>t.status==="dirty",Pr=t=>t.status==="valid",zr=t=>typeof Promise<"u"&&t instanceof Promise;var ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ue||(ue={}));class Lt{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ys=(t,e)=>{if(Pr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new St(t.common.issues);return this._error=n,this._error}}};function Te(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,o)=>l.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:r??o.defaultError}:{message:n??o.defaultError},description:i}}class Se{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Kt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Kt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ut,ctx:{common:e.parent.common,data:e.data,parsedType:Kt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(zr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return ys(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kt(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(zr(i)?i:Promise.resolve(i));return ys(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const l=e(i),o=()=>s.addIssue({code:X.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(a=>a?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new $t({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ht.create(this,this._def)}nullable(){return wn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xt.create(this,this._def)}promise(){return Zn.create(this,this._def)}or(e){return ar.create([this,e],this._def)}and(e){return ur.create(this,e,this._def)}transform(e){return new $t({...Te(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new hr({...Te(this._def),innerType:this,defaultValue:n,typeName:he.ZodDefault})}brand(){return new Wl({typeName:he.ZodBranded,type:this,...Te(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Hr({...Te(this._def),innerType:this,catchValue:n,typeName:he.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Tr.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xa=/^c[^\s-]{8,}$/i,$a=/^[a-z][a-z0-9]*$/,Ia=/[0-9A-HJKMNP-TV-Z]{26}/,Ma=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Oa=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Ra=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Na=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Fa=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,qa=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function La(t,e){return!!((e==="v4"||!e)&&Na.test(t)||(e==="v6"||!e)&&Fa.test(t))}class At extends Se{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(i=>e.test(i),{validation:n,code:X.invalid_string,...ue.errToObj(r)}),this.nonempty=e=>this.min(1,ue.errToObj(e)),this.trim=()=>new At({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new At({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new At({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const s=this._getOrReturnCtx(e);return re(s,{code:X.invalid_type,expected:ee.string,received:s.parsedType}),ye}const r=new ut;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:X.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:X.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const l=e.data.length>s.value,o=e.data.length<s.value;(l||o)&&(i=this._getOrReturnCtx(e,i),l?re(i,{code:X.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&re(i,{code:X.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Oa.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"email",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Ra.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"emoji",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Ma.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"uuid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")xa.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"cuid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")$a.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"cuid2",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Ia.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"ulid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),re(i,{validation:"url",code:X.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"regex",code:X.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),re(i,{code:X.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),re(i,{code:X.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),re(i,{code:X.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?qa(s).test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{code:X.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?La(e.data,s.version)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"ip",code:X.invalid_string,message:s.message}),r.dirty()):Oe.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new At({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ue.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...ue.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ue.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ue.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}At.create=t=>{var e;return new At({checks:[],typeName:he.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};function Pa(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return s%l/Math.pow(10,i)}class tn extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const s=this._getOrReturnCtx(e);return re(s,{code:X.invalid_type,expected:ee.number,received:s.parsedType}),ye}let r;const i=new ut;for(const s of this._def.checks)s.kind==="int"?Oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:X.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:X.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:X.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Pa(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),re(r,{code:X.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:X.not_finite,message:s.message}),i.dirty()):Oe.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,i){return new tn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(i)}]})}_addCheck(e){return new tn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Oe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}tn.create=t=>new tn({checks:[],typeName:he.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class nn extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ee.bigint){const s=this._getOrReturnCtx(e);return re(s,{code:X.invalid_type,expected:ee.bigint,received:s.parsedType}),ye}let r;const i=new ut;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:X.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:X.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),re(r,{code:X.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Oe.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,i){return new nn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(i)}]})}_addCheck(e){return new nn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}nn.create=t=>{var e;return new nn({checks:[],typeName:he.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};class sr extends Se{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return re(r,{code:X.invalid_type,expected:ee.boolean,received:r.parsedType}),ye}return mt(e.data)}}sr.create=t=>new sr({typeName:he.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class yn extends Se{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const s=this._getOrReturnCtx(e);return re(s,{code:X.invalid_type,expected:ee.date,received:s.parsedType}),ye}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return re(s,{code:X.invalid_date}),ye}const r=new ut;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:X.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:X.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Oe.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yn({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}yn.create=t=>new yn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:he.ZodDate,...Te(t)});class Ur extends Se{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return re(r,{code:X.invalid_type,expected:ee.symbol,received:r.parsedType}),ye}return mt(e.data)}}Ur.create=t=>new Ur({typeName:he.ZodSymbol,...Te(t)});class lr extends Se{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:X.invalid_type,expected:ee.undefined,received:r.parsedType}),ye}return mt(e.data)}}lr.create=t=>new lr({typeName:he.ZodUndefined,...Te(t)});class or extends Se{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return re(r,{code:X.invalid_type,expected:ee.null,received:r.parsedType}),ye}return mt(e.data)}}or.create=t=>new or({typeName:he.ZodNull,...Te(t)});class jn extends Se{constructor(){super(...arguments),this._any=!0}_parse(e){return mt(e.data)}}jn.create=t=>new jn({typeName:he.ZodAny,...Te(t)});class mn extends Se{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mt(e.data)}}mn.create=t=>new mn({typeName:he.ZodUnknown,...Te(t)});class Vt extends Se{_parse(e){const n=this._getOrReturnCtx(e);return re(n,{code:X.invalid_type,expected:ee.never,received:n.parsedType}),ye}}Vt.create=t=>new Vt({typeName:he.ZodNever,...Te(t)});class jr extends Se{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:X.invalid_type,expected:ee.void,received:r.parsedType}),ye}return mt(e.data)}}jr.create=t=>new jr({typeName:he.ZodVoid,...Te(t)});class xt extends Se{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ee.array)return re(n,{code:X.invalid_type,expected:ee.array,received:n.parsedType}),ye;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(l||o)&&(re(n,{code:l?X.too_big:X.too_small,minimum:o?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(re(n,{code:X.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(re(n,{code:X.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,o)=>i.type._parseAsync(new Lt(n,l,n.path,o)))).then(l=>ut.mergeArray(r,l));const s=[...n.data].map((l,o)=>i.type._parseSync(new Lt(n,l,n.path,o)));return ut.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new xt({...this._def,minLength:{value:e,message:ue.toString(n)}})}max(e,n){return new xt({...this._def,maxLength:{value:e,message:ue.toString(n)}})}length(e,n){return new xt({...this._def,exactLength:{value:e,message:ue.toString(n)}})}nonempty(e){return this.min(1,e)}}xt.create=(t,e)=>new xt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...Te(e)});function Sn(t){if(t instanceof He){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ht.create(Sn(r))}return new He({...t._def,shape:()=>e})}else return t instanceof xt?new xt({...t._def,type:Sn(t.element)}):t instanceof Ht?Ht.create(Sn(t.unwrap())):t instanceof wn?wn.create(Sn(t.unwrap())):t instanceof Pt?Pt.create(t.items.map(e=>Sn(e))):t}class He extends Se{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Oe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ee.object){const f=this._getOrReturnCtx(e);return re(f,{code:X.invalid_type,expected:ee.object,received:f.parsedType}),ye}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof Vt&&this._def.unknownKeys==="strip"))for(const f in i.data)l.includes(f)||o.push(f);const a=[];for(const f of l){const u=s[f],d=i.data[f];a.push({key:{status:"valid",value:f},value:u._parse(new Lt(i,d,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Vt){const f=this._def.unknownKeys;if(f==="passthrough")for(const u of o)a.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(f==="strict")o.length>0&&(re(i,{code:X.unrecognized_keys,keys:o}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const u of o){const d=i.data[u];a.push({key:{status:"valid",value:u},value:f._parse(new Lt(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const u of a){const d=await u.key;f.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return f}).then(f=>ut.mergeObjectSync(r,f)):ut.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(e){return ue.errToObj,new He({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,l,o;const a=(l=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=ue.errToObj(e).message)!==null&&o!==void 0?o:a}:{message:a}}}:{}})}strip(){return new He({...this._def,unknownKeys:"strip"})}passthrough(){return new He({...this._def,unknownKeys:"passthrough"})}extend(e){return new He({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new He({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new He({...this._def,catchall:e})}pick(e){const n={};return Oe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new He({...this._def,shape:()=>n})}omit(e){const n={};return Oe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new He({...this._def,shape:()=>n})}deepPartial(){return Sn(this)}partial(e){const n={};return Oe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new He({...this._def,shape:()=>n})}required(e){const n={};return Oe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ht;)s=s._def.innerType;n[r]=s}}),new He({...this._def,shape:()=>n})}keyof(){return Vl(Oe.objectKeys(this.shape))}}He.create=(t,e)=>new He({shape:()=>t,unknownKeys:"strip",catchall:Vt.create(),typeName:he.ZodObject,...Te(e)});He.strictCreate=(t,e)=>new He({shape:()=>t,unknownKeys:"strict",catchall:Vt.create(),typeName:he.ZodObject,...Te(e)});He.lazycreate=(t,e)=>new He({shape:t,unknownKeys:"strip",catchall:Vt.create(),typeName:he.ZodObject,...Te(e)});class ar extends Se{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const l=s.map(o=>new St(o.ctx.common.issues));return re(n,{code:X.invalid_union,unionErrors:l}),ye}if(n.common.async)return Promise.all(r.map(async s=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let s;const l=[];for(const a of r){const f={...n,common:{...n.common,issues:[]},parent:null},u=a._parseSync({data:n.data,path:n.path,parent:f});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=l.map(a=>new St(a));return re(n,{code:X.invalid_union,unionErrors:o}),ye}}get options(){return this._def.options}}ar.create=(t,e)=>new ar({options:t,typeName:he.ZodUnion,...Te(e)});const Ir=t=>t instanceof fr?Ir(t.schema):t instanceof $t?Ir(t.innerType()):t instanceof dr?[t.value]:t instanceof rn?t.options:t instanceof pr?Object.keys(t.enum):t instanceof hr?Ir(t._def.innerType):t instanceof lr?[void 0]:t instanceof or?[null]:null;class ui extends Se{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.object)return re(n,{code:X.invalid_type,expected:ee.object,received:n.parsedType}),ye;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(re(n,{code:X.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ye)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const l=Ir(s.shape[e]);if(!l)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of l){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new ui({typeName:he.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Te(r)})}}function Oi(t,e){const n=Kt(t),r=Kt(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const i=Oe.objectKeys(e),s=Oe.objectKeys(t).filter(o=>i.indexOf(o)!==-1),l={...t,...e};for(const o of s){const a=Oi(t[o],e[o]);if(!a.valid)return{valid:!1};l[o]=a.data}return{valid:!0,data:l}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const l=t[s],o=e[s],a=Oi(l,o);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ur extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,l)=>{if(Ii(s)||Ii(l))return ye;const o=Oi(s.value,l.value);return o.valid?((Mi(s)||Mi(l))&&n.dirty(),{status:n.value,value:o.data}):(re(r,{code:X.invalid_intersection_types}),ye)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,l])=>i(s,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ur.create=(t,e,n)=>new ur({left:t,right:e,typeName:he.ZodIntersection,...Te(n)});class Pt extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return re(r,{code:X.invalid_type,expected:ee.array,received:r.parsedType}),ye;if(r.data.length<this._def.items.length)return re(r,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye;!this._def.rest&&r.data.length>this._def.items.length&&(re(r,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((l,o)=>{const a=this._def.items[o]||this._def.rest;return a?a._parse(new Lt(r,l,r.path,o)):null}).filter(l=>!!l);return r.common.async?Promise.all(s).then(l=>ut.mergeArray(n,l)):ut.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Pt({...this._def,rest:e})}}Pt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pt({items:t,typeName:he.ZodTuple,rest:null,...Te(e)})};class cr extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.object)return re(r,{code:X.invalid_type,expected:ee.object,received:r.parsedType}),ye;const i=[],s=this._def.keyType,l=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new Lt(r,o,r.path,o)),value:l._parse(new Lt(r,r.data[o],r.path,o))});return r.common.async?ut.mergeObjectAsync(n,i):ut.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Se?new cr({keyType:e,valueType:n,typeName:he.ZodRecord,...Te(r)}):new cr({keyType:At.create(),valueType:e,typeName:he.ZodRecord,...Te(n)})}}class Zr extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return re(r,{code:X.invalid_type,expected:ee.map,received:r.parsedType}),ye;const i=this._def.keyType,s=this._def.valueType,l=[...r.data.entries()].map(([o,a],f)=>({key:i._parse(new Lt(r,o,r.path,[f,"key"])),value:s._parse(new Lt(r,a,r.path,[f,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const a of l){const f=await a.key,u=await a.value;if(f.status==="aborted"||u.status==="aborted")return ye;(f.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(f.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const a of l){const f=a.key,u=a.value;if(f.status==="aborted"||u.status==="aborted")return ye;(f.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(f.value,u.value)}return{status:n.value,value:o}}}}Zr.create=(t,e,n)=>new Zr({valueType:e,keyType:t,typeName:he.ZodMap,...Te(n)});class bn extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return re(r,{code:X.invalid_type,expected:ee.set,received:r.parsedType}),ye;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(re(r,{code:X.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(re(r,{code:X.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function l(a){const f=new Set;for(const u of a){if(u.status==="aborted")return ye;u.status==="dirty"&&n.dirty(),f.add(u.value)}return{status:n.value,value:f}}const o=[...r.data.values()].map((a,f)=>s._parse(new Lt(r,a,r.path,f)));return r.common.async?Promise.all(o).then(a=>l(a)):l(o)}min(e,n){return new bn({...this._def,minSize:{value:e,message:ue.toString(n)}})}max(e,n){return new bn({...this._def,maxSize:{value:e,message:ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}bn.create=(t,e)=>new bn({valueType:t,minSize:null,maxSize:null,typeName:he.ZodSet,...Te(e)});class Rn extends Se{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.function)return re(n,{code:X.invalid_type,expected:ee.function,received:n.parsedType}),ye;function r(o,a){return Lr({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qr(),ir].filter(f=>!!f),issueData:{code:X.invalid_arguments,argumentsError:a}})}function i(o,a){return Lr({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qr(),ir].filter(f=>!!f),issueData:{code:X.invalid_return_type,returnTypeError:a}})}const s={errorMap:n.common.contextualErrorMap},l=n.data;return this._def.returns instanceof Zn?mt(async(...o)=>{const a=new St([]),f=await this._def.args.parseAsync(o,s).catch(c=>{throw a.addIssue(r(o,c)),a}),u=await l(...f);return await this._def.returns._def.type.parseAsync(u,s).catch(c=>{throw a.addIssue(i(u,c)),a})}):mt((...o)=>{const a=this._def.args.safeParse(o,s);if(!a.success)throw new St([r(o,a.error)]);const f=l(...a.data),u=this._def.returns.safeParse(f,s);if(!u.success)throw new St([i(f,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Rn({...this._def,args:Pt.create(e).rest(mn.create())})}returns(e){return new Rn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Rn({args:e||Pt.create([]).rest(mn.create()),returns:n||mn.create(),typeName:he.ZodFunction,...Te(r)})}}class fr extends Se{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}fr.create=(t,e)=>new fr({getter:t,typeName:he.ZodLazy,...Te(e)});class dr extends Se{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return re(n,{received:n.data,code:X.invalid_literal,expected:this._def.value}),ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}dr.create=(t,e)=>new dr({value:t,typeName:he.ZodLiteral,...Te(e)});function Vl(t,e){return new rn({values:t,typeName:he.ZodEnum,...Te(e)})}class rn extends Se{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{expected:Oe.joinValues(r),received:n.parsedType,code:X.invalid_type}),ye}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{received:n.data,code:X.invalid_enum_value,options:r}),ye}return mt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return rn.create(e)}exclude(e){return rn.create(this.options.filter(n=>!e.includes(n)))}}rn.create=Vl;class pr extends Se{_parse(e){const n=Oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const i=Oe.objectValues(n);return re(r,{expected:Oe.joinValues(i),received:r.parsedType,code:X.invalid_type}),ye}if(n.indexOf(e.data)===-1){const i=Oe.objectValues(n);return re(r,{received:r.data,code:X.invalid_enum_value,options:i}),ye}return mt(e.data)}get enum(){return this._def.values}}pr.create=(t,e)=>new pr({values:t,typeName:he.ZodNativeEnum,...Te(e)});class Zn extends Se{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return re(n,{code:X.invalid_type,expected:ee.promise,received:n.parsedType}),ye;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return mt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Zn.create=(t,e)=>new Zn({type:t,typeName:he.ZodPromise,...Te(e)});class $t extends Se{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const l=i.transform(r.data);return r.common.async?Promise.resolve(l).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:l,path:r.path,parent:r})}const s={addIssue:l=>{re(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const l=o=>{const a=i.refinement(o,s);if(r.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ye:(o.status==="dirty"&&n.dirty(),l(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?ye:(o.status==="dirty"&&n.dirty(),l(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Pr(l))return l;const o=i.transform(l.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Pr(l)?Promise.resolve(i.transform(l.value,s)).then(o=>({status:n.value,value:o})):l);Oe.assertNever(i)}}$t.create=(t,e,n)=>new $t({schema:t,typeName:he.ZodEffects,effect:e,...Te(n)});$t.createWithPreprocess=(t,e,n)=>new $t({schema:e,effect:{type:"preprocess",transform:t},typeName:he.ZodEffects,...Te(n)});class Ht extends Se{_parse(e){return this._getType(e)===ee.undefined?mt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ht.create=(t,e)=>new Ht({innerType:t,typeName:he.ZodOptional,...Te(e)});class wn extends Se{_parse(e){return this._getType(e)===ee.null?mt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wn.create=(t,e)=>new wn({innerType:t,typeName:he.ZodNullable,...Te(e)});class hr extends Se{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}hr.create=(t,e)=>new hr({innerType:t,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Te(e)});class Hr extends Se{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return zr(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new St(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new St(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hr.create=(t,e)=>new Hr({innerType:t,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Te(e)});class Br extends Se{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return re(r,{code:X.invalid_type,expected:ee.nan,received:r.parsedType}),ye}return{status:"valid",value:e.data}}}Br.create=t=>new Br({typeName:he.ZodNaN,...Te(t)});const za=Symbol("zod_brand");class Wl extends Se{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Tr extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ye:s.status==="dirty"?(n.dirty(),Bl(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ye:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Tr({in:e,out:n,typeName:he.ZodPipeline})}}const Gl=(t,e={},n)=>t?jn.create().superRefine((r,i)=>{var s,l;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,a=(l=(s=o.fatal)!==null&&s!==void 0?s:n)!==null&&l!==void 0?l:!0,f=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...f,fatal:a})}}):jn.create(),Ua={object:He.lazycreate};var he;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(he||(he={}));const ja=(t,e={message:`Input not instance of ${t.name}`})=>Gl(n=>n instanceof t,e),Ql=At.create,Yl=tn.create,Za=Br.create,Ha=nn.create,Xl=sr.create,Ba=yn.create,Va=Ur.create,Wa=lr.create,Ga=or.create,Qa=jn.create,Ya=mn.create,Xa=Vt.create,Ka=jr.create,Ja=xt.create,eu=He.create,tu=He.strictCreate,nu=ar.create,ru=ui.create,iu=ur.create,su=Pt.create,lu=cr.create,ou=Zr.create,au=bn.create,uu=Rn.create,cu=fr.create,fu=dr.create,du=rn.create,pu=pr.create,hu=Zn.create,bs=$t.create,mu=Ht.create,gu=wn.create,_u=$t.createWithPreprocess,vu=Tr.create,yu=()=>Ql().optional(),bu=()=>Yl().optional(),wu=()=>Xl().optional(),ku={string:t=>At.create({...t,coerce:!0}),number:t=>tn.create({...t,coerce:!0}),boolean:t=>sr.create({...t,coerce:!0}),bigint:t=>nn.create({...t,coerce:!0}),date:t=>yn.create({...t,coerce:!0})},Eu=ye;var ge=Object.freeze({__proto__:null,defaultErrorMap:ir,setErrorMap:Da,getErrorMap:qr,makeIssue:Lr,EMPTY_PATH:Sa,addIssueToContext:re,ParseStatus:ut,INVALID:ye,DIRTY:Bl,OK:mt,isAborted:Ii,isDirty:Mi,isValid:Pr,isAsync:zr,get util(){return Oe},get objectUtil(){return $i},ZodParsedType:ee,getParsedType:Kt,ZodType:Se,ZodString:At,ZodNumber:tn,ZodBigInt:nn,ZodBoolean:sr,ZodDate:yn,ZodSymbol:Ur,ZodUndefined:lr,ZodNull:or,ZodAny:jn,ZodUnknown:mn,ZodNever:Vt,ZodVoid:jr,ZodArray:xt,ZodObject:He,ZodUnion:ar,ZodDiscriminatedUnion:ui,ZodIntersection:ur,ZodTuple:Pt,ZodRecord:cr,ZodMap:Zr,ZodSet:bn,ZodFunction:Rn,ZodLazy:fr,ZodLiteral:dr,ZodEnum:rn,ZodNativeEnum:pr,ZodPromise:Zn,ZodEffects:$t,ZodTransformer:$t,ZodOptional:Ht,ZodNullable:wn,ZodDefault:hr,ZodCatch:Hr,ZodNaN:Br,BRAND:za,ZodBranded:Wl,ZodPipeline:Tr,custom:Gl,Schema:Se,ZodSchema:Se,late:Ua,get ZodFirstPartyTypeKind(){return he},coerce:ku,any:Qa,array:Ja,bigint:Ha,boolean:Xl,date:Ba,discriminatedUnion:ru,effect:bs,enum:du,function:uu,instanceof:ja,intersection:iu,lazy:cu,literal:fu,map:ou,nan:Za,nativeEnum:pu,never:Xa,null:Ga,nullable:gu,number:Yl,object:eu,oboolean:wu,onumber:bu,optional:mu,ostring:yu,pipeline:vu,preprocess:_u,promise:hu,record:lu,set:au,strictObject:tu,string:Ql,symbol:Va,transformer:bs,tuple:su,undefined:Wa,union:nu,unknown:Ya,void:Ka,NEVER:Eu,ZodIssueCode:X,quotelessJson:Ca,ZodError:St});const Ri={MalformedMessage:"Unknown client sent invalid message",InvalidToken:"Invalid token provided",InvalidNameLength:"Invalid name length",UsernameTaken:"Username already in use",InappropriateName:"That name is not allowed/inappropriate choose another name",NotJoinable:"Quiz is not joinable",CapacityReached:"Quiz is full",UnknownPlayer:"Target player not found",Unexpected:"Unexpected error occurred",InvalidPermission:"You don't have permission to do that",UnexpectedMessage:"Client and server out of sync",InvalidAnswer:"Invalid answer type"};var xn=(t=>(t.None="None",t.Low="Low",t.Medium="Medium",t.High="High",t))(xn||{}),lt=(t=>(t.Lobby="Lobby",t.Starting="Starting",t.AwaitingReady="AwaitingReady",t.PreQuestion="PreQuestion",t.AwaitingAnswers="AwaitingAnswers",t.Marked="Marked",t.Finished="Finished",t))(lt||{}),Hn=(t=>(t.Start="Start",t.Next="Next",t.Reset="Reset",t))(Hn||{}),Kl=(t=>(t.RemovedByHost="RemovedByHost",t.HostDisconnect="HostDisconnect",t.LostConnection="LostConnection",t.Disconnected="Disconnected",t))(Kl||{});const Tu={RemovedByHost:"Removed by host",HostDisconnect:"Quiz host left",LostConnection:"Connection lost",Disconnected:"Disconnected"};var pe=(t=>(t.Single="Single",t.Multiple="Multiple",t.TrueFalse="TrueFalse",t.Typer="Typer",t))(pe||{});const ws=ge.object({id:ge.number(),value:ge.string(),correct:ge.boolean()});var $n=(t=>(t.Contain="Contain",t.Cover="Cover",t.Width="Width",t.Height="Height",t))($n||{});const Au=ge.object({text:ge.string(),image:ge.object({uuid:ge.string().uuid(),fit:ge.enum(["Contain","Cover","Width","Height"])}).nullable(),answer_time:ge.number(),bonus_score_time:ge.number(),scoring:ge.object({min_score:ge.number(),max_score:ge.number(),bonus_score:ge.number()})}).and(ge.discriminatedUnion("ty",[ge.object({ty:ge.literal("Single"),answers:ge.array(ws)}),ge.object({ty:ge.literal("Multiple"),answers:ge.array(ws),correct_answers:ge.number()}),ge.object({ty:ge.literal("TrueFalse"),answer:ge.boolean()}),ge.object({ty:ge.literal("Typer"),answers:ge.array(ge.string()),ignore_case:ge.boolean()})]));var er=(t=>(t.Single="Single",t.Multiple="Multiple",t.TrueFalse="TrueFalse",t.Typer="Typer",t))(er||{}),Bt=(t=>(t.Correct="Correct",t.Incorrect="Incorrect",t.Partial="Partial",t))(Bt||{}),Ct=(t=>(t.Initialize="Initialize",t.Connect="Connect",t.Join="Join",t.Ready="Ready",t.HostAction="HostAction",t.Answer="Answer",t.Kick="Kick",t))(Ct||{}),Xt=(t=>(t.PlayerData="PlayerData",t.GameState="GameState",t.Timer="Timer",t.Question="Question",t.Scores="Scores",t.Score="Score",t.Kicked="Kicked",t))(Xt||{}),Gi=(t=>(t.Joined="Joined",t.Ok="Ok",t.Error="Error",t))(Gi||{});function Qi(t){return new URL(t,window.location.origin)}function ks(t,e){return Qi(`/api/quiz/${t}/${e}`).toString()}function Cu(t,e,n){return new Promise((r,i)=>{const s=Du(t,e),l=new XMLHttpRequest;l.upload.onprogress=n,l.responseType="json",l.onload=()=>{if(Math.floor(l.status/100)!==2)return console.error("Failed invalid request",l),i(new Error("Invalid request try reloading the page or updating Quizler"));const f=l.response;r(f.uuid)},l.onerror=l.ontimeout=l.onabort=()=>i(new Error("Failed to connect"));const o=Qi("/api/quiz");l.open("POST",o),l.send(s)})}function Du(t,e){const n=new FormData;n.append("config",JSON.stringify(t));for(const r of e)t.questions.find(s=>{var l;return((l=s.image)==null?void 0:l.uuid)===r.uuid})!==void 0&&n.append(r.uuid,r.blob);return n}async function Su(t,e){const n=e.image;if(n===null)return null;const r=6;let i=0,s=ks(t,n.uuid),l=null;for(;i<r;)try{await new Promise((o,a)=>{l=new Image,l.src=s,l.onload=o,l.onerror=a}),console.debug("Preloaded question image",s);break}catch(o){console.error("Failed to preload image trying again",s,o),i+=1,l=null,s=ks(t,n.uuid)+`?attempt=${i}`}return l}let Nn=null,mr=[],Jl=eo();const Ni={},Yi=Gt(!1);function cn(t,e){Pl(()=>{Ni[t]=e,console.debug("Added handler for",t),mr=mr.filter(n=>n.ty===t?(e(n),!1):!0)}),oa(()=>{delete Ni[t]})}function xu(){for(const t of mr)console.warn("Message was not handled",t);mr=[]}function eo(){const t=Qi("/api/quiz/socket");t.protocol=t.protocol.includes("https")?"wss":"ws",console.debug("Connecting to socket server "+t);const e=new WebSocket(t);return e.onmessage=Mu,e.onopen=()=>{e.readyState==WebSocket.OPEN&&(console.debug("Connected to socket"),Yi.set(!0))},e.onclose=n=>{console.error("WebSocket connetion closed",n),$u()},e.onerror=n=>{console.error("WebSocket error",n)},e}function $u(){Nn=null,xu(),Er(),Iu()}function Iu(){console.debug("Socket connection lost (Reconnecting in 1000ms)"),Yi.set(!1),setTimeout(()=>{Jl=eo()},1e3)}function Nt(t){return new Promise((e,n)=>{console.debug("Sending message to server",t),Nn={resolve:e,reject:n};const r=JSON.stringify(t);try{Jl.send(r)}catch(i){console.error("Failed to send message",i),Nn=null,n({ty:Gi.Error,error:"Unexpected"})}})}function Mu({data:t}){const e=JSON.parse(t);if(e.ty===void 0){console.error("Packet missing message type",t);return}if(e.ret===1){if(Nn===null){console.error("Missing response handle for message",e);return}e.ty===Gi.Error?Nn.reject(e.error):Nn.resolve(e);return}const n=Ni[e.ty];if(n!==void 0){n(e);return}mr.push(e)}function Ou(t){let e;return{c(){e=C("div"),m(e,"class","spin svelte-1ku7j7d")},m(n,r){V(n,e,r)},p:Q,i:Q,o:Q,d(n){n&&H(e)}}}class to extends Ee{constructor(e){super(),ke(this,e,null,Ou,be,{})}}function Ru(t){let e,n,r,i,s,l;return n=new to({}),{c(){e=C("main"),oe(n.$$.fragment),r=P(),i=C("p"),s=te(t[0]),m(i,"class","text svelte-ce1y0i"),m(e,"class","page page--center page--overflow")},m(o,a){V(o,e,a),se(n,e,null),g(e,r),g(e,i),g(i,s),l=!0},p(o,[a]){(!l||a&1)&&Ie(s,o[0])},i(o){l||(j(n.$$.fragment,o),l=!0)},o(o){G(n.$$.fragment,o),l=!1},d(o){o&&H(e),le(n)}}}function Nu(t,e,n){let{text:r}=e;return t.$$set=i=>{"text"in i&&n(0,r=i.text)},[r]}class no extends Ee{constructor(e){super(),ke(this,e,Nu,Ru,be,{text:0})}}let xr;const Fu=new Uint8Array(16);function qu(){if(!xr&&(xr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xr(Fu)}const nt=[];for(let t=0;t<256;++t)nt.push((t+256).toString(16).slice(1));function Lu(t,e=0){return(nt[t[e+0]]+nt[t[e+1]]+nt[t[e+2]]+nt[t[e+3]]+"-"+nt[t[e+4]]+nt[t[e+5]]+"-"+nt[t[e+6]]+nt[t[e+7]]+"-"+nt[t[e+8]]+nt[t[e+9]]+"-"+nt[t[e+10]]+nt[t[e+11]]+nt[t[e+12]]+nt[t[e+13]]+nt[t[e+14]]+nt[t[e+15]]).toLowerCase()}const Pu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Es={randomUUID:Pu};function Xi(t,e,n){if(Es.randomUUID&&!e&&!t)return Es.randomUUID();t=t||{};const r=t.random||(t.rng||qu)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Lu(r)}const Fn=5,ro=1,io=30,zu=70,Uu=300,ju="Example Quiz",Zu="Small description about your quiz",Hu=10,Bu=100,so=150,Vr=8,Ts=50,Vu=400,Wu=1e3*15,Gu=1e3,Qu=1e3*60*30,Yu=150,Xu=1e3*3,As=0,Ku=1e4,Ju=1e4,ec=1e3,tc=1e3*60*30,nc=1,lo=50,rc=1024*1024*15;function ic(){return{name:ju,text:Zu,max_players:lo,filtering:xn.High,questions:[oo()]}}function oo(){return{id:Xi(),ty:pe.Single,text:"This is an example question, you should replace this with your first question",image:null,answer_time:Wu,bonus_score_time:Xu,scoring:{min_score:Hu,max_score:Bu,bonus_score:Yu},answers:[{id:0,value:"Example A",correct:!0},{id:1,value:"Example B",correct:!1},{id:2,value:"Example C",correct:!1},{id:3,value:"Example D",correct:!1}]}}function sc(t){let e,n,r,i,s,l,o;return n=new to({}),{c(){e=C("main"),oe(n.$$.fragment),r=P(),i=C("p"),s=te(t[0]),m(i,"class","text svelte-1cn2ffa"),m(e,"class","main svelte-1cn2ffa")},m(a,f){V(a,e,f),se(n,e,null),g(e,r),g(e,i),g(i,s),o=!0},p(a,[f]){(!o||f&1)&&Ie(s,a[0])},i(a){o||(j(n.$$.fragment,a),Pe(()=>{o&&(l||(l=we(e,qt,{},!0)),l.run(1))}),o=!0)},o(a){G(n.$$.fragment,a),l||(l=we(e,qt,{},!1)),l.run(0),o=!1},d(a){a&&H(e),le(n),a&&l&&l.end()}}}function lc(t,e,n){let{text:r=""}=e;return t.$$set=i=>{"text"in i&&n(0,r=i.text)},[r]}class Ki extends Ee{constructor(e){super(),ke(this,e,lc,sc,be,{text:0})}}function oc(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&H(e)}}}class ao extends Ee{constructor(e){super(),ke(this,e,null,oc,be,{})}}function ac(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M8 5v14l11-7z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&H(e)}}}class ci extends Ee{constructor(e){super(),ke(this,e,null,ac,be,{})}}function Cs(t){let e,n;return e=new Ki({}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function uc(t){let e,n,r,i,s,l,o,a,f,u,d,c,p,h,y,k=t[4]&&Ds();return{c(){e=C("main"),n=C("p"),r=te(t[1]),i=P(),s=C("h1"),s.textContent="Enter Name",l=P(),o=C("p"),o.textContent="Please enter your desired name",a=P(),f=C("form"),u=C("input"),d=P(),k&&k.c(),m(u,"class","input input--small svelte-1ko3vh5"),m(u,"type","text"),m(u,"minlength",ro),m(u,"maxlength",io),m(f,"class","form svelte-1ko3vh5"),m(e,"class","page page--center page--overflow svelte-1ko3vh5")},m(_,D){V(_,e,D),g(e,n),g(n,r),g(e,i),g(e,s),g(e,l),g(e,o),g(e,a),g(e,f),g(f,u),t[16](u),ze(u,t[2]),g(f,d),k&&k.m(f,null),p=!0,h||(y=[J(u,"input",t[17]),J(u,"input",t[10]),J(f,"submit",ql(t[12]))],h=!0)},p(_,D){(!p||D&2)&&Ie(r,_[1]),D&4&&u.value!==_[2]&&ze(u,_[2]),_[4]?k?D&16&&j(k,1):(k=Ds(),k.c(),j(k,1),k.m(f,null)):k&&(Fe(),G(k,1,1,()=>{k=null}),qe())},i(_){p||(j(k),Pe(()=>{p&&(c||(c=we(e,Re,{},!0)),c.run(1))}),p=!0)},o(_){G(k),c||(c=we(e,Re,{},!1)),c.run(0),p=!1},d(_){_&&H(e),t[16](null),k&&k.d(),_&&c&&c.end(),h=!1,Ue(y)}}}function cc(t){let e,n,r,i,s,l,o,a,f,u,d,c,p=t[3]&&Ss();return{c(){e=C("main"),n=C("h1"),n.textContent="Enter Code",r=P(),i=C("p"),i.textContent="Please enter your quiz code below",s=P(),l=C("form"),o=C("input"),a=P(),p&&p.c(),m(o,"class","input svelte-1ko3vh5"),m(o,"type","text"),m(o,"minlength",Fn),m(o,"maxlength",Fn),m(o,"placeholder","X".repeat(Fn)),m(l,"class","form svelte-1ko3vh5"),m(e,"class","page page--center page--overflow svelte-1ko3vh5")},m(h,y){V(h,e,y),g(e,n),g(e,r),g(e,i),g(e,s),g(e,l),g(l,o),t[14](o),ze(o,t[1]),g(l,a),p&&p.m(l,null),u=!0,d||(c=[J(o,"input",t[15]),J(o,"input",t[9]),J(l,"submit",ql(t[11]))],d=!0)},p(h,y){y&2&&o.value!==h[1]&&ze(o,h[1]),h[3]?p?y&8&&j(p,1):(p=Ss(),p.c(),j(p,1),p.m(l,null)):p&&(Fe(),G(p,1,1,()=>{p=null}),qe())},i(h){u||(j(p),Pe(()=>{u&&(f||(f=we(e,Re,{},!0)),f.run(1))}),u=!0)},o(h){G(p),f||(f=we(e,Re,{},!1)),f.run(0),u=!1},d(h){h&&H(e),t[14](null),p&&p.d(),h&&f&&f.end(),d=!1,Ue(c)}}}function Ds(t){let e,n,r,i;return n=new ci({}),{c(){e=C("button"),oe(n.$$.fragment),m(e,"type","submit"),m(e,"class","play play--small svelte-1ko3vh5")},m(s,l){V(s,e,l),se(n,e,null),i=!0},i(s){i||(j(n.$$.fragment,s),Pe(()=>{i&&(r||(r=we(e,Re,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(s){G(n.$$.fragment,s),r||(r=we(e,Re,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(s){s&&H(e),le(n),s&&r&&r.end()}}}function Ss(t){let e,n,r,i;return n=new ci({}),{c(){e=C("button"),oe(n.$$.fragment),m(e,"type","submit"),m(e,"class","play svelte-1ko3vh5")},m(s,l){V(s,e,l),se(n,e,null),i=!0},i(s){i||(j(n.$$.fragment,s),Pe(()=>{i&&(r||(r=we(e,Re,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(s){G(n.$$.fragment,s),r||(r=we(e,Re,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(s){s&&H(e),le(n),s&&r&&r.end()}}}function fc(t){let e,n,r,i,s,l,o,a,f,u,d=t[5]&&Cs();r=new ao({});const c=[cc,uc],p=[];function h(y,k){return y[0]===y[8].Connect?0:1}return s=h(t),l=p[s]=c[s](t),{c(){d&&d.c(),e=P(),n=C("button"),oe(r.$$.fragment),i=P(),l.c(),o=zt(),m(n,"class","back back--floating")},m(y,k){d&&d.m(y,k),V(y,e,k),V(y,n,k),se(r,n,null),V(y,i,k),p[s].m(y,k),V(y,o,k),a=!0,f||(u=J(n,"click",t[13]),f=!0)},p(y,[k]){y[5]?d?k&32&&j(d,1):(d=Cs(),d.c(),j(d,1),d.m(e.parentNode,e)):d&&(Fe(),G(d,1,1,()=>{d=null}),qe());let _=s;s=h(y),s===_?p[s].p(y,k):(Fe(),G(p[_],1,1,()=>{p[_]=null}),qe(),l=p[s],l?l.p(y,k):(l=p[s]=c[s](y),l.c()),j(l,1),l.m(o.parentNode,o))},i(y){a||(j(d),j(r.$$.fragment,y),j(l),a=!0)},o(y){G(d),G(r.$$.fragment,y),G(l),a=!1},d(y){d&&d.d(y),y&&H(e),y&&H(n),le(r),y&&H(i),p[s].d(y),y&&H(o),f=!1,u()}}}function dc(t,e,n){var r=(w=>(w[w.Connect=0]="Connect",w[w.Join=1]="Join",w))(r||{});let i=0,s="",l="",o=!1,a=!1,f=!1,u=!0,d,c;function p(){n(1,s=s.toUpperCase().replace(/[^A-Z0-9]/,"")),s.length>Fn&&n(1,s=s.substring(0,Fn)),n(3,o=s.length===Fn)}function h(){n(4,a=l.length>=ro&&l.length<=io)}function y(){n(5,f=!0),Nt({ty:Ct.Connect,token:s}).then(()=>{n(0,i=1),u=!0}).catch(w=>{console.error("Failed to connect",w),jt("Failed to connect",Ri[w])}).finally(()=>n(5,f=!1))}function k(){n(5,f=!0),Nt({ty:Ct.Join,name:l}).then(({id:w,token:A,config:v})=>{Ul({id:w,token:A,config:v,host:!1,name:l})}).catch(w=>{console.error("Failed to join",w),jt("Failed to join",Ri[w])}).finally(()=>n(5,f=!1))}function _(){i===0?Er():(n(0,i=0),d.focus())}la(()=>{u&&(d&&document.activeElement!==d&&(d.focus(),console.log("Focus called")),c&&document.activeElement!==c&&(c.focus(),console.log("Focus called")))});function D(w){Ye[w?"unshift":"push"](()=>{d=w,n(6,d)})}function x(){s=this.value,n(1,s)}function I(w){Ye[w?"unshift":"push"](()=>{c=w,n(7,c)})}function S(){l=this.value,n(2,l)}return[i,s,l,o,a,f,d,c,r,p,h,y,k,_,D,x,I,S]}class pc extends Ee{constructor(e){super(),ke(this,e,dc,fc,be,{})}}async function uo(t){try{await Nt({ty:Ct.Kick,id:t})}catch(e){console.error("Error while attempting to kick",e)}}async function gr(t){try{await Nt({ty:Ct.HostAction,action:t})}catch(e){console.error("Error while attempting host action",t,e)}}async function hc(){try{await Nt({ty:Ct.Ready})}catch(t){console.error("Error while attempting to ready",t)}}async function Ji(t){const e=t.host?"Are you sure you want to leave? Leaving will remove all other players from the game":"Are you sure you want to leave?";await ai("Confirm Leave",e)&&(Er(),uo(t.id))}function Wr(t){return(t/1e3).toFixed(0)}function xs(t){const e=["bytes","kb","mb"];if(t==0)return"0 Byte";const n=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toFixed(1)+e[n]}function gn(t,e){const n=Math.round(Math.random()*(e-t)+t);return n>e?e:n<t?t:n}function $s(t){const e=["th","st","nd","rd"],n=t%100;return t+(e[(n-20)%10]||e[n]||e[0])}function mc(t){const e=gn(1,t.length/2);let n=0;for(;n<e;){const r=gn(0,t.length-1),i=gn(0,t.length-1);r!==i&&(co(t,r,i),n++)}return t}function co(t,e,n){const r=t[e],i=t[n];return(r!==void 0||i!==void 0)&&(t[e]=i,t[n]=r),t}const gc={Answered:["Hmm I wonder if you got it right....","It definitely had to be that one! 👌","Yeah it was probably that one... 😬","0_0 good luck i guess..","Are you sure it was that one..?","😅 Probbably right","It gotta be that one!","If you say so 🫠","1 + 1 = 5?","Was definitely that one! 😎","🤫 don't tell them the answer","Made it in time 😮‍💨","Nice answer 🥳","Mastermind 🧠"],[Bt.Correct]:["You did it!","That one was right!","Good job!","Yup that was it!","Nicely done 👍","Brainy 🧠","Smarty pants 🤓"],[Bt.Incorrect]:["Ooops..","Yeah not that one... 🤨","Better luck next time 🤧","Noooo your other left","Uh oh.... 😨","Yeah nope.... ","😤 Maybe next time"],[Bt.Partial]:["Almost there...","Not quite there","Just about...","Yeah not that one... 🤨","Better luck next time 🤧","Noooo your other left","Uh oh.... 😨","Yeah nope.... ","😤 Maybe next time"]};function fo(t){const e=gc[t];return e[gn(0,e.length-1)]}function _c(t){let e,n,r,i,s,l;return{c(){e=C("main"),n=C("h1"),n.textContent="Waiting...",r=P(),i=C("p"),i.textContent=`${t[0]}`,m(n,"class","title svelte-1p2ou5x"),m(i,"class","text svelte-1p2ou5x"),m(e,"class","main svelte-1p2ou5x")},m(o,a){V(o,e,a),g(e,n),g(e,r),g(e,i),l=!0},p:Q,i(o){l||(Pe(()=>{l&&(s||(s=we(e,Re,{},!0)),s.run(1))}),l=!0)},o(o){s||(s=we(e,Re,{},!1)),s.run(0),l=!1},d(o){o&&H(e),o&&s&&s.end()}}}function vc(t){return[fo("Answered")]}class yc extends Ee{constructor(e){super(),ke(this,e,vc,_c,be,{})}}function Ar(t,{from:e,to:n},r={}){const i=getComputedStyle(t),s=i.transform==="none"?"":i.transform,[l,o]=i.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*l/n.width-(n.left+l),f=e.top+e.height*o/n.height-(n.top+o),{delay:u=0,duration:d=p=>Math.sqrt(p)*120,easing:c=jl}=r;return{delay:u,duration:kn(d)?d(Math.sqrt(a*a+f*f)):d,easing:c,css:(p,h)=>{const y=h*a,k=h*f,_=p+h*e.width/n.width,D=p+h*e.height/n.height;return`transform: ${s} translate(${y}px, ${k}px) scale(${_}, ${D});`}}}function Is(t){return Object.prototype.toString.call(t)==="[object Date]"}function Fi(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,s)=>Fi(t[s],i));return i=>r.map(s=>s(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Is(t)&&Is(e)){t=t.getTime(),e=e.getTime();const s=e-t;return l=>new Date(t+l*s)}const r=Object.keys(e),i={};return r.forEach(s=>{i[s]=Fi(t[s],e[s])}),s=>{const l={};return r.forEach(o=>{l[o]=i[o](s)}),l}}if(n==="number"){const r=e-t;return i=>t+i*r}throw new Error(`Cannot interpolate ${n} values`)}function es(t,e={}){const n=Gt(t);let r,i=t;function s(l,o){if(t==null)return n.set(t=l),Promise.resolve();i=l;let a=r,f=!1,{delay:u=0,duration:d=400,easing:c=si,interpolate:p=Fi}=ms(ms({},e),o);if(d===0)return a&&(a.abort(),a=null),n.set(t=i),Promise.resolve();const h=Zi()+u;let y;return r=Bi(k=>{if(k<h)return!0;f||(y=p(t,l),typeof d=="function"&&(d=d(t,l)),f=!0),a&&(a.abort(),a=null);const _=k-h;return _>d?(n.set(t=l),!1):(n.set(t=y(c(_/d))),!0)}),r.promise}return{set:s,update:(l,o)=>s(l(i,t),o),subscribe:n.subscribe}}function bc(t){let e=t[0].toFixed(0)+"",n;return{c(){n=te(e)},m(r,i){V(r,n,i)},p(r,[i]){i&1&&e!==(e=r[0].toFixed(0)+"")&&Ie(n,e)},i:Q,o:Q,d(r){r&&H(n)}}}function wc(t,e,n){let r,{value:i}=e;const s=es(0,{delay:500});return at(t,s,l=>n(0,r=l)),t.$$set=l=>{"value"in l&&n(2,i=l.value)},t.$$.update=()=>{t.$$.dirty&4&&s.set(i)},[r,s,i]}class po extends Ee{constructor(e){super(),ke(this,e,wc,bc,be,{value:2})}}function kc(t){let e,n,r,i,s,l,o,a,f;return{c(){e=ce("svg"),n=ce("g"),r=ce("polygon"),i=ce("polygon"),s=ce("polygon"),l=ce("g"),o=ce("circle"),a=ce("circle"),f=ce("path"),Ci(r,"fill","#FFD102"),m(r,"points","371.342,210.903 469.209,150.675 379.787,95.648 281.922,155.874 	"),Ci(i,"fill","#FFD102"),m(i,"points","127.994,210.903 225.863,150.675 136.44,95.648 38.576,155.874 	"),m(s,"fill","#FFE368"),m(s,"points",`383.997,197.691 255.992,118.921 127.994,197.691 0,118.921 22.505,382.593 489.495,382.593 
	512,118.921 `),m(o,"fill","#FFAA0E"),m(o,"cx","99.947"),m(o,"cy","320.636"),m(o,"r","8.44"),m(a,"fill","#FFAA0E"),m(a,"cx","66.184"),m(a,"cy","286.878"),m(a,"r","8.44"),m(f,"fill","#FFAA0E"),m(f,"d",`M489.495,371.341H22.505C10.076,371.341,0,381.416,0,393.846c0,12.43,10.076,22.505,22.505,22.505
		h466.989c12.43,0,22.505-10.076,22.505-22.505C512,381.416,501.924,371.341,489.495,371.341z`),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"viewBox","0 0 512 512"),m(e,"xml:space","preserve")},m(u,d){V(u,e,d),g(e,n),g(n,r),g(n,i),g(e,s),g(e,l),g(l,o),g(l,a),g(l,f)},p:Q,i:Q,o:Q,d(u){u&&H(e)}}}class Ec extends Ee{constructor(e){super(),ke(this,e,null,kc,be,{})}}function Ms(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function Os(t){let e,n,r;return{c(){e=C("button"),e.textContent="Restart",m(e,"class","btn")},m(i,s){V(i,e,s),n||(r=J(e,"click",t[2]),n=!0)},p:Q,d(i){i&&H(e),n=!1,r()}}}function Rs(t){let e,n,r;return n=new Ec({}),{c(){e=C("div"),oe(n.$$.fragment),m(e,"class","crown svelte-1jhwi5e")},m(i,s){V(i,e,s),se(n,e,null),r=!0},i(i){r||(j(n.$$.fragment,i),r=!0)},o(i){G(n.$$.fragment,i),r=!1},d(i){i&&H(e),le(n)}}}function Ns(t,e){let n,r,i,s=$s(e[6]+1)+"",l,o,a,f=e[4].name+"",u,d,c,p,h,y,k=Q,_,D=e[6]==0&&Rs();return p=new po({props:{value:e[4].score}}),{key:t,first:null,c(){n=C("tr"),r=C("td"),D&&D.c(),i=P(),l=te(s),o=P(),a=C("td"),u=te(f),d=P(),c=C("td"),oe(p.$$.fragment),h=P(),m(r,"class","player__place svelte-1jhwi5e"),m(a,"class","player__name svelte-1jhwi5e"),m(c,"class","player_score"),m(n,"class","player svelte-1jhwi5e"),this.first=n},m(x,I){V(x,n,I),g(n,r),D&&D.m(r,null),g(r,i),g(r,l),g(n,o),g(n,a),g(a,u),g(n,d),g(n,c),se(p,c,null),g(n,h),_=!0},p(x,I){e=x,e[6]==0?D?I&1&&j(D,1):(D=Rs(),D.c(),j(D,1),D.m(r,i)):D&&(Fe(),G(D,1,1,()=>{D=null}),qe()),(!_||I&1)&&s!==(s=$s(e[6]+1)+"")&&Ie(l,s),(!_||I&1)&&f!==(f=e[4].name+"")&&Ie(u,f);const S={};I&1&&(S.value=e[4].score),p.$set(S)},r(){y=n.getBoundingClientRect()},f(){br(n),k()},a(){k(),k=yr(n,y,Ar,{})},i(x){_||(j(D),j(p.$$.fragment,x),_=!0)},o(x){G(D),G(p.$$.fragment,x),_=!1},d(x){x&&H(n),D&&D.d(),le(p)}}}function Tc(t){let e,n,r,i=t[1].token+"",s,l,o,a=t[1].config.name+"",f,u,d,c=t[1].config.text+"",p,h,y,k,_,D,x,I,S,w,A=[],v=new Map,b,$,M,O,N=t[1].host&&Os(t),R=t[0].players;const L=T=>T[4].id;for(let T=0;T<R.length;T+=1){let E=Ms(t,R,T),F=L(E);v.set(F,A[T]=Ns(F,E))}return{c(){e=C("main"),n=C("div"),r=C("h1"),s=te(i),l=P(),o=C("h2"),f=te(a),u=P(),d=C("p"),p=te(c),h=P(),y=C("div"),k=C("button"),k.textContent="Leave",_=P(),N&&N.c(),D=P(),x=C("table"),I=C("thead"),I.innerHTML=`<tr><th>Place</th> 
          <th>Name</th> 
          <th>Score</th></tr>`,S=P(),w=C("tbody");for(let T=0;T<A.length;T+=1)A[T].c();m(r,"class","token svelte-1jhwi5e"),m(o,"class","name"),m(d,"class","desc svelte-1jhwi5e"),m(k,"class","btn"),m(y,"class","btn-row btn-row--fill actions svelte-1jhwi5e"),m(n,"class","quiz svelte-1jhwi5e"),m(e,"class","page page--middle page--overflow svelte-1jhwi5e")},m(T,E){V(T,e,E),g(e,n),g(n,r),g(r,s),g(n,l),g(n,o),g(o,f),g(n,u),g(n,d),g(d,p),g(n,h),g(n,y),g(y,k),g(y,_),N&&N.m(y,null),g(n,D),g(n,x),g(x,I),g(x,S),g(x,w);for(let F=0;F<A.length;F+=1)A[F]&&A[F].m(w,null);$=!0,M||(O=J(k,"click",t[3]),M=!0)},p(T,[E]){if((!$||E&2)&&i!==(i=T[1].token+"")&&Ie(s,i),(!$||E&2)&&a!==(a=T[1].config.name+"")&&Ie(f,a),(!$||E&2)&&c!==(c=T[1].config.text+"")&&Ie(p,c),T[1].host?N?N.p(T,E):(N=Os(T),N.c(),N.m(y,null)):N&&(N.d(1),N=null),E&1){R=T[0].players,Fe();for(let F=0;F<A.length;F+=1)A[F].r();A=wr(A,E,L,1,T,R,v,w,li,Ns,null,Ms);for(let F=0;F<A.length;F+=1)A[F].a();qe()}},i(T){if(!$){for(let E=0;E<R.length;E+=1)j(A[E]);Pe(()=>{$&&(b||(b=we(e,Re,{},!0)),b.run(1))}),$=!0}},o(T){for(let E=0;E<A.length;E+=1)G(A[E]);b||(b=we(e,Re,{},!1)),b.run(0),$=!1},d(T){T&&H(e),N&&N.d();for(let E=0;E<A.length;E+=1)A[E].d();T&&b&&b.end(),M=!1,O()}}}function Ac(t,e,n){let{summary:r}=e,{gameData:i}=e;const s=()=>gr(Hn.Reset),l=()=>Ji(i);return t.$$set=o=>{"summary"in o&&n(0,r=o.summary),"gameData"in o&&n(1,i=o.gameData)},[r,i,s,l]}class Cc extends Ee{constructor(e){super(),ke(this,e,Ac,Tc,be,{summary:0,gameData:1})}}function Fs(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function qs(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Ls(t){let e,n,r,i;return{c(){e=C("div"),m(e,"class","image-wrapper svelte-1nu2lfj")},m(s,l){V(s,e,l),r||(i=Ol(n=Mc.call(null,e,t[3])),r=!0)},p(s,l){n&&kn(n.update)&&l&8&&n.update.call(null,s[3])},d(s){s&&H(e),r=!1,i()}}}function Dc(t){let e,n,r,i,s,l,o;return{c(){e=C("input"),n=P(),r=C("button"),i=te("Submit"),m(e,"class","input svelte-1nu2lfj"),m(e,"type","text"),m(r,"class","btn btn btn--surface submit svelte-1nu2lfj"),r.disabled=s=t[5].length<1},m(a,f){V(a,e,f),ze(e,t[5]),V(a,n,f),V(a,r,f),g(r,i),l||(o=[J(e,"input",t[17]),J(r,"click",t[8])],l=!0)},p(a,f){f&32&&e.value!==a[5]&&ze(e,a[5]),f&32&&s!==(s=a[5].length<1)&&(r.disabled=s)},d(a){a&&H(e),a&&H(n),a&&H(r),l=!1,Ue(o)}}}function Sc(t){let e,n,r,i,s,l,o,a,f,u,d,c;return{c(){e=C("div"),n=C("button"),r=te("True"),l=P(),o=C("button"),a=te("False"),m(n,"data-host",i=t[0].host),m(n,"class","answer btn btn--surface svelte-1nu2lfj"),n.disabled=s=t[0].host,m(o,"data-host",f=t[0].host),m(o,"class","answer btn btn--surface svelte-1nu2lfj"),o.disabled=u=t[0].host,m(e,"class","answers svelte-1nu2lfj")},m(p,h){V(p,e,h),g(e,n),g(n,r),g(e,l),g(e,o),g(o,a),d||(c=[J(n,"click",t[15]),J(o,"click",t[16])],d=!0)},p(p,h){h&1&&i!==(i=p[0].host)&&m(n,"data-host",i),h&1&&s!==(s=p[0].host)&&(n.disabled=s),h&1&&f!==(f=p[0].host)&&m(o,"data-host",f),h&1&&u!==(u=p[0].host)&&(o.disabled=u)},d(p){p&&H(e),d=!1,Ue(c)}}}function xc(t){let e,n,r,i=t[2].answers,s=[];for(let o=0;o<i.length;o+=1)s[o]=Ps(Fs(t,i,o));let l=!t[0].host&&zs(t);return{c(){e=C("div");for(let o=0;o<s.length;o+=1)s[o].c();n=P(),l&&l.c(),r=zt(),m(e,"class","answers svelte-1nu2lfj")},m(o,a){V(o,e,a);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);V(o,n,a),l&&l.m(o,a),V(o,r,a)},p(o,a){if(a&1045){i=o[2].answers;let f;for(f=0;f<i.length;f+=1){const u=Fs(o,i,f);s[f]?s[f].p(u,a):(s[f]=Ps(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=i.length}o[0].host?l&&(l.d(1),l=null):l?l.p(o,a):(l=zs(o),l.c(),l.m(r.parentNode,r))},d(o){o&&H(e),nr(s,o),o&&H(n),l&&l.d(o),o&&H(r)}}}function $c(t){let e,n=t[2].answers,r=[];for(let i=0;i<n.length;i+=1)r[i]=Us(qs(t,n,i));return{c(){e=C("div");for(let i=0;i<r.length;i+=1)r[i].c();m(e,"class","answers svelte-1nu2lfj")},m(i,s){V(i,e,s);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p(i,s){if(s&69){n=i[2].answers;let l;for(l=0;l<n.length;l+=1){const o=qs(i,n,l);r[l]?r[l].p(o,s):(r[l]=Us(o),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&H(e),nr(r,i)}}}function Ps(t){let e,n=t[18].value+"",r,i,s,l,o,a;function f(){return t[14](t[20])}return{c(){e=C("button"),r=te(n),i=P(),m(e,"data-host",s=t[0].host),m(e,"class","answer btn btn--surface svelte-1nu2lfj"),e.disabled=l=t[0].host||!t[4].includes(t[20])&&t[4].length===t[2].correct_answers,Je(e,"answer--checked",t[4].includes(t[20]))},m(u,d){V(u,e,d),g(e,r),g(e,i),o||(a=J(e,"click",f),o=!0)},p(u,d){t=u,d&4&&n!==(n=t[18].value+"")&&Ie(r,n),d&1&&s!==(s=t[0].host)&&m(e,"data-host",s),d&21&&l!==(l=t[0].host||!t[4].includes(t[20])&&t[4].length===t[2].correct_answers)&&(e.disabled=l),d&16&&Je(e,"answer--checked",t[4].includes(t[20]))},d(u){u&&H(e),o=!1,a()}}}function zs(t){let e,n,r,i,s;return{c(){e=C("button"),n=te("Submit"),m(e,"class","btn btn btn--surface submit svelte-1nu2lfj"),e.disabled=r=t[4].length<1},m(l,o){V(l,e,o),g(e,n),i||(s=J(e,"click",t[9]),i=!0)},p(l,o){o&16&&r!==(r=l[4].length<1)&&(e.disabled=r)},d(l){l&&H(e),i=!1,s()}}}function Us(t){let e,n=t[18].value+"",r,i,s,l,o,a;function f(){return t[13](t[20])}return{c(){e=C("button"),r=te(n),i=P(),m(e,"data-host",s=t[0].host),m(e,"class","answer btn btn--surface svelte-1nu2lfj"),e.disabled=l=t[0].host},m(u,d){V(u,e,d),g(e,r),g(e,i),o||(a=J(e,"click",f),o=!0)},p(u,d){t=u,d&4&&n!==(n=t[18].value+"")&&Ie(r,n),d&1&&s!==(s=t[0].host)&&m(e,"data-host",s),d&1&&l!==(l=t[0].host)&&(e.disabled=l)},d(u){u&&H(e),o=!1,a()}}}function js(t){let e,n,r;return{c(){e=C("button"),e.textContent="Skip",m(e,"class","btn btn--surface")},m(i,s){V(i,e,s),n||(r=J(e,"click",t[11]),n=!0)},p:Q,d(i){i&&H(e),n=!1,r()}}}function Ic(t){let e,n,r,i,s=t[2].text+"",l,o,a,f,u,d=t[0].token+"",c,p,h,y,k=Wr(t[1])+"",_,D=t[3]!==null&&Ls(t);function x(A,v){if(A[2].ty===pe.Single)return $c;if(A[2].ty===pe.Multiple)return xc;if(A[2].ty===pe.TrueFalse)return Sc;if(A[2].ty===pe.Typer&&!A[0].host)return Dc}let I=x(t),S=I&&I(t),w=t[0].host&&js(t);return{c(){e=C("main"),D&&D.c(),n=P(),r=C("div"),i=C("p"),l=te(s),o=P(),S&&S.c(),a=P(),f=C("div"),u=C("p"),c=te(d),p=P(),w&&w.c(),h=P(),y=C("p"),_=te(k),m(i,"class","text svelte-1nu2lfj"),m(r,"class","content svelte-1nu2lfj"),m(u,"class","token svelte-1nu2lfj"),m(y,"class","time svelte-1nu2lfj"),m(f,"class","bottom svelte-1nu2lfj"),m(e,"class","main svelte-1nu2lfj")},m(A,v){V(A,e,v),D&&D.m(e,null),g(e,n),g(e,r),g(r,i),g(i,l),g(r,o),S&&S.m(r,null),g(e,a),g(e,f),g(f,u),g(u,c),g(f,p),w&&w.m(f,null),g(f,h),g(f,y),g(y,_)},p(A,[v]){A[3]!==null?D?D.p(A,v):(D=Ls(A),D.c(),D.m(e,n)):D&&(D.d(1),D=null),v&4&&s!==(s=A[2].text+"")&&Ie(l,s),I===(I=x(A))&&S?S.p(A,v):(S&&S.d(1),S=I&&I(A),S&&(S.c(),S.m(r,null))),v&1&&d!==(d=A[0].token+"")&&Ie(c,d),A[0].host?w?w.p(A,v):(w=js(A),w.c(),w.m(f,h)):w&&(w.d(1),w=null),v&2&&k!==(k=Wr(A[1])+"")&&Ie(_,k)},i:Q,o:Q,d(A){A&&H(e),D&&D.d(),S&&S.d(),w&&w.d()}}}function Mc(t,e){t.appendChild(e)}function Oc(t,e,n){let{gameData:r}=e,{timeMs:i}=e,{question:s}=e,{answered:l}=e,{preloadedImage:o}=e,a=[],f="";async function u(S){n(12,l=!0);try{await Nt({ty:Ct.Answer,answer:{ty:er.Single,answer:S}})}catch(w){console.error("Error while attempting to answer",w)}}async function d(S){n(12,l=!0);try{await Nt({ty:Ct.Answer,answer:{ty:er.TrueFalse,answer:S}})}catch(w){console.error("Error while attempting to answer",w)}}async function c(){n(12,l=!0);try{await Nt({ty:Ct.Answer,answer:{ty:er.Typer,answer:f}})}catch(S){console.error("Error while attempting to answer",S)}}async function p(){n(12,l=!0);try{await Nt({ty:Ct.Answer,answer:{ty:er.Multiple,answers:a}})}catch(S){console.error("Error while attempting to answer",S)}}function h(S){a.includes(S)?n(4,a=a.filter(w=>w!=S)):(a.push(S),n(4,a))}const y=()=>gr(Hn.Next),k=S=>u(S),_=S=>h(S),D=()=>d(!0),x=()=>d(!1);function I(){f=this.value,n(5,f)}return t.$$set=S=>{"gameData"in S&&n(0,r=S.gameData),"timeMs"in S&&n(1,i=S.timeMs),"question"in S&&n(2,s=S.question),"answered"in S&&n(12,l=S.answered),"preloadedImage"in S&&n(3,o=S.preloadedImage)},[r,i,s,o,a,f,u,d,c,p,h,y,l,k,_,D,x,I]}class Rc extends Ee{constructor(e){super(),ke(this,e,Oc,Ic,be,{gameData:0,timeMs:1,question:2,answered:12,preloadedImage:3})}}function Zs(t,e,n){const r=t.slice();return r[7]=e[n],r}function Nc(t){let e,n,r;return{c(){e=C("button"),e.textContent="Start",m(e,"class","btn")},m(i,s){V(i,e,s),n||(r=J(e,"click",t[4]),n=!0)},p:Q,d(i){i&&H(e),n=!1,r()}}}function Fc(t){let e,n,r;return{c(){e=C("button"),e.textContent="Next",m(e,"class","btn")},m(i,s){V(i,e,s),n||(r=J(e,"click",t[4]),n=!0)},p:Q,d(i){i&&H(e),n=!1,r()}}}function Hs(t,e){let n,r,i=e[7].name+"",s,l,o,a,f,u,d,c,p,h=Q,y,k,_;a=new po({props:{value:e[2][e[7].id]??0}});function D(){return e[6](e[7])}return{key:t,first:null,c(){n=C("tr"),r=C("td"),s=te(i),l=P(),o=C("td"),oe(a.$$.fragment),f=P(),u=C("td"),d=C("button"),d.textContent="Kick",c=P(),m(r,"class","player__name svelte-106132e"),m(o,"class","player_score"),m(d,"class","btn"),m(u,"class","player__action svelte-106132e"),m(n,"class","player svelte-106132e"),this.first=n},m(x,I){V(x,n,I),g(n,r),g(r,s),g(n,l),g(n,o),se(a,o,null),g(n,f),g(n,u),g(u,d),g(n,c),y=!0,k||(_=J(d,"click",D),k=!0)},p(x,I){e=x,(!y||I&2)&&i!==(i=e[7].name+"")&&Ie(s,i);const S={};I&6&&(S.value=e[2][e[7].id]??0),a.$set(S)},r(){p=n.getBoundingClientRect()},f(){br(n),h()},a(){h(),h=yr(n,p,Ar,{})},i(x){y||(j(a.$$.fragment,x),y=!0)},o(x){G(a.$$.fragment,x),y=!1},d(x){x&&H(n),le(a),k=!1,_()}}}function qc(t){let e,n,r,i=t[0].token+"",s,l,o,a=t[0].config.name+"",f,u,d,c=t[0].config.text+"",p,h,y,k,_,D,x,I,S,w,A=[],v=new Map,b,$,M,O;function N(F,q){if(F[3]===lt.Marked)return Fc;if(F[1].length>0&&F[3]===lt.Lobby)return Nc}let R=N(t),L=R&&R(t),T=t[1];const E=F=>F[7].id;for(let F=0;F<T.length;F+=1){let q=Zs(t,T,F),z=E(q);v.set(z,A[F]=Hs(z,q))}return{c(){e=C("main"),n=C("div"),r=C("h1"),s=te(i),l=P(),o=C("h2"),f=te(a),u=P(),d=C("p"),p=te(c),h=P(),y=C("div"),k=C("button"),k.textContent="Leave",_=P(),L&&L.c(),D=P(),x=C("table"),I=C("thead"),I.innerHTML=`<tr><th>Name</th> 
          <th>Score</th> 
          <th>Actions</th></tr>`,S=P(),w=C("tbody");for(let F=0;F<A.length;F+=1)A[F].c();m(r,"class","token svelte-106132e"),m(o,"class","name"),m(d,"class","desc svelte-106132e"),m(k,"class","btn"),m(y,"class","btn-row btn-row--fill actions svelte-106132e"),m(n,"class","quiz svelte-106132e"),m(e,"class","page page--middle page--overflow svelte-106132e")},m(F,q){V(F,e,q),g(e,n),g(n,r),g(r,s),g(n,l),g(n,o),g(o,f),g(n,u),g(n,d),g(d,p),g(n,h),g(n,y),g(y,k),g(y,_),L&&L.m(y,null),g(n,D),g(n,x),g(x,I),g(x,S),g(x,w);for(let z=0;z<A.length;z+=1)A[z]&&A[z].m(w,null);$=!0,M||(O=J(k,"click",t[5]),M=!0)},p(F,[q]){if((!$||q&1)&&i!==(i=F[0].token+"")&&Ie(s,i),(!$||q&1)&&a!==(a=F[0].config.name+"")&&Ie(f,a),(!$||q&1)&&c!==(c=F[0].config.text+"")&&Ie(p,c),R===(R=N(F))&&L?L.p(F,q):(L&&L.d(1),L=R&&R(F),L&&(L.c(),L.m(y,null))),q&6){T=F[1],Fe();for(let z=0;z<A.length;z+=1)A[z].r();A=wr(A,q,E,1,F,T,v,w,li,Hs,null,Zs);for(let z=0;z<A.length;z+=1)A[z].a();qe()}},i(F){if(!$){for(let q=0;q<T.length;q+=1)j(A[q]);Pe(()=>{$&&(b||(b=we(e,Re,{},!0)),b.run(1))}),$=!0}},o(F){for(let q=0;q<A.length;q+=1)G(A[q]);b||(b=we(e,Re,{},!1)),b.run(0),$=!1},d(F){F&&H(e),L&&L.d();for(let q=0;q<A.length;q+=1)A[q].d();F&&b&&b.end(),M=!1,O()}}}function Lc(t,e,n){let{gameData:r}=e,{players:i}=e,{scores:s}=e,{gameState:l}=e;const o=()=>gr(Hn.Next),a=()=>Ji(r),f=u=>uo(u.id);return t.$$set=u=>{"gameData"in u&&n(0,r=u.gameData),"players"in u&&n(1,i=u.players),"scores"in u&&n(2,s=u.scores),"gameState"in u&&n(3,l=u.gameState)},[r,i,s,l,o,a,f]}class Pc extends Ee{constructor(e){super(),ke(this,e,Lc,qc,be,{gameData:0,players:1,scores:2,gameState:3})}}function zc(t){let e,n=t[0].count+"",r,i,s=t[0].total+"",l,o,a,f,u=t[1].toFixed(0)+"",d;return{c(){e=C("p"),r=te(n),i=te(" / "),l=te(s),o=P(),a=C("p"),f=te("+"),d=te(u),m(e,"class","ratio"),m(a,"class","score svelte-1dywswa")},m(c,p){V(c,e,p),g(e,r),g(e,i),g(e,l),V(c,o,p),V(c,a,p),g(a,f),g(a,d)},p(c,p){p&1&&n!==(n=c[0].count+"")&&Ie(r,n),p&1&&s!==(s=c[0].total+"")&&Ie(l,s),p&2&&u!==(u=c[1].toFixed(0)+"")&&Ie(d,u)},d(c){c&&H(e),c&&H(o),c&&H(a)}}}function Uc(t){let e,n,r=t[1].toFixed(0)+"",i;return{c(){e=C("p"),n=te("+"),i=te(r),m(e,"class","score svelte-1dywswa")},m(s,l){V(s,e,l),g(e,n),g(e,i)},p(s,l){l&2&&r!==(r=s[1].toFixed(0)+"")&&Ie(i,r)},d(s){s&&H(e)}}}function jc(t){let e,n,r=t[0].ty+"",i,s,l,o,a,f,u;function d(h,y){if(h[0].ty===Bt.Correct)return Uc;if(h[0].ty===Bt.Partial)return zc}let c=d(t),p=c&&c(t);return{c(){e=C("main"),n=C("h1"),i=te(r),s=P(),l=C("p"),l.textContent=`${t[2]}`,o=P(),p&&p.c(),m(n,"class","title svelte-1dywswa"),m(l,"class","text svelte-1dywswa"),m(e,"class","main svelte-1dywswa"),m(e,"data-type",a=t[0].ty)},m(h,y){V(h,e,y),g(e,n),g(n,i),g(e,s),g(e,l),g(e,o),p&&p.m(e,null),u=!0},p(h,[y]){(!u||y&1)&&r!==(r=h[0].ty+"")&&Ie(i,r),c===(c=d(h))&&p?p.p(h,y):(p&&p.d(1),p=c&&c(h),p&&(p.c(),p.m(e,null))),(!u||y&1&&a!==(a=h[0].ty))&&m(e,"data-type",a)},i(h){u||(Pe(()=>{u&&(f||(f=we(e,Re,{},!0)),f.run(1))}),u=!0)},o(h){f||(f=we(e,Re,{},!1)),f.run(0),u=!1},d(h){h&&H(e),p&&p.d(),h&&f&&f.end()}}}function Zc(t,e,n){let r,{score:i}=e;const s=fo(i.ty),l=es(0,{delay:500});return at(t,l,o=>n(1,r=o)),t.$$set=o=>{"score"in o&&n(0,i=o.score)},t.$$.update=()=>{t.$$.dirty&1&&(i.ty===Bt.Correct||i.ty===Bt.Partial)&&l.set(i.value)},[i,r,s,l]}class Hc extends Ee{constructor(e){super(),ke(this,e,Zc,jc,be,{score:0})}}function Bc(t){let e,n,r,i,s,l=t[0].token+"",o,a,f,u,d,c,p;return{c(){e=C("main"),n=C("div"),n.innerHTML=`<h1 class="title svelte-17u3fi7">Waiting for host...</h1> 
    <p class="text svelte-17u3fi7">You&#39;re in, waiting for the host to start the quiz.</p>`,r=P(),i=C("div"),s=C("p"),o=te(l),a=P(),f=C("button"),f.textContent="Leave",m(n,"class","quiz svelte-17u3fi7"),m(s,"class","token svelte-17u3fi7"),m(f,"class","btn btn--surface"),m(i,"class","bottom svelte-17u3fi7"),m(e,"class","page page--overflow")},m(h,y){V(h,e,y),g(e,n),g(e,r),g(e,i),g(i,s),g(s,o),g(i,a),g(i,f),d=!0,c||(p=J(f,"click",t[1]),c=!0)},p(h,[y]){(!d||y&1)&&l!==(l=h[0].token+"")&&Ie(o,l)},i(h){d||(Pe(()=>{d&&(u||(u=we(e,Re,{},!0)),u.run(1))}),d=!0)},o(h){u||(u=we(e,Re,{},!1)),u.run(0),d=!1},d(h){h&&H(e),h&&u&&u.end(),c=!1,p()}}}function Vc(t,e,n){let{gameData:r}=e;const i=()=>Ji(r);return t.$$set=s=>{"gameData"in s&&n(0,r=s.gameData)},[r,i]}class Wc extends Ee{constructor(e){super(),ke(this,e,Vc,Bc,be,{gameData:0})}}function Bs(t){let e,n=Wr(t[1])+"",r,i,s;return{c(){e=C("span"),r=te(n),m(e,"class","time svelte-1bwu309")},m(l,o){V(l,e,o),g(e,r),s=!0},p(l,o){(!s||o&2)&&n!==(n=Wr(l[1])+"")&&Ie(r,n)},i(l){s||(Pe(()=>{s&&(i||(i=we(e,Re,{},!0)),i.run(1))}),s=!0)},o(l){i||(i=we(e,Re,{},!1)),i.run(0),s=!1},d(l){l&&H(e),l&&i&&i.end()}}}function Gc(t){let e;return{c(){e=C("p"),e.textContent="Get ready to answer",m(e,"class","text svelte-1bwu309")},m(n,r){V(n,e,r)},d(n){n&&H(e)}}}function Qc(t){let e;return{c(){e=C("p"),e.textContent="Get ready, the quiz is about to start.",m(e,"class","text svelte-1bwu309")},m(n,r){V(n,e,r)},d(n){n&&H(e)}}}function Vs(t){let e,n,r,i,s=t[0]===lt.Starting&&Ws(t);return{c(){s&&s.c(),e=P(),n=C("button"),n.textContent="Skip",m(n,"class","btn btn--surface")},m(l,o){s&&s.m(l,o),V(l,e,o),V(l,n,o),r||(i=J(n,"click",t[3]),r=!0)},p(l,o){l[0]===lt.Starting?s?s.p(l,o):(s=Ws(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(l){s&&s.d(l),l&&H(e),l&&H(n),r=!1,i()}}}function Ws(t){let e,n,r;return{c(){e=C("button"),e.textContent="Cancel",m(e,"class","btn btn--surface")},m(i,s){V(i,e,s),n||(r=J(e,"click",t[4]),n=!0)},p:Q,d(i){i&&H(e),n=!1,r()}}}function Yc(t){let e,n,r,i,s,l,o=t[2].token+"",a,f,u,d,c=t[1]>1e3&&Bs(t);function p(_,D){return _[0]===lt.Starting?Qc:Gc}let h=p(t),y=h(t),k=t[2].host&&Vs(t);return{c(){e=C("main"),n=C("div"),c&&c.c(),r=P(),y.c(),i=P(),s=C("div"),l=C("p"),a=te(o),f=P(),k&&k.c(),m(n,"class","quiz svelte-1bwu309"),m(l,"class","token svelte-1bwu309"),m(s,"class","bottom svelte-1bwu309"),m(e,"class","page page--overflow")},m(_,D){V(_,e,D),g(e,n),c&&c.m(n,null),g(n,r),y.m(n,null),g(e,i),g(e,s),g(s,l),g(l,a),g(s,f),k&&k.m(s,null),d=!0},p(_,[D]){_[1]>1e3?c?(c.p(_,D),D&2&&j(c,1)):(c=Bs(_),c.c(),j(c,1),c.m(n,r)):c&&(Fe(),G(c,1,1,()=>{c=null}),qe()),h!==(h=p(_))&&(y.d(1),y=h(_),y&&(y.c(),y.m(n,null))),(!d||D&4)&&o!==(o=_[2].token+"")&&Ie(a,o),_[2].host?k?k.p(_,D):(k=Vs(_),k.c(),k.m(s,null)):k&&(k.d(1),k=null)},i(_){d||(j(c),Pe(()=>{d&&(u||(u=we(e,Re,{},!0)),u.run(1))}),d=!0)},o(_){G(c),u||(u=we(e,Re,{},!1)),u.run(0),d=!1},d(_){_&&H(e),c&&c.d(),y.d(),k&&k.d(),_&&u&&u.end()}}}function Xc(t,e,n){let{gameState:r}=e,{timeMs:i}=e,{gameData:s}=e;const l=()=>gr(Hn.Next),o=()=>gr(Hn.Reset);return t.$$set=a=>{"gameState"in a&&n(0,r=a.gameState),"timeMs"in a&&n(1,i=a.timeMs),"gameData"in a&&n(2,s=a.gameData)},[r,i,s,l,o]}class Kc extends Ee{constructor(e){super(),ke(this,e,Xc,Yc,be,{gameState:0,timeMs:1,gameData:2})}}function Jc(t){let e,n;return e=new no({props:{text:"..."}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function ef(t){let e,n;return e=new Hc({props:{score:t[6]}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&64&&(s.score=r[6]),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function tf(t){let e,n;return e=new Wc({props:{gameData:t[0]}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function nf(t){let e,n;return e=new Pc({props:{gameData:t[0],gameState:t[3],players:t[2],scores:t[7]}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&8&&(s.gameState=r[3]),i&4&&(s.players=r[2]),i&128&&(s.scores=r[7]),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function rf(t){let e,n,r,i;const s=[af,of],l=[];function o(a,f){return a[8]?a[2].length!==1?1:-1:0}return~(e=o(t))&&(n=l[e]=s[e](t)),{c(){n&&n.c(),r=zt()},m(a,f){~e&&l[e].m(a,f),V(a,r,f),i=!0},p(a,f){let u=e;e=o(a),e===u?~e&&l[e].p(a,f):(n&&(Fe(),G(l[u],1,1,()=>{l[u]=null}),qe()),~e?(n=l[e],n?n.p(a,f):(n=l[e]=s[e](a),n.c()),j(n,1),n.m(r.parentNode,r)):n=null)},i(a){i||(j(n),i=!0)},o(a){G(n),i=!1},d(a){~e&&l[e].d(a),a&&H(r)}}}function sf(t){let e,n;return e=new Kc({props:{gameState:t[3],gameData:t[0],timeMs:t[9]}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&8&&(s.gameState=r[3]),i&1&&(s.gameData=r[0]),i&512&&(s.timeMs=r[9]),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function lf(t){let e,n;return e=new Cc({props:{gameData:t[0],summary:t[4]}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&16&&(s.summary=r[4]),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function of(t){let e,n;return e=new yc({}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function af(t){let e,n,r;function i(l){t[10](l)}let s={gameData:t[0],question:t[5],timeMs:t[9],preloadedImage:t[1]};return t[8]!==void 0&&(s.answered=t[8]),e=new Rc({props:s}),Ye.push(()=>ht(e,"answered",i)),{c(){oe(e.$$.fragment)},m(l,o){se(e,l,o),r=!0},p(l,o){const a={};o&1&&(a.gameData=l[0]),o&32&&(a.question=l[5]),o&512&&(a.timeMs=l[9]),o&2&&(a.preloadedImage=l[1]),!n&&o&256&&(n=!0,a.answered=l[8],pt(()=>n=!1)),e.$set(a)},i(l){r||(j(e.$$.fragment,l),r=!0)},o(l){G(e.$$.fragment,l),r=!1},d(l){le(e,l)}}}function uf(t){let e,n,r,i;const s=[lf,sf,rf,nf,tf,ef,Jc],l=[];function o(a,f){return a[3]===lt.Finished&&a[4]!=null?0:a[3]===lt.Starting||a[3]===lt.PreQuestion||a[3]===lt.AwaitingReady?1:a[3]===lt.AwaitingAnswers&&a[5]!=null?2:a[0].host?3:a[3]===lt.Lobby?4:a[3]===lt.Marked?5:6}return e=o(t),n=l[e]=s[e](t),{c(){n.c(),r=zt()},m(a,f){l[e].m(a,f),V(a,r,f),i=!0},p(a,[f]){let u=e;e=o(a),e===u?l[e].p(a,f):(Fe(),G(l[u],1,1,()=>{l[u]=null}),qe(),n=l[e],n?n.p(a,f):(n=l[e]=s[e](a),n.c()),j(n,1),n.m(r.parentNode,r))},i(a){i||(j(n),i=!0)},o(a){G(n),i=!1},d(a){l[e].d(a),a&&H(r)}}}function cf(t,e,n){let{gameData:r}=e,i=null,s=[],l=lt.Lobby,o=null;r.host||s.push({id:r.id,name:r.name??""});let a=null,f={ty:Bt.Incorrect},u={},d,c=0,p=0;function h(){if(c<=0)return;const k=performance.now(),_=k-p;n(9,c-=_),c<0&&n(9,c=0),p=k,c!=0&&requestAnimationFrame(h)}cn(Xt.PlayerData,k=>{console.debug("Other player message",k),s.push(k),n(2,s)}),cn(Xt.GameState,k=>{if(console.debug("Game state message",k),n(3,l=k.state),n(8,d=!1),k.state===lt.Lobby)n(7,u={});else if(k.state===lt.Finished){const _=s.map(D=>({score:u[D.id]??0,...D}));_.sort((D,x)=>x.score-D.score),n(4,o={players:_})}}),cn(Xt.Timer,k=>{console.debug("Time sync message",k),p=performance.now(),n(9,c=k.value),h()}),cn(Xt.Question,async k=>{console.debug("Question message",k),n(5,a=k.question),n(1,i=await Su(r.token,a)),i!==null&&a.image!==null&&(i.classList.add("question-image"),i.setAttribute("data-fit",a.image.fit),n(1,i.alt=a.text,i),i.decode!==void 0&&await i.decode()),await hc(),console.debug("Server acknowledged ready state")}),cn(Xt.Scores,k=>{console.debug("Score message",k),n(7,u=k.scores);let _=D=>u[D]??0;n(2,s=s.sort((D,x)=>_(x.id)-_(D.id)))}),cn(Xt.Score,k=>{console.debug("Score message",k),n(6,f=k.score)}),cn(Xt.Kicked,k=>{if(console.debug("Kick message",k),n(2,s=s.filter(_=>_.id!==k.id)),k.id===r.id&&(Er(),k.reason!==Kl.Disconnected)){const _=Tu[k.reason];jt("Removed from game",_)}}),Pl(()=>{});function y(k){d=k,n(8,d)}return t.$$set=k=>{"gameData"in k&&n(0,r=k.gameData)},[r,i,s,l,o,a,f,u,d,c,y]}class ff extends Ee{constructor(e){super(),ke(this,e,cf,uf,be,{gameData:0})}}const df="finalize",pf="consider";function Bn(t,e,n){t.dispatchEvent(new CustomEvent(df,{detail:{items:e,info:n}}))}function sn(t,e,n){t.dispatchEvent(new CustomEvent(pf,{detail:{items:e,info:n}}))}const fi="draggedEntered",Cr="draggedLeft",di="draggedOverIndex",ts="draggedLeftDocument",Gr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function hf(t,e,n){t.dispatchEvent(new CustomEvent(fi,{detail:{indexObj:e,draggedEl:n}}))}function mf(t,e,n){t.dispatchEvent(new CustomEvent(Cr,{detail:{draggedEl:e,type:Gr.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function gf(t,e){t.dispatchEvent(new CustomEvent(Cr,{detail:{draggedEl:e,type:Gr.OUTSIDE_OF_ANY}}))}function _f(t,e,n){t.dispatchEvent(new CustomEvent(di,{detail:{indexObj:e,draggedEl:n}}))}function vf(t){window.dispatchEvent(new CustomEvent(ts,{detail:{draggedEl:t}}))}const dt={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:fi,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:di,DRAGGED_LEFT:Cr,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},_t={POINTER:"pointer",KEYBOARD:"keyboard"},Vn="isDndShadowItem",ns="data-is-dnd-shadow-item",rs="id:dnd-shadow-placeholder-0000",yf="dnd-action-dragged-el";let et="id",qi=0;function ho(){qi++}function mo(){if(qi===0)throw new Error("Bug! trying to decrement when there are no dropzones");qi--}const is=typeof window>"u";function go(t){let e;const n=t.getBoundingClientRect(),r=getComputedStyle(t),i=r.transform;if(i){let s,l,o,a;if(i.startsWith("matrix3d("))e=i.slice(9,-1).split(/, /),s=+e[0],l=+e[5],o=+e[12],a=+e[13];else if(i.startsWith("matrix("))e=i.slice(7,-1).split(/, /),s=+e[0],l=+e[3],o=+e[4],a=+e[5];else return n;const f=r.transformOrigin,u=n.x-o-(1-s)*parseFloat(f),d=n.y-a-(1-l)*parseFloat(f.slice(f.indexOf(" ")+1)),c=s?n.width/s:t.offsetWidth,p=l?n.height/l:t.offsetHeight;return{x:u,y:d,width:c,height:p,top:d,right:u+c,bottom:d+p,left:u}}else return n}function _o(t){const e=go(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function ss(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function vo(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function bf(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ls(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function _r(t){return vo(ss(t))}function Gs(t,e){const n=_r(t),r=_o(e);return ls(n,r)}function wf(t,e){const n=_r(t),r=_r(e);return bf(n,r)}function kf(t){const e=ss(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function Ef(t,e){const n=ss(e);return ls(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}let _n;function os(){_n=new Map}os();function Tf(t){_n.delete(t)}function Af(t){const e=Array.from(t.children).findIndex(n=>n.getAttribute(ns));if(e>=0)return _n.has(t)||_n.set(t,new Map),_n.get(t).set(e,_o(t.children[e])),e}function Cf(t,e){if(!Gs(t,e))return null;const n=e.children;if(n.length===0)return{index:0,isProximityBased:!0};const r=Af(e);for(let l=0;l<n.length;l++)if(Gs(t,n[l])){const o=_n.has(e)&&_n.get(e).get(l);return o&&!ls(_r(t),o)?{index:r,isProximityBased:!1}:{index:l,isProximityBased:!1}}let i=Number.MAX_VALUE,s;for(let l=0;l<n.length;l++){const o=wf(t,n[l]);o<i&&(i=o,s=l)}return{index:s,isProximityBased:!0}}const Kn=25;function yo(){let t;function e(){t={directionObj:void 0,stepPx:0}}e();function n(s){const{directionObj:l,stepPx:o}=t;l&&(s.scrollBy(l.x*o,l.y*o),window.requestAnimationFrame(()=>n(s)))}function r(s){return Kn-s}function i(s,l){if(!l)return!1;const o=Ef(s,l);if(o===null)return e(),!1;const a=!!t.directionObj;let[f,u]=[!1,!1];return l.scrollHeight>l.clientHeight&&(o.bottom<Kn?(f=!0,t.directionObj={x:0,y:1},t.stepPx=r(o.bottom)):o.top<Kn&&(f=!0,t.directionObj={x:0,y:-1},t.stepPx=r(o.top)),!a&&f)||l.scrollWidth>l.clientWidth&&(o.right<Kn?(u=!0,t.directionObj={x:1,y:0},t.stepPx=r(o.right)):o.left<Kn&&(u=!0,t.directionObj={x:-1,y:0},t.stepPx=r(o.left)),!a&&u)?(n(l),!0):(e(),!1)}return{scrollIfNeeded:i,resetScrolling:e}}function Ei(t){return JSON.stringify(t,null,2)}function Qs(t){if(!t)throw new Error("cannot get depth of a falsy node");return bo(t,0)}function bo(t,e=0){return t.parentElement?bo(t.parentElement,e+1):e-1}function Df(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}function Sf(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const xf=200,Ys=10,{scrollIfNeeded:$f,resetScrolling:If}=yo();let Li;function Mf(t,e,n=xf){let r,i,s=!1,l;const o=Array.from(e).sort((f,u)=>Qs(u)-Qs(f));function a(){const f=_r(t),u=$f(f,r);if(!u&&l&&Math.abs(l.x-f.x)<Ys&&Math.abs(l.y-f.y)<Ys){Li=window.setTimeout(a,n);return}if(kf(t)){vf(t);return}l=f;let d=!1;for(const c of o){u&&Tf(r);const p=Cf(t,c);if(p===null)continue;const{index:h}=p;d=!0,c!==r?(r&&mf(r,t,c),hf(c,p,t),r=c):h!==i&&(_f(c,p,t),i=h);break}!d&&s&&r?(gf(r,t),r=void 0,i=void 0,s=!1):s=!0,Li=window.setTimeout(a,n)}a()}function Of(){clearTimeout(Li),If(),os()}const Rf=300;let Qr;function Yr(t){const e=t.touches?t.touches[0]:t;Qr={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:Nf,resetScrolling:Ff}=yo();let wo;function ko(){Qr&&Nf(Qr,document.documentElement)&&os(),wo=window.setTimeout(ko,Rf)}function qf(){window.addEventListener("mousemove",Yr),window.addEventListener("touchmove",Yr),ko()}function Lf(){window.removeEventListener("mousemove",Yr),window.removeEventListener("touchmove",Yr),Qr=void 0,window.clearTimeout(wo),Ff()}function Pf(t){const e=t.cloneNode(!0),n=[],r=t.tagName==="SELECT",i=r?[t]:[...t.querySelectorAll("select")];for(const l of i)n.push(l.value);if(i.length<=0)return e;const s=r?[e]:[...e.querySelectorAll("select")];for(let l=0;l<s.length;l++){const o=s[l],a=n[l],f=o.querySelector(`option[value="${a}"`);f&&f.setAttribute("selected",!0)}return e}const zf=.2;function fn(t){return`${t} ${zf}s ease`}function Uf(t,e){const n=t.getBoundingClientRect(),r=Pf(t);Eo(t,r),r.id=yf,r.style.position="fixed";let i=n.top,s=n.left;if(r.style.top=`${i}px`,r.style.left=`${s}px`,e){const l=vo(n);i-=l.y-e.y,s-=l.x-e.x,window.setTimeout(()=>{r.style.top=`${i}px`,r.style.left=`${s}px`},0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transition=`${fn("top")}, ${fn("left")}, ${fn("background-color")}, ${fn("opacity")}, ${fn("color")} `,window.setTimeout(()=>r.style.transition+=`, ${fn("width")}, ${fn("height")}`,0),r.style.zIndex="9999",r.style.cursor="grabbing",r}function jf(t){t.style.cursor="grab"}function Zf(t,e,n,r){Eo(e,t);const i=e.getBoundingClientRect(),s=t.getBoundingClientRect(),l=i.width-s.width,o=i.height-s.height;if(l||o){const a={left:(n-s.left)/s.width,top:(r-s.top)/s.height};t.style.height=`${i.height}px`,t.style.width=`${i.width}px`,t.style.left=`${parseFloat(t.style.left)-a.left*l}px`,t.style.top=`${parseFloat(t.style.top)-a.top*o}px`}}function Eo(t,e){const n=window.getComputedStyle(t);Array.from(n).filter(r=>r.startsWith("background")||r.startsWith("padding")||r.startsWith("font")||r.startsWith("text")||r.startsWith("align")||r.startsWith("justify")||r.startsWith("display")||r.startsWith("flex")||r.startsWith("border")||r==="opacity"||r==="color"||r==="list-style-type").forEach(r=>e.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r)))}function Hf(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function To(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function Bf(t){t.style.visibility="hidden",t.setAttribute(ns,"true")}function Vf(t){t.style.visibility="",t.removeAttribute(ns)}function Mr(t,e=()=>{},n=()=>[]){t.forEach(r=>{const i=e(r);Object.keys(i).forEach(s=>{r.style[s]=i[s]}),n(r).forEach(s=>r.classList.add(s))})}function Xr(t,e=()=>{},n=()=>[]){t.forEach(r=>{const i=e(r);Object.keys(i).forEach(s=>{r.style[s]=""}),n(r).forEach(s=>r.classList.contains(s)&&r.classList.remove(s))})}function Wf(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}const Gf="--any--",Qf=100,Xs=3,Ks={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let Ut,it,yt,pi,Ge,hi,Wn,vt,Jt,wt,pn=!1,as=!1,us,Dr=!1,Or=[];const Dt=new Map,We=new Map,Ti=new WeakMap;function Yf(t,e){Dt.has(e)||Dt.set(e,new Set),Dt.get(e).has(t)||(Dt.get(e).add(t),ho())}function Js(t,e){Dt.get(e).delete(t),mo(),Dt.get(e).size===0&&Dt.delete(e)}function Xf(){qf();const t=Dt.get(pi);for(const n of t)n.addEventListener(fi,Ao),n.addEventListener(Cr,Co),n.addEventListener(di,Do);window.addEventListener(ts,Gn);const e=Math.max(Qf,...Array.from(t.keys()).map(n=>We.get(n).dropAnimationDurationMs));Mf(it,t,e*1.07)}function Kf(){Lf();const t=Dt.get(pi);for(const e of t)e.removeEventListener(fi,Ao),e.removeEventListener(Cr,Co),e.removeEventListener(di,Do);window.removeEventListener(ts,Gn),Of()}function Jf(t){return t.findIndex(e=>e[et]===rs)}function mi(t){return t.findIndex(e=>!!e[Vn]&&e[et]!==rs)}function Ao(t){let{items:e,dropFromOthersDisabled:n}=We.get(t.currentTarget);if(n&&t.currentTarget!==Ge)return;if(Dr=!1,e=e.filter(l=>l[et]!==Wn[et]),Ge!==t.currentTarget){const o=We.get(Ge).items.filter(a=>!a[Vn]);sn(Ge,o,{trigger:dt.DRAGGED_ENTERED_ANOTHER,id:yt[et],source:_t.POINTER})}else{const l=Jf(e);l!==-1&&e.splice(l,1)}const{index:r,isProximityBased:i}=t.detail.indexObj,s=i&&r===t.currentTarget.children.length-1?r+1:r;vt=t.currentTarget,e.splice(s,0,Wn),sn(t.currentTarget,e,{trigger:dt.DRAGGED_ENTERED,id:yt[et],source:_t.POINTER})}function Co(t){if(!pn)return;const{items:e,dropFromOthersDisabled:n}=We.get(t.currentTarget);if(n&&t.currentTarget!==Ge&&t.currentTarget!==vt)return;const r=mi(e),i=e.splice(r,1)[0];vt=void 0;const{type:s,theOtherDz:l}=t.detail;if(s===Gr.OUTSIDE_OF_ANY||s===Gr.LEFT_FOR_ANOTHER&&l!==Ge&&We.get(l).dropFromOthersDisabled){Dr=!0,vt=Ge;const o=We.get(Ge).items;o.splice(hi,0,i),sn(Ge,o,{trigger:dt.DRAGGED_LEFT_ALL,id:yt[et],source:_t.POINTER})}sn(t.currentTarget,e,{trigger:dt.DRAGGED_LEFT,id:yt[et],source:_t.POINTER})}function Do(t){const{items:e,dropFromOthersDisabled:n}=We.get(t.currentTarget);if(n&&t.currentTarget!==Ge)return;Dr=!1;const{index:r}=t.detail.indexObj,i=mi(e);e.splice(i,1),e.splice(r,0,Wn),sn(t.currentTarget,e,{trigger:dt.DRAGGED_OVER_INDEX,id:yt[et],source:_t.POINTER})}function Kr(t){t.preventDefault();const e=t.touches?t.touches[0]:t;wt={x:e.clientX,y:e.clientY},it.style.transform=`translate3d(${wt.x-Jt.x}px, ${wt.y-Jt.y}px, 0)`}function Gn(){as=!0,window.removeEventListener("mousemove",Kr),window.removeEventListener("touchmove",Kr),window.removeEventListener("mouseup",Gn),window.removeEventListener("touchend",Gn),Kf(),jf(it),vt||(vt=Ge);let{items:t,type:e}=We.get(vt);Xr(Dt.get(e),i=>We.get(i).dropTargetStyle,i=>We.get(i).dropTargetClasses);let n=mi(t);n===-1&&(n=hi),t=t.map(i=>i[Vn]?yt:i);function r(){us(),Bn(vt,t,{trigger:Dr?dt.DROPPED_OUTSIDE_OF_ANY:dt.DROPPED_INTO_ZONE,id:yt[et],source:_t.POINTER}),vt!==Ge&&Bn(Ge,We.get(Ge).items,{trigger:dt.DROPPED_INTO_ANOTHER,id:yt[et],source:_t.POINTER}),Vf(vt.children[n]),nd()}ed(n,r)}function ed(t,e){const n=go(vt.children[t]),r={x:n.left-parseFloat(it.style.left),y:n.top-parseFloat(it.style.top)},{dropAnimationDurationMs:i}=We.get(vt),s=`transform ${i}ms ease`;it.style.transition=it.style.transition?it.style.transition+","+s:s,it.style.transform=`translate3d(${r.x}px, ${r.y}px, 0)`,window.setTimeout(e,i)}function td(t,e){Or.push({dz:t,destroy:e}),window.requestAnimationFrame(()=>{To(t),document.body.appendChild(t)})}function nd(){it.remove(),Ut.remove(),Or.length&&(Or.forEach(({dz:t,destroy:e})=>{e(),t.remove()}),Or=[]),it=void 0,Ut=void 0,yt=void 0,pi=void 0,Ge=void 0,hi=void 0,Wn=void 0,vt=void 0,Jt=void 0,wt=void 0,pn=!1,as=!1,us=void 0,Dr=!1}function rd(t,e){let n=!1;const r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ks,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let i=new Map;function s(){window.addEventListener("mousemove",a,{passive:!1}),window.addEventListener("touchmove",a,{passive:!1,capture:!1}),window.addEventListener("mouseup",o,{passive:!1}),window.addEventListener("touchend",o,{passive:!1})}function l(){window.removeEventListener("mousemove",a),window.removeEventListener("touchmove",a),window.removeEventListener("mouseup",o),window.removeEventListener("touchend",o)}function o(){l(),Ut=void 0,Jt=void 0,wt=void 0}function a(c){c.preventDefault();const p=c.touches?c.touches[0]:c;wt={x:p.clientX,y:p.clientY},(Math.abs(wt.x-Jt.x)>=Xs||Math.abs(wt.y-Jt.y)>=Xs)&&(l(),u())}function f(c){if(c.target!==c.currentTarget&&(c.target.value!==void 0||c.target.isContentEditable)||c.button||pn)return;c.stopPropagation();const p=c.touches?c.touches[0]:c;Jt={x:p.clientX,y:p.clientY},wt={...Jt},Ut=c.currentTarget,s()}function u(){pn=!0;const c=i.get(Ut);hi=c,Ge=Ut.parentElement;const p=Ge.getRootNode(),h=p.body||p,{items:y,type:k,centreDraggedOnCursor:_}=r;yt={...y[c]},pi=k,Wn={...yt,[Vn]:!0};const D={...Wn,[et]:rs};it=Uf(Ut,_&&wt);function x(){it.parentElement?window.requestAnimationFrame(x):(h.appendChild(it),it.focus(),Xf(),To(Ut),h.appendChild(Ut))}window.requestAnimationFrame(x),Mr(Array.from(Dt.get(r.type)).filter(I=>I===Ge||!We.get(I).dropFromOthersDisabled),I=>We.get(I).dropTargetStyle,I=>We.get(I).dropTargetClasses),y.splice(c,1,D),us=Wf(Ge),sn(Ge,y,{trigger:dt.DRAG_STARTED,id:yt[et],source:_t.POINTER}),window.addEventListener("mousemove",Kr,{passive:!1}),window.addEventListener("touchmove",Kr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Gn,{passive:!1}),window.addEventListener("touchend",Gn,{passive:!1})}function d({items:c=void 0,flipDurationMs:p=0,type:h=Gf,dragDisabled:y=!1,morphDisabled:k=!1,dropFromOthersDisabled:_=!1,dropTargetStyle:D=Ks,dropTargetClasses:x=[],transformDraggedElement:I=()=>{},centreDraggedOnCursor:S=!1}){r.dropAnimationDurationMs=p,r.type&&h!==r.type&&Js(t,r.type),r.type=h,Yf(t,h),r.items=[...c],r.dragDisabled=y,r.morphDisabled=k,r.transformDraggedElement=I,r.centreDraggedOnCursor=S,n&&pn&&!as&&(!Df(D,r.dropTargetStyle)||!Sf(x,r.dropTargetClasses))&&(Xr([t],()=>r.dropTargetStyle,()=>x),Mr([t],()=>D,()=>x)),r.dropTargetStyle=D,r.dropTargetClasses=[...x];function w(v,b){return We.get(v)?We.get(v)[b]:r[b]}n&&pn&&r.dropFromOthersDisabled!==_&&(_?Xr([t],v=>w(v,"dropTargetStyle"),v=>w(v,"dropTargetClasses")):Mr([t],v=>w(v,"dropTargetStyle"),v=>w(v,"dropTargetClasses"))),r.dropFromOthersDisabled=_,We.set(t,r);const A=mi(r.items);for(let v=0;v<t.children.length;v++){const b=t.children[v];if(Hf(b,y),v===A){r.transformDraggedElement(it,yt,v),k||Zf(it,b,wt.x,wt.y),Bf(b);continue}b.removeEventListener("mousedown",Ti.get(b)),b.removeEventListener("touchstart",Ti.get(b)),y||(b.addEventListener("mousedown",f),b.addEventListener("touchstart",f),Ti.set(b,f)),i.set(b,v),n||(n=!0)}}return d(e),{update:c=>{d(c)},destroy:()=>{function c(){Js(t,We.get(t).type),We.delete(t)}pn?td(t,c):c()}}}const Pi={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},So={[Pi.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[Pi.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},id="dnd-action-aria-alert";let Ve;function zi(){Ve||(Ve=document.createElement("div"),function(){Ve.id=id,Ve.style.position="fixed",Ve.style.bottom="0",Ve.style.left="0",Ve.style.zIndex="-5",Ve.style.opacity="0",Ve.style.height="0",Ve.style.width="0",Ve.setAttribute("role","alert")}(),document.body.prepend(Ve),Object.entries(So).forEach(([t,e])=>document.body.prepend(od(t,e))))}function sd(){return is?null:(document.readyState==="complete"?zi():window.addEventListener("DOMContentLoaded",zi),{...Pi})}function ld(){is||!Ve||(Object.keys(So).forEach(t=>{var e;return(e=document.getElementById(t))==null?void 0:e.remove()}),Ve.remove(),Ve=void 0)}function od(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function qn(t){if(is)return;Ve||zi(),Ve.innerHTML="";const e=document.createTextNode(t);Ve.appendChild(e),Ve.style.display="none",Ve.style.display="inline"}const ad="--any--",el={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let kt=!1,Ui,ot,vn="",dn,Rt,en="";const Jr=new WeakSet,tl=new WeakMap,nl=new WeakMap,ji=new Map,rt=new Map,Tt=new Map;let ei;function ud(t,e){Tt.size===0&&(ei=sd(),window.addEventListener("keydown",xo),window.addEventListener("click",$o)),Tt.has(e)||Tt.set(e,new Set),Tt.get(e).has(t)||(Tt.get(e).add(t),ho())}function rl(t,e){ot===t&&vr(),Tt.get(e).delete(t),mo(),Tt.get(e).size===0&&Tt.delete(e),Tt.size===0&&(window.removeEventListener("keydown",xo),window.removeEventListener("click",$o),ei=void 0,ld())}function xo(t){if(kt)switch(t.key){case"Escape":{vr();break}}}function $o(){kt&&(Jr.has(document.activeElement)||vr())}function cd(t){if(!kt)return;const e=t.currentTarget;if(e===ot)return;vn=e.getAttribute("aria-label")||"";const{items:n}=rt.get(ot),r=n.find(f=>f[et]===Rt),i=n.indexOf(r),s=n.splice(i,1)[0],{items:l,autoAriaDisabled:o}=rt.get(e);e.getBoundingClientRect().top<ot.getBoundingClientRect().top||e.getBoundingClientRect().left<ot.getBoundingClientRect().left?(l.push(s),o||qn(`Moved item ${en} to the end of the list ${vn}`)):(l.unshift(s),o||qn(`Moved item ${en} to the beginning of the list ${vn}`)),Bn(ot,n,{trigger:dt.DROPPED_INTO_ANOTHER,id:Rt,source:_t.KEYBOARD}),Bn(e,l,{trigger:dt.DROPPED_INTO_ZONE,id:Rt,source:_t.KEYBOARD}),ot=e}function Io(){ji.forEach(({update:t},e)=>t(rt.get(e)))}function vr(t=!0){rt.get(ot).autoAriaDisabled||qn(`Stopped dragging item ${en}`),Jr.has(document.activeElement)&&document.activeElement.blur(),t&&sn(ot,rt.get(ot).items,{trigger:dt.DRAG_STOPPED,id:Rt,source:_t.KEYBOARD}),Xr(Tt.get(Ui),e=>rt.get(e).dropTargetStyle,e=>rt.get(e).dropTargetClasses),dn=null,Rt=null,en="",Ui=null,ot=null,vn="",kt=!1,Io()}function fd(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:el,dropTargetClasses:[],autoAriaDisabled:!1};function r(u,d,c){u.length<=1||u.splice(c,1,u.splice(d,1,u[c])[0])}function i(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!Jr.has(u.target))return;u.preventDefault(),u.stopPropagation(),kt?vr():s(u);break}case"ArrowDown":case"ArrowRight":{if(!kt)return;u.preventDefault(),u.stopPropagation();const{items:d}=rt.get(t),c=Array.from(t.children),p=c.indexOf(u.currentTarget);p<c.length-1&&(n.autoAriaDisabled||qn(`Moved item ${en} to position ${p+2} in the list ${vn}`),r(d,p,p+1),Bn(t,d,{trigger:dt.DROPPED_INTO_ZONE,id:Rt,source:_t.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!kt)return;u.preventDefault(),u.stopPropagation();const{items:d}=rt.get(t),p=Array.from(t.children).indexOf(u.currentTarget);p>0&&(n.autoAriaDisabled||qn(`Moved item ${en} to position ${p} in the list ${vn}`),r(d,p,p-1),Bn(t,d,{trigger:dt.DROPPED_INTO_ZONE,id:Rt,source:_t.KEYBOARD}));break}}}function s(u){o(u.currentTarget),ot=t,Ui=n.type,kt=!0;const d=Array.from(Tt.get(n.type)).filter(c=>c===ot||!rt.get(c).dropFromOthersDisabled);if(Mr(d,c=>rt.get(c).dropTargetStyle,c=>rt.get(c).dropTargetClasses),!n.autoAriaDisabled){let c=`Started dragging item ${en}. Use the arrow keys to move it within its list ${vn}`;d.length>1&&(c+=", or tab to another list in order to move the item into it"),qn(c)}sn(t,rt.get(t).items,{trigger:dt.DRAG_STARTED,id:Rt,source:_t.KEYBOARD}),Io()}function l(u){kt&&u.currentTarget!==dn&&(u.stopPropagation(),vr(!1),s(u))}function o(u){const{items:d}=rt.get(t),c=Array.from(t.children),p=c.indexOf(u);dn=u,dn.tabIndex=0,Rt=d[p][et],en=c[p].getAttribute("aria-label")||""}function a({items:u=[],type:d=ad,dragDisabled:c=!1,zoneTabIndex:p=0,dropFromOthersDisabled:h=!1,dropTargetStyle:y=el,dropTargetClasses:k=[],autoAriaDisabled:_=!1}){n.items=[...u],n.dragDisabled=c,n.dropFromOthersDisabled=h,n.zoneTabIndex=p,n.dropTargetStyle=y,n.dropTargetClasses=k,n.autoAriaDisabled=_,n.type&&d!==n.type&&rl(t,n.type),n.type=d,ud(t,d),_||(t.setAttribute("aria-disabled",c),t.setAttribute("role","list"),t.setAttribute("aria-describedby",c?ei.DND_ZONE_DRAG_DISABLED:ei.DND_ZONE_ACTIVE)),rt.set(t,n),kt?t.tabIndex=t===ot||dn.contains(t)||n.dropFromOthersDisabled||ot&&n.type!==rt.get(ot).type?-1:0:t.tabIndex=n.zoneTabIndex,t.addEventListener("focus",cd);for(let D=0;D<t.children.length;D++){const x=t.children[D];Jr.add(x),x.tabIndex=kt?-1:0,_||x.setAttribute("role","listitem"),x.removeEventListener("keydown",tl.get(x)),x.removeEventListener("click",nl.get(x)),c||(x.addEventListener("keydown",i),tl.set(x,i),x.addEventListener("click",l),nl.set(x,l)),kt&&n.items[D][et]===Rt&&(dn=x,dn.tabIndex=0,x.focus())}}a(e);const f={update:u=>{a(u)},destroy:()=>{rl(t,n.type),rt.delete(t),ji.delete(t)}};return ji.set(t,f),f}function dd(t,e){il(e);const n=rd(t,e),r=fd(t,e);return{update:i=>{il(i),n.update(i),r.update(i)},destroy:()=>{n.destroy(),r.destroy()}}}function il(t){const{items:e,flipDurationMs:n,type:r,dragDisabled:i,morphDisabled:s,dropFromOthersDisabled:l,zoneTabIndex:o,dropTargetStyle:a,dropTargetClasses:f,transformDraggedElement:u,autoAriaDisabled:d,centreDraggedOnCursor:c,...p}=t;if(Object.keys(p).length>0&&console.warn("dndzone will ignore unknown options",p),!e)throw new Error("no 'items' key provided to dndzone");const h=e.find(y=>!{}.hasOwnProperty.call(y,et));if(h)throw new Error(`missing '${et}' property for item ${Ei(h)}`);if(f&&!Array.isArray(f))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof f}, ${Ei(f)}`);if(o&&!pd(o))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof o}, ${Ei(o)}`)}function pd(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}const ft=Gt(ic()),Wt=Gt(null);Wt.subscribe(()=>{hd()});function hd(){ft.update(t=>t)}function md(t){ft.set(t),t.questions.length>0?Wt.set(t.questions[0]):Wt.set(null)}function gd(){ft.update(t=>{const e=oo();return t.questions.push(e),t})}function _d(t,e){ft.update(n=>(co(n.questions,t,e),n))}function vd(t){ft.update(e=>{const n=e.questions.findIndex(r=>r.id===t.id);return Wt.update(r=>r===null||r.id===t.id?null:r),e.questions.splice(n,1),e})}function yd(){ft.update(t=>{const e=gn(1,t.questions.length/2);let n=0;for(;n<e;){const r=gn(0,t.questions.length-1),i=gn(0,t.questions.length-1);r!==i&&(_d(r,i),n++)}return t})}function bd(t){ft.update(e=>{const n=e.questions.findIndex(r=>r.id===t.id);return n!==-1&&(e.questions[n]=t),e})}function wd(t,e){if(e===t.ty)return t;const n={id:t.id,text:t.text,image:t.image,answer_time:t.answer_time,bonus_score_time:t.bonus_score_time,scoring:t.scoring,ty:e};switch(n.ty){case pe.Single:case pe.Multiple:t.ty===pe.Single||t.ty===pe.Multiple?n.answers=t.answers:n.answers=[];break;case pe.TrueFalse:n.answer=!0;break;case pe.Typer:n.answers=["Example Answer"],n.ignore_case=!0;break}return n}function kd(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Mo(t,e){return new Promise(function(n,r){let i;return Ed(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(l){return r(l)}},r)})}const Ed=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let l=0;if(s.getUint16(l)!==65496)return n("not a valid JPEG");for(l+=2;;){const o=s.getUint16(l);if(o===65498)break;const a=s.getUint16(l+2);if(o===65505&&s.getUint32(l+4)===1165519206){const f=l+10;let u;switch(s.getUint16(f)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(f+2,u)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(f+4,u),c=f+d+2+12*s.getUint16(f+d,u);for(let p=f+d+2;p<c;p+=12)if(s.getUint16(p,u)==274){if(s.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,u);break}return e(i.slice(l,l+2+a))}l+=2+a}return e(new Blob)}),r.readAsArrayBuffer(t)});var ti={},Td={get exports(){return ti},set exports(t){ti=t}};(function(t){var e,n,r={};Td.exports=r,r.parse=function(i,s){for(var l=r.bin.readUshort,o=r.bin.readUint,a=0,f={},u=new Uint8Array(i),d=u.length-4;o(u,d)!=101010256;)d--;a=d,a+=4;var c=l(u,a+=4);l(u,a+=2);var p=o(u,a+=2),h=o(u,a+=4);a+=4,a=h;for(var y=0;y<c;y++){o(u,a),a+=4,a+=4,a+=4,o(u,a+=4),p=o(u,a+=4);var k=o(u,a+=4),_=l(u,a+=4),D=l(u,a+2),x=l(u,a+4);a+=6;var I=o(u,a+=8);a+=4,a+=_+D+x,r._readLocal(u,I,f,p,k,s)}return f},r._readLocal=function(i,s,l,o,a,f){var u=r.bin.readUshort,d=r.bin.readUint;d(i,s),u(i,s+=4),u(i,s+=2);var c=u(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var p=u(i,s+=8),h=u(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,p);if(s+=p,s+=h,f)l[y]={size:a,csize:o};else{var k=new Uint8Array(i.buffer,s);if(c==0)l[y]=new Uint8Array(k.buffer.slice(s,s+o));else{if(c!=8)throw"unknown compression method: "+c;var _=new Uint8Array(a);r.inflateRaw(k,_),l[y]=_}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var l=0,o=new Uint8Array(50+Math.floor(1.1*i.length));o[l]=120,o[l+1]=156,l+=2,l=r.F.deflateRaw(i,o,l,s.level);var a=r.adler(i,0,i.length);return o[l+0]=a>>>24&255,o[l+1]=a>>>16&255,o[l+2]=a>>>8&255,o[l+3]=a>>>0&255,new Uint8Array(o.buffer,0,l+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var l=new Uint8Array(50+Math.floor(1.1*i.length)),o=r.F.deflateRaw(i,l,o,s.level);return new Uint8Array(l.buffer,0,o)},r.encode=function(i,s){s==null&&(s=!1);var l=0,o=r.bin.writeUint,a=r.bin.writeUshort,f={};for(var u in i){var d=!r._noNeed(u)&&!s,c=i[u],p=r.crc.crc(c,0,c.length);f[u]={cpr:d,usize:c.length,crc:p,file:d?r.deflateRaw(c):c}}for(var u in f)l+=f[u].file.length+30+46+2*r.bin.sizeUTF8(u);l+=22;var h=new Uint8Array(l),y=0,k=[];for(var u in f){var _=f[u];k.push(y),y=r._writeHeader(h,y,u,_,0)}var D=0,x=y;for(var u in f)_=f[u],k.push(y),y=r._writeHeader(h,y,u,_,1,k[D++]);var I=y-x;return o(h,y,101010256),y+=4,a(h,y+=4,D),a(h,y+=2,D),o(h,y+=2,I),o(h,y+=4,x),y+=4,y+=2,h.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,l,o,a,f){var u=r.bin.writeUint,d=r.bin.writeUshort,c=o.file;return u(i,s,a==0?67324752:33639248),s+=4,a==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,o.cpr?8:0),u(i,s+=2,0),u(i,s+=4,o.crc),u(i,s+=4,c.length),u(i,s+=4,o.usize),d(i,s+=4,r.bin.sizeUTF8(l)),d(i,s+=2,0),s+=2,a==1&&(s+=2,s+=2,u(i,s+=6,f),s+=4),s+=r.bin.writeUTF8(i,s,l),a==0&&(i.set(c,s),s+=c.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var l=s,o=0;o<8;o++)1&l?l=3988292384^l>>>1:l>>>=1;i[s]=l}return i}(),update:function(i,s,l,o){for(var a=0;a<o;a++)i=r.crc.table[255&(i^s[l+a])]^i>>>8;return i},crc:function(i,s,l){return 4294967295^r.crc.update(4294967295,i,s,l)}},r.adler=function(i,s,l){for(var o=1,a=0,f=s,u=s+l;f<u;){for(var d=Math.min(f+5552,u);f<d;)a+=o+=i[f++];o%=65521,a%=65521}return a<<16|o},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,l){i[s]=255&l,i[s+1]=l>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,l){i[s]=255&l,i[s+1]=l>>8&255,i[s+2]=l>>16&255,i[s+3]=l>>24&255},readASCII:function(i,s,l){for(var o="",a=0;a<l;a++)o+=String.fromCharCode(i[s+a]);return o},writeASCII:function(i,s,l){for(var o=0;o<l.length;o++)i[s+o]=l.charCodeAt(o)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,l){for(var o,a="",f=0;f<l;f++)a+="%"+r.bin.pad(i[s+f].toString(16));try{o=decodeURIComponent(a)}catch{return r.bin.readASCII(i,s,l)}return o},writeUTF8:function(i,s,l){for(var o=l.length,a=0,f=0;f<o;f++){var u=l.charCodeAt(f);if(!(4294967168&u))i[s+a]=u,a++;else if(!(4294965248&u))i[s+a]=192|u>>6,i[s+a+1]=128|u>>0&63,a+=2;else if(!(4294901760&u))i[s+a]=224|u>>12,i[s+a+1]=128|u>>6&63,i[s+a+2]=128|u>>0&63,a+=3;else{if(4292870144&u)throw"e";i[s+a]=240|u>>18,i[s+a+1]=128|u>>12&63,i[s+a+2]=128|u>>6&63,i[s+a+3]=128|u>>0&63,a+=4}}return a},sizeUTF8:function(i){for(var s=i.length,l=0,o=0;o<s;o++){var a=i.charCodeAt(o);if(!(4294967168&a))l++;else if(!(4294965248&a))l+=2;else if(!(4294901760&a))l+=3;else{if(4292870144&a)throw"e";l+=4}}return l}},r.F={},r.F.deflateRaw=function(i,s,l,o){var a=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],f=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,c=0,p=l<<3,h=0,y=i.length;if(o==0){for(;c<y;)d(s,p,c+(M=Math.min(65535,y-c))==y?1:0),p=r.F._copyExact(i,c,M,s,p+8),c+=M;return p>>>3}var k=f.lits,_=f.strt,D=f.prev,x=0,I=0,S=0,w=0,A=0,v=0;for(y>2&&(_[v=r.F._hash(i,0)]=0),c=0;c<y;c++){if(A=v,c+1<y-2){v=r.F._hash(i,c+1);var b=c+1&32767;D[b]=_[v],_[v]=b}if(h<=c){(x>14e3||I>26697)&&y-c>100&&(h<c&&(k[x]=c-h,x+=2,h=c),p=r.F._writeBlock(c==y-1||h==y?1:0,k,x,w,i,S,c-S,s,p),x=I=w=0,S=c);var $=0;c<y-2&&($=r.F._bestMatch(i,c,D,A,Math.min(a[2],y-c),a[3]));var M=$>>>16,O=65535&$;if($!=0){O=65535&$;var N=u(M=$>>>16,f.of0);f.lhst[257+N]++;var R=u(O,f.df0);f.dhst[R]++,w+=f.exb[N]+f.dxb[R],k[x]=M<<23|c-h,k[x+1]=O<<16|N<<8|R,x+=2,h=c+M}else f.lhst[i[c]]++;I++}}for(S==c&&i.length!=0||(h<c&&(k[x]=c-h,x+=2,h=c),p=r.F._writeBlock(1,k,x,w,i,S,c-S,s,p),x=0,I=0,x=I=w=0,S=c);7&p;)p++;return p>>>3},r.F._bestMatch=function(i,s,l,o,a,f){var u=32767&s,d=l[u],c=u-d+32768&32767;if(d==u||o!=r.F._hash(i,s-c))return 0;for(var p=0,h=0,y=Math.min(32767,s);c<=y&&--f!=0&&d!=u;){if(p==0||i[s+p]==i[s+p-c]){var k=r.F._howLong(i,s,c);if(k>p){if(h=c,(p=k)>=a)break;c+2<k&&(k=c+2);for(var _=0,D=0;D<k-2;D++){var x=s-c+D+32768&32767,I=x-l[x]+32768&32767;I>_&&(_=I,d=x)}}}c+=(u=d)-(d=l[u])+32768&32767}return p<<16|h},r.F._howLong=function(i,s,l){if(i[s]!=i[s-l]||i[s+1]!=i[s+1-l]||i[s+2]!=i[s+2-l])return 0;var o=s,a=Math.min(i.length,s+258);for(s+=3;s<a&&i[s]==i[s-l];)s++;return s-o},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,l,o,a,f,u,d,c){var p,h,y,k,_,D,x,I,S,w=r.F.U,A=r.F._putsF,v=r.F._putsE;w.lhst[256]++,h=(p=r.F.getTrees())[0],y=p[1],k=p[2],_=p[3],D=p[4],x=p[5],I=p[6],S=p[7];var b=32+(c+3&7?8-(c+3&7):0)+(u<<3),$=o+r.F.contSize(w.fltree,w.lhst)+r.F.contSize(w.fdtree,w.dhst),M=o+r.F.contSize(w.ltree,w.lhst)+r.F.contSize(w.dtree,w.dhst);M+=14+3*x+r.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var O=0;O<286;O++)w.lhst[O]=0;for(O=0;O<30;O++)w.dhst[O]=0;for(O=0;O<19;O++)w.ihst[O]=0;var N=b<$&&b<M?0:$<M?1:2;if(A(d,c,i),A(d,c+1,N),c+=3,N==0){for(;7&c;)c++;c=r.F._copyExact(a,f,u,d,c)}else{var R,L;if(N==1&&(R=w.fltree,L=w.fdtree),N==2){r.F.makeCodes(w.ltree,h),r.F.revCodes(w.ltree,h),r.F.makeCodes(w.dtree,y),r.F.revCodes(w.dtree,y),r.F.makeCodes(w.itree,k),r.F.revCodes(w.itree,k),R=w.ltree,L=w.dtree,v(d,c,_-257),v(d,c+=5,D-1),v(d,c+=5,x-4),c+=4;for(var T=0;T<x;T++)v(d,c+3*T,w.itree[1+(w.ordr[T]<<1)]);c+=3*x,c=r.F._codeTiny(I,w.itree,d,c),c=r.F._codeTiny(S,w.itree,d,c)}for(var E=f,F=0;F<l;F+=2){for(var q=s[F],z=q>>>23,Y=E+(8388607&q);E<Y;)c=r.F._writeLit(a[E++],R,d,c);if(z!=0){var W=s[F+1],B=W>>16,U=W>>8&255,Z=255&W;v(d,c=r.F._writeLit(257+U,R,d,c),z-w.of0[U]),c+=w.exb[U],A(d,c=r.F._writeLit(Z,L,d,c),B-w.df0[Z]),c+=w.dxb[Z],E+=z}}c=r.F._writeLit(256,R,d,c)}return c},r.F._copyExact=function(i,s,l,o,a){var f=a>>>3;return o[f]=l,o[f+1]=l>>>8,o[f+2]=255-o[f],o[f+3]=255-o[f+1],f+=4,o.set(new Uint8Array(i.buffer,s,l),f),a+(l+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),l=r.F._hufTree(i.dhst,i.dtree,15),o=[],a=r.F._lenCodes(i.ltree,o),f=[],u=r.F._lenCodes(i.dtree,f),d=0;d<o.length;d+=2)i.ihst[o[d]]++;for(d=0;d<f.length;d+=2)i.ihst[f[d]]++;for(var c=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,l,c,a,u,p,o,f]},r.F.getSecond=function(i){for(var s=[],l=0;l<i.length;l+=2)s.push(i[l+1]);return s},r.F.nonZero=function(i){for(var s="",l=0;l<i.length;l+=2)i[l+1]!=0&&(s+=(l>>1)+",");return s},r.F.contSize=function(i,s){for(var l=0,o=0;o<s.length;o++)l+=s[o]*i[1+(o<<1)];return l},r.F._codeTiny=function(i,s,l,o){for(var a=0;a<i.length;a+=2){var f=i[a],u=i[a+1];o=r.F._writeLit(f,s,l,o);var d=f==16?2:f==17?3:7;f>15&&(r.F._putsE(l,o,u,d),o+=d)}return o},r.F._lenCodes=function(i,s){for(var l=i.length;l!=2&&i[l-1]==0;)l-=2;for(var o=0;o<l;o+=2){var a=i[o+1],f=o+3<l?i[o+3]:-1,u=o+5<l?i[o+5]:-1,d=o==0?-1:i[o-1];if(a==0&&f==a&&u==a){for(var c=o+5;c+2<l&&i[c+2]==a;)c+=2;(p=Math.min(c+1-o>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),o+=2*p-2}else if(a==d&&f==a&&u==a){for(c=o+5;c+2<l&&i[c+2]==a;)c+=2;var p=Math.min(c+1-o>>>1,6);s.push(16,p-3),o+=2*p-2}else s.push(a,0)}return l>>>1},r.F._hufTree=function(i,s,l){var o=[],a=i.length,f=s.length,u=0;for(u=0;u<f;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<a;u++)i[u]!=0&&o.push({lit:u,f:i[u]});var d=o.length,c=o.slice(0);if(d==0)return 0;if(d==1){var p=o[0].lit;return c=p==0?1:0,s[1+(p<<1)]=1,s[1+(c<<1)]=1,1}o.sort(function(I,S){return I.f-S.f});var h=o[0],y=o[1],k=0,_=1,D=2;for(o[0]={lit:-1,f:h.f+y.f,l:h,r:y,d:0};_!=d-1;)h=k!=_&&(D==d||o[k].f<o[D].f)?o[k++]:o[D++],y=k!=_&&(D==d||o[k].f<o[D].f)?o[k++]:o[D++],o[_++]={lit:-1,f:h.f+y.f,l:h,r:y};var x=r.F.setDepth(o[_-1],0);for(x>l&&(r.F.restrictDepth(c,l,x),x=l),u=0;u<d;u++)s[1+(c[u].lit<<1)]=c[u].d;return x},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,l){var o=0,a=1<<l-s,f=0;for(i.sort(function(d,c){return c.d==d.d?d.f-c.f:c.d-d.d}),o=0;o<i.length&&i[o].d>s;o++){var u=i[o].d;i[o].d=s,f+=a-(1<<l-u)}for(f>>>=l-s;f>0;)(u=i[o].d)<s?(i[o].d++,f-=1<<s-u-1):o++;for(;o>=0;o--)i[o].d==s&&f<0&&(i[o].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var l=0;return s[16|l]<=i&&(l|=16),s[8|l]<=i&&(l|=8),s[4|l]<=i&&(l|=4),s[2|l]<=i&&(l|=2),s[1|l]<=i&&(l|=1),l},r.F._writeLit=function(i,s,l,o){return r.F._putsF(l,o,s[i<<1]),o+s[1+(i<<1)]},r.F.inflate=function(i,s){var l=Uint8Array;if(i[0]==3&&i[1]==0)return s||new l(0);var o=r.F,a=o._bitsF,f=o._bitsE,u=o._decodeTiny,d=o.makeCodes,c=o.codes2map,p=o._get17,h=o.U,y=s==null;y&&(s=new l(i.length>>>2<<3));for(var k,_,D=0,x=0,I=0,S=0,w=0,A=0,v=0,b=0,$=0;D==0;)if(D=a(i,$,1),x=a(i,$+1,2),$+=3,x!=0){if(y&&(s=r.F._check(s,b+(1<<17))),x==1&&(k=h.flmap,_=h.fdmap,A=511,v=31),x==2){I=f(i,$,5)+257,S=f(i,$+5,5)+1,w=f(i,$+10,4)+4,$+=14;for(var M=0;M<38;M+=2)h.itree[M]=0,h.itree[M+1]=0;var O=1;for(M=0;M<w;M++){var N=f(i,$+3*M,3);h.itree[1+(h.ordr[M]<<1)]=N,N>O&&(O=N)}$+=3*w,d(h.itree,O),c(h.itree,O,h.imap),k=h.lmap,_=h.dmap,$=u(h.imap,(1<<O)-1,I+S,i,$,h.ttree);var R=o._copyOut(h.ttree,0,I,h.ltree);A=(1<<R)-1;var L=o._copyOut(h.ttree,I,S,h.dtree);v=(1<<L)-1,d(h.ltree,R),c(h.ltree,R,k),d(h.dtree,L),c(h.dtree,L,_)}for(;;){var T=k[p(i,$)&A];$+=15&T;var E=T>>>4;if(!(E>>>8))s[b++]=E;else{if(E==256)break;var F=b+E-254;if(E>264){var q=h.ldef[E-257];F=b+(q>>>3)+f(i,$,7&q),$+=7&q}var z=_[p(i,$)&v];$+=15&z;var Y=z>>>4,W=h.ddef[Y],B=(W>>>4)+a(i,$,15&W);for($+=15&W,y&&(s=r.F._check(s,b+(1<<17)));b<F;)s[b]=s[b++-B],s[b]=s[b++-B],s[b]=s[b++-B],s[b]=s[b++-B];b=F}}}else{7&$&&($+=8-(7&$));var U=4+($>>>3),Z=i[U-4]|i[U-3]<<8;y&&(s=r.F._check(s,b+Z)),s.set(new l(i.buffer,i.byteOffset+U,Z),b),$=U+Z<<3,b+=Z}return s.length==b?s:s.slice(0,b)},r.F._check=function(i,s){var l=i.length;if(s<=l)return i;var o=new Uint8Array(Math.max(l<<1,s));return o.set(i,0),o},r.F._decodeTiny=function(i,s,l,o,a,f){for(var u=r.F._bitsE,d=r.F._get17,c=0;c<l;){var p=i[d(o,a)&s];a+=15&p;var h=p>>>4;if(h<=15)f[c]=h,c++;else{var y=0,k=0;h==16?(k=3+u(o,a,2),a+=2,y=f[c-1]):h==17?(k=3+u(o,a,3),a+=3):h==18&&(k=11+u(o,a,7),a+=7);for(var _=c+k;c<_;)f[c]=y,c++}}return a},r.F._copyOut=function(i,s,l,o){for(var a=0,f=0,u=o.length>>>1;f<l;){var d=i[f+s];o[f<<1]=0,o[1+(f<<1)]=d,d>a&&(a=d),f++}for(;f<u;)o[f<<1]=0,o[1+(f<<1)]=0,f++;return a},r.F.makeCodes=function(i,s){for(var l,o,a,f,u=r.F.U,d=i.length,c=u.bl_count,p=0;p<=s;p++)c[p]=0;for(p=1;p<d;p+=2)c[i[p]]++;var h=u.next_code;for(l=0,c[0]=0,o=1;o<=s;o++)l=l+c[o-1]<<1,h[o]=l;for(a=0;a<d;a+=2)(f=i[a+1])!=0&&(i[a]=h[f],h[f]++)},r.F.codes2map=function(i,s,l){for(var o=i.length,a=r.F.U.rev15,f=0;f<o;f+=2)if(i[f+1]!=0)for(var u=f>>1,d=i[f+1],c=u<<4|d,p=s-d,h=i[f]<<p,y=h+(1<<p);h!=y;)l[a[h]>>>15-s]=c,h++},r.F.revCodes=function(i,s){for(var l=r.F.U.rev15,o=15-s,a=0;a<i.length;a+=2){var f=i[a]<<s-i[a+1];i[a]=l[f]>>>o}},r.F._putsE=function(i,s,l){l<<=7&s;var o=s>>>3;i[o]|=l,i[o+1]|=l>>>8},r.F._putsF=function(i,s,l){l<<=7&s;var o=s>>>3;i[o]|=l,i[o+1]|=l>>>8,i[o+2]|=l>>>16},r.F._bitsE=function(i,s,l){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<l)-1},r.F._bitsF=function(i,s,l){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<l)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var l=s;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,i.rev15[s]=(l>>>16|l<<16)>>>17}function o(a,f,u){for(;f--!=0;)a.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];o(i.fltree,144,8),o(i.fltree,112,9),o(i.fltree,24,7),o(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),o(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),o(i.itree,19,0),o(i.ltree,286,0),o(i.dtree,30,0),o(i.ttree,320,0)}()})();var Ad=kd({__proto__:null,default:ti},[ti]);const Et=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,c){u[d]=c>>8&255,u[d+1]=255&c},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,c){u[d]=c>>24&255,u[d+1]=c>>16&255,u[d+2]=c>>8&255,u[d+3]=255&c},readASCII(u,d,c){let p="";for(let h=0;h<c;h++)p+=String.fromCharCode(u[d+h]);return p},writeASCII(u,d,c){for(let p=0;p<c.length;p++)u[d+p]=c.charCodeAt(p)},readBytes(u,d,c){const p=[];for(let h=0;h<c;h++)p.push(u[d+h]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,c){let p,h="";for(let y=0;y<c;y++)h+=`%${t.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(h)}catch{return t.readASCII(u,d,c)}return p}};function e(u,d,c,p){const h=d*c,y=s(p),k=Math.ceil(d*y/8),_=new Uint8Array(4*h),D=new Uint32Array(_.buffer),{ctype:x}=p,{depth:I}=p,S=t.readUshort;if(x==6){const q=h<<2;if(I==8)for(var w=0;w<q;w+=4)_[w]=u[w],_[w+1]=u[w+1],_[w+2]=u[w+2],_[w+3]=u[w+3];if(I==16)for(w=0;w<q;w++)_[w]=u[w<<1]}else if(x==2){const q=p.tabs.tRNS;if(q==null){if(I==8)for(w=0;w<h;w++){var A=3*w;D[w]=255<<24|u[A+2]<<16|u[A+1]<<8|u[A]}if(I==16)for(w=0;w<h;w++)A=6*w,D[w]=255<<24|u[A+4]<<16|u[A+2]<<8|u[A]}else{var v=q[0];const z=q[1],Y=q[2];if(I==8)for(w=0;w<h;w++){var b=w<<2;A=3*w,D[w]=255<<24|u[A+2]<<16|u[A+1]<<8|u[A],u[A]==v&&u[A+1]==z&&u[A+2]==Y&&(_[b+3]=0)}if(I==16)for(w=0;w<h;w++)b=w<<2,A=6*w,D[w]=255<<24|u[A+4]<<16|u[A+2]<<8|u[A],S(u,A)==v&&S(u,A+2)==z&&S(u,A+4)==Y&&(_[b+3]=0)}}else if(x==3){const q=p.tabs.PLTE,z=p.tabs.tRNS,Y=z?z.length:0;if(I==1)for(var $=0;$<c;$++){var M=$*k,O=$*d;for(w=0;w<d;w++){b=O+w<<2;var N=3*(R=u[M+(w>>3)]>>7-((7&w)<<0)&1);_[b]=q[N],_[b+1]=q[N+1],_[b+2]=q[N+2],_[b+3]=R<Y?z[R]:255}}if(I==2)for($=0;$<c;$++)for(M=$*k,O=$*d,w=0;w<d;w++)b=O+w<<2,N=3*(R=u[M+(w>>2)]>>6-((3&w)<<1)&3),_[b]=q[N],_[b+1]=q[N+1],_[b+2]=q[N+2],_[b+3]=R<Y?z[R]:255;if(I==4)for($=0;$<c;$++)for(M=$*k,O=$*d,w=0;w<d;w++)b=O+w<<2,N=3*(R=u[M+(w>>1)]>>4-((1&w)<<2)&15),_[b]=q[N],_[b+1]=q[N+1],_[b+2]=q[N+2],_[b+3]=R<Y?z[R]:255;if(I==8)for(w=0;w<h;w++){var R;b=w<<2,N=3*(R=u[w]),_[b]=q[N],_[b+1]=q[N+1],_[b+2]=q[N+2],_[b+3]=R<Y?z[R]:255}}else if(x==4){if(I==8)for(w=0;w<h;w++){b=w<<2;var L=u[T=w<<1];_[b]=L,_[b+1]=L,_[b+2]=L,_[b+3]=u[T+1]}if(I==16)for(w=0;w<h;w++){var T;b=w<<2,L=u[T=w<<2],_[b]=L,_[b+1]=L,_[b+2]=L,_[b+3]=u[T+2]}}else if(x==0)for(v=p.tabs.tRNS?p.tabs.tRNS:-1,$=0;$<c;$++){const q=$*k,z=$*d;if(I==1)for(var E=0;E<d;E++){var F=(L=255*(u[q+(E>>>3)]>>>7-(7&E)&1))==255*v?0:255;D[z+E]=F<<24|L<<16|L<<8|L}else if(I==2)for(E=0;E<d;E++)F=(L=85*(u[q+(E>>>2)]>>>6-((3&E)<<1)&3))==85*v?0:255,D[z+E]=F<<24|L<<16|L<<8|L;else if(I==4)for(E=0;E<d;E++)F=(L=17*(u[q+(E>>>1)]>>>4-((1&E)<<2)&15))==17*v?0:255,D[z+E]=F<<24|L<<16|L<<8|L;else if(I==8)for(E=0;E<d;E++)F=(L=u[q+E])==v?0:255,D[z+E]=F<<24|L<<16|L<<8|L;else if(I==16)for(E=0;E<d;E++)L=u[q+(E<<1)],F=S(u,q+(E<<1))==v?0:255,D[z+E]=F<<24|L<<16|L<<8|L}return _}function n(u,d,c,p){const h=s(u),y=Math.ceil(c*h/8),k=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?i(d,k):r(d,k),u.interlace==0?d=l(d,u,0,c,p):u.interlace==1&&(d=function(D,x){const I=x.width,S=x.height,w=s(x),A=w>>3,v=Math.ceil(I*w/8),b=new Uint8Array(S*v);let $=0;const M=[0,0,4,0,2,0,1],O=[0,4,0,2,0,1,0],N=[8,8,8,4,4,2,2],R=[8,8,4,4,2,2,1];let L=0;for(;L<7;){const E=N[L],F=R[L];let q=0,z=0,Y=M[L];for(;Y<S;)Y+=E,z++;let W=O[L];for(;W<I;)W+=F,q++;const B=Math.ceil(q*w/8);l(D,x,$,q,z);let U=0,Z=M[L];for(;Z<S;){let ne=O[L],de=$+U*B<<3;for(;ne<I;){var T;if(w==1&&(T=(T=D[de>>3])>>7-(7&de)&1,b[Z*v+(ne>>3)]|=T<<7-((7&ne)<<0)),w==2&&(T=(T=D[de>>3])>>6-(7&de)&3,b[Z*v+(ne>>2)]|=T<<6-((3&ne)<<1)),w==4&&(T=(T=D[de>>3])>>4-(7&de)&15,b[Z*v+(ne>>1)]|=T<<4-((1&ne)<<2)),w>=8){const _e=Z*v+ne*A;for(let Ae=0;Ae<A;Ae++)b[_e+Ae]=D[(de>>3)+Ae]}de+=w,ne+=F}U++,Z+=E}q*z!=0&&($+=z*(1+B)),L+=1}return b}(d,u)),d}function r(u,d){return i(new Uint8Array(u.buffer,2,u.length-6),d)}var i=function(){const u={H:{}};return u.H.N=function(d,c){const p=Uint8Array;let h,y,k=0,_=0,D=0,x=0,I=0,S=0,w=0,A=0,v=0;if(d[0]==3&&d[1]==0)return c||new p(0);const b=u.H,$=b.b,M=b.e,O=b.R,N=b.n,R=b.A,L=b.Z,T=b.m,E=c==null;for(E&&(c=new p(d.length>>>2<<5));k==0;)if(k=$(d,v,1),_=$(d,v+1,2),v+=3,_!=0){if(E&&(c=u.H.W(c,A+(1<<17))),_==1&&(h=T.J,y=T.h,S=511,w=31),_==2){D=M(d,v,5)+257,x=M(d,v+5,5)+1,I=M(d,v+10,4)+4,v+=14;let q=1;for(var F=0;F<38;F+=2)T.Q[F]=0,T.Q[F+1]=0;for(F=0;F<I;F++){const W=M(d,v+3*F,3);T.Q[1+(T.X[F]<<1)]=W,W>q&&(q=W)}v+=3*I,N(T.Q,q),R(T.Q,q,T.u),h=T.w,y=T.d,v=O(T.u,(1<<q)-1,D+x,d,v,T.v);const z=b.V(T.v,0,D,T.C);S=(1<<z)-1;const Y=b.V(T.v,D,x,T.D);w=(1<<Y)-1,N(T.C,z),R(T.C,z,h),N(T.D,Y),R(T.D,Y,y)}for(;;){const q=h[L(d,v)&S];v+=15&q;const z=q>>>4;if(!(z>>>8))c[A++]=z;else{if(z==256)break;{let Y=A+z-254;if(z>264){const ne=T.q[z-257];Y=A+(ne>>>3)+M(d,v,7&ne),v+=7&ne}const W=y[L(d,v)&w];v+=15&W;const B=W>>>4,U=T.c[B],Z=(U>>>4)+$(d,v,15&U);for(v+=15&U;A<Y;)c[A]=c[A++-Z],c[A]=c[A++-Z],c[A]=c[A++-Z],c[A]=c[A++-Z];A=Y}}}}else{7&v&&(v+=8-(7&v));const q=4+(v>>>3),z=d[q-4]|d[q-3]<<8;E&&(c=u.H.W(c,A+z)),c.set(new p(d.buffer,d.byteOffset+q,z),A),v=q+z<<3,A+=z}return c.length==A?c:c.slice(0,A)},u.H.W=function(d,c){const p=d.length;if(c<=p)return d;const h=new Uint8Array(p<<1);return h.set(d,0),h},u.H.R=function(d,c,p,h,y,k){const _=u.H.e,D=u.H.Z;let x=0;for(;x<p;){const I=d[D(h,y)&c];y+=15&I;const S=I>>>4;if(S<=15)k[x]=S,x++;else{let w=0,A=0;S==16?(A=3+_(h,y,2),y+=2,w=k[x-1]):S==17?(A=3+_(h,y,3),y+=3):S==18&&(A=11+_(h,y,7),y+=7);const v=x+A;for(;x<v;)k[x]=w,x++}}return y},u.H.V=function(d,c,p,h){let y=0,k=0;const _=h.length>>>1;for(;k<p;){const D=d[k+c];h[k<<1]=0,h[1+(k<<1)]=D,D>y&&(y=D),k++}for(;k<_;)h[k<<1]=0,h[1+(k<<1)]=0,k++;return y},u.H.n=function(d,c){const p=u.H.m,h=d.length;let y,k,_,D;const x=p.j;for(var I=0;I<=c;I++)x[I]=0;for(I=1;I<h;I+=2)x[d[I]]++;const S=p.K;for(y=0,x[0]=0,k=1;k<=c;k++)y=y+x[k-1]<<1,S[k]=y;for(_=0;_<h;_+=2)D=d[_+1],D!=0&&(d[_]=S[D],S[D]++)},u.H.A=function(d,c,p){const h=d.length,y=u.H.m.r;for(let k=0;k<h;k+=2)if(d[k+1]!=0){const _=k>>1,D=d[k+1],x=_<<4|D,I=c-D;let S=d[k]<<I;const w=S+(1<<I);for(;S!=w;)p[y[S]>>>15-c]=x,S++}},u.H.l=function(d,c){const p=u.H.m.r,h=15-c;for(let y=0;y<d.length;y+=2){const k=d[y]<<c-d[y+1];d[y]=p[k]>>>h}},u.H.M=function(d,c,p){p<<=7&c;const h=c>>>3;d[h]|=p,d[h+1]|=p>>>8},u.H.I=function(d,c,p){p<<=7&c;const h=c>>>3;d[h]|=p,d[h+1]|=p>>>8,d[h+2]|=p>>>16},u.H.e=function(d,c,p){return(d[c>>>3]|d[1+(c>>>3)]<<8)>>>(7&c)&(1<<p)-1},u.H.b=function(d,c,p){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)&(1<<p)-1},u.H.Z=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)},u.H.i=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16|d[3+(c>>>3)]<<24)>>>(7&c)},u.H.m=function(){const d=Uint16Array,c=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var c=0;c<32768;c++){let h=c;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,d.r[c]=(h>>>16|h<<16)>>>17}function p(h,y,k){for(;y--!=0;)h.push(0,k)}for(c=0;c<32;c++)d.q[c]=d.S[c]<<3|d.T[c],d.c[c]=d.p[c]<<4|d.z[c];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function l(u,d,c,p,h){let y=s(d);const k=Math.ceil(p*y/8);let _,D;y=Math.ceil(y/8);let x=u[c],I=0;if(x>1&&(u[c]=[0,0,1][x-2]),x==3)for(I=y;I<k;I++)u[I+1]=u[I+1]+(u[I+1-y]>>>1)&255;for(let S=0;S<h;S++)if(_=c+S*k,D=_+S+1,x=u[D-1],I=0,x==0)for(;I<k;I++)u[_+I]=u[D+I];else if(x==1){for(;I<y;I++)u[_+I]=u[D+I];for(;I<k;I++)u[_+I]=u[D+I]+u[_+I-y]}else if(x==2)for(;I<k;I++)u[_+I]=u[D+I]+u[_+I-k];else if(x==3){for(;I<y;I++)u[_+I]=u[D+I]+(u[_+I-k]>>>1);for(;I<k;I++)u[_+I]=u[D+I]+(u[_+I-k]+u[_+I-y]>>>1)}else{for(;I<y;I++)u[_+I]=u[D+I]+o(0,u[_+I-k],0);for(;I<k;I++)u[_+I]=u[D+I]+o(u[_+I-y],u[_+I-k],u[_+I-y-k])}return u}function o(u,d,c){const p=u+d-c,h=p-u,y=p-d,k=p-c;return h*h<=y*y&&h*h<=k*k?u:y*y<=k*k?d:c}function a(u,d,c){c.width=t.readUint(u,d),d+=4,c.height=t.readUint(u,d),d+=4,c.depth=u[d],d++,c.ctype=u[d],d++,c.compress=u[d],d++,c.filter=u[d],d++,c.interlace=u[d],d++}function f(u,d,c,p,h,y,k,_,D){const x=Math.min(d,h),I=Math.min(c,y);let S=0,w=0;for(let L=0;L<I;L++)for(let T=0;T<x;T++)if(k>=0&&_>=0?(S=L*d+T<<2,w=(_+L)*h+k+T<<2):(S=(-_+L)*d-k+T<<2,w=L*h+T<<2),D==0)p[w]=u[S],p[w+1]=u[S+1],p[w+2]=u[S+2],p[w+3]=u[S+3];else if(D==1){var A=u[S+3]*.00392156862745098,v=u[S]*A,b=u[S+1]*A,$=u[S+2]*A,M=p[w+3]*(1/255),O=p[w]*M,N=p[w+1]*M,R=p[w+2]*M;const E=1-A,F=A+M*E,q=F==0?0:1/F;p[w+3]=255*F,p[w+0]=(v+O*E)*q,p[w+1]=(b+N*E)*q,p[w+2]=($+R*E)*q}else if(D==2)A=u[S+3],v=u[S],b=u[S+1],$=u[S+2],M=p[w+3],O=p[w],N=p[w+1],R=p[w+2],A==M&&v==O&&b==N&&$==R?(p[w]=0,p[w+1]=0,p[w+2]=0,p[w+3]=0):(p[w]=v,p[w+1]=b,p[w+2]=$,p[w+3]=A);else if(D==3){if(A=u[S+3],v=u[S],b=u[S+1],$=u[S+2],M=p[w+3],O=p[w],N=p[w+1],R=p[w+2],A==M&&v==O&&b==N&&$==R)continue;if(A<220&&M>20)return!1}return!0}return{decode:function(d){const c=new Uint8Array(d);let p=8;const h=t,y=h.readUshort,k=h.readUint,_={tabs:{},frames:[]},D=new Uint8Array(c.length);let x,I=0,S=0;const w=[137,80,78,71,13,10,26,10];for(var A=0;A<8;A++)if(c[A]!=w[A])throw"The input is not a PNG file!";for(;p<c.length;){const L=h.readUint(c,p);p+=4;const T=h.readASCII(c,p,4);if(p+=4,T=="IHDR")a(c,p,_);else if(T=="iCCP"){for(var v=p;c[v]!=0;)v++;h.readASCII(c,p,v-p),c[v+1];const E=c.slice(v+2,p+L);let F=null;try{F=r(E)}catch{F=i(E)}_.tabs[T]=F}else if(T=="CgBI")_.tabs[T]=c.slice(p,p+4);else if(T=="IDAT"){for(A=0;A<L;A++)D[I+A]=c[p+A];I+=L}else if(T=="acTL")_.tabs[T]={num_frames:k(c,p),num_plays:k(c,p+4)},x=new Uint8Array(c.length);else if(T=="fcTL"){S!=0&&((R=_.frames[_.frames.length-1]).data=n(_,x.slice(0,S),R.rect.width,R.rect.height),S=0);const E={x:k(c,p+12),y:k(c,p+16),width:k(c,p+4),height:k(c,p+8)};let F=y(c,p+22);F=y(c,p+20)/(F==0?100:F);const q={rect:E,delay:Math.round(1e3*F),dispose:c[p+24],blend:c[p+25]};_.frames.push(q)}else if(T=="fdAT"){for(A=0;A<L-4;A++)x[S+A]=c[p+A+4];S+=L-4}else if(T=="pHYs")_.tabs[T]=[h.readUint(c,p),h.readUint(c,p+4),c[p+8]];else if(T=="cHRM")for(_.tabs[T]=[],A=0;A<8;A++)_.tabs[T].push(h.readUint(c,p+4*A));else if(T=="tEXt"||T=="zTXt"){_.tabs[T]==null&&(_.tabs[T]={});var b=h.nextZero(c,p),$=h.readASCII(c,p,b-p),M=p+L-b-1;if(T=="tEXt")N=h.readASCII(c,b+1,M);else{var O=r(c.slice(b+2,b+2+M));N=h.readUTF8(O,0,O.length)}_.tabs[T][$]=N}else if(T=="iTXt"){_.tabs[T]==null&&(_.tabs[T]={}),b=0,v=p,b=h.nextZero(c,v),$=h.readASCII(c,v,b-v);const E=c[v=b+1];var N;c[v+1],v+=2,b=h.nextZero(c,v),h.readASCII(c,v,b-v),v=b+1,b=h.nextZero(c,v),h.readUTF8(c,v,b-v),M=L-((v=b+1)-p),E==0?N=h.readUTF8(c,v,M):(O=r(c.slice(v,v+M)),N=h.readUTF8(O,0,O.length)),_.tabs[T][$]=N}else if(T=="PLTE")_.tabs[T]=h.readBytes(c,p,L);else if(T=="hIST"){const E=_.tabs.PLTE.length/3;for(_.tabs[T]=[],A=0;A<E;A++)_.tabs[T].push(y(c,p+2*A))}else if(T=="tRNS")_.ctype==3?_.tabs[T]=h.readBytes(c,p,L):_.ctype==0?_.tabs[T]=y(c,p):_.ctype==2&&(_.tabs[T]=[y(c,p),y(c,p+2),y(c,p+4)]);else if(T=="gAMA")_.tabs[T]=h.readUint(c,p)/1e5;else if(T=="sRGB")_.tabs[T]=c[p];else if(T=="bKGD")_.ctype==0||_.ctype==4?_.tabs[T]=[y(c,p)]:_.ctype==2||_.ctype==6?_.tabs[T]=[y(c,p),y(c,p+2),y(c,p+4)]:_.ctype==3&&(_.tabs[T]=c[p]);else if(T=="IEND")break;p+=L,h.readUint(c,p),p+=4}var R;return S!=0&&((R=_.frames[_.frames.length-1]).data=n(_,x.slice(0,S),R.rect.width,R.rect.height)),_.data=n(_,D,_.width,_.height),delete _.compress,delete _.interlace,delete _.filter,_},toRGBA8:function(d){const c=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,c,p,d).buffer];const h=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=c*p*4,k=new Uint8Array(y),_=new Uint8Array(y),D=new Uint8Array(y);for(let I=0;I<d.frames.length;I++){const S=d.frames[I],w=S.rect.x,A=S.rect.y,v=S.rect.width,b=S.rect.height,$=e(S.data,v,b,d);if(I!=0)for(var x=0;x<y;x++)D[x]=k[x];if(S.blend==0?f($,v,b,k,c,p,w,A,0):S.blend==1&&f($,v,b,k,c,p,w,A,1),h.push(k.buffer.slice(0)),S.dispose!=0){if(S.dispose==1)f(_,v,b,k,c,p,w,A,0);else if(S.dispose==2)for(x=0;x<y;x++)k[x]=D[x]}}return h},_paeth:o,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=Et,{_bin:e}=Et,n=Et._paeth;var r={table:function(){const v=new Uint32Array(256);for(let b=0;b<256;b++){let $=b;for(let M=0;M<8;M++)1&$?$=3988292384^$>>>1:$>>>=1;v[b]=$}return v}(),update(v,b,$,M){for(let O=0;O<M;O++)v=r.table[255&(v^b[$+O])]^v>>>8;return v},crc:(v,b,$)=>4294967295^r.update(4294967295,v,b,$)};function i(v,b,$,M){b[$]+=v[0]*M>>4,b[$+1]+=v[1]*M>>4,b[$+2]+=v[2]*M>>4,b[$+3]+=v[3]*M>>4}function s(v){return Math.max(0,Math.min(255,v))}function l(v,b){const $=v[0]-b[0],M=v[1]-b[1],O=v[2]-b[2],N=v[3]-b[3];return $*$+M*M+O*O+N*N}function o(v,b,$,M,O,N,R){R==null&&(R=1);const L=M.length,T=[];for(var E=0;E<L;E++){const Z=M[E];T.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(E=0;E<L;E++){let Z=4294967295;for(var F=0,q=0;q<L;q++){var z=l(T[E],T[q]);q!=E&&z<Z&&(Z=z,F=q)}}const Y=new Uint32Array(O.buffer),W=new Int16Array(b*$*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(E=0;E<B.length;E++)B[E]=255*((B[E]+.5)/16-.5);for(let Z=0;Z<$;Z++)for(let ne=0;ne<b;ne++){var U;E=4*(Z*b+ne),R!=2?U=[s(v[E]+W[E]),s(v[E+1]+W[E+1]),s(v[E+2]+W[E+2]),s(v[E+3]+W[E+3])]:(z=B[4*(3&Z)+(3&ne)],U=[s(v[E]+z),s(v[E+1]+z),s(v[E+2]+z),s(v[E+3]+z)]),F=0;let de=16777215;for(q=0;q<L;q++){const De=l(U,T[q]);De<de&&(de=De,F=q)}const _e=T[F],Ae=[U[0]-_e[0],U[1]-_e[1],U[2]-_e[2],U[3]-_e[3]];R==1&&(ne!=b-1&&i(Ae,W,E+4,7),Z!=$-1&&(ne!=0&&i(Ae,W,E+4*b-4,3),i(Ae,W,E+4*b,5),ne!=b-1&&i(Ae,W,E+4*b+4,1))),N[E>>2]=F,Y[E>>2]=M[F]}}function a(v,b,$,M,O){O==null&&(O={});const{crc:N}=r,R=e.writeUint,L=e.writeUshort,T=e.writeASCII;let E=8;const F=v.frames.length>1;let q,z=!1,Y=33+(F?20:0);if(O.sRGB!=null&&(Y+=13),O.pHYs!=null&&(Y+=21),O.iCCP!=null&&(q=pako.deflate(O.iCCP),Y+=21+q.length+4),v.ctype==3){for(var W=v.plte.length,B=0;B<W;B++)v.plte[B]>>>24!=255&&(z=!0);Y+=8+3*W+4+(z?8+1*W+4:0)}for(var U=0;U<v.frames.length;U++)F&&(Y+=38),Y+=(_e=v.frames[U]).cimg.length+12,U!=0&&(Y+=4);Y+=12;const Z=new Uint8Array(Y),ne=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)Z[B]=ne[B];if(R(Z,E,13),E+=4,T(Z,E,"IHDR"),E+=4,R(Z,E,b),E+=4,R(Z,E,$),E+=4,Z[E]=v.depth,E++,Z[E]=v.ctype,E++,Z[E]=0,E++,Z[E]=0,E++,Z[E]=0,E++,R(Z,E,N(Z,E-17,17)),E+=4,O.sRGB!=null&&(R(Z,E,1),E+=4,T(Z,E,"sRGB"),E+=4,Z[E]=O.sRGB,E++,R(Z,E,N(Z,E-5,5)),E+=4),O.iCCP!=null){const Ae=13+q.length;R(Z,E,Ae),E+=4,T(Z,E,"iCCP"),E+=4,T(Z,E,"ICC profile"),E+=11,E+=2,Z.set(q,E),E+=q.length,R(Z,E,N(Z,E-(Ae+4),Ae+4)),E+=4}if(O.pHYs!=null&&(R(Z,E,9),E+=4,T(Z,E,"pHYs"),E+=4,R(Z,E,O.pHYs[0]),E+=4,R(Z,E,O.pHYs[1]),E+=4,Z[E]=O.pHYs[2],E++,R(Z,E,N(Z,E-13,13)),E+=4),F&&(R(Z,E,8),E+=4,T(Z,E,"acTL"),E+=4,R(Z,E,v.frames.length),E+=4,R(Z,E,O.loop!=null?O.loop:0),E+=4,R(Z,E,N(Z,E-12,12)),E+=4),v.ctype==3){for(R(Z,E,3*(W=v.plte.length)),E+=4,T(Z,E,"PLTE"),E+=4,B=0;B<W;B++){const Ae=3*B,De=v.plte[B],ae=255&De,fe=De>>>8&255,Qe=De>>>16&255;Z[E+Ae+0]=ae,Z[E+Ae+1]=fe,Z[E+Ae+2]=Qe}if(E+=3*W,R(Z,E,N(Z,E-3*W-4,3*W+4)),E+=4,z){for(R(Z,E,W),E+=4,T(Z,E,"tRNS"),E+=4,B=0;B<W;B++)Z[E+B]=v.plte[B]>>>24&255;E+=W,R(Z,E,N(Z,E-W-4,W+4)),E+=4}}let de=0;for(U=0;U<v.frames.length;U++){var _e=v.frames[U];F&&(R(Z,E,26),E+=4,T(Z,E,"fcTL"),E+=4,R(Z,E,de++),E+=4,R(Z,E,_e.rect.width),E+=4,R(Z,E,_e.rect.height),E+=4,R(Z,E,_e.rect.x),E+=4,R(Z,E,_e.rect.y),E+=4,L(Z,E,M[U]),E+=2,L(Z,E,1e3),E+=2,Z[E]=_e.dispose,E++,Z[E]=_e.blend,E++,R(Z,E,N(Z,E-30,30)),E+=4);const Ae=_e.cimg;R(Z,E,(W=Ae.length)+(U==0?0:4)),E+=4;const De=E;T(Z,E,U==0?"IDAT":"fdAT"),E+=4,U!=0&&(R(Z,E,de++),E+=4),Z.set(Ae,E),E+=W,R(Z,E,N(Z,De,E-De)),E+=4}return R(Z,E,0),E+=4,T(Z,E,"IEND"),E+=4,R(Z,E,N(Z,E-4,4)),E+=4,Z.buffer}function f(v,b,$){for(let M=0;M<v.frames.length;M++){const O=v.frames[M];O.rect.width;const N=O.rect.height,R=new Uint8Array(N*O.bpl+N);O.cimg=p(O.img,N,O.bpp,O.bpl,R,b,$)}}function u(v,b,$,M,O){const N=O[0],R=O[1],L=O[2],T=O[3],E=O[4],F=O[5];let q=6,z=8,Y=255;for(var W=0;W<v.length;W++){const Ce=new Uint8Array(v[W]);for(var B=Ce.length,U=0;U<B;U+=4)Y&=Ce[U+3]}const Z=Y!=255,ne=function(me,$e,Ze,Ne,xe,je){const K=[];for(var ie=0;ie<me.length;ie++){const ve=new Uint8Array(me[ie]),Be=new Uint32Array(ve.buffer);var Le;let ct=0,bt=0,Mt=$e,on=Ze,vi=Ne?1:0;if(ie!=0){const Wo=je||Ne||ie==1||K[ie-2].dispose!=0?1:2;let yi=0,ps=1e9;for(let Qn=0;Qn<Wo;Qn++){var Xe=new Uint8Array(me[ie-1-Qn]);const Go=new Uint32Array(me[ie-1-Qn]);let Qt=$e,Yt=Ze,Tn=-1,Yn=-1;for(let an=0;an<Ze;an++)for(let un=0;un<$e;un++)Be[Ke=an*$e+un]!=Go[Ke]&&(un<Qt&&(Qt=un),un>Tn&&(Tn=un),an<Yt&&(Yt=an),an>Yn&&(Yn=an));Tn==-1&&(Qt=Yt=Tn=Yn=0),xe&&((1&Qt)==1&&Qt--,(1&Yt)==1&&Yt--);const hs=(Tn-Qt+1)*(Yn-Yt+1);hs<ps&&(ps=hs,yi=Qn,ct=Qt,bt=Yt,Mt=Tn-Qt+1,on=Yn-Yt+1)}Xe=new Uint8Array(me[ie-1-yi]),yi==1&&(K[ie-1].dispose=2),Le=new Uint8Array(Mt*on*4),t(Xe,$e,Ze,Le,Mt,on,-ct,-bt,0),vi=t(ve,$e,Ze,Le,Mt,on,-ct,-bt,3)?1:0,vi==1?c(ve,$e,Ze,Le,{x:ct,y:bt,width:Mt,height:on}):t(ve,$e,Ze,Le,Mt,on,-ct,-bt,0)}else Le=ve.slice(0);K.push({rect:{x:ct,y:bt,width:Mt,height:on},img:Le,blend:vi,dispose:0})}if(Ne)for(ie=0;ie<K.length;ie++){if((It=K[ie]).blend==1)continue;const ve=It.rect,Be=K[ie-1].rect,ct=Math.min(ve.x,Be.x),bt=Math.min(ve.y,Be.y),Mt={x:ct,y:bt,width:Math.max(ve.x+ve.width,Be.x+Be.width)-ct,height:Math.max(ve.y+ve.height,Be.y+Be.height)-bt};K[ie-1].dispose=1,ie-1!=0&&d(me,$e,Ze,K,ie-1,Mt,xe),d(me,$e,Ze,K,ie,Mt,xe)}let ln=0;if(me.length!=1)for(var Ke=0;Ke<K.length;Ke++){var It;ln+=(It=K[Ke]).rect.width*It.rect.height}return K}(v,b,$,N,R,L),de={},_e=[],Ae=[];if(M!=0){const Ce=[];for(U=0;U<ne.length;U++)Ce.push(ne[U].img.buffer);const me=function(xe){let je=0;for(var K=0;K<xe.length;K++)je+=xe[K].byteLength;const ie=new Uint8Array(je);let Le=0;for(K=0;K<xe.length;K++){const Xe=new Uint8Array(xe[K]),ln=Xe.length;for(let Ke=0;Ke<ln;Ke+=4){let It=Xe[Ke],ve=Xe[Ke+1],Be=Xe[Ke+2];const ct=Xe[Ke+3];ct==0&&(It=ve=Be=0),ie[Le+Ke]=It,ie[Le+Ke+1]=ve,ie[Le+Ke+2]=Be,ie[Le+Ke+3]=ct}Le+=ln}return ie.buffer}(Ce),$e=y(me,M);for(U=0;U<$e.plte.length;U++)_e.push($e.plte[U].est.rgba);let Ze=0;for(U=0;U<ne.length;U++){const Ne=(ae=ne[U]).img.length;var De=new Uint8Array($e.inds.buffer,Ze>>2,Ne>>2);Ae.push(De);const xe=new Uint8Array($e.abuf,Ze,Ne);F&&o(ae.img,ae.rect.width,ae.rect.height,_e,xe,De),ae.img.set(xe),Ze+=Ne}}else for(W=0;W<ne.length;W++){var ae=ne[W];const Ce=new Uint32Array(ae.img.buffer);var fe=ae.rect.width;for(B=Ce.length,De=new Uint8Array(B),Ae.push(De),U=0;U<B;U++){const me=Ce[U];if(U!=0&&me==Ce[U-1])De[U]=De[U-1];else if(U>fe&&me==Ce[U-fe])De[U]=De[U-fe];else{let $e=de[me];if($e==null&&(de[me]=$e=_e.length,_e.push(me),_e.length>=300))break;De[U]=$e}}}const Qe=_e.length;for(Qe<=256&&E==0&&(z=Qe<=2?1:Qe<=4?2:Qe<=16?4:8,z=Math.max(z,T)),W=0;W<ne.length;W++){(ae=ne[W]).rect.x,ae.rect.y,fe=ae.rect.width;const Ce=ae.rect.height;let me=ae.img;new Uint32Array(me.buffer);let $e=4*fe,Ze=4;if(Qe<=256&&E==0){$e=Math.ceil(z*fe/8);var tt=new Uint8Array($e*Ce);const Ne=Ae[W];for(let xe=0;xe<Ce;xe++){U=xe*$e;const je=xe*fe;if(z==8)for(var Me=0;Me<fe;Me++)tt[U+Me]=Ne[je+Me];else if(z==4)for(Me=0;Me<fe;Me++)tt[U+(Me>>1)]|=Ne[je+Me]<<4-4*(1&Me);else if(z==2)for(Me=0;Me<fe;Me++)tt[U+(Me>>2)]|=Ne[je+Me]<<6-2*(3&Me);else if(z==1)for(Me=0;Me<fe;Me++)tt[U+(Me>>3)]|=Ne[je+Me]<<7-1*(7&Me)}me=tt,q=3,Ze=1}else if(Z==0&&ne.length==1){tt=new Uint8Array(fe*Ce*3);const Ne=fe*Ce;for(U=0;U<Ne;U++){const xe=3*U,je=4*U;tt[xe]=me[je],tt[xe+1]=me[je+1],tt[xe+2]=me[je+2]}me=tt,q=2,Ze=3,$e=3*fe}ae.img=me,ae.bpl=$e,ae.bpp=Ze}return{ctype:q,depth:z,plte:_e,frames:ne}}function d(v,b,$,M,O,N,R){const L=Uint8Array,T=Uint32Array,E=new L(v[O-1]),F=new T(v[O-1]),q=O+1<v.length?new L(v[O+1]):null,z=new L(v[O]),Y=new T(z.buffer);let W=b,B=$,U=-1,Z=-1;for(let de=0;de<N.height;de++)for(let _e=0;_e<N.width;_e++){const Ae=N.x+_e,De=N.y+de,ae=De*b+Ae,fe=Y[ae];fe==0||M[O-1].dispose==0&&F[ae]==fe&&(q==null||q[4*ae+3]!=0)||(Ae<W&&(W=Ae),Ae>U&&(U=Ae),De<B&&(B=De),De>Z&&(Z=De))}U==-1&&(W=B=U=Z=0),R&&((1&W)==1&&W--,(1&B)==1&&B--),N={x:W,y:B,width:U-W+1,height:Z-B+1};const ne=M[O];ne.rect=N,ne.blend=1,ne.img=new Uint8Array(N.width*N.height*4),M[O-1].dispose==0?(t(E,b,$,ne.img,N.width,N.height,-N.x,-N.y,0),c(z,b,$,ne.img,N)):t(z,b,$,ne.img,N.width,N.height,-N.x,-N.y,0)}function c(v,b,$,M,O){t(v,b,$,M,O.width,O.height,-O.x,-O.y,2)}function p(v,b,$,M,O,N,R){const L=[];let T,E=[0,1,2,3,4];N!=-1?E=[N]:(b*M>5e5||$==1)&&(E=[0]),R&&(T={level:0});const F=Ad;for(var q=0;q<E.length;q++){for(let W=0;W<b;W++)h(O,v,W,M,$,E[q]);L.push(F.deflate(O,T))}let z,Y=1e9;for(q=0;q<L.length;q++)L[q].length<Y&&(z=q,Y=L[q].length);return L[z]}function h(v,b,$,M,O,N){const R=$*M;let L=R+$;if(v[L]=N,L++,N==0)if(M<500)for(var T=0;T<M;T++)v[L+T]=b[R+T];else v.set(new Uint8Array(b.buffer,R,M),L);else if(N==1){for(T=0;T<O;T++)v[L+T]=b[R+T];for(T=O;T<M;T++)v[L+T]=b[R+T]-b[R+T-O]+256&255}else if($==0){for(T=0;T<O;T++)v[L+T]=b[R+T];if(N==2)for(T=O;T<M;T++)v[L+T]=b[R+T];if(N==3)for(T=O;T<M;T++)v[L+T]=b[R+T]-(b[R+T-O]>>1)+256&255;if(N==4)for(T=O;T<M;T++)v[L+T]=b[R+T]-n(b[R+T-O],0,0)+256&255}else{if(N==2)for(T=0;T<M;T++)v[L+T]=b[R+T]+256-b[R+T-M]&255;if(N==3){for(T=0;T<O;T++)v[L+T]=b[R+T]+256-(b[R+T-M]>>1)&255;for(T=O;T<M;T++)v[L+T]=b[R+T]+256-(b[R+T-M]+b[R+T-O]>>1)&255}if(N==4){for(T=0;T<O;T++)v[L+T]=b[R+T]+256-n(0,b[R+T-M],0)&255;for(T=O;T<M;T++)v[L+T]=b[R+T]+256-n(b[R+T-O],b[R+T-M],b[R+T-O-M])&255}}}function y(v,b){const $=new Uint8Array(v),M=$.slice(0),O=new Uint32Array(M.buffer),N=k(M,b),R=N[0],L=N[1],T=$.length,E=new Uint8Array(T>>2);let F;if($.length<2e7)for(var q=0;q<T;q+=4)F=_(R,z=$[q]*(1/255),Y=$[q+1]*(1/255),W=$[q+2]*(1/255),B=$[q+3]*(1/255)),E[q>>2]=F.ind,O[q>>2]=F.est.rgba;else for(q=0;q<T;q+=4){var z=$[q]*.00392156862745098,Y=$[q+1]*(1/255),W=$[q+2]*(1/255),B=$[q+3]*(1/255);for(F=R;F.left;)F=D(F.est,z,Y,W,B)<=0?F.left:F.right;E[q>>2]=F.ind,O[q>>2]=F.est.rgba}return{abuf:M.buffer,inds:E,plte:L}}function k(v,b,$){$==null&&($=1e-4);const M=new Uint32Array(v.buffer),O={i0:0,i1:v.length,bst:null,est:null,tdst:0,left:null,right:null};O.bst=S(v,O.i0,O.i1),O.est=w(O.bst);const N=[O];for(;N.length<b;){let L=0,T=0;for(var R=0;R<N.length;R++)N[R].est.L>L&&(L=N[R].est.L,T=R);if(L<$)break;const E=N[T],F=x(v,M,E.i0,E.i1,E.est.e,E.est.eMq255);if(E.i0>=F||E.i1<=F){E.est.L=0;continue}const q={i0:E.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};q.bst=S(v,q.i0,q.i1),q.est=w(q.bst);const z={i0:F,i1:E.i1,bst:null,est:null,tdst:0,left:null,right:null};for(z.bst={R:[],m:[],N:E.bst.N-q.bst.N},R=0;R<16;R++)z.bst.R[R]=E.bst.R[R]-q.bst.R[R];for(R=0;R<4;R++)z.bst.m[R]=E.bst.m[R]-q.bst.m[R];z.est=w(z.bst),E.left=q,E.right=z,N[T]=q,N.push(z)}for(N.sort((L,T)=>T.bst.N-L.bst.N),R=0;R<N.length;R++)N[R].ind=R;return[O,N]}function _(v,b,$,M,O){if(v.left==null)return v.tdst=function(q,z,Y,W,B){const U=z-q[0],Z=Y-q[1],ne=W-q[2],de=B-q[3];return U*U+Z*Z+ne*ne+de*de}(v.est.q,b,$,M,O),v;const N=D(v.est,b,$,M,O);let R=v.left,L=v.right;N>0&&(R=v.right,L=v.left);const T=_(R,b,$,M,O);if(T.tdst<=N*N)return T;const E=_(L,b,$,M,O);return E.tdst<T.tdst?E:T}function D(v,b,$,M,O){const{e:N}=v;return N[0]*b+N[1]*$+N[2]*M+N[3]*O-v.eMq}function x(v,b,$,M,O,N){for(M-=4;$<M;){for(;I(v,$,O)<=N;)$+=4;for(;I(v,M,O)>N;)M-=4;if($>=M)break;const R=b[$>>2];b[$>>2]=b[M>>2],b[M>>2]=R,$+=4,M-=4}for(;I(v,$,O)>N;)$-=4;return $+4}function I(v,b,$){return v[b]*$[0]+v[b+1]*$[1]+v[b+2]*$[2]+v[b+3]*$[3]}function S(v,b,$){const M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O=[0,0,0,0],N=$-b>>2;for(let R=b;R<$;R+=4){const L=v[R]*.00392156862745098,T=v[R+1]*(1/255),E=v[R+2]*(1/255),F=v[R+3]*(1/255);O[0]+=L,O[1]+=T,O[2]+=E,O[3]+=F,M[0]+=L*L,M[1]+=L*T,M[2]+=L*E,M[3]+=L*F,M[5]+=T*T,M[6]+=T*E,M[7]+=T*F,M[10]+=E*E,M[11]+=E*F,M[15]+=F*F}return M[4]=M[1],M[8]=M[2],M[9]=M[6],M[12]=M[3],M[13]=M[7],M[14]=M[11],{R:M,m:O,N}}function w(v){const{R:b}=v,{m:$}=v,{N:M}=v,O=$[0],N=$[1],R=$[2],L=$[3],T=M==0?0:1/M,E=[b[0]-O*O*T,b[1]-O*N*T,b[2]-O*R*T,b[3]-O*L*T,b[4]-N*O*T,b[5]-N*N*T,b[6]-N*R*T,b[7]-N*L*T,b[8]-R*O*T,b[9]-R*N*T,b[10]-R*R*T,b[11]-R*L*T,b[12]-L*O*T,b[13]-L*N*T,b[14]-L*R*T,b[15]-L*L*T],F=E,q=A;let z=[Math.random(),Math.random(),Math.random(),Math.random()],Y=0,W=0;if(M!=0)for(let U=0;U<16&&(z=q.multVec(F,z),W=Math.sqrt(q.dot(z,z)),z=q.sml(1/W,z),!(U!=0&&Math.abs(W-Y)<1e-9));U++)Y=W;const B=[O*T,N*T,R*T,L*T];return{Cov:E,q:B,e:z,L:Y,eMq255:q.dot(q.sml(255,B),z),eMq:q.dot(z,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var A={multVec:(v,b)=>[v[0]*b[0]+v[1]*b[1]+v[2]*b[2]+v[3]*b[3],v[4]*b[0]+v[5]*b[1]+v[6]*b[2]+v[7]*b[3],v[8]*b[0]+v[9]*b[1]+v[10]*b[2]+v[11]*b[3],v[12]*b[0]+v[13]*b[1]+v[14]*b[2]+v[15]*b[3]],dot:(v,b)=>v[0]*b[0]+v[1]*b[1]+v[2]*b[2]+v[3]*b[3],sml:(v,b)=>[v*b[0],v*b[1],v*b[2],v*b[3]]};Et.encode=function(b,$,M,O,N,R,L){O==null&&(O=0),L==null&&(L=!1);const T=u(b,$,M,O,[!1,!1,!1,0,L,!1]);return f(T,-1),a(T,$,M,N,R)},Et.encodeLL=function(b,$,M,O,N,R,L,T){const E={ctype:0+(O==1?0:2)+(N==0?0:4),depth:R,frames:[]},F=(O+N)*R,q=F*$;for(let z=0;z<b.length;z++)E.frames.push({rect:{x:0,y:0,width:$,height:M},img:new Uint8Array(b[z]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(q/8)});return f(E,0,!0),a(E,$,M,L,T)},Et.encode.compress=u,Et.encode.dither=o,Et.quantize=y,Et.quantize.getKDtree=k,Et.quantize.getNearest=_})();const Oo={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),l=new Uint32Array(s.data.buffer),o=(32*n+31)/32<<2,a=o*r,f=122+a,u=new ArrayBuffer(f),d=new DataView(u),c=1<<20;let p,h,y,k,_=c,D=0,x=0,I=0;function S(v){d.setUint16(x,v,!0),x+=2}function w(v){d.setUint32(x,v,!0),x+=4}function A(v){x+=v}S(19778),w(f),A(4),w(122),w(108),w(n),w(-r>>>0),S(1),S(32),w(3),w(a),w(2835),w(2835),A(8),w(16711680),w(65280),w(255),w(4278190080),w(1466527264),function v(){for(;D<r&&_>0;){for(k=122+D*o,p=0;p<i;)_--,h=l[I++],y=h>>>24,d.setUint32(k+p,h<<8|y),p+=4;D++}I<l.length?(_=c,setTimeout(v,Oo._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var gt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Cd={[gt.CHROME]:16384,[gt.FIREFOX]:11180,[gt.DESKTOP_SAFARI]:16384,[gt.IE]:8192,[gt.IOS]:4096,[gt.ETC]:8192};const cs=typeof window<"u",Ro=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ni=cs&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Dd=(cs||Ro)&&(ni&&ni.getOriginalSymbol(window,"File")||typeof File<"u"&&File),No=(cs||Ro)&&(ni&&ni.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function fs(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],l=globalThis.atob(i[1]);let o=l.length;const a=new Uint8Array(o);for(;o--;)a[o]=l.charCodeAt(o);const f=new Blob([a],{type:s});f.name=e,f.lastModified=n,r(f)})}function Fo(t){return new Promise((e,n)=>{const r=new No;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function qo(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function hn(){if(hn.cachedResult!==void 0)return hn.cachedResult;let t=gt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=gt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=gt.IOS:/Safari/i.test(e)?t=gt.DESKTOP_SAFARI:/Firefox/i.test(e)?t=gt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=gt.IE),hn.cachedResult=t,hn.cachedResult}function Lo(t,e){const n=hn(),r=Cd[n];let i=t,s=e,l=i*s;const o=i>s?s/i:i/s;for(;l>r*r;){const a=(r+i)/2,f=(r+s)/2;a<f?(s=f,i=f*o):(s=a*o,i=a),l=i*s}return{width:i,height:s}}function gi(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function Po(t,e){const{width:n,height:r}=Lo(t.width,t.height),[i,s]=gi(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Rr(){return Rr.cachedResult!==void 0||(Rr.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Rr.cachedResult}function ri(t,e={}){return new Promise(function(n,r){let i,s;var l=function(){try{return s=Po(i,e.fileType||t.type),n([i,s])}catch(a){return r(a)}},o=function(a){try{var f=function(u){try{throw u}catch(d){return r(d)}};try{let u;return Fo(t).then(function(d){try{return u=d,qo(u).then(function(c){try{return i=c,function(){try{return l()}catch(p){return r(p)}}()}catch(p){return f(p)}},f)}catch(c){return f(c)}},f)}catch(u){f(u)}}catch(u){return r(u)}};try{if(Rr()||[gt.DESKTOP_SAFARI,gt.MOBILE_SAFARI].includes(hn()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(a){try{return i=a,l()}catch{return o()}},o)}catch{o()}})}function ii(t,e,n,r,i=1){return new Promise(function(s,l){let o;if(e==="image/png"){let d,c,p;return d=t.getContext("2d"),{data:c}=d.getImageData(0,0,t.width,t.height),p=Et.encode([c.buffer],t.width,t.height,4096*i),o=new Blob([p],{type:e}),o.name=n,o.lastModified=r,a.call(this)}{let d=function(){return a.call(this)};var f=d;if(e==="image/bmp")return new Promise(c=>Oo.toBlob(t,c)).then(function(c){try{return o=c,o.name=n,o.lastModified=r,d.call(this)}catch(p){return l(p)}}.bind(this),l);{let c=function(){return d.call(this)};var u=c;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then(function(p){try{return o=p,o.name=n,o.lastModified=r,c.call(this)}catch(h){return l(h)}}.bind(this),l);{let p;return p=t.toDataURL(e,i),fs(p,n,r).then(function(h){try{return o=h,c.call(this)}catch(y){return l(y)}}.bind(this),l)}}}function a(){return s(o)}})}function Ot(t){t.width=0,t.height=0}function In(){return new Promise(function(t,e){let n,r,i,s;return In.cachedResult!==void 0?t(In.cachedResult):fs("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return n=l,ri(n).then(function(o){try{return r=o[1],ii(r,n.type,n.name,n.lastModified).then(function(a){try{return i=a,Ot(r),ri(i).then(function(f){try{return s=f[0],In.cachedResult=s.width===1&&s.height===2,t(In.cachedResult)}catch(u){return e(u)}},e)}catch(f){return e(f)}},e)}catch(a){return e(a)}},e)}catch(o){return e(o)}},e)})}function zo(t){return new Promise((e,n)=>{const r=new No;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const l=s.byteLength;let o=2;for(;o<l;){if(s.getUint16(o+2,!1)<=8)return e(-1);const a=s.getUint16(o,!1);if(o+=2,a==65505){if(s.getUint32(o+=2,!1)!=1165519206)return e(-1);const f=s.getUint16(o+=6,!1)==18761;o+=s.getUint32(o+4,f);const u=s.getUint16(o,f);o+=2;for(let d=0;d<u;d++)if(s.getUint16(o+12*d,f)==274)return e(s.getUint16(o+12*d+8,f))}else{if((65280&a)!=65280)break;o+=s.getUint16(o,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function Uo(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,l=t;return isFinite(i)&&(n>i||r>i)&&([l,s]=gi(n,r),n>r?(l.width=i,l.height=r/n*i):(l.width=n/r*i,l.height=i),s.drawImage(t,0,0,l.width,l.height),Ot(t)),l}function jo(t,e){const{width:n}=t,{height:r}=t,[i,s]=gi(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Ot(t),i}function sl(t,e,n=0){return new Promise(function(r,i){let s,l,o,a,f,u,d,c,p,h,y,k,_,D,x,I,S,w,A,v;function b(M=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=M,e.onProgress(Math.min(s,100))}function $(M){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(M,s),100),e.onProgress(s)}return s=n,l=e.maxIteration||10,o=1024*e.maxSizeMB*1024,b(),ri(t,e).then(function(M){try{return[,a]=M,b(),f=Uo(a,e),b(),new Promise(function(O,N){var R;if(!(R=e.exifOrientation))return zo(t).then(function(T){try{return R=T,L.call(this)}catch(E){return N(E)}}.bind(this),N);function L(){return O(R)}return L.call(this)}).then(function(O){try{return u=O,b(),In().then(function(N){try{return d=N?f:jo(f,u),b(),c=e.initialQuality||1,p=e.fileType||t.type,ii(d,p,t.name,t.lastModified,c).then(function(R){try{{let F=function(){if(l--&&(x>o||x>_)){let z,Y;return z=v?.95*A.width:A.width,Y=v?.95*A.height:A.height,[S,w]=gi(z,Y),w.drawImage(A,0,0,z,Y),c*=p==="image/png"?.85:.95,ii(S,p,t.name,t.lastModified,c).then(function(W){try{return I=W,Ot(A),A=S,x=I.size,$(Math.min(99,Math.floor((D-x)/(D-o)*100))),F}catch(B){return i(B)}},i)}return[1]},q=function(){return Ot(A),Ot(S),Ot(f),Ot(d),Ot(a),$(100),r(I)};var T=F,E=q;if(h=R,b(),y=h.size>o,k=h.size>t.size,!y&&!k)return $(100),r(h);var L;return _=t.size,D=h.size,x=D,A=d,v=!e.alwaysKeepResolution&&y,(L=function(z){for(;z;){if(z.then)return void z.then(L,i);try{if(z.pop){if(z.length)return z.pop()?q.call(this):z;z=F}else z=z.call(this)}catch(Y){return i(Y)}}}.bind(this))(F)}}catch(F){return i(F)}}.bind(this),i)}catch(R){return i(R)}}.bind(this),i)}catch(N){return i(N)}}.bind(this),i)}catch(O){return i(O)}}.bind(this),i)})}const Sd=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ai;function xd(t,e){return new Promise((n,r)=>{Ai||(Ai=function(l){const o=[];return typeof l=="function"?o.push(`(${l})()`):o.push(l),URL.createObjectURL(new Blob(o))}(Sd));const i=new Worker(Ai);i.addEventListener("message",function(l){if(e.signal&&e.signal.aborted)i.terminate();else if(l.data.progress===void 0){if(l.data.error)return r(new Error(l.data.error)),void i.terminate();n(l.data.file),i.terminate()}else e.onProgress(l.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function st(t,e){return new Promise(function(n,r){let i,s,l,o,a,f;if(i={...e},l=0,{onProgress:o}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,a=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{l=p,typeof o=="function"&&o(l)},!(t instanceof Blob||t instanceof Dd))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!a||typeof Worker!="function"||f)return sl(t,i).then(function(p){try{return s=p,c.call(this)}catch(h){return r(h)}}.bind(this),r);var u=function(){try{return c.call(this)}catch(p){return r(p)}}.bind(this),d=function(p){try{return sl(t,i).then(function(h){try{return s=h,u()}catch(y){return r(y)}},r)}catch(h){return r(h)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",xd(t,i).then(function(p){try{return s=p,u()}catch{return d()}},d)}catch{d()}function c(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=Mo(t,s))}catch{}return n(s)}})}st.getDataUrlFromFile=Fo,st.getFilefromDataUrl=fs,st.loadImage=qo,st.drawImageInCanvas=Po,st.drawFileInCanvas=ri,st.canvasToFile=ii,st.getExifOrientation=zo,st.handleMaxWidthOrHeight=Uo,st.followExifOrientation=jo,st.cleanupCanvasMemory=Ot,st.isAutoOrientationInBrowser=In,st.approximateBelowMaximumCanvasSizeOfBrowser=Lo,st.copyExifWithoutOrientation=Mo,st.getBrowserName=hn,st.version="2.0.2";const Ln=Gt({}),Pn=Gt([]),_i=Gt(null);function $d(){return new Promise(t=>{_i.set(t)})}function Id(){_i.update(t=>(t!==null&&t(null),null))}function Md(t){_i.update(e=>(e!==null&&e(t),null))}async function Od(t,e){const n=Xi(),r=await st(t,{maxSizeMB:.8,onProgress:e});if(r.size>=rc)throw Error("File is too large (max 15mb)");Pn.update(i=>(i.push({uuid:n,name:t.name,size:t.size,blob:r}),i)),Zo(r,n)}async function Zo(t,e){const n=new FileReader;await new Promise((i,s)=>{n.onload=i,n.onerror=s,n.onabort=s,n.readAsDataURL(t)});const r=n.result;Ln.update(i=>(i[e]=r,i))}function Rd(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M180-120q-24 0-42-18t-18-42v-600q0-24 18-42t42-18h600q24 0 42 18t18 42v600q0 24-18 42t-42 18H180Zm0-60h600v-600H180v600Zm56-97h489L578-473 446-302l-93-127-117 152Zm-56 97v-600 600Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 -960 960 960"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#666666")},m(r,i){V(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&H(e)}}}let Nd=class extends Ee{constructor(e){super(),ke(this,e,null,Rd,be,{})}};function ll(t,e,n){const r=t.slice();return r[7]=e[n],r}function Fd(t){let e,n;return e=new Nd({}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function qd(t){let e,n,r;return{c(){e=C("img"),m(e,"class","image svelte-1ii3f4f"),m(e,"data-fit",n=t[0].image.fit),zn(e.src,r=t[2])||m(e,"src",r),m(e,"alt","Uploaded Content")},m(i,s){V(i,e,s)},p(i,s){s&1&&n!==(n=i[0].image.fit)&&m(e,"data-fit",n),s&4&&!zn(e.src,r=i[2])&&m(e,"src",r)},i:Q,o:Q,d(i){i&&H(e)}}}function Ld(t){let e;return{c(){e=C("p"),m(e,"class","answer svelte-1ii3f4f"),m(e,"data-correct",!1)},m(n,r){V(n,e,r)},p:Q,d(n){n&&H(e)}}}function Pd(t){let e,n,r,i,s,l;return{c(){e=C("div"),n=C("p"),i=P(),s=C("p"),m(n,"class","answer svelte-1ii3f4f"),m(n,"data-correct",r=t[0].answer===!0),m(s,"class","answer svelte-1ii3f4f"),m(s,"data-correct",l=t[0].answer===!1),m(e,"class","answers svelte-1ii3f4f")},m(o,a){V(o,e,a),g(e,n),g(e,i),g(e,s)},p(o,a){a&1&&r!==(r=o[0].answer===!0)&&m(n,"data-correct",r),a&1&&l!==(l=o[0].answer===!1)&&m(s,"data-correct",l)},d(o){o&&H(e)}}}function zd(t){let e,n=[],r=new Map,i=t[0].answers;const s=l=>l[7].id;for(let l=0;l<i.length;l+=1){let o=ll(t,i,l),a=s(o);r.set(a,n[l]=ol(a,o))}return{c(){e=C("div");for(let l=0;l<n.length;l+=1)n[l].c();m(e,"class","answers svelte-1ii3f4f")},m(l,o){V(l,e,o);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(l,o){if(o&1){i=l[0].answers;for(let a=0;a<n.length;a+=1)n[a].r();n=wr(n,o,s,1,l,i,r,e,ga,ol,null,ll);for(let a=0;a<n.length;a+=1)n[a].a()}},d(l){l&&H(e);for(let o=0;o<n.length;o+=1)n[o].d()}}}function ol(t,e){let n,r,i,s=Q;return{key:t,first:null,c(){n=C("p"),m(n,"class","answer svelte-1ii3f4f"),m(n,"data-correct",r=e[7].correct),this.first=n},m(l,o){V(l,n,o)},p(l,o){e=l,o&1&&r!==(r=e[7].correct)&&m(n,"data-correct",r)},r(){i=n.getBoundingClientRect()},f(){br(n),s()},a(){s(),s=yr(n,i,Ar,{duration:250})},d(l){l&&H(n)}}}function Ud(t){let e,n,r,i,s,l,o,a=t[1]+1+"",f,u,d=t[0].text+"",c,p,h,y,k;const _=[qd,Fd],D=[];function x(A,v){return A[0].image!==null&&A[2]!==null?0:1}r=x(t),i=D[r]=_[r](t);function I(A,v){if(A[0].ty==pe.Single||A[0].ty==pe.Multiple)return zd;if(A[0].ty===pe.TrueFalse)return Pd;if(A[0].ty===pe.Typer)return Ld}let S=I(t),w=S&&S(t);return{c(){e=C("div"),n=C("div"),i.c(),s=P(),l=C("p"),o=C("span"),f=te(a),u=P(),c=te(d),p=P(),w&&w.c(),m(n,"class","image-wrapper svelte-1ii3f4f"),m(o,"class","question__index svelte-1ii3f4f"),m(l,"class","text svelte-1ii3f4f"),m(e,"class","question svelte-1ii3f4f"),Je(e,"question--active",t[3]!==null&&t[3].id===t[0].id)},m(A,v){V(A,e,v),g(e,n),D[r].m(n,null),g(e,s),g(e,l),g(l,o),g(o,f),g(l,u),g(l,c),g(e,p),w&&w.m(e,null),h=!0,y||(k=[J(e,"click",t[4]),J(e,"keypress",t[5])],y=!0)},p(A,[v]){let b=r;r=x(A),r===b?D[r].p(A,v):(Fe(),G(D[b],1,1,()=>{D[b]=null}),qe(),i=D[r],i?i.p(A,v):(i=D[r]=_[r](A),i.c()),j(i,1),i.m(n,null)),(!h||v&2)&&a!==(a=A[1]+1+"")&&Ie(f,a),(!h||v&1)&&d!==(d=A[0].text+"")&&Ie(c,d),S===(S=I(A))&&w?w.p(A,v):(w&&w.d(1),w=S&&S(A),w&&(w.c(),w.m(e,null))),(!h||v&9)&&Je(e,"question--active",A[3]!==null&&A[3].id===A[0].id)},i(A){h||(j(i),h=!0)},o(A){G(i),h=!1},d(A){A&&H(e),D[r].d(),w&&w.d(),y=!1,Ue(k)}}}function jd(t,e,n){let r,i;at(t,Ln,u=>n(6,r=u)),at(t,Wt,u=>n(3,i=u));let{question:s}=e,{index:l}=e,o=null;function a(){Wt.set(s)}function f(u){console.log(u.key),(u.key==="Return"||u.key=="Enter")&&a()}return t.$$set=u=>{"question"in u&&n(0,s=u.question),"index"in u&&n(1,l=u.index)},t.$$.update=()=>{if(t.$$.dirty&65&&s.image!==null){let u=r[s.image.uuid];u!==void 0?n(2,o=u):n(2,o=null)}},[s,l,o,i,a,f,r]}class Zd extends Ee{constructor(e){super(),ke(this,e,jd,Ud,be,{question:0,index:1})}}function Hd(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&H(e)}}}class Ho extends Ee{constructor(e){super(),ke(this,e,null,Hd,be,{})}}function Bd(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&H(e)}}}class Vd extends Ee{constructor(e){super(),ke(this,e,null,Bd,be,{})}}function Wd(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&H(e)}}}class Gd extends Ee{constructor(e){super(),ke(this,e,null,Wd,be,{})}}function Qd(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M396-524 173-747q-9-9-9-21.5t9-21.5q8.311-8 21.156-8Q207-798 215-790l224 223-43 43Zm216 374q-12.75 0-21.375-8.675-8.625-8.676-8.625-21.5 0-12.825 8.625-21.325T612-210h95L523-393l42-43 186 184v-97q0-12.75 8.675-21.375 8.676-8.625 21.5-8.625 12.825 0 21.325 8.625T811-349v169q0 12.75-8.625 21.375T781-150H612Zm-440-21.5q-9-8.5-9-21t9-21.5l537-537h-97q-12.75 0-21.375-8.675-8.625-8.676-8.625-21.5 0-12.825 8.625-21.325T612-811h169q12.75 0 21.375 8.625T811-781v169q0 12.75-8.675 21.375-8.676 8.625-21.5 8.625-12.825 0-21.325-8.625T751-612v-96L214-171q-8.067 8-20.533 8Q181-163 172-171.5Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 -960 960 960"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(r,i){V(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&H(e)}}}class Bo extends Ee{constructor(e){super(),ke(this,e,null,Qd,be,{})}}const Yd=ge.object({name:ge.string(),text:ge.string(),max_players:ge.number(),filtering:ge.string(),questions:ge.array(Au).min(1),images:ge.array(ge.object({uuid:ge.string().uuid(),name:ge.string(),size:ge.number(),type:ge.string(),data:ge.array(ge.number())}))});async function Xd(t){const e=await t.blob.arrayBuffer();return{uuid:t.uuid,name:t.name,size:t.size,type:t.blob.type,data:Array.from(new Uint8Array(e))}}async function Kd(t,e){const n=await Promise.all(e.map(Xd)),r={...t,images:n},i=JSON.stringify(r);return new Blob([i],{type:"application/json"})}async function Jd(t){const e=new FileReader;await new Promise((s,l)=>{e.onload=s,e.onerror=l,e.onabort=l,e.readAsText(t)});const n=e.result,r=JSON.parse(n),i=Yd.parse(r);for(const{data:s,uuid:l,name:o,type:a,size:f}of i.images){const u=new Uint8Array(s),d=new Blob([u.buffer],{type:a});Pn.update(c=>(c.push({uuid:l,name:o,size:f,blob:d}),c.filter(p=>p.uuid!==l))),Zo(d,l)}return i.questions.forEach(s=>{s.id=Xi()}),{name:i.name,text:i.text,max_players:i.max_players,filtering:i.filtering,questions:i.questions}}function e1(t=void 0){const e=document.createElement("input");return e.type="file",e.hidden=!0,t!==void 0&&(e.accept=t),document.body.appendChild(e),new Promise((n,r)=>{e.onchange=()=>{if(e.files===null)return r();const i=e.files.item(0);n(i)},e.oncancel=()=>n(null),e.click(),document.body.removeChild(e)})}function t1(t=void 0){const e=document.createElement("input");return e.type="file",e.multiple=!0,e.hidden=!0,t!==void 0&&(e.accept=t),new Promise((n,r)=>{document.body.appendChild(e),e.onchange=()=>{if(e.files===null)return r();n(e.files)},e.oncancel=()=>n(null),e.click(),document.body.removeChild(e)})}function n1(t,e){const n=document.createElement("a");n.download=t.replace(/[ ^/]/g,"_"),n.href=URL.createObjectURL(e),n.dataset.downloadurl=["application/json",n.download,n.href].join(":"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function r1(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M546-80H414q-11 0-19.5-7T384-105l-16-101q-19-7-40-19t-37-25l-93 43q-11 5-22 1.5T159-220L93-337q-6-10-3-21t12-18l86-63q-2-9-2.5-20.5T185-480q0-9 .5-20.5T188-521l-86-63q-9-7-12-18t3-21l66-117q6-11 17-14.5t22 1.5l93 43q16-13 37-25t40-18l16-102q2-11 10.5-18t19.5-7h132q11 0 19.5 7t10.5 18l16 101q19 7 40.5 18.5T669-710l93-43q11-5 22-1.5t17 14.5l66 116q6 10 3.5 21.5T858-584l-86 61q2 10 2.5 21.5t.5 21.5q0 10-.5 21t-2.5 21l86 62q9 7 12 18t-3 21l-66 117q-6 11-17 14.5t-22-1.5l-93-43q-16 13-36.5 25.5T592-206l-16 101q-2 11-10.5 18T546-80Zm-66-270q54 0 92-38t38-92q0-54-38-92t-92-38q-54 0-92 38t-38 92q0 54 38 92t92 38Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 -960 960 960"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(r,i){V(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&H(e)}}}class ds extends Ee{constructor(e){super(),ke(this,e,null,r1,be,{})}}function i1(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&H(e)}}}class En extends Ee{constructor(e){super(),ke(this,e,null,i1,be,{})}}function s1(t){let e,n,r,i,s,l,o,a,f,u,d,c,p,h,y,k,_,D,x,I,S,w,A,v,b,$,M,O,N,R,L,T,E,F,q,z,Y,W,B,U,Z,ne,de,_e,Ae,De;return i=new En({}),{c(){e=C("div"),n=C("div"),r=C("button"),oe(i.$$.fragment),s=te(`
      Close`),l=P(),o=C("label"),a=C("span"),a.textContent="Title",f=P(),u=C("p"),u.innerHTML='Give your quiz a title <span class="optional svelte-e7zkli">Optional</span>',d=P(),c=C("input"),p=P(),h=C("label"),y=C("span"),y.textContent="Description",k=P(),_=C("p"),_.innerHTML='Description of your Quiz <span class="optional svelte-e7zkli">Optional</span>',D=P(),x=C("textarea"),I=P(),S=C("label"),w=C("span"),w.textContent="Max Players",A=P(),v=C("p"),v.textContent="Maximum number of players allowed to join this quiz",b=P(),$=C("input"),M=P(),O=C("label"),N=C("span"),N.textContent="Name Filtering",R=P(),L=C("p"),L.textContent=`Level of filtering on profane/inappropriate naming. Its recommended that
        you leave this on Medium or High`,T=P(),E=C("select"),F=C("option"),q=te("None: Don't filter names"),z=C("option"),Y=te("Low: Filter out more severe names"),W=C("option"),B=te(`Medium: Filter out anything thats not mild
        `),U=C("option"),Z=te("High: Filter out as much as possible"),m(r,"class","btn btn--icon btn--surface"),m(a,"class","field__name svelte-e7zkli"),m(u,"class","field__desc svelte-e7zkli"),m(c,"class","input svelte-e7zkli"),m(c,"type","text"),m(c,"maxlength",zu),m(o,"class","field svelte-e7zkli"),m(y,"class","field__name svelte-e7zkli"),m(_,"class","field__desc svelte-e7zkli"),m(x,"class","input input--desc svelte-e7zkli"),m(x,"name",""),m(x,"id",""),m(x,"cols","30"),m(x,"rows","5"),m(x,"maxlength",Uu),m(h,"class","field svelte-e7zkli"),m(w,"class","field__name svelte-e7zkli"),m(v,"class","field__desc svelte-e7zkli"),m($,"class","input svelte-e7zkli"),m($,"type","number"),m($,"min",nc),m($,"max",lo),m(S,"class","field svelte-e7zkli"),m(N,"class","field__name svelte-e7zkli"),m(L,"class","field__desc svelte-e7zkli"),F.__value=xn.None,F.value=F.__value,z.__value=xn.Low,z.value=z.__value,W.__value=xn.Medium,W.value=W.__value,U.__value=xn.High,U.value=U.__value,m(E,"class","input svelte-e7zkli"),t[1].filtering===void 0&&Pe(()=>t[6].call(E)),m(O,"class","field svelte-e7zkli"),m(n,"class","dialog svelte-e7zkli"),m(e,"class","floating-wrapper svelte-e7zkli")},m(ae,fe){V(ae,e,fe),g(e,n),g(n,r),se(i,r,null),g(r,s),g(n,l),g(n,o),g(o,a),g(o,f),g(o,u),g(o,d),g(o,c),ze(c,t[1].name),g(n,p),g(n,h),g(h,y),g(h,k),g(h,_),g(h,D),g(h,x),ze(x,t[1].text),g(n,I),g(n,S),g(S,w),g(S,A),g(S,v),g(S,b),g(S,$),ze($,t[1].max_players),g(n,M),g(n,O),g(O,N),g(O,R),g(O,L),g(O,T),g(O,E),g(E,F),g(F,q),g(E,z),g(z,Y),g(E,W),g(W,B),g(E,U),g(U,Z),Un(E,t[1].filtering,!0),_e=!0,Ae||(De=[J(r,"click",t[2]),J(c,"input",t[3]),J(x,"input",t[4]),J($,"input",t[5]),J(E,"change",t[6])],Ae=!0)},p(ae,[fe]){fe&2&&c.value!==ae[1].name&&ze(c,ae[1].name),fe&2&&ze(x,ae[1].text),fe&2&&Ft($.value)!==ae[1].max_players&&ze($,ae[1].max_players),fe&2&&Un(E,ae[1].filtering)},i(ae){_e||(j(i.$$.fragment,ae),Pe(()=>{_e&&(ne||(ne=we(n,Re,{duration:200},!0)),ne.run(1))}),Pe(()=>{_e&&(de||(de=we(e,qt,{duration:200},!0)),de.run(1))}),_e=!0)},o(ae){G(i.$$.fragment,ae),ne||(ne=we(n,Re,{duration:200},!1)),ne.run(0),de||(de=we(e,qt,{duration:200},!1)),de.run(0),_e=!1},d(ae){ae&&H(e),le(i),ae&&ne&&ne.end(),ae&&de&&de.end(),Ae=!1,Ue(De)}}}function l1(t,e,n){let r;at(t,ft,u=>n(1,r=u));let{visible:i}=e;const s=()=>n(0,i=!1);function l(){r.name=this.value,ft.set(r)}function o(){r.text=this.value,ft.set(r)}function a(){r.max_players=Ft(this.value),ft.set(r)}function f(){r.filtering=Vi(this),ft.set(r)}return t.$$set=u=>{"visible"in u&&n(0,i=u.visible)},[i,r,s,l,o,a,f]}class o1 extends Ee{constructor(e){super(),ke(this,e,l1,s1,be,{visible:0})}}function al(t,e,n){const r=t.slice();return r[14]=e[n],r}function ul(t,e,n){const r=t.slice();return r[17]=e[n],r}function cl(t){let e,n,r,i,s,l,o,a,f,u,d,c,p,h,y,k,_,D,x,I=t[2].length<1&&t[0].length<1&&fl(),S=t[2],w=[];for(let b=0;b<S.length;b+=1)w[b]=dl(ul(t,S,b));let A=t[0],v=[];for(let b=0;b<A.length;b+=1)v[b]=pl(al(t,A,b));return d=new Ho({}),{c(){e=C("div"),n=C("div"),r=C("div"),I&&I.c(),i=P();for(let b=0;b<w.length;b+=1)w[b].c();s=P();for(let b=0;b<v.length;b+=1)v[b].c();l=P(),o=C("div"),a=C("button"),a.textContent="Close",f=P(),u=C("button"),oe(d.$$.fragment),c=te(`
          Upload Images`),p=P(),h=C("button"),y=te("Delete All Images"),m(r,"class","images svelte-aq7gj7"),m(a,"class","btn btn--surface"),m(u,"class","btn btn--icon btn--surface"),m(h,"class","btn btn--surface"),h.disabled=k=t[2].length===0,m(o,"class","actions btn-row btn-row--fill svelte-aq7gj7"),m(n,"class","dialog svelte-aq7gj7"),m(e,"class","wrapper svelte-aq7gj7")},m(b,$){V(b,e,$),g(e,n),g(n,r),I&&I.m(r,null),g(r,i);for(let M=0;M<w.length;M+=1)w[M]&&w[M].m(r,null);g(r,s);for(let M=0;M<v.length;M+=1)v[M]&&v[M].m(r,null);g(n,l),g(n,o),g(o,a),g(o,f),g(o,u),se(d,u,null),g(u,c),g(o,p),g(o,h),g(h,y),_=!0,D||(x=[J(a,"click",Id),J(u,"click",t[4]),J(h,"click",t[7]),J(n,"drop",t[5]),J(n,"dragover",p1)],D=!0)},p(b,$){if(b[2].length<1&&b[0].length<1?I||(I=fl(),I.c(),I.m(r,i)):I&&(I.d(1),I=null),$&76){S=b[2];let M;for(M=0;M<S.length;M+=1){const O=ul(b,S,M);w[M]?w[M].p(O,$):(w[M]=dl(O),w[M].c(),w[M].m(r,s))}for(;M<w.length;M+=1)w[M].d(1);w.length=S.length}if($&1){A=b[0];let M;for(M=0;M<A.length;M+=1){const O=al(b,A,M);v[M]?v[M].p(O,$):(v[M]=pl(O),v[M].c(),v[M].m(r,null))}for(;M<v.length;M+=1)v[M].d(1);v.length=A.length}(!_||$&4&&k!==(k=b[2].length===0))&&(h.disabled=k)},i(b){_||(j(d.$$.fragment,b),_=!0)},o(b){G(d.$$.fragment,b),_=!1},d(b){b&&H(e),I&&I.d(),nr(w,b),nr(v,b),le(d),D=!1,Ue(x)}}}function fl(t){let e;return{c(){e=C("p"),e.textContent="Click upload or drag and drop files here to upload",m(e,"class","images__text svelte-aq7gj7")},m(n,r){V(n,e,r)},d(n){n&&H(e)}}}function a1(t){let e;return{c(){e=C("span"),e.textContent="Preview loading.."},m(n,r){V(n,e,r)},p:Q,d(n){n&&H(e)}}}function u1(t){let e,n;return{c(){e=C("img"),m(e,"class","image svelte-aq7gj7"),zn(e.src,n=t[3][t[17].uuid])||m(e,"src",n),m(e,"alt","Preview")},m(r,i){V(r,e,i)},p(r,i){i&12&&!zn(e.src,n=r[3][r[17].uuid])&&m(e,"src",n)},d(r){r&&H(e)}}}function dl(t){let e,n,r=t[17].name+"",i,s,l,o,a,f=xs(t[17].size)+"",u,d,c,p,h,y,k,_;function D(A,v){return A[3][A[17].uuid]!==void 0?u1:a1}let x=D(t),I=x(t);function S(){return t[8](t[17])}function w(){return t[9](t[17])}return{c(){e=C("div"),n=C("p"),i=te(r),s=P(),l=C("div"),I.c(),o=P(),a=C("p"),u=te(f),d=P(),c=C("div"),p=C("button"),p.textContent="Select",h=P(),y=C("button"),y.textContent="Delete",m(n,"class","file__name svelte-aq7gj7"),m(l,"class","image-wrapper svelte-aq7gj7"),m(p,"class","btn btn--small"),m(y,"class","btn btn--small"),m(c,"class","file__actions svelte-aq7gj7"),m(e,"class","file svelte-aq7gj7")},m(A,v){V(A,e,v),g(e,n),g(n,i),g(e,s),g(e,l),I.m(l,null),g(e,o),g(e,a),g(a,u),g(e,d),g(e,c),g(c,p),g(c,h),g(c,y),k||(_=[J(p,"click",S),J(y,"click",w)],k=!0)},p(A,v){t=A,v&4&&r!==(r=t[17].name+"")&&Ie(i,r),x===(x=D(t))&&I?I.p(t,v):(I.d(1),I=x(t),I&&(I.c(),I.m(l,null))),v&4&&f!==(f=xs(t[17].size)+"")&&Ie(u,f)},d(A){A&&H(e),I.d(),k=!1,Ue(_)}}}function c1(t){let e,n,r=t[14].progress.toFixed(0)+"",i,s;return{c(){e=C("p"),n=te("Progress: "),i=te(r),s=te("%")},m(l,o){V(l,e,o),g(e,n),g(e,i),g(e,s)},p(l,o){o&1&&r!==(r=l[14].progress.toFixed(0)+"")&&Ie(i,r)},d(l){l&&H(e)}}}function f1(t){let e,n=t[14].error+"",r;return{c(){e=C("p"),r=te(n),m(e,"class","error svelte-aq7gj7")},m(i,s){V(i,e,s),g(e,r)},p(i,s){s&1&&n!==(n=i[14].error+"")&&Ie(r,n)},d(i){i&&H(e)}}}function pl(t){let e,n,r=t[14].name+"",i,s,l;function o(u,d){return u[14].error?f1:c1}let a=o(t),f=a(t);return{c(){e=C("div"),n=C("p"),i=te(r),s=P(),f.c(),l=P(),m(e,"class","file svelte-aq7gj7")},m(u,d){V(u,e,d),g(e,n),g(n,i),g(e,s),f.m(e,null),g(e,l)},p(u,d){d&1&&r!==(r=u[14].name+"")&&Ie(i,r),a===(a=o(u))&&f?f.p(u,d):(f.d(1),f=a(u),f&&(f.c(),f.m(e,l)))},d(u){u&&H(e),f.d()}}}function d1(t){let e,n,r=t[1]&&cl(t);return{c(){r&&r.c(),e=zt()},m(i,s){r&&r.m(i,s),V(i,e,s),n=!0},p(i,[s]){i[1]?r?(r.p(i,s),s&2&&j(r,1)):(r=cl(i),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Fe(),G(r,1,1,()=>{r=null}),qe())},i(i){n||(j(r),n=!0)},o(i){G(r),n=!1},d(i){r&&r.d(i),i&&H(e)}}}function p1(t){t.stopPropagation(),t.preventDefault()}function h1(t,e,n){let r,i,s;at(t,_i,_=>n(1,r=_)),at(t,Pn,_=>n(2,i=_)),at(t,Ln,_=>n(3,s=_));let l=[];async function o(){const _=await t1("image/*");_!==null&&f(_)}function a(_){_.stopPropagation(),_.preventDefault();const D=_.dataTransfer;if(D===null)return;const x=D.files;x!==null&&f(x)}function f(_){for(const D of _)l.push({name:D.name,progress:0,error:null}),n(0,l),Od(D,x=>{c(D.name,x)}).then(()=>u(D)).catch(x=>d(D,x))}function u(_){n(0,l=l.filter(D=>D.name!==_.name))}function d(_,D){n(0,l=l.map(x=>(x.name===_.name&&(x.error=D.message),x)))}function c(_,D){n(0,l=l.map(x=>(x.name===_&&(x.progress=D),x)))}function p(_){Pn.update(D=>D.filter(x=>x.uuid!==_.uuid)),Ln.update(D=>(delete D[_.uuid],D))}async function h(){await ai("Confirm Deletion","Are you sure you want to delete all the uploaded files?")&&(Pn.set([]),Ln.set({}),n(0,l=[]))}return[l,r,i,s,o,a,p,h,_=>Md(_),_=>p(_)]}class m1 extends Ee{constructor(e){super(),ke(this,e,h1,d1,be,{})}}function hl(t){let e,n,r,i,s,l,o,a,f,u,d,c,p,h,y,k,_,D;return{c(){e=C("label"),n=C("span"),n.textContent="Image Fit",r=P(),i=C("p"),i.textContent="Decide how the image should be best fit for the player screens,",s=P(),l=C("p"),l.textContent=`It's recommended that you use "Contain" if the full image content is
          important to be visible`,o=P(),a=C("select"),f=C("option"),u=te("Contain: Fit the entire image"),d=C("option"),c=te("Cover: Fill the available space"),p=C("option"),h=te(`Fill Width: Fill available width
          `),y=C("option"),k=te("Fill Height: Fill available height"),m(n,"class","field__name svelte-10zl12l"),m(i,"class","field__desc svelte-10zl12l"),m(l,"class","field__desc svelte-10zl12l"),f.__value=$n.Contain,f.value=f.__value,d.__value=$n.Cover,d.value=d.__value,p.__value=$n.Width,p.value=p.__value,y.__value=$n.Height,y.value=y.__value,m(a,"class","input svelte-10zl12l"),t[0].image.fit===void 0&&Pe(()=>t[3].call(a)),m(e,"class","field svelte-10zl12l")},m(x,I){V(x,e,I),g(e,n),g(e,r),g(e,i),g(e,s),g(e,l),g(e,o),g(e,a),g(a,f),g(f,u),g(a,d),g(d,c),g(a,p),g(p,h),g(a,y),g(y,k),Un(a,t[0].image.fit,!0),_||(D=J(a,"change",t[3]),_=!0)},p(x,I){I&1&&Un(a,x[0].image.fit)},d(x){x&&H(e),_=!1,D()}}}function g1(t){let e,n,r,i,s,l,o,a,f;i=new En({});let u=t[0].image!==null&&hl(t);return{c(){e=C("div"),n=C("div"),r=C("button"),oe(i.$$.fragment),s=te(`
      Close`),l=P(),u&&u.c(),m(r,"class","btn btn--icon btn--surface"),m(n,"class","dialog svelte-10zl12l"),m(e,"class","floating-wrapper svelte-10zl12l")},m(d,c){V(d,e,c),g(e,n),g(n,r),se(i,r,null),g(r,s),g(n,l),u&&u.m(n,null),o=!0,a||(f=J(r,"click",t[2]),a=!0)},p(d,[c]){d[0].image!==null?u?u.p(d,c):(u=hl(d),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i(d){o||(j(i.$$.fragment,d),o=!0)},o(d){G(i.$$.fragment,d),o=!1},d(d){d&&H(e),le(i),u&&u.d(),a=!1,f()}}}function _1(t,e,n){let{question:r}=e,{visible:i}=e;const s=()=>n(1,i=!1);function l(){r.image.fit=Vi(this),n(0,r)}return t.$$set=o=>{"question"in o&&n(0,r=o.question),"visible"in o&&n(1,i=o.visible)},[r,i,s,l]}class v1 extends Ee{constructor(e){super(),ke(this,e,_1,g1,be,{question:0,visible:1})}}function y1(t){let e,n,r;return{c(){e=C("button"),e.textContent="Pick Image",m(e,"class","add svelte-zmj5pp")},m(i,s){V(i,e,s),n||(r=J(e,"click",t[3]),n=!0)},p:Q,i:Q,o:Q,d(i){i&&H(e),n=!1,r()}}}function b1(t){let e,n,r,i,s,l,o,a,f,u,d;return a=new ds({}),{c(){e=C("img"),i=P(),s=C("button"),s.textContent="Click to remove",l=P(),o=C("button"),oe(a.$$.fragment),m(e,"class","image svelte-zmj5pp"),m(e,"data-fit",n=t[0].image.fit),zn(e.src,r=t[1])||m(e,"src",r),m(e,"alt","Uploaded Content"),m(s,"class","overlay svelte-zmj5pp"),m(o,"class","btn btn--icon btn--icon-only settings svelte-zmj5pp")},m(c,p){V(c,e,p),V(c,i,p),V(c,s,p),V(c,l,p),V(c,o,p),se(a,o,null),f=!0,u||(d=[J(s,"click",t[4]),J(o,"click",t[6])],u=!0)},p(c,p){(!f||p&1&&n!==(n=c[0].image.fit))&&m(e,"data-fit",n),(!f||p&2&&!zn(e.src,r=c[1]))&&m(e,"src",r)},i(c){f||(j(a.$$.fragment,c),f=!0)},o(c){G(a.$$.fragment,c),f=!1},d(c){c&&H(e),c&&H(i),c&&H(s),c&&H(l),c&&H(o),le(a),u=!1,Ue(d)}}}function ml(t){let e,n,r,i;function s(a){t[7](a)}function l(a){t[8](a)}let o={};return t[0]!==void 0&&(o.question=t[0]),t[2]!==void 0&&(o.visible=t[2]),e=new v1({props:o}),Ye.push(()=>ht(e,"question",s)),Ye.push(()=>ht(e,"visible",l)),{c(){oe(e.$$.fragment)},m(a,f){se(e,a,f),i=!0},p(a,f){const u={};!n&&f&1&&(n=!0,u.question=a[0],pt(()=>n=!1)),!r&&f&4&&(r=!0,u.visible=a[2],pt(()=>r=!1)),e.$set(u)},i(a){i||(j(e.$$.fragment,a),i=!0)},o(a){G(e.$$.fragment,a),i=!1},d(a){le(e,a)}}}function w1(t){let e,n,r,i,s,l,o;const a=[b1,y1],f=[];function u(c,p){return c[0].image!==null&&c[1]?0:1}n=u(t),r=f[n]=a[n](t);let d=t[2]&&ml(t);return l=new m1({}),{c(){e=C("div"),r.c(),i=P(),d&&d.c(),s=P(),oe(l.$$.fragment),m(e,"tabindex","0"),m(e,"role","button"),m(e,"class","wrapper svelte-zmj5pp")},m(c,p){V(c,e,p),f[n].m(e,null),V(c,i,p),d&&d.m(c,p),V(c,s,p),se(l,c,p),o=!0},p(c,[p]){let h=n;n=u(c),n===h?f[n].p(c,p):(Fe(),G(f[h],1,1,()=>{f[h]=null}),qe(),r=f[n],r?r.p(c,p):(r=f[n]=a[n](c),r.c()),j(r,1),r.m(e,null)),c[2]?d?(d.p(c,p),p&4&&j(d,1)):(d=ml(c),d.c(),j(d,1),d.m(s.parentNode,s)):d&&(Fe(),G(d,1,1,()=>{d=null}),qe())},i(c){o||(j(r),j(d),j(l.$$.fragment,c),o=!0)},o(c){G(r),G(d),G(l.$$.fragment,c),o=!1},d(c){c&&H(e),f[n].d(),c&&H(i),d&&d.d(c),c&&H(s),le(l,c)}}}function k1(t,e,n){let r;at(t,Ln,c=>n(5,r=c));let{question:i}=e,s=null,l=!1;async function o(){let c=await $d();c!==null&&n(0,i.image={uuid:c.uuid,fit:$n.Contain},i)}function a(c){c.stopPropagation(),n(0,i.image=null,i),n(1,s=null)}const f=()=>n(2,l=!0);function u(c){i=c,n(0,i)}function d(c){l=c,n(2,l)}return t.$$set=c=>{"question"in c&&n(0,i=c.question)},t.$$.update=()=>{if(t.$$.dirty&33&&i.image!==null){let c=r[i.image.uuid];c!==void 0?n(1,s=c):n(1,s=null)}},[i,s,l,o,a,r,f,u,d]}class E1 extends Ee{constructor(e){super(),ke(this,e,k1,w1,be,{question:0})}}function T1(t){let e,n,r,i,s,l,o,a,f,u,d,c;return{c(){e=C("div"),n=C("input"),s=P(),l=C("select"),o=C("option"),a=te("Minutes"),f=C("option"),u=te("Seconds"),m(n,"class","input svelte-t6875b"),m(n,"type","number"),m(n,"min",r=t[5](t[0])),m(n,"max",i=t[5](t[1])),o.__value=t[4].Minutes,o.value=o.__value,f.__value=t[4].Seconds,f.value=f.__value,m(l,"class","select svelte-t6875b"),t[2]===void 0&&Pe(()=>t[9].call(l))},m(p,h){V(p,e,h),g(e,n),ze(n,t[3]),g(e,s),g(e,l),g(l,o),g(o,a),g(l,f),g(f,u),Un(l,t[2],!0),d||(c=[J(n,"input",t[8]),J(n,"change",t[6]),J(l,"change",t[9]),J(l,"change",t[6])],d=!0)},p(p,[h]){h&1&&r!==(r=p[5](p[0]))&&m(n,"min",r),h&2&&i!==(i=p[5](p[1]))&&m(n,"max",i),h&8&&Ft(n.value)!==p[3]&&ze(n,p[3]),h&20&&Un(l,p[2])},i:Q,o:Q,d(p){p&&H(e),d=!1,Ue(c)}}}function A1(t,e,n){let{value:r}=e,{min:i}=e,{max:s}=e;var l=(h=>(h[h.Seconds=0]="Seconds",h[h.Minutes=1]="Minutes",h))(l||{});let o=0,a=u(r);function f(h){return o==0?h*1e3:o==1?h*1e3*60:h}function u(h){return o==0?h/1e3:o==1?h/60/1e3:h}function d(){if(a<1)n(3,a=1);else{let h=f(a);h>s?h=s:h<i&&(h=i),n(3,a=u(h)),n(7,r=h)}}function c(){a=Ft(this.value),n(3,a)}function p(){o=Vi(this),n(2,o),n(4,l)}return t.$$set=h=>{"value"in h&&n(7,r=h.value),"min"in h&&n(0,i=h.min),"max"in h&&n(1,s=h.max)},[i,s,o,a,l,u,d,r,c,p]}class gl extends Ee{constructor(e){super(),ke(this,e,A1,T1,be,{value:7,min:0,max:1})}}function C1(t){let e,n,r,i,s,l,o,a,f,u,d,c,p,h,y,k,_,D,x,I,S,w,A,v,b,$,M,O,N,R,L,T,E,F,q,z,Y,W,B,U,Z,ne,de,_e,Ae,De,ae,fe,Qe,tt,Me,Ce,me,$e,Ze,Ne,xe,je,K,ie,Le;i=new En({});function Xe(ve){t[3](ve)}let ln={min:Gu,max:Qu};t[0].answer_time!==void 0&&(ln.value=t[0].answer_time),D=new gl({props:ln}),Ye.push(()=>ht(D,"value",Xe));function Ke(ve){t[4](ve)}let It={min:ec,max:tc};return t[0].bonus_score_time!==void 0&&(It.value=t[0].bonus_score_time),$=new gl({props:It}),Ye.push(()=>ht($,"value",Ke)),{c(){e=C("div"),n=C("div"),r=C("button"),oe(i.$$.fragment),s=te(`
      Close`),l=P(),o=C("div"),a=C("h2"),a.textContent="Timing",f=P(),u=C("p"),u.textContent="Below you can configuring the timing for different events",d=P(),c=C("div"),p=C("div"),h=C("span"),h.textContent="Answer Time",y=P(),k=C("p"),k.textContent="Time the players have to answer the question",_=P(),oe(D.$$.fragment),I=P(),S=C("div"),w=C("span"),w.textContent="Bonus Score Time",A=P(),v=C("p"),v.textContent="Time the players must answer within for bonus scores",b=P(),oe($.$$.fragment),O=P(),N=C("div"),R=C("h2"),R.textContent="Scoring",L=P(),T=C("p"),T.textContent=`Score is awarded to players based on how quickly the player answers the
        question. You can configure the minimum and maximum values for this
        below`,E=P(),F=C("div"),q=C("label"),z=C("span"),z.textContent="Min Score",Y=P(),W=C("p"),W.textContent="The minimum amount of score to award for this question",B=P(),U=C("input"),ne=P(),de=C("label"),_e=C("span"),_e.textContent="Max Score",Ae=P(),De=C("p"),De.textContent="The maximum amount of score to award for this question",ae=P(),fe=C("input"),tt=P(),Me=C("label"),Ce=C("span"),Ce.textContent="Bonus Score",me=P(),$e=C("p"),$e.textContent="The amount of score to add for being within the bonus time",Ze=P(),Ne=C("input"),m(r,"class","btn btn--icon btn--surface"),m(a,"class","section__title svelte-1k34gko"),m(u,"class","section__desc svelte-1k34gko"),m(h,"class","field__name svelte-1k34gko"),m(k,"class","field__desc svelte-1k34gko"),m(p,"class","field svelte-1k34gko"),m(w,"class","field__name svelte-1k34gko"),m(v,"class","field__desc svelte-1k34gko"),m(S,"class","field svelte-1k34gko"),m(c,"class","field-group svelte-1k34gko"),m(o,"class","section svelte-1k34gko"),m(R,"class","section__title svelte-1k34gko"),m(T,"class","section__desc svelte-1k34gko"),m(z,"class","field__name svelte-1k34gko"),m(W,"class","field__desc svelte-1k34gko"),m(U,"class","input svelte-1k34gko"),m(U,"type","number"),m(U,"min",As),m(U,"max",Z=t[0].scoring.max_score),m(q,"class","field svelte-1k34gko"),m(_e,"class","field__name svelte-1k34gko"),m(De,"class","field__desc svelte-1k34gko"),m(fe,"class","input svelte-1k34gko"),m(fe,"type","number"),m(fe,"min",Qe=t[0].scoring.min_score),m(fe,"max",Ku),m(de,"class","field svelte-1k34gko"),m(Ce,"class","field__name svelte-1k34gko"),m($e,"class","field__desc svelte-1k34gko"),m(Ne,"class","input svelte-1k34gko"),m(Ne,"type","number"),m(Ne,"min",As),m(Ne,"max",Ju),m(Me,"class","field svelte-1k34gko"),m(F,"class","field-group svelte-1k34gko"),m(N,"class","section svelte-1k34gko"),m(n,"class","dialog svelte-1k34gko"),m(e,"class","floating-wrapper svelte-1k34gko")},m(ve,Be){V(ve,e,Be),g(e,n),g(n,r),se(i,r,null),g(r,s),g(n,l),g(n,o),g(o,a),g(o,f),g(o,u),g(o,d),g(o,c),g(c,p),g(p,h),g(p,y),g(p,k),g(p,_),se(D,p,null),g(c,I),g(c,S),g(S,w),g(S,A),g(S,v),g(S,b),se($,S,null),g(n,O),g(n,N),g(N,R),g(N,L),g(N,T),g(N,E),g(N,F),g(F,q),g(q,z),g(q,Y),g(q,W),g(q,B),g(q,U),ze(U,t[0].scoring.min_score),g(F,ne),g(F,de),g(de,_e),g(de,Ae),g(de,De),g(de,ae),g(de,fe),ze(fe,t[0].scoring.max_score),g(F,tt),g(F,Me),g(Me,Ce),g(Me,me),g(Me,$e),g(Me,Ze),g(Me,Ne),ze(Ne,t[0].scoring.bonus_score),K=!0,ie||(Le=[J(r,"click",t[2]),J(U,"input",t[5]),J(fe,"input",t[6]),J(Ne,"input",t[7])],ie=!0)},p(ve,[Be]){const ct={};!x&&Be&1&&(x=!0,ct.value=ve[0].answer_time,pt(()=>x=!1)),D.$set(ct);const bt={};!M&&Be&1&&(M=!0,bt.value=ve[0].bonus_score_time,pt(()=>M=!1)),$.$set(bt),(!K||Be&1&&Z!==(Z=ve[0].scoring.max_score))&&m(U,"max",Z),Be&1&&Ft(U.value)!==ve[0].scoring.min_score&&ze(U,ve[0].scoring.min_score),(!K||Be&1&&Qe!==(Qe=ve[0].scoring.min_score))&&m(fe,"min",Qe),Be&1&&Ft(fe.value)!==ve[0].scoring.max_score&&ze(fe,ve[0].scoring.max_score),Be&1&&Ft(Ne.value)!==ve[0].scoring.bonus_score&&ze(Ne,ve[0].scoring.bonus_score)},i(ve){K||(j(i.$$.fragment,ve),j(D.$$.fragment,ve),j($.$$.fragment,ve),Pe(()=>{K&&(xe||(xe=we(n,Re,{duration:200},!0)),xe.run(1))}),Pe(()=>{K&&(je||(je=we(e,qt,{duration:200},!0)),je.run(1))}),K=!0)},o(ve){G(i.$$.fragment,ve),G(D.$$.fragment,ve),G($.$$.fragment,ve),xe||(xe=we(n,Re,{duration:200},!1)),xe.run(0),je||(je=we(e,qt,{duration:200},!1)),je.run(0),K=!1},d(ve){ve&&H(e),le(i),le(D),le($),ve&&xe&&xe.end(),ve&&je&&je.end(),ie=!1,Ue(Le)}}}function D1(t,e,n){let{question:r}=e,{visible:i}=e;const s=()=>n(1,i=!1);function l(d){t.$$.not_equal(r.answer_time,d)&&(r.answer_time=d,n(0,r))}function o(d){t.$$.not_equal(r.bonus_score_time,d)&&(r.bonus_score_time=d,n(0,r))}function a(){r.scoring.min_score=Ft(this.value),n(0,r)}function f(){r.scoring.max_score=Ft(this.value),n(0,r)}function u(){r.scoring.bonus_score=Ft(this.value),n(0,r)}return t.$$set=d=>{"question"in d&&n(0,r=d.question),"visible"in d&&n(1,i=d.visible)},[r,i,s,l,o,a,f,u]}class S1 extends Ee{constructor(e){super(),ke(this,e,D1,C1,be,{question:0,visible:1})}}function x1(t){let e,n,r,i,s,l,o;return{c(){e=C("label"),n=C("input"),r=P(),i=ce("svg"),s=ce("path"),m(n,"class","input svelte-1sqhokz"),m(n,"type","checkbox"),m(s,"d","M4.575 8.977s-.404-.007-.536-.165L.057 5.64l.829-1.227L4.47 7.268 10.921.086l.923 1.103-6.863 7.64c-.134-.003-.406.148-.406.148z"),m(s,"fill","#FFF"),m(s,"fill-rule","evenodd"),m(i,"width","16"),m(i,"height","16"),m(i,"viewBox","0 0 12 9"),m(i,"xmlns","http://www.w3.org/2000/svg"),m(i,"class","mark svelte-1sqhokz"),m(e,"class","wrapper svelte-1sqhokz")},m(a,f){V(a,e,f),g(e,n),n.checked=t[0],g(e,r),g(e,i),g(i,s),l||(o=J(n,"change",t[1]),l=!0)},p(a,[f]){f&1&&(n.checked=a[0])},i:Q,o:Q,d(a){a&&H(e),l=!1,o()}}}function $1(t,e,n){let{value:r}=e;function i(){r=this.checked,n(0,r)}return t.$$set=s=>{"value"in s&&n(0,r=s.value)},[r,i]}class Vo extends Ee{constructor(e){super(),ke(this,e,$1,x1,be,{value:0})}}function _l(t){let e,n,r,i,s,l,o,a,f,u,d,c;function p(y){t[8](y)}let h={};return t[0].ignore_case!==void 0&&(h.value=t[0].ignore_case),a=new Vo({props:h}),Ye.push(()=>ht(a,"value",p)),{c(){e=C("div"),n=C("h2"),n.textContent="Settings",r=P(),i=C("p"),i.textContent="Below are settings specific to this type",s=P(),l=C("div"),o=C("div"),oe(a.$$.fragment),u=P(),d=C("p"),d.textContent="Ignore case when checking if the answer is correct",m(n,"class","section__title svelte-1lzjc8n"),m(i,"class","section__desc svelte-1lzjc8n"),m(o,"class","row svelte-1lzjc8n"),m(e,"class","section svelte-1lzjc8n")},m(y,k){V(y,e,k),g(e,n),g(e,r),g(e,i),g(e,s),g(e,l),g(l,o),se(a,o,null),g(o,u),g(o,d),c=!0},p(y,k){const _={};!f&&k&1&&(f=!0,_.value=y[0].ignore_case,pt(()=>f=!1)),a.$set(_)},i(y){c||(j(a.$$.fragment,y),c=!0)},o(y){G(a.$$.fragment,y),c=!1},d(y){y&&H(e),le(a)}}}function I1(t){let e,n,r,i,s,l,o,a,f,u,d,c,p,h,y,k,_,D,x,I,S,w,A,v,b;i=new En({});let $=t[0].ty===pe.Typer&&_l(t);return{c(){e=C("div"),n=C("div"),r=C("button"),oe(i.$$.fragment),s=te(`
      Close`),l=P(),o=C("div"),a=C("h2"),a.textContent="Question Type",f=P(),u=C("p"),u.textContent="Please select the type of question below",d=P(),c=C("div"),p=C("button"),p.innerHTML=`<p class="type__name svelte-1lzjc8n">Single Choice</p> 
          <p class="type__desc svelte-1lzjc8n">Players can only select one answer</p> 
          <div class="answers svelte-1lzjc8n"><p class="answer answer--correct svelte-1lzjc8n"></p> 
            <p class="answer svelte-1lzjc8n"></p> 
            <p class="answer svelte-1lzjc8n"></p> 
            <p class="answer svelte-1lzjc8n"></p></div>`,h=P(),y=C("button"),y.innerHTML=`<p class="type__name svelte-1lzjc8n">Multiple Choice</p> 
          <p class="type__desc svelte-1lzjc8n">Players can select multiple answers</p> 
          <div class="answers svelte-1lzjc8n"><p class="answer answer--correct svelte-1lzjc8n"></p> 
            <p class="answer answer--correct svelte-1lzjc8n"></p> 
            <p class="answer svelte-1lzjc8n"></p> 
            <p class="answer answer--correct svelte-1lzjc8n"></p></div>`,k=P(),_=C("button"),_.innerHTML=`<p class="type__name svelte-1lzjc8n">True / False</p> 
          <p class="type__desc svelte-1lzjc8n">Simple true or false questions</p> 
          <div class="answers svelte-1lzjc8n"><p class="answer answer--correct svelte-1lzjc8n"></p> 
            <p class="answer svelte-1lzjc8n"></p></div>`,D=P(),x=C("button"),x.innerHTML=`<p class="type__name svelte-1lzjc8n">Typer</p> 
          <p class="type__desc svelte-1lzjc8n">Players must type out their answer</p> 
          <div class="answers svelte-1lzjc8n"><p class="answer svelte-1lzjc8n"></p></div>`,I=P(),$&&$.c(),m(r,"class","btn btn--icon btn--surface"),m(a,"class","section__title svelte-1lzjc8n"),m(u,"class","section__desc svelte-1lzjc8n"),m(p,"class","type svelte-1lzjc8n"),Je(p,"type--selected",t[0].ty==pe.Single),m(y,"class","type svelte-1lzjc8n"),Je(y,"type--selected",t[0].ty==pe.Multiple),m(_,"class","type svelte-1lzjc8n"),Je(_,"type--selected",t[0].ty==pe.TrueFalse),m(x,"class","type svelte-1lzjc8n"),Je(x,"type--selected",t[0].ty==pe.Typer),m(c,"class","types svelte-1lzjc8n"),m(o,"class","section svelte-1lzjc8n"),m(n,"class","dialog svelte-1lzjc8n"),m(e,"class","floating-wrapper svelte-1lzjc8n")},m(M,O){V(M,e,O),g(e,n),g(n,r),se(i,r,null),g(r,s),g(n,l),g(n,o),g(o,a),g(o,f),g(o,u),g(o,d),g(o,c),g(c,p),g(c,h),g(c,y),g(c,k),g(c,_),g(c,D),g(c,x),g(n,I),$&&$.m(n,null),A=!0,v||(b=[J(r,"click",t[3]),J(p,"click",t[4]),J(y,"click",t[5]),J(_,"click",t[6]),J(x,"click",t[7])],v=!0)},p(M,[O]){(!A||O&1)&&Je(p,"type--selected",M[0].ty==pe.Single),(!A||O&1)&&Je(y,"type--selected",M[0].ty==pe.Multiple),(!A||O&1)&&Je(_,"type--selected",M[0].ty==pe.TrueFalse),(!A||O&1)&&Je(x,"type--selected",M[0].ty==pe.Typer),M[0].ty===pe.Typer?$?($.p(M,O),O&1&&j($,1)):($=_l(M),$.c(),j($,1),$.m(n,null)):$&&(Fe(),G($,1,1,()=>{$=null}),qe())},i(M){A||(j(i.$$.fragment,M),j($),Pe(()=>{A&&(S||(S=we(n,Re,{duration:200},!0)),S.run(1))}),Pe(()=>{A&&(w||(w=we(e,qt,{duration:200},!0)),w.run(1))}),A=!0)},o(M){G(i.$$.fragment,M),G($),S||(S=we(n,Re,{duration:200},!1)),S.run(0),w||(w=we(e,qt,{duration:200},!1)),w.run(0),A=!1},d(M){M&&H(e),le(i),$&&$.d(),M&&S&&S.end(),M&&w&&w.end(),v=!1,Ue(b)}}}function M1(t,e,n){let{question:r}=e,{visible:i}=e;async function s(c){c!==r.ty&&!await ai("Confirm change","Are you sure you want to change the question type? Current questions will be lost.")||(n(0,r=wd(r,c)),bd(r),Wt.set(r))}const l=()=>n(1,i=!1),o=()=>s(pe.Single),a=()=>s(pe.Multiple),f=()=>s(pe.TrueFalse),u=()=>s(pe.Typer);function d(c){t.$$.not_equal(r.ignore_case,c)&&(r.ignore_case=c,n(0,r))}return t.$$set=c=>{"question"in c&&n(0,r=c.question),"visible"in c&&n(1,i=c.visible)},[r,i,s,l,o,a,f,u,d]}class O1 extends Ee{constructor(e){super(),ke(this,e,M1,I1,be,{question:0,visible:1})}}function vl(t,e,n){const r=t.slice();return r[12]=e[n],r[15]=e,r[14]=n,r}function yl(t,e,n){const r=t.slice();return r[12]=e[n],r[13]=e,r[14]=n,r}function R1(t){let e,n,r,i=t[0].answers,s=[];for(let a=0;a<i.length;a+=1)s[a]=bl(vl(t,i,a));const l=a=>G(s[a],1,1,()=>{s[a]=null});let o=t[0].answers.length<Vr&&wl(t);return{c(){e=C("div");for(let a=0;a<s.length;a+=1)s[a].c();n=P(),o&&o.c(),m(e,"class","answers svelte-4pgkyl")},m(a,f){V(a,e,f);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);g(e,n),o&&o.m(e,null),r=!0},p(a,f){if(f&9){i=a[0].answers;let u;for(u=0;u<i.length;u+=1){const d=vl(a,i,u);s[u]?(s[u].p(d,f),j(s[u],1)):(s[u]=bl(d),s[u].c(),j(s[u],1),s[u].m(e,n))}for(Fe(),u=i.length;u<s.length;u+=1)l(u);qe()}a[0].answers.length<Vr?o?o.p(a,f):(o=wl(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(a){if(!r){for(let f=0;f<i.length;f+=1)j(s[f]);r=!0}},o(a){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)G(s[f]);r=!1},d(a){a&&H(e),nr(s,a),o&&o.d()}}}function N1(t){let e,n,r,i,s,l,o,a,f,u,d,c,p;return d=Jo(t[8][0]),{c(){e=C("div"),n=C("label"),r=C("input"),i=P(),s=C("p"),s.textContent="True",l=P(),o=C("label"),a=C("input"),f=P(),u=C("p"),u.textContent="False",m(r,"class","hidden svelte-4pgkyl"),m(r,"type","radio"),r.__value=!0,r.value=r.__value,m(s,"class","answer__text svelte-4pgkyl"),m(n,"class","answer answer--bool svelte-4pgkyl"),Je(n,"answer--selected",t[0].answer===!0),m(a,"class","hidden svelte-4pgkyl"),m(a,"type","radio"),a.__value=!1,a.value=a.__value,m(u,"class","answer__text svelte-4pgkyl"),m(o,"class","answer answer--bool svelte-4pgkyl"),Je(o,"answer--selected",t[0].answer===!1),m(e,"class","answers svelte-4pgkyl"),d.p(r,a)},m(h,y){V(h,e,y),g(e,n),g(n,r),r.checked=r.__value===t[0].answer,g(n,i),g(n,s),g(e,l),g(e,o),g(o,a),a.checked=a.__value===t[0].answer,g(o,f),g(o,u),c||(p=[J(r,"change",t[7]),J(a,"change",t[9])],c=!0)},p(h,y){y&1&&(r.checked=r.__value===h[0].answer),y&1&&Je(n,"answer--selected",h[0].answer===!0),y&1&&(a.checked=a.__value===h[0].answer),y&1&&Je(o,"answer--selected",h[0].answer===!1)},i:Q,o:Q,d(h){h&&H(e),d.r(),c=!1,Ue(p)}}}function F1(t){let e,n=[],r=new Map,i,s,l=t[0].answers;const o=f=>f[12].id;for(let f=0;f<l.length;f+=1){let u=yl(t,l,f),d=o(u);r.set(d,n[f]=kl(d,u))}let a=t[0].answers.length<Vr&&El(t);return{c(){e=C("div");for(let f=0;f<n.length;f+=1)n[f].c();i=P(),a&&a.c(),m(e,"class","answers svelte-4pgkyl")},m(f,u){V(f,e,u);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);g(e,i),a&&a.m(e,null),s=!0},p(f,u){if(u&9){l=f[0].answers,Fe();for(let d=0;d<n.length;d+=1)n[d].r();n=wr(n,u,o,1,f,l,r,e,li,kl,i,yl);for(let d=0;d<n.length;d+=1)n[d].a();qe()}f[0].answers.length<Vr?a?a.p(f,u):(a=El(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(f){if(!s){for(let u=0;u<l.length;u+=1)j(n[u]);s=!0}},o(f){for(let u=0;u<n.length;u+=1)G(n[u]);s=!1},d(f){f&&H(e);for(let u=0;u<n.length;u+=1)n[u].d();a&&a.d()}}}function bl(t){let e,n,r,i,s,l,o,a,f;function u(){t[10].call(n,t[15],t[14])}s=new En({});function d(){return t[11](t[14])}return{c(){e=C("div"),n=C("input"),r=P(),i=C("button"),oe(s.$$.fragment),m(n,"class","answer__input svelte-4pgkyl"),m(n,"type","text"),m(n,"maxlength",so),i.disabled=l=t[0].answers.length==1,m(i,"class","btn btn--surface btn--icon-only"),m(e,"class","answer svelte-4pgkyl")},m(c,p){V(c,e,p),g(e,n),ze(n,t[12]),g(e,r),g(e,i),se(s,i,null),o=!0,a||(f=[J(n,"input",u),J(i,"click",d)],a=!0)},p(c,p){t=c,p&1&&n.value!==t[12]&&ze(n,t[12]),(!o||p&1&&l!==(l=t[0].answers.length==1))&&(i.disabled=l)},i(c){o||(j(s.$$.fragment,c),o=!0)},o(c){G(s.$$.fragment,c),o=!1},d(c){c&&H(e),le(s),a=!1,Ue(f)}}}function wl(t){let e,n,r;return{c(){e=C("button"),e.textContent="Add Answer",m(e,"class","btn add svelte-4pgkyl")},m(i,s){V(i,e,s),n||(r=J(e,"click",t[2]),n=!0)},p:Q,d(i){i&&H(e),n=!1,r()}}}function kl(t,e){let n,r,i,s,l,o,a,f,u,d,c,p=Q,h,y,k;function _(S){e[4](S,e[12])}let D={};e[12].correct!==void 0&&(D.value=e[12].correct),i=new Vo({props:D}),Ye.push(()=>ht(i,"value",_));function x(){e[5].call(o,e[13],e[14])}u=new En({});function I(){return e[6](e[14])}return{key:t,first:null,c(){n=C("div"),r=C("div"),oe(i.$$.fragment),l=P(),o=C("input"),a=P(),f=C("button"),oe(u.$$.fragment),m(r,"class","answer__check svelte-4pgkyl"),m(o,"class","answer__input svelte-4pgkyl"),m(o,"type","text"),m(o,"maxlength",so),f.disabled=d=e[0].answers.length==1,m(f,"class","btn btn--surface btn--icon-only"),m(n,"class","answer svelte-4pgkyl"),Je(n,"answer--selected",e[12].correct),this.first=n},m(S,w){V(S,n,w),g(n,r),se(i,r,null),g(n,l),g(n,o),ze(o,e[12].value),g(n,a),g(n,f),se(u,f,null),h=!0,y||(k=[J(o,"input",x),J(f,"click",I)],y=!0)},p(S,w){e=S;const A={};!s&&w&1&&(s=!0,A.value=e[12].correct,pt(()=>s=!1)),i.$set(A),w&1&&o.value!==e[12].value&&ze(o,e[12].value),(!h||w&1&&d!==(d=e[0].answers.length==1))&&(f.disabled=d),(!h||w&1)&&Je(n,"answer--selected",e[12].correct)},r(){c=n.getBoundingClientRect()},f(){br(n),p()},a(){p(),p=yr(n,c,Ar,{duration:200})},i(S){h||(j(i.$$.fragment,S),j(u.$$.fragment,S),h=!0)},o(S){G(i.$$.fragment,S),G(u.$$.fragment,S),h=!1},d(S){S&&H(n),le(i),le(u),y=!1,Ue(k)}}}function El(t){let e,n,r;return{c(){e=C("button"),e.textContent="Add Answer",m(e,"class","btn add svelte-4pgkyl")},m(i,s){V(i,e,s),n||(r=J(e,"click",t[1]),n=!0)},p:Q,d(i){i&&H(e),n=!1,r()}}}function q1(t){let e,n,r,i;const s=[F1,N1,R1],l=[];function o(a,f){return a[0].ty==pe.Single||a[0].ty==pe.Multiple?0:a[0].ty===pe.TrueFalse?1:a[0].ty===pe.Typer?2:-1}return~(e=o(t))&&(n=l[e]=s[e](t)),{c(){n&&n.c(),r=zt()},m(a,f){~e&&l[e].m(a,f),V(a,r,f),i=!0},p(a,[f]){let u=e;e=o(a),e===u?~e&&l[e].p(a,f):(n&&(Fe(),G(l[u],1,1,()=>{l[u]=null}),qe()),~e?(n=l[e],n?n.p(a,f):(n=l[e]=s[e](a),n.c()),j(n,1),n.m(r.parentNode,r)):n=null)},i(a){i||(j(n),i=!0)},o(a){G(n),i=!1},d(a){~e&&l[e].d(a),a&&H(r)}}}function L1(t,e,n){let{question:r}=e;function i(){if(r.ty!=pe.Single&&r.ty!=pe.Multiple)return;const y=r.answers;let k=0;for(const _ of y)_.id>=k&&(k=_.id+1);y.push({id:k,value:"",correct:!1}),n(0,r.answers=y,r)}function s(){r.ty==pe.Typer&&(r.answers.push(""),n(0,r))}function l(y){r.ty!=pe.Single&&r.ty!=pe.Multiple&&r.ty!=pe.Typer||(r.answers.splice(y,1),n(0,r))}const o=[[]];function a(y,k){t.$$.not_equal(k.correct,y)&&(k.correct=y,n(0,r))}function f(y,k){y[k].value=this.value,n(0,r)}const u=y=>l(y);function d(){r.answer=this.__value,n(0,r)}function c(){r.answer=this.__value,n(0,r)}function p(y,k){y[k]=this.value,n(0,r)}const h=y=>l(y);return t.$$set=y=>{"question"in y&&n(0,r=y.question)},[r,i,s,l,a,f,u,d,o,c,p,h]}class P1 extends Ee{constructor(e){super(),ke(this,e,L1,q1,be,{question:0})}}function z1(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M666-435q-9-9-9-21t9-21l100-100H480q-13 0-21.5-8.5T450-607q0-13 8.5-21.5T480-637h286L665-738q-9-9-8.5-20.5T666-779q9-9 21-9t21 9l151 151q5 5 7 10t2 11q0 6-2 11t-7 10L707-434q-9 9-20.5 8.5T666-435ZM252-181 101-332q-5-5-7-10t-2-11q0-6 2-11t7-10l152-152q9-9 20.5-8.5T294-525q9 9 9 21t-9 21L194-383h286q13 0 21.5 8.5T510-353q0 13-8.5 21.5T480-323H194l101 101q9 9 8.5 20.5T294-181q-9 9-21 9t-21-9Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 -960 960 960"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(r,i){V(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&H(e)}}}class U1 extends Ee{constructor(e){super(),ke(this,e,null,z1,be,{})}}function Tl(t){let e,n,r,i,s,l,o;return n=new Bo({}),{c(){e=C("button"),oe(n.$$.fragment),r=te(`\r
      Shuffle Answers`),m(e,"class","btn btn--icon svelte-15v92h0"),e.disabled=i=t[0].answers.length<=1},m(a,f){V(a,e,f),se(n,e,null),g(e,r),s=!0,l||(o=J(e,"click",t[3]),l=!0)},p(a,f){(!s||f&1&&i!==(i=a[0].answers.length<=1))&&(e.disabled=i)},i(a){s||(j(n.$$.fragment,a),s=!0)},o(a){G(n.$$.fragment,a),s=!1},d(a){a&&H(e),le(n),l=!1,o()}}}function Al(t){let e,n,r,i;function s(a){t[10](a)}function l(a){t[11](a)}let o={};return t[0]!==void 0&&(o.question=t[0]),t[1]!==void 0&&(o.visible=t[1]),e=new S1({props:o}),Ye.push(()=>ht(e,"question",s)),Ye.push(()=>ht(e,"visible",l)),{c(){oe(e.$$.fragment)},m(a,f){se(e,a,f),i=!0},p(a,f){const u={};!n&&f&1&&(n=!0,u.question=a[0],pt(()=>n=!1)),!r&&f&2&&(r=!0,u.visible=a[1],pt(()=>r=!1)),e.$set(u)},i(a){i||(j(e.$$.fragment,a),i=!0)},o(a){G(e.$$.fragment,a),i=!1},d(a){le(e,a)}}}function Cl(t){let e,n,r,i;function s(a){t[12](a)}function l(a){t[13](a)}let o={};return t[0]!==void 0&&(o.question=t[0]),t[2]!==void 0&&(o.visible=t[2]),e=new O1({props:o}),Ye.push(()=>ht(e,"question",s)),Ye.push(()=>ht(e,"visible",l)),{c(){oe(e.$$.fragment)},m(a,f){se(e,a,f),i=!0},p(a,f){const u={};!n&&f&1&&(n=!0,u.question=a[0],pt(()=>n=!1)),!r&&f&4&&(r=!0,u.visible=a[2],pt(()=>r=!1)),e.$set(u)},i(a){i||(j(e.$$.fragment,a),i=!0)},o(a){G(e.$$.fragment,a),i=!1},d(a){le(e,a)}}}function j1(t){let e,n,r,i,s,l,o,a,f,u,d,c,p,h,y=t[0].ty+"",k,_,D,x,I,S,w,A,v,b,$,M,O,N,R,L;function T(B){t[5](B)}let E={};t[0]!==void 0&&(E.question=t[0]),e=new E1({props:E}),Ye.push(()=>ht(e,"question",T)),l=new ds({});let F=(t[0].ty===pe.Single||t[0].ty===pe.Multiple)&&t[0].answers!==void 0&&Tl(t);c=new U1({}),x=new En({});function q(B){t[9](B)}let z={};t[0]!==void 0&&(z.question=t[0]),v=new P1({props:z}),Ye.push(()=>ht(v,"question",q));let Y=t[1]&&Al(t),W=t[2]&&Cl(t);return{c(){oe(e.$$.fragment),r=P(),i=C("div"),s=C("button"),oe(l.$$.fragment),o=P(),a=C("span"),a.textContent="Settings",f=P(),F&&F.c(),u=P(),d=C("button"),oe(c.$$.fragment),p=te(`\r
    Change Type\r
\r
    `),h=C("span"),k=te(y),_=P(),D=C("button"),oe(x.$$.fragment),I=te(`\r
    Delete`),S=P(),w=C("textarea"),A=P(),oe(v.$$.fragment),$=P(),Y&&Y.c(),M=P(),W&&W.c(),O=zt(),m(s,"class","btn btn--icon svelte-15v92h0"),m(h,"class","qt__type svelte-15v92h0"),m(d,"class","btn btn--icon qt svelte-15v92h0"),m(D,"class","btn btn--icon svelte-15v92h0"),m(i,"class","actions btn-row svelte-15v92h0"),m(w,"class","text input svelte-15v92h0"),m(w,"cols","30"),m(w,"rows","2"),m(w,"maxlength",Vu)},m(B,U){se(e,B,U),V(B,r,U),V(B,i,U),g(i,s),se(l,s,null),g(s,o),g(s,a),g(i,f),F&&F.m(i,null),g(i,u),g(i,d),se(c,d,null),g(d,p),g(d,h),g(h,k),g(i,_),g(i,D),se(x,D,null),g(D,I),V(B,S,U),V(B,w,U),ze(w,t[0].text),V(B,A,U),se(v,B,U),V(B,$,U),Y&&Y.m(B,U),V(B,M,U),W&&W.m(B,U),V(B,O,U),N=!0,R||(L=[J(s,"click",t[6]),J(d,"click",t[7]),J(D,"click",t[4]),J(w,"input",t[8])],R=!0)},p(B,[U]){const Z={};!n&&U&1&&(n=!0,Z.question=B[0],pt(()=>n=!1)),e.$set(Z),(B[0].ty===pe.Single||B[0].ty===pe.Multiple)&&B[0].answers!==void 0?F?(F.p(B,U),U&1&&j(F,1)):(F=Tl(B),F.c(),j(F,1),F.m(i,u)):F&&(Fe(),G(F,1,1,()=>{F=null}),qe()),(!N||U&1)&&y!==(y=B[0].ty+"")&&Ie(k,y),U&1&&ze(w,B[0].text);const ne={};!b&&U&1&&(b=!0,ne.question=B[0],pt(()=>b=!1)),v.$set(ne),B[1]?Y?(Y.p(B,U),U&2&&j(Y,1)):(Y=Al(B),Y.c(),j(Y,1),Y.m(M.parentNode,M)):Y&&(Fe(),G(Y,1,1,()=>{Y=null}),qe()),B[2]?W?(W.p(B,U),U&4&&j(W,1)):(W=Cl(B),W.c(),j(W,1),W.m(O.parentNode,O)):W&&(Fe(),G(W,1,1,()=>{W=null}),qe())},i(B){N||(j(e.$$.fragment,B),j(l.$$.fragment,B),j(F),j(c.$$.fragment,B),j(x.$$.fragment,B),j(v.$$.fragment,B),j(Y),j(W),N=!0)},o(B){G(e.$$.fragment,B),G(l.$$.fragment,B),G(F),G(c.$$.fragment,B),G(x.$$.fragment,B),G(v.$$.fragment,B),G(Y),G(W),N=!1},d(B){le(e,B),B&&H(r),B&&H(i),le(l),F&&F.d(),le(c),le(x),B&&H(S),B&&H(w),B&&H(A),le(v,B),B&&H($),Y&&Y.d(B),B&&H(M),W&&W.d(B),B&&H(O),R=!1,Ue(L)}}}function Z1(t,e,n){let{question:r}=e,i=!1,s=!1;function l(){r.ty!=pe.Single&&r.ty!=pe.Multiple||n(0,r.answers=mc(r.answers),r)}async function o(){await ai("Confirm Deletion","Are you sure you want to delete this question?")&&vd(r)}function a(_){r=_,n(0,r)}const f=()=>n(1,i=!0),u=()=>n(2,s=!0);function d(){r.text=this.value,n(0,r)}function c(_){r=_,n(0,r)}function p(_){r=_,n(0,r)}function h(_){i=_,n(1,i)}function y(_){r=_,n(0,r)}function k(_){s=_,n(2,s)}return t.$$set=_=>{"question"in _&&n(0,r=_.question)},[r,i,s,l,o,a,f,u,d,c,p,h,y,k]}class H1 extends Ee{constructor(e){super(),ke(this,e,Z1,j1,be,{question:0})}}function Dl(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Sl(t){let e,n,r,i;const s=[V1,B1],l=[];function o(a,f){return a[1]==="Uploading"?0:1}return e=o(t),n=l[e]=s[e](t),{c(){n.c(),r=zt()},m(a,f){l[e].m(a,f),V(a,r,f),i=!0},p(a,f){let u=e;e=o(a),e===u?l[e].p(a,f):(Fe(),G(l[u],1,1,()=>{l[u]=null}),qe(),n=l[e],n?n.p(a,f):(n=l[e]=s[e](a),n.c()),j(n,1),n.m(r.parentNode,r))},i(a){i||(j(n),i=!0)},o(a){G(n),i=!1},d(a){l[e].d(a),a&&H(r)}}}function B1(t){let e,n;return e=new Ki({props:{text:"Connecting..."}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function V1(t){let e,n;return e=new Ki({props:{text:`Uploading ${t[4].toFixed(0)}%`}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&16&&(s.text=`Uploading ${r[4].toFixed(0)}%`),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function xl(t){let e,n,r;function i(l){t[12](l)}let s={};return t[2]!==void 0&&(s.visible=t[2]),e=new o1({props:s}),Ye.push(()=>ht(e,"visible",i)),{c(){oe(e.$$.fragment)},m(l,o){se(e,l,o),r=!0},p(l,o){const a={};!n&&o&4&&(n=!0,a.visible=l[2],pt(()=>n=!1)),e.$set(a)},i(l){r||(j(e.$$.fragment,l),r=!0)},o(l){G(e.$$.fragment,l),r=!1},d(l){le(e,l)}}}function $l(t){let e;return{c(){e=C("div"),m(e,"class","shadow-item svelte-5o5y0c")},m(n,r){V(n,e,r)},d(n){n&&H(e)}}}function Il(t,e){let n,r,i,s,l,o=Q,a;r=new Zd({props:{question:e[18],index:e[20]}});let f=e[18][Vn]&&$l();return{key:t,first:null,c(){n=C("div"),oe(r.$$.fragment),i=P(),f&&f.c(),s=P(),Ci(n,"position","relative"),this.first=n},m(u,d){V(u,n,d),se(r,n,null),g(n,i),f&&f.m(n,null),g(n,s),a=!0},p(u,d){e=u;const c={};d&8&&(c.question=e[18]),d&8&&(c.index=e[20]),r.$set(c),e[18][Vn]?f||(f=$l(),f.c(),f.m(n,s)):f&&(f.d(1),f=null)},r(){l=n.getBoundingClientRect()},f(){br(n),o()},a(){o(),o=yr(n,l,Ar,{duration:200})},i(u){a||(j(r.$$.fragment,u),a=!0)},o(u){G(r.$$.fragment,u),a=!1},d(u){u&&H(n),le(r),f&&f.d()}}}function W1(t){let e;return{c(){e=C("div"),e.innerHTML=`<h1 class="svelte-5o5y0c">Select a question</h1> 
          <p>No question selected. Select a question to start editing</p>`,m(e,"class","editor__none svelte-5o5y0c")},m(n,r){V(n,e,r)},p:Q,i:Q,o:Q,d(n){n&&H(e)}}}function G1(t){let e,n,r;function i(l){t[14](l)}let s={};return t[5]!==void 0&&(s.question=t[5]),e=new H1({props:s}),Ye.push(()=>ht(e,"question",i)),{c(){oe(e.$$.fragment)},m(l,o){se(e,l,o),r=!0},p(l,o){const a={};!n&&o&32&&(n=!0,a.question=l[5],pt(()=>n=!1)),e.$set(a)},i(l){r||(j(e.$$.fragment,l),r=!0)},o(l){G(e.$$.fragment,l),r=!1},d(l){le(e,l)}}}function Q1(t){let e,n,r,i,s,l,o,a,f,u,d,c,p,h,y,k,_,D,x,I,S,w,A,v,b,$,M,O,N,R,L,T,E,F,q,z,Y,W=[],B=new Map,U,Z,ne,de,_e,Ae,De,ae,fe,Qe,tt,Me,Ce=t[0]&&Sl(t),me=t[2]&&xl(t);l=new ao({}),d=new Ho({}),k=new Vd({}),S=new ds({}),$=new ci({}),E=new Bo({});let $e=t[3].questions;const Ze=K=>K[18].id;for(let K=0;K<$e.length;K+=1){let ie=Dl(t,$e,K),Le=Ze(ie);B.set(Le,W[K]=Il(Le,ie))}de=new Gd({});const Ne=[G1,W1],xe=[];function je(K,ie){return K[5]!==null?0:1}return ae=je(t),fe=xe[ae]=Ne[ae](t),{c(){Ce&&Ce.c(),e=P(),me&&me.c(),n=P(),r=C("main"),i=C("header"),s=C("button"),oe(l.$$.fragment),o=P(),a=C("span"),a.textContent="Back",f=P(),u=C("button"),oe(d.$$.fragment),c=P(),p=C("span"),p.textContent="Import",h=P(),y=C("button"),oe(k.$$.fragment),_=P(),D=C("span"),D.textContent="Export",x=P(),I=C("button"),oe(S.$$.fragment),w=P(),A=C("span"),A.textContent="Quiz Settings",v=P(),b=C("button"),oe($.$$.fragment),M=P(),O=C("span"),O.textContent="Play",N=P(),R=C("div"),L=C("div"),T=C("button"),oe(E.$$.fragment),F=te(`\r
        Shuffle`),z=P(),Y=C("section");for(let K=0;K<W.length;K+=1)W[K].c();Z=P(),ne=C("button"),oe(de.$$.fragment),Ae=P(),De=C("div"),fe.c(),m(s,"class","btn btn--icon"),m(u,"class","btn btn--icon"),m(y,"class","btn btn--icon"),m(I,"class","btn btn--icon"),m(b,"class","btn btn--icon"),m(i,"class","header btn-row btn-row--fill svelte-5o5y0c"),T.disabled=q=t[3].questions.length<=1,m(T,"class","btn btn--icon"),m(Y,"class","questions svelte-5o5y0c"),ne.disabled=_e=t[3].questions.length>=Ts,m(ne,"class","btn add btn--icon-only"),m(L,"class","list svelte-5o5y0c"),m(De,"class","editor svelte-5o5y0c"),m(R,"class","wrapper svelte-5o5y0c"),m(r,"class","main svelte-5o5y0c")},m(K,ie){Ce&&Ce.m(K,ie),V(K,e,ie),me&&me.m(K,ie),V(K,n,ie),V(K,r,ie),g(r,i),g(i,s),se(l,s,null),g(s,o),g(s,a),g(i,f),g(i,u),se(d,u,null),g(u,c),g(u,p),g(i,h),g(i,y),se(k,y,null),g(y,_),g(y,D),g(i,x),g(i,I),se(S,I,null),g(I,w),g(I,A),g(i,v),g(i,b),se($,b,null),g(b,M),g(b,O),g(r,N),g(r,R),g(R,L),g(L,T),se(E,T,null),g(T,F),g(L,z),g(L,Y);for(let Le=0;Le<W.length;Le+=1)W[Le]&&W[Le].m(Y,null);g(L,Z),g(L,ne),se(de,ne,null),g(R,Ae),g(R,De),xe[ae].m(De,null),Qe=!0,tt||(Me=[J(s,"click",Er),J(u,"click",t[8]),J(y,"click",t[7]),J(I,"click",t[13]),J(b,"click",t[9]),J(T,"click",yd),Ol(U=dd.call(null,Y,{items:t[3].questions,flipDurationMs:200,dropTargetStyle:{}})),J(Y,"consider",t[10]),J(Y,"finalize",t[11]),J(ne,"click",gd)],tt=!0)},p(K,[ie]){if(K[0]?Ce?(Ce.p(K,ie),ie&1&&j(Ce,1)):(Ce=Sl(K),Ce.c(),j(Ce,1),Ce.m(e.parentNode,e)):Ce&&(Fe(),G(Ce,1,1,()=>{Ce=null}),qe()),K[2]?me?(me.p(K,ie),ie&4&&j(me,1)):(me=xl(K),me.c(),j(me,1),me.m(n.parentNode,n)):me&&(Fe(),G(me,1,1,()=>{me=null}),qe()),(!Qe||ie&8&&q!==(q=K[3].questions.length<=1))&&(T.disabled=q),ie&8){$e=K[3].questions,Fe();for(let Xe=0;Xe<W.length;Xe+=1)W[Xe].r();W=wr(W,ie,Ze,1,K,$e,B,Y,li,Il,null,Dl);for(let Xe=0;Xe<W.length;Xe+=1)W[Xe].a();qe()}U&&kn(U.update)&&ie&8&&U.update.call(null,{items:K[3].questions,flipDurationMs:200,dropTargetStyle:{}}),(!Qe||ie&8&&_e!==(_e=K[3].questions.length>=Ts))&&(ne.disabled=_e);let Le=ae;ae=je(K),ae===Le?xe[ae].p(K,ie):(Fe(),G(xe[Le],1,1,()=>{xe[Le]=null}),qe(),fe=xe[ae],fe?fe.p(K,ie):(fe=xe[ae]=Ne[ae](K),fe.c()),j(fe,1),fe.m(De,null))},i(K){if(!Qe){j(Ce),j(me),j(l.$$.fragment,K),j(d.$$.fragment,K),j(k.$$.fragment,K),j(S.$$.fragment,K),j($.$$.fragment,K),j(E.$$.fragment,K);for(let ie=0;ie<$e.length;ie+=1)j(W[ie]);j(de.$$.fragment,K),j(fe),Qe=!0}},o(K){G(Ce),G(me),G(l.$$.fragment,K),G(d.$$.fragment,K),G(k.$$.fragment,K),G(S.$$.fragment,K),G($.$$.fragment,K),G(E.$$.fragment,K);for(let ie=0;ie<W.length;ie+=1)G(W[ie]);G(de.$$.fragment,K),G(fe),Qe=!1},d(K){Ce&&Ce.d(K),K&&H(e),me&&me.d(K),K&&H(n),K&&H(r),le(l),le(d),le(k),le(S),le($),le(E);for(let ie=0;ie<W.length;ie+=1)W[ie].d();le(de),xe[ae].d(),tt=!1,Ue(Me)}}}function Y1(t,e,n){let r,i,s,l;at(t,ft,S=>n(3,r=S)),at(t,Pn,S=>n(15,i=S)),at(t,Wt,S=>n(5,l=S));let o=!1,a="",f=es(0);at(t,f,S=>n(4,s=S));async function u(){const S=r,w=i;console.debug("Exporting quiz to file",S.name);const A=await Kd(S,w),v=S.name+".quizler";n1(v,A)}async function d(){const S=await e1(".quizler");if(S!==null)try{const w=await Jd(S);md(w),console.debug("Imported quiz file",w)}catch(w){console.error("Error while importing quiz file",w),jt("Failed to import","Quiz file invalid or corrupted")}}function c(S){if(S.lengthComputable){const w=S.loaded/S.total*100;console.debug(`Uploading content: ${w.toFixed(0)}%`),f.set(w)}}function p(S){for(let w=0;w<S.questions.length;w++){const A=S.questions[w];if(A.text=A.text.trim(),A.text.length<1)return jt("Empty quesiton",`Question ${w+1} text must not be empty`),!1;if(A.ty===pe.Single||A.ty===pe.Multiple)for(let v=0;v<A.answers.length;v++){const b=A.answers[v];if(b.value=b.value.trim(),b.value.length<1)return jt("Empty answer",`Answer number ${v+1} of question ${w+1} must not be blank`),!1}else if(A.ty===pe.Typer)for(let v=0;v<A.answers.length;v++){const b=A.answers[v].trim();if(A.answers[v]=b,b.length<1)return jt("Empty answer",`Answer number ${v+1} of question ${w+1} must not be blank`),!1}}return!0}function h(){const S=r;if(!p(S))return;n(0,o=!0),n(1,a="Uploading"),S.name=S.name.trim(),S.text=S.text.trim();const w=i;console.debug("Creating quiz"),Cu(S,w,c).then(A=>(n(1,a="Initializing"),console.debug("Initializing game",A),Nt({ty:Ct.Initialize,uuid:A}))).then(({id:A,token:v,config:b})=>{Ul({id:A,token:v,config:b,host:!0})}).catch(A=>{console.error("Failed to create",A),A instanceof Error?jt("Failed to create",A.message):jt("Failed to create",Ri[A])}).finally(()=>n(0,o=!1))}function y(S){_s(ft,r.questions=S.detail.items,r)}function k(S){_s(ft,r.questions=S.detail.items,r)}let _=!1;function D(S){_=S,n(2,_)}const x=()=>n(2,_=!0);function I(S){l=S,Wt.set(l)}return[o,a,_,r,s,l,f,u,d,h,y,k,D,x,I]}class X1 extends Ee{constructor(e){super(),ke(this,e,Y1,Q1,be,{})}}function K1(t){let e,n;return{c(){e=ce("svg"),n=ce("path"),m(n,"d","M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z"),m(e,"fill","#FFFFFF"),m(e,"width","32px"),m(e,"height","31.25px"),m(e,"viewBox","0 0 256 250"),m(e,"version","1.1"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"preserveAspectRatio","xMidYMid")},m(r,i){V(r,e,i),g(e,n)},p:Q,i:Q,o:Q,d(r){r&&H(e)}}}class J1 extends Ee{constructor(e){super(),ke(this,e,null,K1,be,{})}}function ep(t){let e,n,r;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(r,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"height","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),g(e,n),g(e,r)},p:Q,i:Q,o:Q,d(i){i&&H(e)}}}class tp extends Ee{constructor(e){super(),ke(this,e,null,ep,be,{})}}function np(t){let e,n,r,i,s,l,o,a,f;return{c(){e=ce("svg"),n=ce("path"),r=ce("path"),i=ce("path"),s=ce("path"),l=ce("path"),o=ce("path"),a=ce("path"),f=ce("path"),m(n,"d","M209.6,119.1v-3.38q0-16.18,2.49-20.42T225.44,83q5.69-4.19,7.9-7.8a16.8,16.8,0,0,0,2.2-9q0-6.59-4.2-10.35a14.58,14.58,0,0,0-10.16-3.76q-15.74,0-17.65,22.29L179.15,71q2.7-20.1,14.65-30.46T223,30.19q17.61,0,29.56,10.07a32.29,32.29,0,0,1,12,25.69q.06,19.3-19.76,32.34-8.61,5.71-10.43,8.92t-1.8,11.84Zm27.48,34.73-27.93.06L209.08,127,237,127Z"),m(n,"transform","translate(-5.67 -30.19)"),m(r,"d","M98.54,268.74a43,43,0,0,1-9.39,1.07q-15.06,0-20.17-6.46t-5.92-16.26a95.28,95.28,0,0,1-10.63.74q-21.31,0-34-16.68T5.67,190.36q0-23.55,12.27-40.71t36.14-17.17q23.55,0,35.9,17.08t12.35,41.05q0,19.26-7,32.06T78.7,241q0,8.65,9.88,8.65,2.88,0,10-.83ZM54,154q-20.72,0-20.71,36.39,0,36.55,20.63,36.55,20.87,0,20.87-36.06Q74.75,154,54,154Z"),m(r,"transform","translate(-5.67 -30.19)"),m(i,"d","M189.43,163.44v83.15H166.71V232.43q-6.42,15.88-24.53,15.89-9.39,0-14.41-3.5a19.32,19.32,0,0,1-7.21-9.55q-2.18-6-2.18-17.5V163.44h23.8v54.33q0,11.21,9.22,11.2a13,13,0,0,0,8.15-2.67,12,12,0,0,0,4.4-5.73q.95-3,1-10.45V163.44Z"),m(i,"transform","translate(-5.67 -30.19)"),m(s,"d","M234.22,163.44v83.15H209.69V163.44Z"),m(s,"transform","translate(-5.67 -30.19)"),m(l,"d","M311.45,163.44v15.31l-37.1,50H313.1v17.87H247.64V228.72l36.68-48.57H250.69V163.44Z"),m(l,"transform","translate(-5.67 -30.19)"),m(o,"d","M326.6,246.59V134.21h24.53V246.59Z"),m(o,"transform","translate(-5.67 -30.19)"),m(a,"d","M446,209.13H392.47q-.09,2.22-.09,3.87,0,8.9,4.74,13.42A15.79,15.79,0,0,0,408.44,231q12.27,0,14.74-13.09l22.23,1.64q-9.32,28.83-37.8,28.82-12.42,0-21.11-5a39.35,39.35,0,0,1-14.33-14.53q-5.64-9.56-5.64-22.89,0-19.84,11.32-32T407,161.71A37.84,37.84,0,0,1,434.5,173Q446,184.34,446,209.13Zm-53.6-14.24h29.56q-1.15-17.13-14.08-17.13Q394,177.76,392.38,194.89Z"),m(a,"transform","translate(-5.67 -30.19)"),m(f,"d","M485.25,246.59H461.46V163.44h22.48v15.47q5.18-17.28,17.94-17.29c1.21,0,2.69.09,4.45.25v24.21q-7.49,0-11.65,2.3t-6.79,8.28q-2.64,6-2.64,16.09Z"),m(f,"transform","translate(-5.67 -30.19)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 500.66 239.62"),m(e,"fill","#FFFFFF"),m(e,"width","248"),m(e,"height","135")},m(u,d){V(u,e,d),g(e,n),g(e,r),g(e,i),g(e,s),g(e,l),g(e,o),g(e,a),g(e,f)},p:Q,i:Q,o:Q,d(u){u&&H(e)}}}class rp extends Ee{constructor(e){super(),ke(this,e,null,np,be,{})}}function ip(t){let e,n,r,i,s,l,o,a,f,u,d,c,p,h,y,k,_,D,x,I,S,w,A;return i=new rp({}),o=new J1({}),c=new ci({}),_=new tp({}),{c(){e=C("main"),n=C("div"),r=C("div"),oe(i.$$.fragment),s=P(),l=C("a"),oe(o.$$.fragment),a=te(`
      View on GitHub`),f=P(),u=C("div"),d=C("button"),oe(c.$$.fragment),p=P(),h=C("div"),h.innerHTML=`<p class="action__name svelte-m049fv">Join a quiz</p> 
        <p class="action__text svelte-m049fv">Enter a game code and hop right in</p>`,y=P(),k=C("button"),oe(_.$$.fragment),D=P(),x=C("div"),x.innerHTML=`<p class="action__name svelte-m049fv">Create a quiz</p> 
        <p class="action__text svelte-m049fv">Create your own quiz</p>`,m(r,"class","logo svelte-m049fv"),m(l,"href","https://github.com/jacobtread/Quizler-v2"),m(l,"target","_blank"),m(l,"rel","noreferrer"),m(l,"title","View on Github"),m(l,"class","btn btn--icon github svelte-m049fv"),m(n,"class","left svelte-m049fv"),m(h,"class","action__body svelte-m049fv"),m(d,"class","action svelte-m049fv"),m(d,"aria-label","Join"),m(x,"class","action__body svelte-m049fv"),m(k,"class","action svelte-m049fv"),m(k,"aria-label","Create"),m(u,"class","actions svelte-m049fv"),m(e,"class","main svelte-m049fv")},m(v,b){V(v,e,b),g(e,n),g(n,r),se(i,r,null),g(n,s),g(n,l),se(o,l,null),g(l,a),g(e,f),g(e,u),g(u,d),se(c,d,null),g(d,p),g(d,h),g(u,y),g(u,k),se(_,k,null),g(k,D),g(k,x),S=!0,w||(A=[J(d,"click",ba),J(k,"click",ya)],w=!0)},p:Q,i(v){S||(j(i.$$.fragment,v),j(o.$$.fragment,v),j(c.$$.fragment,v),j(_.$$.fragment,v),Pe(()=>{S&&(I||(I=we(e,Re,{},!0)),I.run(1))}),S=!0)},o(v){G(i.$$.fragment,v),G(o.$$.fragment,v),G(c.$$.fragment,v),G(_.$$.fragment,v),I||(I=we(e,Re,{},!1)),I.run(0),S=!1},d(v){v&&H(e),le(i),le(o),le(c),le(_),v&&I&&I.end(),w=!1,Ue(A)}}}class sp extends Ee{constructor(e){super(),ke(this,e,null,ip,be,{})}}function lp(t){let e,n;return e=new no({props:{text:"Connecting to server..."}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function op(t){let e,n,r,i;const s=[fp,cp,up,ap],l=[];function o(a,f){return a[1].ty==Jn.Home?0:a[1].ty===Jn.Create?1:a[1].ty===Jn.Connect?2:a[1].ty===Jn.Game?3:-1}return~(e=o(t))&&(n=l[e]=s[e](t)),{c(){n&&n.c(),r=zt()},m(a,f){~e&&l[e].m(a,f),V(a,r,f),i=!0},p(a,f){let u=e;e=o(a),e===u?~e&&l[e].p(a,f):(n&&(Fe(),G(l[u],1,1,()=>{l[u]=null}),qe()),~e?(n=l[e],n?n.p(a,f):(n=l[e]=s[e](a),n.c()),j(n,1),n.m(r.parentNode,r)):n=null)},i(a){i||(j(n),i=!0)},o(a){G(n),i=!1},d(a){~e&&l[e].d(a),a&&H(r)}}}function ap(t){let e,n;return e=new ff({props:{gameData:t[1].gameData}}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&2&&(s.gameData=r[1].gameData),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function up(t){let e,n;return e=new pc({}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function cp(t){let e,n;return e=new X1({}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function fp(t){let e,n;return e=new sp({}),{c(){oe(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:Q,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function dp(t){let e,n,r,i,s;const l=[op,lp],o=[];function a(f,u){return f[0]?0:1}return e=a(t),n=o[e]=l[e](t),i=new Aa({}),{c(){n.c(),r=P(),oe(i.$$.fragment)},m(f,u){o[e].m(f,u),V(f,r,u),se(i,f,u),s=!0},p(f,[u]){let d=e;e=a(f),e===d?o[e].p(f,u):(Fe(),G(o[d],1,1,()=>{o[d]=null}),qe(),n=o[e],n?n.p(f,u):(n=o[e]=l[e](f),n.c()),j(n,1),n.m(r.parentNode,r))},i(f){s||(j(n),j(i.$$.fragment,f),s=!0)},o(f){G(n),G(i.$$.fragment,f),s=!1},d(f){o[e].d(f),f&&H(r),le(i,f)}}}function pp(t,e,n){let r,i;return at(t,Yi,s=>n(0,r=s)),at(t,kr,s=>n(1,i=s)),[r,i]}class hp extends Ee{constructor(e){super(),ke(this,e,pp,dp,be,{})}}new hp({target:document.getElementById("app")});
