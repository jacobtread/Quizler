(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function G(){}const _r=n=>n;function ds(n,e){for(const t in e)n[t]=e[t];return n}function fi(n){return n()}function hs(){return Object.create(null)}function Je(n){n.forEach(fi)}function wn(n){return typeof n=="function"}function ve(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let zn;function Yn(n,e){return zn||(zn=document.createElement("a")),zn.href=e,n===zn.href}function ua(n){return Object.keys(n).length===0}function ca(n,...e){if(n==null)return G;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function wt(n,e,t){n.$$.on_destroy.push(ca(e,t))}function fa(n){return n&&wn(n.destroy)?n.destroy:G}const di=typeof window<"u";let Br=di?()=>window.performance.now():()=>Date.now(),Vr=di?n=>requestAnimationFrame(n):G;const dn=new Set;function hi(n){dn.forEach(e=>{e.c(n)||(dn.delete(e),e.f())}),dn.size!==0&&Vr(hi)}function Qr(n){let e;return dn.size===0&&Vr(hi),{promise:new Promise(t=>{dn.add(e={c:n,f:t})}),abort(){dn.delete(e)}}}function m(n,e){n.appendChild(e)}function pi(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function da(n){const e=S("style");return ha(pi(n),e),e.sheet}function ha(n,e){return m(n.head||n,e),e.sheet}function H(n,e,t){n.insertBefore(e,t||null)}function z(n){n.parentNode&&n.parentNode.removeChild(n)}function En(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function S(n){return document.createElement(n)}function ue(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ee(n){return document.createTextNode(n)}function j(){return ee(" ")}function Pt(){return ee("")}function J(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function _(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function gt(n){return n===""?null:+n}function pa(n){return Array.from(n.childNodes)}function $e(n,e){e=""+e,n.data!==e&&(n.data=e)}function Pe(n,e){n.value=e??""}function ps(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Ht(n,e,t){for(let r=0;r<n.options.length;r+=1){const s=n.options[r];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function gr(n){const e=n.querySelector(":checked");return e&&e.__value}function ms(n,e,t){n.classList[t?"add":"remove"](e)}function ma(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,t,r,e),s}const Jn=new Map;let Xn=0;function _a(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function ga(n,e){const t={stylesheet:da(e),rules:{}};return Jn.set(n,t),t}function Nr(n,e,t,r,s,i,a,l=0){const u=16.666/r;let d=`{
`;for(let w=0;w<=1;w+=u){const g=e+(t-e)*i(w);d+=w*100+`%{${a(g,1-g)}}
`}const o=d+`100% {${a(t,1-t)}}
}`,f=`__svelte_${_a(o)}_${l}`,c=pi(n),{stylesheet:h,rules:p}=Jn.get(c)||ga(c,n);p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${o}`,h.cssRules.length));const b=n.style.animation||"";return n.style.animation=`${b?`${b}, `:""}${f} ${r}ms linear ${s}ms 1 both`,Xn+=1,f}function mi(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=t.length-r.length;s&&(n.style.animation=r.join(", "),Xn-=s,Xn||va())}function va(){Vr(()=>{Xn||(Jn.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&z(e)}),Jn.clear())})}function vr(n,e,t,r){if(!e)return G;const s=n.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return G;const{delay:i=0,duration:a=300,easing:l=_r,start:u=Br()+i,end:d=u+a,tick:o=G,css:f}=t(n,{from:e,to:s},r);let c=!0,h=!1,p;function b(){f&&(p=Nr(n,0,1,a,i,l,f)),i||(h=!0)}function w(){f&&mi(n,p),c=!1}return Qr(g=>{if(!h&&g>=u&&(h=!0),h&&g>=d&&(o(1,0),w()),!c)return!1;if(h){const k=g-u,x=0+1*l(k/a);o(x,1-x)}return!0}),b(),o(0,1),w}function yr(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,ya(n,s)}}function ya(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),s=r.transform==="none"?"":r.transform;n.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Sn;function xn(n){Sn=n}function _i(){if(!Sn)throw new Error("Function called outside component initialization");return Sn}function gi(n){_i().$$.on_mount.push(n)}function ba(n){_i().$$.on_destroy.push(n)}const an=[],zt=[];let hn=[];const Ur=[],wa=Promise.resolve();let Rr=!1;function ka(){Rr||(Rr=!0,wa.then(vi))}function Ye(n){hn.push(n)}function pn(n){Ur.push(n)}const Tr=new Set;let rn=0;function vi(){if(rn!==0)return;const n=Sn;do{try{for(;rn<an.length;){const e=an[rn];rn++,xn(e),Ca(e.$$)}}catch(e){throw an.length=0,rn=0,e}for(xn(null),an.length=0,rn=0;zt.length;)zt.pop()();for(let e=0;e<hn.length;e+=1){const t=hn[e];Tr.has(t)||(Tr.add(t),t())}hn.length=0}while(an.length);for(;Ur.length;)Ur.pop()();Rr=!1,Tr.clear(),xn(n)}function Ca(n){if(n.fragment!==null){n.update(),Je(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Ye)}}function Aa(n){const e=[],t=[];hn.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),hn=e}let An;function xa(){return An||(An=Promise.resolve(),An.then(()=>{An=null})),An}function Ir(n,e,t){n.dispatchEvent(ma(`${e?"intro":"outro"}${t}`))}const Bn=new Set;let Ut;function nt(){Ut={r:0,c:[],p:Ut}}function rt(){Ut.r||Je(Ut.c),Ut=Ut.p}function B(n,e){n&&n.i&&(Bn.delete(n),n.i(e))}function W(n,e,t,r){if(n&&n.o){if(Bn.has(n))return;Bn.add(n),Ut.c.push(()=>{Bn.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const $a={duration:0};function Re(n,e,t,r){const s={direction:"both"};let i=e(n,t,s),a=r?0:1,l=null,u=null,d=null;function o(){d&&mi(n,d)}function f(h,p){const b=h.b-a;return p*=Math.abs(b),{a,b:h.b,d:b,duration:p,start:h.start,end:h.start+p,group:h.group}}function c(h){const{delay:p=0,duration:b=300,easing:w=_r,tick:g=G,css:k}=i||$a,x={start:Br()+p,b:h};h||(x.group=Ut,Ut.r+=1),l||u?u=x:(k&&(o(),d=Nr(n,a,h,b,p,w,k)),h&&g(0,1),l=f(x,b),Ye(()=>Ir(n,h,"start")),Qr(E=>{if(u&&E>u.start&&(l=f(u,b),u=null,Ir(n,l.b,"start"),k&&(o(),d=Nr(n,a,l.b,l.duration,0,w,i.css))),l){if(E>=l.end)g(a=l.b,1-a),Ir(n,l.b,"end"),u||(l.b?o():--l.group.r||Je(l.group.c)),l=null;else if(E>=l.start){const U=E-l.start;a=l.a+l.d*w(U/l.duration),g(a,1-a)}}return!!(l||u)}))}return{run(h){wn(i)?xa().then(()=>{i=i(s),c(h)}):c(h)},end(){o(),l=u=null}}}function Ea(n,e){W(n,1,1,()=>{e.delete(n.key)})}function br(n,e){n.f(),Ea(n,e)}function wr(n,e,t,r,s,i,a,l,u,d,o,f){let c=n.length,h=i.length,p=c;const b={};for(;p--;)b[n[p].key]=p;const w=[],g=new Map,k=new Map,x=[];for(p=h;p--;){const M=f(s,i,p),y=t(M);let v=a.get(y);v?r&&x.push(()=>v.p(M,e)):(v=d(y,M),v.c()),g.set(y,w[p]=v),y in b&&k.set(y,Math.abs(p-b[y]))}const E=new Set,U=new Set;function $(M){B(M,1),M.m(l,o),a.set(M.key,M),o=M.first,h--}for(;c&&h;){const M=w[h-1],y=n[c-1],v=M.key,I=y.key;M===y?(o=M.first,c--,h--):g.has(I)?!a.has(v)||E.has(v)?$(M):U.has(I)?c--:k.get(v)>k.get(I)?(U.add(v),$(M)):(E.add(I),c--):(u(y,a),c--)}for(;c--;){const M=n[c];g.has(M.key)||u(M,a)}for(;h;)$(w[h-1]);return Je(x),w}const Sa=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...Sa];function mn(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function le(n){n&&n.c()}function ie(n,e,t,r){const{fragment:s,after_update:i}=n.$$;s&&s.m(e,t),r||Ye(()=>{const a=n.$$.on_mount.map(fi).filter(wn);n.$$.on_destroy?n.$$.on_destroy.push(...a):Je(a),n.$$.on_mount=[]}),i.forEach(Ye)}function ae(n,e){const t=n.$$;t.fragment!==null&&(Aa(t.after_update),Je(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ta(n,e){n.$$.dirty[0]===-1&&(an.push(n),ka(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ke(n,e,t,r,s,i,a,l=[-1]){const u=Sn;xn(n);const d=n.$$={fragment:null,ctx:[],props:i,update:G,not_equal:s,bound:hs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:hs(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};a&&a(d.root);let o=!1;if(d.ctx=t?t(n,e.props||{},(f,c,...h)=>{const p=h.length?h[0]:c;return d.ctx&&s(d.ctx[f],d.ctx[f]=p)&&(!d.skip_bound&&d.bound[f]&&d.bound[f](p),o&&Ta(n,f)),c}):[],d.update(),o=!0,Je(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){const f=pa(e.target);d.fragment&&d.fragment.l(f),f.forEach(z)}else d.fragment&&d.fragment.c();e.intro&&B(n.$$.fragment),ie(n,e.target,e.anchor,e.customElement),vi()}xn(u)}class Ce{$destroy(){ae(this,1),this.$destroy=G}$on(e,t){if(!wn(t))return G;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!ua(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const sn=[];function Gt(n,e=G){let t;const r=new Set;function s(l){if(ve(n,l)&&(n=l,t)){const u=!sn.length;for(const d of r)d[1](),sn.push(d,n);if(u){for(let d=0;d<sn.length;d+=2)sn[d][0](sn[d+1]);sn.length=0}}}function i(l){s(l(n))}function a(l,u=G){const d=[l,u];return r.add(d),r.size===1&&(t=e(s)||G),l(n),()=>{r.delete(d),r.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:a}}var ln=(n=>(n[n.Home=0]="Home",n[n.Connect=1]="Connect",n[n.Create=2]="Create",n[n.Editing=3]="Editing",n[n.Game=4]="Game",n))(ln||{});const kn=Gt({ty:0});function Zn(){kn.set({ty:0})}function Or(){kn.set({ty:2})}function Ia(){kn.set({ty:1})}function yi(n){kn.set({ty:4,gameData:n})}function Ma(n){kn.set({ty:3,question:n})}function bi(n){const e=n-1;return e*e*e+1}function Kn(n,{delay:e=0,duration:t=400,easing:r=_r}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:i=>`opacity: ${i*s}`}}function ze(n,{delay:e=0,duration:t=400,easing:r=bi,axis:s="y"}={}){const i=getComputedStyle(n),a=+i.opacity,l=s==="y"?"height":"width",u=parseFloat(i[l]),d=s==="y"?["top","bottom"]:["left","right"],o=d.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),f=parseFloat(i[`padding${o[0]}`]),c=parseFloat(i[`padding${o[1]}`]),h=parseFloat(i[`margin${o[0]}`]),p=parseFloat(i[`margin${o[1]}`]),b=parseFloat(i[`border${o[0]}Width`]),w=parseFloat(i[`border${o[1]}Width`]);return{delay:e,duration:t,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*a};${l}: ${g*u}px;padding-${d[0]}: ${g*f}px;padding-${d[1]}: ${g*c}px;margin-${d[0]}: ${g*h}px;margin-${d[1]}: ${g*p}px;border-${d[0]}-width: ${g*b}px;border-${d[1]}-width: ${g*w}px;`}}var wi=(n=>(n[n.Error=0]="Error",n[n.Confirm=1]="Confirm",n))(wi||{});const kr=Gt(null);function Mr(n){kr.update(e=>(e!==null&&e.ty===1&&e.callback(n),null))}function Wr(n,e){return new Promise(t=>{kr.set({ty:1,title:n,message:e,callback:t})})}function Rt(n,e){kr.set({ty:0,title:n,message:e})}function _s(n){let e,t,r,s=n[0].title+"",i,a,l,u=n[0].message+"",d,o,f,c,h,p;function b(k,x){return k[0].ty===wi.Error?Na:Fa}let w=b(n),g=w(n);return{c(){e=S("div"),t=S("div"),r=S("h1"),i=ee(s),a=j(),l=S("p"),d=ee(u),o=j(),f=S("div"),g.c(),_(r,"class","dialog__title svelte-171o5q7"),_(l,"class","dialog__msg svelte-171o5q7"),_(f,"class","btn-row btn-row--fill"),_(t,"class","dialog svelte-171o5q7"),_(e,"class","dialog-wrapper svelte-171o5q7")},m(k,x){H(k,e,x),m(e,t),m(t,r),m(r,i),m(t,a),m(t,l),m(l,d),m(t,o),m(t,f),g.m(f,null),p=!0},p(k,x){(!p||x&1)&&s!==(s=k[0].title+"")&&$e(i,s),(!p||x&1)&&u!==(u=k[0].message+"")&&$e(d,u),w===(w=b(k))&&g?g.p(k,x):(g.d(1),g=w(k),g&&(g.c(),g.m(f,null)))},i(k){p||(Ye(()=>{p&&(c||(c=Re(t,ze,{duration:200},!0)),c.run(1))}),Ye(()=>{p&&(h||(h=Re(e,Kn,{duration:200},!0)),h.run(1))}),p=!0)},o(k){c||(c=Re(t,ze,{duration:200},!1)),c.run(0),h||(h=Re(e,Kn,{duration:200},!1)),h.run(0),p=!1},d(k){k&&z(e),g.d(),k&&c&&c.end(),k&&h&&h.end()}}}function Fa(n){let e,t,r,s,i;return{c(){e=S("button"),e.textContent="Confirm",t=j(),r=S("button"),r.textContent="Cancel",_(e,"class","btn btn--surface"),_(r,"class","btn btn--surface")},m(a,l){H(a,e,l),H(a,t,l),H(a,r,l),s||(i=[J(e,"click",n[2]),J(r,"click",n[3])],s=!0)},p:G,d(a){a&&z(e),a&&z(t),a&&z(r),s=!1,Je(i)}}}function Na(n){let e,t,r;return{c(){e=S("button"),e.textContent="Close",_(e,"class","btn btn--surface")},m(s,i){H(s,e,i),t||(r=J(e,"click",n[1]),t=!0)},p:G,d(s){s&&z(e),t=!1,r()}}}function Ua(n){let e,t,r=n[0]&&_s(n);return{c(){r&&r.c(),e=Pt()},m(s,i){r&&r.m(s,i),H(s,e,i),t=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&B(r,1)):(r=_s(s),r.c(),B(r,1),r.m(e.parentNode,e)):r&&(nt(),W(r,1,1,()=>{r=null}),rt())},i(s){t||(B(r),t=!0)},o(s){W(r),t=!1},d(s){r&&r.d(s),s&&z(e)}}}function Ra(n,e,t){let r;return wt(n,kr,l=>t(0,r=l)),[r,()=>Mr(!0),()=>Mr(!0),()=>Mr(!1)]}class Oa extends Ce{constructor(e){super(),ke(this,e,Ra,Ua,ve,{})}}var Ne;(function(n){n.assertEqual=s=>s;function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},n.getValidEnumValues=s=>{const i=n.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return n.objectValues(a)},n.objectValues=s=>n.objectKeys(s).map(function(i){return s[i]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},n.find=(s,i)=>{for(const a of s)if(i(a))return a},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}n.joinValues=r,n.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ne||(Ne={}));var qr;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(qr||(qr={}));const X=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Lt=n=>{switch(typeof n){case"undefined":return X.undefined;case"string":return X.string;case"number":return isNaN(n)?X.nan:X.number;case"boolean":return X.boolean;case"function":return X.function;case"bigint":return X.bigint;case"symbol":return X.symbol;case"object":return Array.isArray(n)?X.array:n===null?X.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?X.promise:typeof Map<"u"&&n instanceof Map?X.map:typeof Set<"u"&&n instanceof Set?X.set:typeof Date<"u"&&n instanceof Date?X.date:X.object;default:return X.unknown}},Q=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),qa=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class xt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let l=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(a))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}xt.create=n=>new xt(n);const Tn=(n,e)=>{let t;switch(n.code){case Q.invalid_type:n.received===X.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Q.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Ne.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ne.joinValues(n.keys,", ")}`;break;case Q.invalid_union:t="Invalid input";break;case Q.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ne.joinValues(n.options)}`;break;case Q.invalid_enum_value:t=`Invalid enum value. Expected ${Ne.joinValues(n.options)}, received '${n.received}'`;break;case Q.invalid_arguments:t="Invalid function arguments";break;case Q.invalid_return_type:t="Invalid function return type";break;case Q.invalid_date:t="Invalid date";break;case Q.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Ne.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Q.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Q.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Q.custom:t="Invalid input";break;case Q.invalid_intersection_types:t="Intersection results could not be merged";break;case Q.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Q.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ne.assertNever(n)}return{message:t}};let ki=Tn;function Da(n){ki=n}function er(){return ki}const tr=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,i=[...t,...s.path||[]],a={...s,path:i};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(a,{data:e,defaultError:l}).message;return{...s,path:i,message:s.message||l}},ja=[];function K(n,e){const t=tr({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,er(),Tn].filter(r=>!!r)});n.common.issues.push(t)}class ot{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return fe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t)r.push({key:await s.key,value:await s.value});return ot.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return fe;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const fe=Object.freeze({status:"aborted"}),Ci=n=>({status:"dirty",value:n}),dt=n=>({status:"valid",value:n}),Dr=n=>n.status==="aborted",jr=n=>n.status==="dirty",nr=n=>n.status==="valid",rr=n=>typeof Promise<"u"&&n instanceof Promise;var se;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class Mt{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gs=(n,e)=>{if(nr(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new xt(n.common.issues);return this._error=t,this._error}}};function he(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>a.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:t??l.defaultError},description:s}}class _e{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Lt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Lt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ot,ctx:{common:e.parent.common,data:e.data,parsedType:Lt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(rr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const s={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lt(e)},i=this._parseSync({data:e,path:s.path,parent:s});return gs(s,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lt(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(rr(s)?s:Promise.resolve(s));return gs(r,i)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:Q.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Et({schema:this,typeName:oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ot.create(this,this._def)}nullable(){return tn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $t.create(this,this._def)}promise(){return yn.create(this,this._def)}or(e){return Nn.create([this,e],this._def)}and(e){return Un.create(this,e,this._def)}transform(e){return new Et({...he(this._def),schema:this,typeName:oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new jn({...he(this._def),innerType:this,defaultValue:t,typeName:oe.ZodDefault})}brand(){return new xi({typeName:oe.ZodBranded,type:this,...he(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new lr({...he(this._def),innerType:this,catchValue:t,typeName:oe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ln.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pa=/^c[^\s-]{8,}$/i,Za=/^[a-z][a-z0-9]*$/,La=/[0-9A-HJKMNP-TV-Z]{26}/,za=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Ha=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Ba=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Va=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Qa=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Wa=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Ga(n,e){return!!((e==="v4"||!e)&&Va.test(n)||(e==="v6"||!e)&&Qa.test(n))}class At extends _e{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(s=>e.test(s),{validation:t,code:Q.invalid_string,...se.errToObj(r)}),this.nonempty=e=>this.min(1,se.errToObj(e)),this.trim=()=>new At({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new At({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new At({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==X.string){const i=this._getOrReturnCtx(e);return K(i,{code:Q.invalid_type,expected:X.string,received:i.parsedType}),fe}const r=new ot;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),K(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),K(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?K(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&K(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Ha.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"email",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ba.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"emoji",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")za.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"uuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Pa.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"cuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Za.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"cuid2",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")La.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"ulid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),K(s,{validation:"url",code:Q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"regex",code:Q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),K(s,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),K(s,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),K(s,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Wa(i).test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{code:Q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?Ga(e.data,i.version)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"ip",code:Q.invalid_string,message:i.message}),r.dirty()):Ne.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new At({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...se.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...se.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...se.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}At.create=n=>{var e;return new At({checks:[],typeName:oe.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...he(n)})};function Ya(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,i=parseInt(n.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Bt extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==X.number){const i=this._getOrReturnCtx(e);return K(i,{code:Q.invalid_type,expected:X.number,received:i.parsedType}),fe}let r;const s=new ot;for(const i of this._def.checks)i.kind==="int"?Ne.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ya(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),K(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{code:Q.not_finite,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,s){return new Bt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(s)}]})}_addCheck(e){return new Bt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ne.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Bt.create=n=>new Bt({checks:[],typeName:oe.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...he(n)});class Vt extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==X.bigint){const i=this._getOrReturnCtx(e);return K(i,{code:Q.invalid_type,expected:X.bigint,received:i.parsedType}),fe}let r;const s=new ot;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),K(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,s){return new Vt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(s)}]})}_addCheck(e){return new Vt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Vt.create=n=>{var e;return new Vt({checks:[],typeName:oe.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...he(n)})};class In extends _e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==X.boolean){const r=this._getOrReturnCtx(e);return K(r,{code:Q.invalid_type,expected:X.boolean,received:r.parsedType}),fe}return dt(e.data)}}In.create=n=>new In({typeName:oe.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...he(n)});class Kt extends _e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==X.date){const i=this._getOrReturnCtx(e);return K(i,{code:Q.invalid_type,expected:X.date,received:i.parsedType}),fe}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return K(i,{code:Q.invalid_date}),fe}const r=new ot;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),K(s,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),K(s,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ne.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Kt.create=n=>new Kt({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:oe.ZodDate,...he(n)});class sr extends _e{_parse(e){if(this._getType(e)!==X.symbol){const r=this._getOrReturnCtx(e);return K(r,{code:Q.invalid_type,expected:X.symbol,received:r.parsedType}),fe}return dt(e.data)}}sr.create=n=>new sr({typeName:oe.ZodSymbol,...he(n)});class Mn extends _e{_parse(e){if(this._getType(e)!==X.undefined){const r=this._getOrReturnCtx(e);return K(r,{code:Q.invalid_type,expected:X.undefined,received:r.parsedType}),fe}return dt(e.data)}}Mn.create=n=>new Mn({typeName:oe.ZodUndefined,...he(n)});class Fn extends _e{_parse(e){if(this._getType(e)!==X.null){const r=this._getOrReturnCtx(e);return K(r,{code:Q.invalid_type,expected:X.null,received:r.parsedType}),fe}return dt(e.data)}}Fn.create=n=>new Fn({typeName:oe.ZodNull,...he(n)});class vn extends _e{constructor(){super(...arguments),this._any=!0}_parse(e){return dt(e.data)}}vn.create=n=>new vn({typeName:oe.ZodAny,...he(n)});class Xt extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dt(e.data)}}Xt.create=n=>new Xt({typeName:oe.ZodUnknown,...he(n)});class Dt extends _e{_parse(e){const t=this._getOrReturnCtx(e);return K(t,{code:Q.invalid_type,expected:X.never,received:t.parsedType}),fe}}Dt.create=n=>new Dt({typeName:oe.ZodNever,...he(n)});class ir extends _e{_parse(e){if(this._getType(e)!==X.undefined){const r=this._getOrReturnCtx(e);return K(r,{code:Q.invalid_type,expected:X.void,received:r.parsedType}),fe}return dt(e.data)}}ir.create=n=>new ir({typeName:oe.ZodVoid,...he(n)});class $t extends _e{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==X.array)return K(t,{code:Q.invalid_type,expected:X.array,received:t.parsedType}),fe;if(s.exactLength!==null){const a=t.data.length>s.exactLength.value,l=t.data.length<s.exactLength.value;(a||l)&&(K(t,{code:a?Q.too_big:Q.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(K(t,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(K(t,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,l)=>s.type._parseAsync(new Mt(t,a,t.path,l)))).then(a=>ot.mergeArray(r,a));const i=[...t.data].map((a,l)=>s.type._parseSync(new Mt(t,a,t.path,l)));return ot.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new $t({...this._def,minLength:{value:e,message:se.toString(t)}})}max(e,t){return new $t({...this._def,maxLength:{value:e,message:se.toString(t)}})}length(e,t){return new $t({...this._def,exactLength:{value:e,message:se.toString(t)}})}nonempty(e){return this.min(1,e)}}$t.create=(n,e)=>new $t({type:n,minLength:null,maxLength:null,exactLength:null,typeName:oe.ZodArray,...he(e)});function on(n){if(n instanceof Qe){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Ot.create(on(r))}return new Qe({...n._def,shape:()=>e})}else return n instanceof $t?new $t({...n._def,type:on(n.element)}):n instanceof Ot?Ot.create(on(n.unwrap())):n instanceof tn?tn.create(on(n.unwrap())):n instanceof Ft?Ft.create(n.items.map(e=>on(e))):n}class Qe extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ne.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==X.object){const d=this._getOrReturnCtx(e);return K(d,{code:Q.invalid_type,expected:X.object,received:d.parsedType}),fe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Dt&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||l.push(d);const u=[];for(const d of a){const o=i[d],f=s.data[d];u.push({key:{status:"valid",value:d},value:o._parse(new Mt(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Dt){const d=this._def.unknownKeys;if(d==="passthrough")for(const o of l)u.push({key:{status:"valid",value:o},value:{status:"valid",value:s.data[o]}});else if(d==="strict")l.length>0&&(K(s,{code:Q.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const o of l){const f=s.data[o];u.push({key:{status:"valid",value:o},value:d._parse(new Mt(s,f,s.path,o)),alwaysSet:o in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const o of u){const f=await o.key;d.push({key:f,value:await o.value,alwaysSet:o.alwaysSet})}return d}).then(d=>ot.mergeObjectSync(r,d)):ot.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new Qe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,i,a,l;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(l=se.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new Qe({...this._def,unknownKeys:"strip"})}passthrough(){return new Qe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:oe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Qe({...this._def,catchall:e})}pick(e){const t={};return Ne.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new Qe({...this._def,shape:()=>t})}omit(e){const t={};return Ne.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new Qe({...this._def,shape:()=>t})}deepPartial(){return on(this)}partial(e){const t={};return Ne.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new Qe({...this._def,shape:()=>t})}required(e){const t={};return Ne.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ot;)i=i._def.innerType;t[r]=i}}),new Qe({...this._def,shape:()=>t})}keyof(){return Ai(Ne.objectKeys(this.shape))}}Qe.create=(n,e)=>new Qe({shape:()=>n,unknownKeys:"strip",catchall:Dt.create(),typeName:oe.ZodObject,...he(e)});Qe.strictCreate=(n,e)=>new Qe({shape:()=>n,unknownKeys:"strict",catchall:Dt.create(),typeName:oe.ZodObject,...he(e)});Qe.lazycreate=(n,e)=>new Qe({shape:n,unknownKeys:"strip",catchall:Dt.create(),typeName:oe.ZodObject,...he(e)});class Nn extends _e{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new xt(l.ctx.common.issues));return K(t,{code:Q.invalid_union,unionErrors:a}),fe}if(t.common.async)return Promise.all(r.map(async i=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const d={...t,common:{...t.common,issues:[]},parent:null},o=u._parseSync({data:t.data,path:t.path,parent:d});if(o.status==="valid")return o;o.status==="dirty"&&!i&&(i={result:o,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(u=>new xt(u));return K(t,{code:Q.invalid_union,unionErrors:l}),fe}}get options(){return this._def.options}}Nn.create=(n,e)=>new Nn({options:n,typeName:oe.ZodUnion,...he(e)});const Vn=n=>n instanceof On?Vn(n.schema):n instanceof Et?Vn(n.innerType()):n instanceof qn?[n.value]:n instanceof Qt?n.options:n instanceof Dn?Object.keys(n.enum):n instanceof jn?Vn(n._def.innerType):n instanceof Mn?[void 0]:n instanceof Fn?[null]:null;class Cr extends _e{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==X.object)return K(t,{code:Q.invalid_type,expected:X.object,received:t.parsedType}),fe;const r=this.discriminator,s=t.data[r],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(K(t,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),fe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const i of t){const a=Vn(i.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Cr({typeName:oe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...he(r)})}}function Pr(n,e){const t=Lt(n),r=Lt(e);if(n===e)return{valid:!0,data:n};if(t===X.object&&r===X.object){const s=Ne.objectKeys(e),i=Ne.objectKeys(n).filter(l=>s.indexOf(l)!==-1),a={...n,...e};for(const l of i){const u=Pr(n[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(t===X.array&&r===X.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<n.length;i++){const a=n[i],l=e[i],u=Pr(a,l);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return t===X.date&&r===X.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Un extends _e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Dr(i)||Dr(a))return fe;const l=Pr(i.value,a.value);return l.valid?((jr(i)||jr(a))&&t.dirty(),{status:t.value,value:l.data}):(K(r,{code:Q.invalid_intersection_types}),fe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Un.create=(n,e,t)=>new Un({left:n,right:e,typeName:oe.ZodIntersection,...he(t)});class Ft extends _e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==X.array)return K(r,{code:Q.invalid_type,expected:X.array,received:r.parsedType}),fe;if(r.data.length<this._def.items.length)return K(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fe;!this._def.rest&&r.data.length>this._def.items.length&&(K(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Mt(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>ot.mergeArray(t,a)):ot.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Ft({...this._def,rest:e})}}Ft.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ft({items:n,typeName:oe.ZodTuple,rest:null,...he(e)})};class Rn extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==X.object)return K(r,{code:Q.invalid_type,expected:X.object,received:r.parsedType}),fe;const s=[],i=this._def.keyType,a=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new Mt(r,l,r.path,l)),value:a._parse(new Mt(r,r.data[l],r.path,l))});return r.common.async?ot.mergeObjectAsync(t,s):ot.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof _e?new Rn({keyType:e,valueType:t,typeName:oe.ZodRecord,...he(r)}):new Rn({keyType:At.create(),valueType:e,typeName:oe.ZodRecord,...he(t)})}}class ar extends _e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==X.map)return K(r,{code:Q.invalid_type,expected:X.map,received:r.parsedType}),fe;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,u],d)=>({key:s._parse(new Mt(r,l,r.path,[d,"key"])),value:i._parse(new Mt(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,o=await u.value;if(d.status==="aborted"||o.status==="aborted")return fe;(d.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(d.value,o.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const u of a){const d=u.key,o=u.value;if(d.status==="aborted"||o.status==="aborted")return fe;(d.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(d.value,o.value)}return{status:t.value,value:l}}}}ar.create=(n,e,t)=>new ar({valueType:e,keyType:n,typeName:oe.ZodMap,...he(t)});class en extends _e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==X.set)return K(r,{code:Q.invalid_type,expected:X.set,received:r.parsedType}),fe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(K(r,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(K(r,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const i=this._def.valueType;function a(u){const d=new Set;for(const o of u){if(o.status==="aborted")return fe;o.status==="dirty"&&t.dirty(),d.add(o.value)}return{status:t.value,value:d}}const l=[...r.data.values()].map((u,d)=>i._parse(new Mt(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,t){return new en({...this._def,minSize:{value:e,message:se.toString(t)}})}max(e,t){return new en({...this._def,maxSize:{value:e,message:se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}en.create=(n,e)=>new en({valueType:n,minSize:null,maxSize:null,typeName:oe.ZodSet,...he(e)});class _n extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==X.function)return K(t,{code:Q.invalid_type,expected:X.function,received:t.parsedType}),fe;function r(l,u){return tr({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,er(),Tn].filter(d=>!!d),issueData:{code:Q.invalid_arguments,argumentsError:u}})}function s(l,u){return tr({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,er(),Tn].filter(d=>!!d),issueData:{code:Q.invalid_return_type,returnTypeError:u}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;return this._def.returns instanceof yn?dt(async(...l)=>{const u=new xt([]),d=await this._def.args.parseAsync(l,i).catch(c=>{throw u.addIssue(r(l,c)),u}),o=await a(...d);return await this._def.returns._def.type.parseAsync(o,i).catch(c=>{throw u.addIssue(s(o,c)),u})}):dt((...l)=>{const u=this._def.args.safeParse(l,i);if(!u.success)throw new xt([r(l,u.error)]);const d=a(...u.data),o=this._def.returns.safeParse(d,i);if(!o.success)throw new xt([s(d,o.error)]);return o.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new _n({...this._def,args:Ft.create(e).rest(Xt.create())})}returns(e){return new _n({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new _n({args:e||Ft.create([]).rest(Xt.create()),returns:t||Xt.create(),typeName:oe.ZodFunction,...he(r)})}}class On extends _e{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}On.create=(n,e)=>new On({getter:n,typeName:oe.ZodLazy,...he(e)});class qn extends _e{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return K(t,{received:t.data,code:Q.invalid_literal,expected:this._def.value}),fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}qn.create=(n,e)=>new qn({value:n,typeName:oe.ZodLiteral,...he(e)});function Ai(n,e){return new Qt({values:n,typeName:oe.ZodEnum,...he(e)})}class Qt extends _e{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return K(t,{expected:Ne.joinValues(r),received:t.parsedType,code:Q.invalid_type}),fe}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),r=this._def.values;return K(t,{received:t.data,code:Q.invalid_enum_value,options:r}),fe}return dt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Qt.create(e)}exclude(e){return Qt.create(this.options.filter(t=>!e.includes(t)))}}Qt.create=Ai;class Dn extends _e{_parse(e){const t=Ne.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==X.string&&r.parsedType!==X.number){const s=Ne.objectValues(t);return K(r,{expected:Ne.joinValues(s),received:r.parsedType,code:Q.invalid_type}),fe}if(t.indexOf(e.data)===-1){const s=Ne.objectValues(t);return K(r,{received:r.data,code:Q.invalid_enum_value,options:s}),fe}return dt(e.data)}get enum(){return this._def.values}}Dn.create=(n,e)=>new Dn({values:n,typeName:oe.ZodNativeEnum,...he(e)});class yn extends _e{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==X.promise&&t.common.async===!1)return K(t,{code:Q.invalid_type,expected:X.promise,received:t.parsedType}),fe;const r=t.parsedType===X.promise?t.data:Promise.resolve(t.data);return dt(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}yn.create=(n,e)=>new yn({type:n,typeName:oe.ZodPromise,...he(e)});class Et extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null;if(s.type==="preprocess"){const a=s.transform(r.data);return r.common.async?Promise.resolve(a).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}const i={addIssue:a=>{K(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const a=l=>{const u=s.refinement(l,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?fe:(l.status==="dirty"&&t.dirty(),a(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?fe:(l.status==="dirty"&&t.dirty(),a(l.value).then(()=>({status:t.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!nr(a))return a;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>nr(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:t.value,value:l})):a);Ne.assertNever(s)}}Et.create=(n,e,t)=>new Et({schema:n,typeName:oe.ZodEffects,effect:e,...he(t)});Et.createWithPreprocess=(n,e,t)=>new Et({schema:e,effect:{type:"preprocess",transform:n},typeName:oe.ZodEffects,...he(t)});class Ot extends _e{_parse(e){return this._getType(e)===X.undefined?dt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ot.create=(n,e)=>new Ot({innerType:n,typeName:oe.ZodOptional,...he(e)});class tn extends _e{_parse(e){return this._getType(e)===X.null?dt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tn.create=(n,e)=>new tn({innerType:n,typeName:oe.ZodNullable,...he(e)});class jn extends _e{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===X.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}jn.create=(n,e)=>new jn({innerType:n,typeName:oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...he(e)});class lr extends _e{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rr(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new xt(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lr.create=(n,e)=>new lr({innerType:n,typeName:oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...he(e)});class or extends _e{_parse(e){if(this._getType(e)!==X.nan){const r=this._getOrReturnCtx(e);return K(r,{code:Q.invalid_type,expected:X.nan,received:r.parsedType}),fe}return{status:"valid",value:e.data}}}or.create=n=>new or({typeName:oe.ZodNaN,...he(n)});const Ja=Symbol("zod_brand");class xi extends _e{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ln extends _e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?fe:i.status==="dirty"?(t.dirty(),Ci(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?fe:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new Ln({in:e,out:t,typeName:oe.ZodPipeline})}}const $i=(n,e={},t)=>n?vn.create().superRefine((r,s)=>{var i,a;if(!n(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(i=l.fatal)!==null&&i!==void 0?i:t)!==null&&a!==void 0?a:!0,d=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...d,fatal:u})}}):vn.create(),Xa={object:Qe.lazycreate};var oe;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline"})(oe||(oe={}));const Ka=(n,e={message:`Input not instance of ${n.name}`})=>$i(t=>t instanceof n,e),Ei=At.create,Si=Bt.create,el=or.create,tl=Vt.create,Ti=In.create,nl=Kt.create,rl=sr.create,sl=Mn.create,il=Fn.create,al=vn.create,ll=Xt.create,ol=Dt.create,ul=ir.create,cl=$t.create,fl=Qe.create,dl=Qe.strictCreate,hl=Nn.create,pl=Cr.create,ml=Un.create,_l=Ft.create,gl=Rn.create,vl=ar.create,yl=en.create,bl=_n.create,wl=On.create,kl=qn.create,Cl=Qt.create,Al=Dn.create,xl=yn.create,vs=Et.create,$l=Ot.create,El=tn.create,Sl=Et.createWithPreprocess,Tl=Ln.create,Il=()=>Ei().optional(),Ml=()=>Si().optional(),Fl=()=>Ti().optional(),Nl={string:n=>At.create({...n,coerce:!0}),number:n=>Bt.create({...n,coerce:!0}),boolean:n=>In.create({...n,coerce:!0}),bigint:n=>Vt.create({...n,coerce:!0}),date:n=>Kt.create({...n,coerce:!0})},Ul=fe;var me=Object.freeze({__proto__:null,defaultErrorMap:Tn,setErrorMap:Da,getErrorMap:er,makeIssue:tr,EMPTY_PATH:ja,addIssueToContext:K,ParseStatus:ot,INVALID:fe,DIRTY:Ci,OK:dt,isAborted:Dr,isDirty:jr,isValid:nr,isAsync:rr,get util(){return Ne},get objectUtil(){return qr},ZodParsedType:X,getParsedType:Lt,ZodType:_e,ZodString:At,ZodNumber:Bt,ZodBigInt:Vt,ZodBoolean:In,ZodDate:Kt,ZodSymbol:sr,ZodUndefined:Mn,ZodNull:Fn,ZodAny:vn,ZodUnknown:Xt,ZodNever:Dt,ZodVoid:ir,ZodArray:$t,ZodObject:Qe,ZodUnion:Nn,ZodDiscriminatedUnion:Cr,ZodIntersection:Un,ZodTuple:Ft,ZodRecord:Rn,ZodMap:ar,ZodSet:en,ZodFunction:_n,ZodLazy:On,ZodLiteral:qn,ZodEnum:Qt,ZodNativeEnum:Dn,ZodPromise:yn,ZodEffects:Et,ZodTransformer:Et,ZodOptional:Ot,ZodNullable:tn,ZodDefault:jn,ZodCatch:lr,ZodNaN:or,BRAND:Ja,ZodBranded:xi,ZodPipeline:Ln,custom:$i,Schema:_e,ZodSchema:_e,late:Xa,get ZodFirstPartyTypeKind(){return oe},coerce:Nl,any:al,array:cl,bigint:tl,boolean:Ti,date:nl,discriminatedUnion:pl,effect:vs,enum:Cl,function:bl,instanceof:Ka,intersection:ml,lazy:wl,literal:kl,map:vl,nan:el,nativeEnum:Al,never:ol,null:il,nullable:El,number:Si,object:fl,oboolean:Fl,onumber:Ml,optional:$l,ostring:Il,pipeline:Tl,preprocess:Sl,promise:xl,record:gl,set:yl,strictObject:dl,string:Ei,symbol:rl,transformer:vs,tuple:_l,undefined:sl,union:hl,unknown:ll,void:ul,NEVER:Ul,ZodIssueCode:Q,quotelessJson:qa,ZodError:xt});const Zr={MalformedMessage:"Unknown client sent invalid message",InvalidToken:"Invalid token provided",UsernameTaken:"Username already in use",InappropriateName:"That name is not allowed/inappropriate choose another name",NotJoinable:"Quiz is not joinable",CapacityReached:"Quiz is full",UnknownPlayer:"Target player not found",Unexpected:"Unexpected error occurred",InvalidPermission:"You don't have permission to do that",UnexpectedMessage:"Client and server out of sync",InvalidAnswer:"Invalid answer type"};var un=(n=>(n.None="None",n.Low="Low",n.Medium="Medium",n.High="High",n))(un||{}),lt=(n=>(n.Lobby="Lobby",n.Starting="Starting",n.AwaitingReady="AwaitingReady",n.PreQuestion="PreQuestion",n.AwaitingAnswers="AwaitingAnswers",n.Marked="Marked",n.Finished="Finished",n))(lt||{}),nn=(n=>(n.Start="Start",n.Cancel="Cancel",n.Skip="Skip",n.Next="Next",n.Reset="Reset",n))(nn||{}),Ii=(n=>(n.RemovedByHost="RemovedByHost",n.HostDisconnect="HostDisconnect",n.LostConnection="LostConnection",n.Disconnected="Disconnected",n))(Ii||{});const Rl={RemovedByHost:"Removed by host",HostDisconnect:"Quiz host left",LostConnection:"Connection lost",Disconnected:"Disconnected"};var tt=(n=>(n.Single="Single",n.Multiple="Multiple",n))(tt||{});const ys=me.object({id:me.number(),value:me.string(),correct:me.boolean()});var cn=(n=>(n.Contain="Contain",n.Cover="Cover",n.Width="Width",n.Height="Height",n))(cn||{});const Ol=me.object({id:me.number(),text:me.string(),image:me.object({uuid:me.string().uuid(),fit:me.enum(["Contain","Cover","Width","Height"])}).nullable(),answer_time:me.number(),bonus_score_time:me.number(),scoring:me.object({min_score:me.number(),max_score:me.number(),bonus_score:me.number()})}).and(me.discriminatedUnion("ty",[me.object({ty:me.literal("Single"),answers:me.array(ys)}),me.object({ty:me.literal("Multiple"),answers:me.array(ys),min:me.number(),max:me.number()})]));var Lr=(n=>(n.Single="Single",n.Multiple="Multiple",n))(Lr||{}),qt=(n=>(n.Correct="Correct",n.Incorrect="Incorrect",n.Partial="Partial",n))(qt||{}),jt=(n=>(n.Initialize="Initialize",n.Connect="Connect",n.Join="Join",n.Ready="Ready",n.HostAction="HostAction",n.Answer="Answer",n.Kick="Kick",n))(jt||{}),Ct=(n=>(n.Joined="Joined",n.Ok="Ok",n.PlayerData="PlayerData",n.GameState="GameState",n.TimeSync="TimeSync",n.Question="Question",n.Scores="Scores",n.Score="Score",n.Error="Error",n.Kicked="Kicked",n))(Ct||{});function Gr(n){return new URL(n,window.location.origin)}function bs(n,e){return Gr(`/api/quiz/${n}/${e}`).toString()}function ql(n,e,t){return new Promise((r,s)=>{const i=Dl(n,e),a=new XMLHttpRequest;a.upload.onprogress=t,a.responseType="json",a.onload=()=>{if(Math.floor(a.status/100)!==2)return console.error("Failed invalid request",a),s(new Error("Invalid request try reloading the page or updating Quizler"));const d=a.response;r(d.uuid)},a.onerror=a.ontimeout=a.onabort=()=>s(new Error("Failed to connect"));const l=Gr("/api/quiz");a.open("POST",l),a.send(i)})}function Dl(n,e){const t=new FormData;t.append("config",JSON.stringify(n));for(const r of e)n.questions.find(i=>{var a;return((a=i.image)==null?void 0:a.uuid)===r.uuid})!==void 0&&t.append(r.uuid,r.blob);return t}async function jl(n,e){const t=e.image;if(t===null)return null;const r=6;let s=0,i=bs(n,t.uuid),a=null;for(;s<r;)try{await new Promise((l,u)=>{a=new Image,a.src=i,a.onload=l,a.onerror=u}),console.debug("Preloaded question image",i);break}catch(l){console.error("Failed to preload image trying again",i,l),s+=1,a=null,i=bs(n,t.uuid)+`?attempt=${s}`}return a}let Mi=0,ur={},Pn=[],Fi=Ni();const zr={},Yr=Gt(!1);function Zt(n,e){gi(()=>{zr[n]=e,console.log("Added handler for",n),Pn=Pn.filter(t=>t.ty===n?(e(t),!1):!0)}),ba(()=>{delete zr[n]})}function Pl(){for(const n of Pn)console.warn("Message was not handled",n);Pn=[]}function Ni(){const n=Gr("/api/quiz/socket");n.protocol=n.protocol.includes("https")?"wss":"ws",console.debug("Connecting to socket server "+n);const e=new WebSocket(n);return e.onmessage=zl,e.onopen=()=>{e.readyState==WebSocket.OPEN?(console.debug("Connected to socket"),Yr.set(!0)):console.log(e.readyState)},e.onclose=t=>{console.error("WebSocket connetion closed",t),Zl()},e.onerror=t=>{console.error("WebSocket error",t)},e}function Zl(){Mi=0,ur={},Pl(),Zn(),Ll()}function Ll(){console.debug("Socket connection lost (Reconnecting in 1000ms)"),Yr.set(!1),setTimeout(()=>{Fi=Ni()},1e3)}function Wt(n){return new Promise((e,t)=>{console.debug("Sending message to server",n),n.rid=Mi++,ur[n.rid]={resolve:e,reject:t};const r=JSON.stringify(n);try{Fi.send(r)}catch(s){console.error("Failed to send message",s),delete ur[n.rid],t({ty:Ct.Error,error:"Unexpected"})}})}function zl({data:n}){const e=JSON.parse(n);if(e.ty===void 0){console.error("Packet missing message type",n);return}const t=e.rid;if(t!==void 0){const s=ur[t];if(s===void 0){console.error(`Missing return handle ${t} for message`,e);return}e.ty===Ct.Error?s.reject(e.error):s.resolve(e)}const r=zr[e.ty];if(r!==void 0){r(e);return}Pn.push(e)}const Qn=5,Ui=1,Ri=30,Hl=70,Bl=300,Vl="Example Quiz",Ql="Small description about your quiz",Wl=10,Gl=100,Yl=150,ws=8,ks=50,Jl=1e3*15,Xl=1e3,Kl=1e3*60*30,eo=150,to=1e3*3,no=1e3,ro=1e3*60*30,so=1,Oi=50,io=1024*1024*15;function ao(){return{name:Vl,text:Ql,max_players:Oi,filtering:un.High,questions:[qi()]}}function qi(){return{id:0,ty:tt.Single,text:"This is an example question, you should replace this with your first question",image:null,answer_time:Jl,bonus_score_time:to,scoring:{min_score:Wl,max_score:Gl,bonus_score:eo},answers:[{id:0,value:"Example A",correct:!0},{id:1,value:"Example B",correct:!1},{id:2,value:"Example C",correct:!1},{id:3,value:"Example D",correct:!1}]}}function cr(n){return((n.total-n.elapsed)/1e3).toFixed(0)}function Wn(n,e){const t=Math.round(Math.random()*(e-n)+n);return t>e?e:t<n?n:t}function lo(n){return JSON.parse(JSON.stringify(n))}function Cs(n){const e=["th","st","nd","rd"],t=n%100;return n+(e[(t-20)%10]||e[t]||e[0])}function Di(n){const e=Wn(1,n.length/2);let t=0;for(;t<e;){const r=Wn(0,n.length-1),s=Wn(0,n.length-1);r!==s&&(fr(n,r,s),t++)}return n}function fr(n,e,t){const r=n[e],s=n[t];return(r!==void 0||s!==void 0)&&(n[e]=s,n[t]=r),n}const bt=Gt(ao());let As=1;function oo(){bt.update(n=>{const e=qi();return e.id=As,As++,n.questions.push(e),n})}function xs(n,e){bt.update(t=>(fr(t.questions,n,e),t))}function uo(n){bt.update(e=>(e.questions.splice(n,1),e))}function co(){bt.update(n=>(Di(n.questions),n))}function fo(n){bt.update(e=>{const t=e.questions.findIndex(r=>r.id===n.id);return t===-1?e.questions.push(n):e.questions[t]=n,e})}function ho(n){return n.answers=n.answers??[],n.ty===tt.Multiple&&(n.min=n.min??1,n.max=n.max??n.answers.length),n}function po(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}function ji(n,e){return new Promise(function(t,r){let s;return mo(n).then(function(i){try{return s=i,t(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const mo=n=>new Promise((e,t)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let a=0;if(i.getUint16(a)!==65496)return t("not a valid JPEG");for(a+=2;;){const l=i.getUint16(a);if(l===65498)break;const u=i.getUint16(a+2);if(l===65505&&i.getUint32(a+4)===1165519206){const d=a+10;let o;switch(i.getUint16(d)){case 18761:o=!0;break;case 19789:o=!1;break;default:return t("TIFF header contains invalid endian")}if(i.getUint16(d+2,o)!==42)return t("TIFF header contains invalid version");const f=i.getUint32(d+4,o),c=d+f+2+12*i.getUint16(d+f,o);for(let h=d+f+2;h<c;h+=12)if(i.getUint16(h,o)==274){if(i.getUint16(h+2,o)!==3)return t("Orientation data type is invalid");if(i.getUint32(h+4,o)!==1)return t("Orientation data count is invalid");i.setUint16(h+8,1,o);break}return e(s.slice(a,a+2+u))}a+=2+u}return e(new Blob)}),r.readAsArrayBuffer(n)});var dr={},_o={get exports(){return dr},set exports(n){dr=n}};(function(n){var e,t,r={};_o.exports=r,r.parse=function(s,i){for(var a=r.bin.readUshort,l=r.bin.readUint,u=0,d={},o=new Uint8Array(s),f=o.length-4;l(o,f)!=101010256;)f--;u=f,u+=4;var c=a(o,u+=4);a(o,u+=2);var h=l(o,u+=2),p=l(o,u+=4);u+=4,u=p;for(var b=0;b<c;b++){l(o,u),u+=4,u+=4,u+=4,l(o,u+=4),h=l(o,u+=4);var w=l(o,u+=4),g=a(o,u+=4),k=a(o,u+2),x=a(o,u+4);u+=6;var E=l(o,u+=8);u+=4,u+=g+k+x,r._readLocal(o,E,d,h,w,i)}return d},r._readLocal=function(s,i,a,l,u,d){var o=r.bin.readUshort,f=r.bin.readUint;f(s,i),o(s,i+=4),o(s,i+=2);var c=o(s,i+=2);f(s,i+=2),f(s,i+=4),i+=4;var h=o(s,i+=8),p=o(s,i+=2);i+=2;var b=r.bin.readUTF8(s,i,h);if(i+=h,i+=p,d)a[b]={size:u,csize:l};else{var w=new Uint8Array(s.buffer,i);if(c==0)a[b]=new Uint8Array(w.buffer.slice(i,i+l));else{if(c!=8)throw"unknown compression method: "+c;var g=new Uint8Array(u);r.inflateRaw(w,g),a[b]=g}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*s.length));l[a]=120,l[a+1]=156,a+=2,a=r.F.deflateRaw(s,l,a,i.level);var u=r.adler(s,0,s.length);return l[a+0]=u>>>24&255,l[a+1]=u>>>16&255,l[a+2]=u>>>8&255,l[a+3]=u>>>0&255,new Uint8Array(l.buffer,0,a+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var a=new Uint8Array(50+Math.floor(1.1*s.length)),l=r.F.deflateRaw(s,a,l,i.level);return new Uint8Array(a.buffer,0,l)},r.encode=function(s,i){i==null&&(i=!1);var a=0,l=r.bin.writeUint,u=r.bin.writeUshort,d={};for(var o in s){var f=!r._noNeed(o)&&!i,c=s[o],h=r.crc.crc(c,0,c.length);d[o]={cpr:f,usize:c.length,crc:h,file:f?r.deflateRaw(c):c}}for(var o in d)a+=d[o].file.length+30+46+2*r.bin.sizeUTF8(o);a+=22;var p=new Uint8Array(a),b=0,w=[];for(var o in d){var g=d[o];w.push(b),b=r._writeHeader(p,b,o,g,0)}var k=0,x=b;for(var o in d)g=d[o],w.push(b),b=r._writeHeader(p,b,o,g,1,w[k++]);var E=b-x;return l(p,b,101010256),b+=4,u(p,b+=4,k),u(p,b+=2,k),l(p,b+=2,E),l(p,b+=4,x),b+=4,b+=2,p.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,a,l,u,d){var o=r.bin.writeUint,f=r.bin.writeUshort,c=l.file;return o(s,i,u==0?67324752:33639248),i+=4,u==1&&(i+=2),f(s,i,20),f(s,i+=2,0),f(s,i+=2,l.cpr?8:0),o(s,i+=2,0),o(s,i+=4,l.crc),o(s,i+=4,c.length),o(s,i+=4,l.usize),f(s,i+=4,r.bin.sizeUTF8(a)),f(s,i+=2,0),i+=2,u==1&&(i+=2,i+=2,o(s,i+=6,d),i+=4),i+=r.bin.writeUTF8(s,i,a),u==0&&(s.set(c,i),i+=c.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var a=i,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;s[i]=a}return s}(),update:function(s,i,a,l){for(var u=0;u<l;u++)s=r.crc.table[255&(s^i[a+u])]^s>>>8;return s},crc:function(s,i,a){return 4294967295^r.crc.update(4294967295,s,i,a)}},r.adler=function(s,i,a){for(var l=1,u=0,d=i,o=i+a;d<o;){for(var f=Math.min(d+5552,o);d<f;)u+=l+=s[d++];l%=65521,u%=65521}return u<<16|l},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,a){s[i]=255&a,s[i+1]=a>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,a){s[i]=255&a,s[i+1]=a>>8&255,s[i+2]=a>>16&255,s[i+3]=a>>24&255},readASCII:function(s,i,a){for(var l="",u=0;u<a;u++)l+=String.fromCharCode(s[i+u]);return l},writeASCII:function(s,i,a){for(var l=0;l<a.length;l++)s[i+l]=a.charCodeAt(l)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,a){for(var l,u="",d=0;d<a;d++)u+="%"+r.bin.pad(s[i+d].toString(16));try{l=decodeURIComponent(u)}catch{return r.bin.readASCII(s,i,a)}return l},writeUTF8:function(s,i,a){for(var l=a.length,u=0,d=0;d<l;d++){var o=a.charCodeAt(d);if(!(4294967168&o))s[i+u]=o,u++;else if(!(4294965248&o))s[i+u]=192|o>>6,s[i+u+1]=128|o>>0&63,u+=2;else if(!(4294901760&o))s[i+u]=224|o>>12,s[i+u+1]=128|o>>6&63,s[i+u+2]=128|o>>0&63,u+=3;else{if(4292870144&o)throw"e";s[i+u]=240|o>>18,s[i+u+1]=128|o>>12&63,s[i+u+2]=128|o>>6&63,s[i+u+3]=128|o>>0&63,u+=4}}return u},sizeUTF8:function(s){for(var i=s.length,a=0,l=0;l<i;l++){var u=s.charCodeAt(l);if(!(4294967168&u))a++;else if(!(4294965248&u))a+=2;else if(!(4294901760&u))a+=3;else{if(4292870144&u)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(s,i,a,l){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],d=r.F.U,o=r.F._goodIndex;r.F._hash;var f=r.F._putsE,c=0,h=a<<3,p=0,b=s.length;if(l==0){for(;c<b;)f(i,h,c+(T=Math.min(65535,b-c))==b?1:0),h=r.F._copyExact(s,c,T,i,h+8),c+=T;return h>>>3}var w=d.lits,g=d.strt,k=d.prev,x=0,E=0,U=0,$=0,M=0,y=0;for(b>2&&(g[y=r.F._hash(s,0)]=0),c=0;c<b;c++){if(M=y,c+1<b-2){y=r.F._hash(s,c+1);var v=c+1&32767;k[v]=g[y],g[y]=v}if(p<=c){(x>14e3||E>26697)&&b-c>100&&(p<c&&(w[x]=c-p,x+=2,p=c),h=r.F._writeBlock(c==b-1||p==b?1:0,w,x,$,s,U,c-U,i,h),x=E=$=0,U=c);var I=0;c<b-2&&(I=r.F._bestMatch(s,c,k,M,Math.min(u[2],b-c),u[3]));var T=I>>>16,F=65535&I;if(I!=0){F=65535&I;var R=o(T=I>>>16,d.of0);d.lhst[257+R]++;var N=o(F,d.df0);d.dhst[N]++,$+=d.exb[R]+d.dxb[N],w[x]=T<<23|c-p,w[x+1]=F<<16|R<<8|N,x+=2,p=c+T}else d.lhst[s[c]]++;E++}}for(U==c&&s.length!=0||(p<c&&(w[x]=c-p,x+=2,p=c),h=r.F._writeBlock(1,w,x,$,s,U,c-U,i,h),x=0,E=0,x=E=$=0,U=c);7&h;)h++;return h>>>3},r.F._bestMatch=function(s,i,a,l,u,d){var o=32767&i,f=a[o],c=o-f+32768&32767;if(f==o||l!=r.F._hash(s,i-c))return 0;for(var h=0,p=0,b=Math.min(32767,i);c<=b&&--d!=0&&f!=o;){if(h==0||s[i+h]==s[i+h-c]){var w=r.F._howLong(s,i,c);if(w>h){if(p=c,(h=w)>=u)break;c+2<w&&(w=c+2);for(var g=0,k=0;k<w-2;k++){var x=i-c+k+32768&32767,E=x-a[x]+32768&32767;E>g&&(g=E,f=x)}}}c+=(o=f)-(f=a[o])+32768&32767}return h<<16|p},r.F._howLong=function(s,i,a){if(s[i]!=s[i-a]||s[i+1]!=s[i+1-a]||s[i+2]!=s[i+2-a])return 0;var l=i,u=Math.min(s.length,i+258);for(i+=3;i<u&&s[i]==s[i-a];)i++;return i-l},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,a,l,u,d,o,f,c){var h,p,b,w,g,k,x,E,U,$=r.F.U,M=r.F._putsF,y=r.F._putsE;$.lhst[256]++,p=(h=r.F.getTrees())[0],b=h[1],w=h[2],g=h[3],k=h[4],x=h[5],E=h[6],U=h[7];var v=32+(c+3&7?8-(c+3&7):0)+(o<<3),I=l+r.F.contSize($.fltree,$.lhst)+r.F.contSize($.fdtree,$.dhst),T=l+r.F.contSize($.ltree,$.lhst)+r.F.contSize($.dtree,$.dhst);T+=14+3*x+r.F.contSize($.itree,$.ihst)+(2*$.ihst[16]+3*$.ihst[17]+7*$.ihst[18]);for(var F=0;F<286;F++)$.lhst[F]=0;for(F=0;F<30;F++)$.dhst[F]=0;for(F=0;F<19;F++)$.ihst[F]=0;var R=v<I&&v<T?0:I<T?1:2;if(M(f,c,s),M(f,c+1,R),c+=3,R==0){for(;7&c;)c++;c=r.F._copyExact(u,d,o,f,c)}else{var N,q;if(R==1&&(N=$.fltree,q=$.fdtree),R==2){r.F.makeCodes($.ltree,p),r.F.revCodes($.ltree,p),r.F.makeCodes($.dtree,b),r.F.revCodes($.dtree,b),r.F.makeCodes($.itree,w),r.F.revCodes($.itree,w),N=$.ltree,q=$.dtree,y(f,c,g-257),y(f,c+=5,k-1),y(f,c+=5,x-4),c+=4;for(var A=0;A<x;A++)y(f,c+3*A,$.itree[1+($.ordr[A]<<1)]);c+=3*x,c=r.F._codeTiny(E,$.itree,f,c),c=r.F._codeTiny(U,$.itree,f,c)}for(var C=d,D=0;D<a;D+=2){for(var O=i[D],P=O>>>23,te=C+(8388607&O);C<te;)c=r.F._writeLit(u[C++],N,f,c);if(P!=0){var V=i[D+1],Y=V>>16,L=V>>8&255,Z=255&V;y(f,c=r.F._writeLit(257+L,N,f,c),P-$.of0[L]),c+=$.exb[L],M(f,c=r.F._writeLit(Z,q,f,c),Y-$.df0[Z]),c+=$.dxb[Z],C+=P}}c=r.F._writeLit(256,N,f,c)}return c},r.F._copyExact=function(s,i,a,l,u){var d=u>>>3;return l[d]=a,l[d+1]=a>>>8,l[d+2]=255-l[d],l[d+3]=255-l[d+1],d+=4,l.set(new Uint8Array(s.buffer,i,a),d),u+(a+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),a=r.F._hufTree(s.dhst,s.dtree,15),l=[],u=r.F._lenCodes(s.ltree,l),d=[],o=r.F._lenCodes(s.dtree,d),f=0;f<l.length;f+=2)s.ihst[l[f]]++;for(f=0;f<d.length;f+=2)s.ihst[d[f]]++;for(var c=r.F._hufTree(s.ihst,s.itree,7),h=19;h>4&&s.itree[1+(s.ordr[h-1]<<1)]==0;)h--;return[i,a,c,u,o,h,l,d]},r.F.getSecond=function(s){for(var i=[],a=0;a<s.length;a+=2)i.push(s[a+1]);return i},r.F.nonZero=function(s){for(var i="",a=0;a<s.length;a+=2)s[a+1]!=0&&(i+=(a>>1)+",");return i},r.F.contSize=function(s,i){for(var a=0,l=0;l<i.length;l++)a+=i[l]*s[1+(l<<1)];return a},r.F._codeTiny=function(s,i,a,l){for(var u=0;u<s.length;u+=2){var d=s[u],o=s[u+1];l=r.F._writeLit(d,i,a,l);var f=d==16?2:d==17?3:7;d>15&&(r.F._putsE(a,l,o,f),l+=f)}return l},r.F._lenCodes=function(s,i){for(var a=s.length;a!=2&&s[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var u=s[l+1],d=l+3<a?s[l+3]:-1,o=l+5<a?s[l+5]:-1,f=l==0?-1:s[l-1];if(u==0&&d==u&&o==u){for(var c=l+5;c+2<a&&s[c+2]==u;)c+=2;(h=Math.min(c+1-l>>>1,138))<11?i.push(17,h-3):i.push(18,h-11),l+=2*h-2}else if(u==f&&d==u&&o==u){for(c=l+5;c+2<a&&s[c+2]==u;)c+=2;var h=Math.min(c+1-l>>>1,6);i.push(16,h-3),l+=2*h-2}else i.push(u,0)}return a>>>1},r.F._hufTree=function(s,i,a){var l=[],u=s.length,d=i.length,o=0;for(o=0;o<d;o+=2)i[o]=0,i[o+1]=0;for(o=0;o<u;o++)s[o]!=0&&l.push({lit:o,f:s[o]});var f=l.length,c=l.slice(0);if(f==0)return 0;if(f==1){var h=l[0].lit;return c=h==0?1:0,i[1+(h<<1)]=1,i[1+(c<<1)]=1,1}l.sort(function(E,U){return E.f-U.f});var p=l[0],b=l[1],w=0,g=1,k=2;for(l[0]={lit:-1,f:p.f+b.f,l:p,r:b,d:0};g!=f-1;)p=w!=g&&(k==f||l[w].f<l[k].f)?l[w++]:l[k++],b=w!=g&&(k==f||l[w].f<l[k].f)?l[w++]:l[k++],l[g++]={lit:-1,f:p.f+b.f,l:p,r:b};var x=r.F.setDepth(l[g-1],0);for(x>a&&(r.F.restrictDepth(c,a,x),x=a),o=0;o<f;o++)i[1+(c[o].lit<<1)]=c[o].d;return x},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,a){var l=0,u=1<<a-i,d=0;for(s.sort(function(f,c){return c.d==f.d?f.f-c.f:c.d-f.d}),l=0;l<s.length&&s[l].d>i;l++){var o=s[l].d;s[l].d=i,d+=u-(1<<a-o)}for(d>>>=a-i;d>0;)(o=s[l].d)<i?(s[l].d++,d-=1<<i-o-1):l++;for(;l>=0;l--)s[l].d==i&&d<0&&(s[l].d--,d++);d!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var a=0;return i[16|a]<=s&&(a|=16),i[8|a]<=s&&(a|=8),i[4|a]<=s&&(a|=4),i[2|a]<=s&&(a|=2),i[1|a]<=s&&(a|=1),a},r.F._writeLit=function(s,i,a,l){return r.F._putsF(a,l,i[s<<1]),l+i[1+(s<<1)]},r.F.inflate=function(s,i){var a=Uint8Array;if(s[0]==3&&s[1]==0)return i||new a(0);var l=r.F,u=l._bitsF,d=l._bitsE,o=l._decodeTiny,f=l.makeCodes,c=l.codes2map,h=l._get17,p=l.U,b=i==null;b&&(i=new a(s.length>>>2<<3));for(var w,g,k=0,x=0,E=0,U=0,$=0,M=0,y=0,v=0,I=0;k==0;)if(k=u(s,I,1),x=u(s,I+1,2),I+=3,x!=0){if(b&&(i=r.F._check(i,v+(1<<17))),x==1&&(w=p.flmap,g=p.fdmap,M=511,y=31),x==2){E=d(s,I,5)+257,U=d(s,I+5,5)+1,$=d(s,I+10,4)+4,I+=14;for(var T=0;T<38;T+=2)p.itree[T]=0,p.itree[T+1]=0;var F=1;for(T=0;T<$;T++){var R=d(s,I+3*T,3);p.itree[1+(p.ordr[T]<<1)]=R,R>F&&(F=R)}I+=3*$,f(p.itree,F),c(p.itree,F,p.imap),w=p.lmap,g=p.dmap,I=o(p.imap,(1<<F)-1,E+U,s,I,p.ttree);var N=l._copyOut(p.ttree,0,E,p.ltree);M=(1<<N)-1;var q=l._copyOut(p.ttree,E,U,p.dtree);y=(1<<q)-1,f(p.ltree,N),c(p.ltree,N,w),f(p.dtree,q),c(p.dtree,q,g)}for(;;){var A=w[h(s,I)&M];I+=15&A;var C=A>>>4;if(!(C>>>8))i[v++]=C;else{if(C==256)break;var D=v+C-254;if(C>264){var O=p.ldef[C-257];D=v+(O>>>3)+d(s,I,7&O),I+=7&O}var P=g[h(s,I)&y];I+=15&P;var te=P>>>4,V=p.ddef[te],Y=(V>>>4)+u(s,I,15&V);for(I+=15&V,b&&(i=r.F._check(i,v+(1<<17)));v<D;)i[v]=i[v++-Y],i[v]=i[v++-Y],i[v]=i[v++-Y],i[v]=i[v++-Y];v=D}}}else{7&I&&(I+=8-(7&I));var L=4+(I>>>3),Z=s[L-4]|s[L-3]<<8;b&&(i=r.F._check(i,v+Z)),i.set(new a(s.buffer,s.byteOffset+L,Z),v),I=L+Z<<3,v+=Z}return i.length==v?i:i.slice(0,v)},r.F._check=function(s,i){var a=s.length;if(i<=a)return s;var l=new Uint8Array(Math.max(a<<1,i));return l.set(s,0),l},r.F._decodeTiny=function(s,i,a,l,u,d){for(var o=r.F._bitsE,f=r.F._get17,c=0;c<a;){var h=s[f(l,u)&i];u+=15&h;var p=h>>>4;if(p<=15)d[c]=p,c++;else{var b=0,w=0;p==16?(w=3+o(l,u,2),u+=2,b=d[c-1]):p==17?(w=3+o(l,u,3),u+=3):p==18&&(w=11+o(l,u,7),u+=7);for(var g=c+w;c<g;)d[c]=b,c++}}return u},r.F._copyOut=function(s,i,a,l){for(var u=0,d=0,o=l.length>>>1;d<a;){var f=s[d+i];l[d<<1]=0,l[1+(d<<1)]=f,f>u&&(u=f),d++}for(;d<o;)l[d<<1]=0,l[1+(d<<1)]=0,d++;return u},r.F.makeCodes=function(s,i){for(var a,l,u,d,o=r.F.U,f=s.length,c=o.bl_count,h=0;h<=i;h++)c[h]=0;for(h=1;h<f;h+=2)c[s[h]]++;var p=o.next_code;for(a=0,c[0]=0,l=1;l<=i;l++)a=a+c[l-1]<<1,p[l]=a;for(u=0;u<f;u+=2)(d=s[u+1])!=0&&(s[u]=p[d],p[d]++)},r.F.codes2map=function(s,i,a){for(var l=s.length,u=r.F.U.rev15,d=0;d<l;d+=2)if(s[d+1]!=0)for(var o=d>>1,f=s[d+1],c=o<<4|f,h=i-f,p=s[d]<<h,b=p+(1<<h);p!=b;)a[u[p]>>>15-i]=c,p++},r.F.revCodes=function(s,i){for(var a=r.F.U.rev15,l=15-i,u=0;u<s.length;u+=2){var d=s[u]<<i-s[u+1];s[u]=a[d]>>>l}},r.F._putsE=function(s,i,a){a<<=7&i;var l=i>>>3;s[l]|=a,s[l+1]|=a>>>8},r.F._putsF=function(s,i,a){a<<=7&i;var l=i>>>3;s[l]|=a,s[l+1]|=a>>>8,s[l+2]|=a>>>16},r.F._bitsE=function(s,i,a){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<a)-1},r.F._bitsF=function(s,i,a){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<a)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var a=i;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,s.rev15[i]=(a>>>16|a<<16)>>>17}function l(u,d,o){for(;d--!=0;)u.push(0,o)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];l(s.fltree,144,8),l(s.fltree,112,9),l(s.fltree,24,7),l(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),l(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),l(s.itree,19,0),l(s.ltree,286,0),l(s.dtree,30,0),l(s.ttree,320,0)}()})();var go=po({__proto__:null,default:dr},[dr]);const kt=function(){var n={nextZero(o,f){for(;o[f]!=0;)f++;return f},readUshort:(o,f)=>o[f]<<8|o[f+1],writeUshort(o,f,c){o[f]=c>>8&255,o[f+1]=255&c},readUint:(o,f)=>16777216*o[f]+(o[f+1]<<16|o[f+2]<<8|o[f+3]),writeUint(o,f,c){o[f]=c>>24&255,o[f+1]=c>>16&255,o[f+2]=c>>8&255,o[f+3]=255&c},readASCII(o,f,c){let h="";for(let p=0;p<c;p++)h+=String.fromCharCode(o[f+p]);return h},writeASCII(o,f,c){for(let h=0;h<c.length;h++)o[f+h]=c.charCodeAt(h)},readBytes(o,f,c){const h=[];for(let p=0;p<c;p++)h.push(o[f+p]);return h},pad:o=>o.length<2?`0${o}`:o,readUTF8(o,f,c){let h,p="";for(let b=0;b<c;b++)p+=`%${n.pad(o[f+b].toString(16))}`;try{h=decodeURIComponent(p)}catch{return n.readASCII(o,f,c)}return h}};function e(o,f,c,h){const p=f*c,b=i(h),w=Math.ceil(f*b/8),g=new Uint8Array(4*p),k=new Uint32Array(g.buffer),{ctype:x}=h,{depth:E}=h,U=n.readUshort;if(x==6){const O=p<<2;if(E==8)for(var $=0;$<O;$+=4)g[$]=o[$],g[$+1]=o[$+1],g[$+2]=o[$+2],g[$+3]=o[$+3];if(E==16)for($=0;$<O;$++)g[$]=o[$<<1]}else if(x==2){const O=h.tabs.tRNS;if(O==null){if(E==8)for($=0;$<p;$++){var M=3*$;k[$]=255<<24|o[M+2]<<16|o[M+1]<<8|o[M]}if(E==16)for($=0;$<p;$++)M=6*$,k[$]=255<<24|o[M+4]<<16|o[M+2]<<8|o[M]}else{var y=O[0];const P=O[1],te=O[2];if(E==8)for($=0;$<p;$++){var v=$<<2;M=3*$,k[$]=255<<24|o[M+2]<<16|o[M+1]<<8|o[M],o[M]==y&&o[M+1]==P&&o[M+2]==te&&(g[v+3]=0)}if(E==16)for($=0;$<p;$++)v=$<<2,M=6*$,k[$]=255<<24|o[M+4]<<16|o[M+2]<<8|o[M],U(o,M)==y&&U(o,M+2)==P&&U(o,M+4)==te&&(g[v+3]=0)}}else if(x==3){const O=h.tabs.PLTE,P=h.tabs.tRNS,te=P?P.length:0;if(E==1)for(var I=0;I<c;I++){var T=I*w,F=I*f;for($=0;$<f;$++){v=F+$<<2;var R=3*(N=o[T+($>>3)]>>7-((7&$)<<0)&1);g[v]=O[R],g[v+1]=O[R+1],g[v+2]=O[R+2],g[v+3]=N<te?P[N]:255}}if(E==2)for(I=0;I<c;I++)for(T=I*w,F=I*f,$=0;$<f;$++)v=F+$<<2,R=3*(N=o[T+($>>2)]>>6-((3&$)<<1)&3),g[v]=O[R],g[v+1]=O[R+1],g[v+2]=O[R+2],g[v+3]=N<te?P[N]:255;if(E==4)for(I=0;I<c;I++)for(T=I*w,F=I*f,$=0;$<f;$++)v=F+$<<2,R=3*(N=o[T+($>>1)]>>4-((1&$)<<2)&15),g[v]=O[R],g[v+1]=O[R+1],g[v+2]=O[R+2],g[v+3]=N<te?P[N]:255;if(E==8)for($=0;$<p;$++){var N;v=$<<2,R=3*(N=o[$]),g[v]=O[R],g[v+1]=O[R+1],g[v+2]=O[R+2],g[v+3]=N<te?P[N]:255}}else if(x==4){if(E==8)for($=0;$<p;$++){v=$<<2;var q=o[A=$<<1];g[v]=q,g[v+1]=q,g[v+2]=q,g[v+3]=o[A+1]}if(E==16)for($=0;$<p;$++){var A;v=$<<2,q=o[A=$<<2],g[v]=q,g[v+1]=q,g[v+2]=q,g[v+3]=o[A+2]}}else if(x==0)for(y=h.tabs.tRNS?h.tabs.tRNS:-1,I=0;I<c;I++){const O=I*w,P=I*f;if(E==1)for(var C=0;C<f;C++){var D=(q=255*(o[O+(C>>>3)]>>>7-(7&C)&1))==255*y?0:255;k[P+C]=D<<24|q<<16|q<<8|q}else if(E==2)for(C=0;C<f;C++)D=(q=85*(o[O+(C>>>2)]>>>6-((3&C)<<1)&3))==85*y?0:255,k[P+C]=D<<24|q<<16|q<<8|q;else if(E==4)for(C=0;C<f;C++)D=(q=17*(o[O+(C>>>1)]>>>4-((1&C)<<2)&15))==17*y?0:255,k[P+C]=D<<24|q<<16|q<<8|q;else if(E==8)for(C=0;C<f;C++)D=(q=o[O+C])==y?0:255,k[P+C]=D<<24|q<<16|q<<8|q;else if(E==16)for(C=0;C<f;C++)q=o[O+(C<<1)],D=U(o,O+(C<<1))==y?0:255,k[P+C]=D<<24|q<<16|q<<8|q}return g}function t(o,f,c,h){const p=i(o),b=Math.ceil(c*p/8),w=new Uint8Array((b+1+o.interlace)*h);return f=o.tabs.CgBI?s(f,w):r(f,w),o.interlace==0?f=a(f,o,0,c,h):o.interlace==1&&(f=function(k,x){const E=x.width,U=x.height,$=i(x),M=$>>3,y=Math.ceil(E*$/8),v=new Uint8Array(U*y);let I=0;const T=[0,0,4,0,2,0,1],F=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let q=0;for(;q<7;){const C=R[q],D=N[q];let O=0,P=0,te=T[q];for(;te<U;)te+=C,P++;let V=F[q];for(;V<E;)V+=D,O++;const Y=Math.ceil(O*$/8);a(k,x,I,O,P);let L=0,Z=T[q];for(;Z<U;){let re=F[q],Ee=I+L*Y<<3;for(;re<E;){var A;if($==1&&(A=(A=k[Ee>>3])>>7-(7&Ee)&1,v[Z*y+(re>>3)]|=A<<7-((7&re)<<0)),$==2&&(A=(A=k[Ee>>3])>>6-(7&Ee)&3,v[Z*y+(re>>2)]|=A<<6-((3&re)<<1)),$==4&&(A=(A=k[Ee>>3])>>4-(7&Ee)&15,v[Z*y+(re>>1)]|=A<<4-((1&re)<<2)),$>=8){const Te=Z*y+re*M;for(let ce=0;ce<M;ce++)v[Te+ce]=k[(Ee>>3)+ce]}Ee+=$,re+=D}L++,Z+=C}O*P!=0&&(I+=P*(1+Y)),q+=1}return v}(f,o)),f}function r(o,f){return s(new Uint8Array(o.buffer,2,o.length-6),f)}var s=function(){const o={H:{}};return o.H.N=function(f,c){const h=Uint8Array;let p,b,w=0,g=0,k=0,x=0,E=0,U=0,$=0,M=0,y=0;if(f[0]==3&&f[1]==0)return c||new h(0);const v=o.H,I=v.b,T=v.e,F=v.R,R=v.n,N=v.A,q=v.Z,A=v.m,C=c==null;for(C&&(c=new h(f.length>>>2<<5));w==0;)if(w=I(f,y,1),g=I(f,y+1,2),y+=3,g!=0){if(C&&(c=o.H.W(c,M+(1<<17))),g==1&&(p=A.J,b=A.h,U=511,$=31),g==2){k=T(f,y,5)+257,x=T(f,y+5,5)+1,E=T(f,y+10,4)+4,y+=14;let O=1;for(var D=0;D<38;D+=2)A.Q[D]=0,A.Q[D+1]=0;for(D=0;D<E;D++){const V=T(f,y+3*D,3);A.Q[1+(A.X[D]<<1)]=V,V>O&&(O=V)}y+=3*E,R(A.Q,O),N(A.Q,O,A.u),p=A.w,b=A.d,y=F(A.u,(1<<O)-1,k+x,f,y,A.v);const P=v.V(A.v,0,k,A.C);U=(1<<P)-1;const te=v.V(A.v,k,x,A.D);$=(1<<te)-1,R(A.C,P),N(A.C,P,p),R(A.D,te),N(A.D,te,b)}for(;;){const O=p[q(f,y)&U];y+=15&O;const P=O>>>4;if(!(P>>>8))c[M++]=P;else{if(P==256)break;{let te=M+P-254;if(P>264){const re=A.q[P-257];te=M+(re>>>3)+T(f,y,7&re),y+=7&re}const V=b[q(f,y)&$];y+=15&V;const Y=V>>>4,L=A.c[Y],Z=(L>>>4)+I(f,y,15&L);for(y+=15&L;M<te;)c[M]=c[M++-Z],c[M]=c[M++-Z],c[M]=c[M++-Z],c[M]=c[M++-Z];M=te}}}}else{7&y&&(y+=8-(7&y));const O=4+(y>>>3),P=f[O-4]|f[O-3]<<8;C&&(c=o.H.W(c,M+P)),c.set(new h(f.buffer,f.byteOffset+O,P),M),y=O+P<<3,M+=P}return c.length==M?c:c.slice(0,M)},o.H.W=function(f,c){const h=f.length;if(c<=h)return f;const p=new Uint8Array(h<<1);return p.set(f,0),p},o.H.R=function(f,c,h,p,b,w){const g=o.H.e,k=o.H.Z;let x=0;for(;x<h;){const E=f[k(p,b)&c];b+=15&E;const U=E>>>4;if(U<=15)w[x]=U,x++;else{let $=0,M=0;U==16?(M=3+g(p,b,2),b+=2,$=w[x-1]):U==17?(M=3+g(p,b,3),b+=3):U==18&&(M=11+g(p,b,7),b+=7);const y=x+M;for(;x<y;)w[x]=$,x++}}return b},o.H.V=function(f,c,h,p){let b=0,w=0;const g=p.length>>>1;for(;w<h;){const k=f[w+c];p[w<<1]=0,p[1+(w<<1)]=k,k>b&&(b=k),w++}for(;w<g;)p[w<<1]=0,p[1+(w<<1)]=0,w++;return b},o.H.n=function(f,c){const h=o.H.m,p=f.length;let b,w,g,k;const x=h.j;for(var E=0;E<=c;E++)x[E]=0;for(E=1;E<p;E+=2)x[f[E]]++;const U=h.K;for(b=0,x[0]=0,w=1;w<=c;w++)b=b+x[w-1]<<1,U[w]=b;for(g=0;g<p;g+=2)k=f[g+1],k!=0&&(f[g]=U[k],U[k]++)},o.H.A=function(f,c,h){const p=f.length,b=o.H.m.r;for(let w=0;w<p;w+=2)if(f[w+1]!=0){const g=w>>1,k=f[w+1],x=g<<4|k,E=c-k;let U=f[w]<<E;const $=U+(1<<E);for(;U!=$;)h[b[U]>>>15-c]=x,U++}},o.H.l=function(f,c){const h=o.H.m.r,p=15-c;for(let b=0;b<f.length;b+=2){const w=f[b]<<c-f[b+1];f[b]=h[w]>>>p}},o.H.M=function(f,c,h){h<<=7&c;const p=c>>>3;f[p]|=h,f[p+1]|=h>>>8},o.H.I=function(f,c,h){h<<=7&c;const p=c>>>3;f[p]|=h,f[p+1]|=h>>>8,f[p+2]|=h>>>16},o.H.e=function(f,c,h){return(f[c>>>3]|f[1+(c>>>3)]<<8)>>>(7&c)&(1<<h)-1},o.H.b=function(f,c,h){return(f[c>>>3]|f[1+(c>>>3)]<<8|f[2+(c>>>3)]<<16)>>>(7&c)&(1<<h)-1},o.H.Z=function(f,c){return(f[c>>>3]|f[1+(c>>>3)]<<8|f[2+(c>>>3)]<<16)>>>(7&c)},o.H.i=function(f,c){return(f[c>>>3]|f[1+(c>>>3)]<<8|f[2+(c>>>3)]<<16|f[3+(c>>>3)]<<24)>>>(7&c)},o.H.m=function(){const f=Uint16Array,c=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=o.H.m;for(var c=0;c<32768;c++){let p=c;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,f.r[c]=(p>>>16|p<<16)>>>17}function h(p,b,w){for(;b--!=0;)p.push(0,w)}for(c=0;c<32;c++)f.q[c]=f.S[c]<<3|f.T[c],f.c[c]=f.p[c]<<4|f.z[c];h(f._,144,8),h(f._,112,9),h(f._,24,7),h(f._,8,8),o.H.n(f._,9),o.H.A(f._,9,f.J),o.H.l(f._,9),h(f.$,32,5),o.H.n(f.$,5),o.H.A(f.$,5,f.h),o.H.l(f.$,5),h(f.Q,19,0),h(f.C,286,0),h(f.D,30,0),h(f.v,320,0)}(),o.H.N}();function i(o){return[1,null,3,1,2,null,4][o.ctype]*o.depth}function a(o,f,c,h,p){let b=i(f);const w=Math.ceil(h*b/8);let g,k;b=Math.ceil(b/8);let x=o[c],E=0;if(x>1&&(o[c]=[0,0,1][x-2]),x==3)for(E=b;E<w;E++)o[E+1]=o[E+1]+(o[E+1-b]>>>1)&255;for(let U=0;U<p;U++)if(g=c+U*w,k=g+U+1,x=o[k-1],E=0,x==0)for(;E<w;E++)o[g+E]=o[k+E];else if(x==1){for(;E<b;E++)o[g+E]=o[k+E];for(;E<w;E++)o[g+E]=o[k+E]+o[g+E-b]}else if(x==2)for(;E<w;E++)o[g+E]=o[k+E]+o[g+E-w];else if(x==3){for(;E<b;E++)o[g+E]=o[k+E]+(o[g+E-w]>>>1);for(;E<w;E++)o[g+E]=o[k+E]+(o[g+E-w]+o[g+E-b]>>>1)}else{for(;E<b;E++)o[g+E]=o[k+E]+l(0,o[g+E-w],0);for(;E<w;E++)o[g+E]=o[k+E]+l(o[g+E-b],o[g+E-w],o[g+E-b-w])}return o}function l(o,f,c){const h=o+f-c,p=h-o,b=h-f,w=h-c;return p*p<=b*b&&p*p<=w*w?o:b*b<=w*w?f:c}function u(o,f,c){c.width=n.readUint(o,f),f+=4,c.height=n.readUint(o,f),f+=4,c.depth=o[f],f++,c.ctype=o[f],f++,c.compress=o[f],f++,c.filter=o[f],f++,c.interlace=o[f],f++}function d(o,f,c,h,p,b,w,g,k){const x=Math.min(f,p),E=Math.min(c,b);let U=0,$=0;for(let q=0;q<E;q++)for(let A=0;A<x;A++)if(w>=0&&g>=0?(U=q*f+A<<2,$=(g+q)*p+w+A<<2):(U=(-g+q)*f-w+A<<2,$=q*p+A<<2),k==0)h[$]=o[U],h[$+1]=o[U+1],h[$+2]=o[U+2],h[$+3]=o[U+3];else if(k==1){var M=o[U+3]*.00392156862745098,y=o[U]*M,v=o[U+1]*M,I=o[U+2]*M,T=h[$+3]*(1/255),F=h[$]*T,R=h[$+1]*T,N=h[$+2]*T;const C=1-M,D=M+T*C,O=D==0?0:1/D;h[$+3]=255*D,h[$+0]=(y+F*C)*O,h[$+1]=(v+R*C)*O,h[$+2]=(I+N*C)*O}else if(k==2)M=o[U+3],y=o[U],v=o[U+1],I=o[U+2],T=h[$+3],F=h[$],R=h[$+1],N=h[$+2],M==T&&y==F&&v==R&&I==N?(h[$]=0,h[$+1]=0,h[$+2]=0,h[$+3]=0):(h[$]=y,h[$+1]=v,h[$+2]=I,h[$+3]=M);else if(k==3){if(M=o[U+3],y=o[U],v=o[U+1],I=o[U+2],T=h[$+3],F=h[$],R=h[$+1],N=h[$+2],M==T&&y==F&&v==R&&I==N)continue;if(M<220&&T>20)return!1}return!0}return{decode:function(f){const c=new Uint8Array(f);let h=8;const p=n,b=p.readUshort,w=p.readUint,g={tabs:{},frames:[]},k=new Uint8Array(c.length);let x,E=0,U=0;const $=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(c[M]!=$[M])throw"The input is not a PNG file!";for(;h<c.length;){const q=p.readUint(c,h);h+=4;const A=p.readASCII(c,h,4);if(h+=4,A=="IHDR")u(c,h,g);else if(A=="iCCP"){for(var y=h;c[y]!=0;)y++;p.readASCII(c,h,y-h),c[y+1];const C=c.slice(y+2,h+q);let D=null;try{D=r(C)}catch{D=s(C)}g.tabs[A]=D}else if(A=="CgBI")g.tabs[A]=c.slice(h,h+4);else if(A=="IDAT"){for(M=0;M<q;M++)k[E+M]=c[h+M];E+=q}else if(A=="acTL")g.tabs[A]={num_frames:w(c,h),num_plays:w(c,h+4)},x=new Uint8Array(c.length);else if(A=="fcTL"){U!=0&&((N=g.frames[g.frames.length-1]).data=t(g,x.slice(0,U),N.rect.width,N.rect.height),U=0);const C={x:w(c,h+12),y:w(c,h+16),width:w(c,h+4),height:w(c,h+8)};let D=b(c,h+22);D=b(c,h+20)/(D==0?100:D);const O={rect:C,delay:Math.round(1e3*D),dispose:c[h+24],blend:c[h+25]};g.frames.push(O)}else if(A=="fdAT"){for(M=0;M<q-4;M++)x[U+M]=c[h+M+4];U+=q-4}else if(A=="pHYs")g.tabs[A]=[p.readUint(c,h),p.readUint(c,h+4),c[h+8]];else if(A=="cHRM")for(g.tabs[A]=[],M=0;M<8;M++)g.tabs[A].push(p.readUint(c,h+4*M));else if(A=="tEXt"||A=="zTXt"){g.tabs[A]==null&&(g.tabs[A]={});var v=p.nextZero(c,h),I=p.readASCII(c,h,v-h),T=h+q-v-1;if(A=="tEXt")R=p.readASCII(c,v+1,T);else{var F=r(c.slice(v+2,v+2+T));R=p.readUTF8(F,0,F.length)}g.tabs[A][I]=R}else if(A=="iTXt"){g.tabs[A]==null&&(g.tabs[A]={}),v=0,y=h,v=p.nextZero(c,y),I=p.readASCII(c,y,v-y);const C=c[y=v+1];var R;c[y+1],y+=2,v=p.nextZero(c,y),p.readASCII(c,y,v-y),y=v+1,v=p.nextZero(c,y),p.readUTF8(c,y,v-y),T=q-((y=v+1)-h),C==0?R=p.readUTF8(c,y,T):(F=r(c.slice(y,y+T)),R=p.readUTF8(F,0,F.length)),g.tabs[A][I]=R}else if(A=="PLTE")g.tabs[A]=p.readBytes(c,h,q);else if(A=="hIST"){const C=g.tabs.PLTE.length/3;for(g.tabs[A]=[],M=0;M<C;M++)g.tabs[A].push(b(c,h+2*M))}else if(A=="tRNS")g.ctype==3?g.tabs[A]=p.readBytes(c,h,q):g.ctype==0?g.tabs[A]=b(c,h):g.ctype==2&&(g.tabs[A]=[b(c,h),b(c,h+2),b(c,h+4)]);else if(A=="gAMA")g.tabs[A]=p.readUint(c,h)/1e5;else if(A=="sRGB")g.tabs[A]=c[h];else if(A=="bKGD")g.ctype==0||g.ctype==4?g.tabs[A]=[b(c,h)]:g.ctype==2||g.ctype==6?g.tabs[A]=[b(c,h),b(c,h+2),b(c,h+4)]:g.ctype==3&&(g.tabs[A]=c[h]);else if(A=="IEND")break;h+=q,p.readUint(c,h),h+=4}var N;return U!=0&&((N=g.frames[g.frames.length-1]).data=t(g,x.slice(0,U),N.rect.width,N.rect.height)),g.data=t(g,k,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(f){const c=f.width,h=f.height;if(f.tabs.acTL==null)return[e(f.data,c,h,f).buffer];const p=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const b=c*h*4,w=new Uint8Array(b),g=new Uint8Array(b),k=new Uint8Array(b);for(let E=0;E<f.frames.length;E++){const U=f.frames[E],$=U.rect.x,M=U.rect.y,y=U.rect.width,v=U.rect.height,I=e(U.data,y,v,f);if(E!=0)for(var x=0;x<b;x++)k[x]=w[x];if(U.blend==0?d(I,y,v,w,c,h,$,M,0):U.blend==1&&d(I,y,v,w,c,h,$,M,1),p.push(w.buffer.slice(0)),U.dispose!=0){if(U.dispose==1)d(g,y,v,w,c,h,$,M,0);else if(U.dispose==2)for(x=0;x<b;x++)w[x]=k[x]}}return p},_paeth:l,_copyTile:d,_bin:n}}();(function(){const{_copyTile:n}=kt,{_bin:e}=kt,t=kt._paeth;var r={table:function(){const y=new Uint32Array(256);for(let v=0;v<256;v++){let I=v;for(let T=0;T<8;T++)1&I?I=3988292384^I>>>1:I>>>=1;y[v]=I}return y}(),update(y,v,I,T){for(let F=0;F<T;F++)y=r.table[255&(y^v[I+F])]^y>>>8;return y},crc:(y,v,I)=>4294967295^r.update(4294967295,y,v,I)};function s(y,v,I,T){v[I]+=y[0]*T>>4,v[I+1]+=y[1]*T>>4,v[I+2]+=y[2]*T>>4,v[I+3]+=y[3]*T>>4}function i(y){return Math.max(0,Math.min(255,y))}function a(y,v){const I=y[0]-v[0],T=y[1]-v[1],F=y[2]-v[2],R=y[3]-v[3];return I*I+T*T+F*F+R*R}function l(y,v,I,T,F,R,N){N==null&&(N=1);const q=T.length,A=[];for(var C=0;C<q;C++){const Z=T[C];A.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(C=0;C<q;C++){let Z=4294967295;for(var D=0,O=0;O<q;O++){var P=a(A[C],A[O]);O!=C&&P<Z&&(Z=P,D=O)}}const te=new Uint32Array(F.buffer),V=new Int16Array(v*I*4),Y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(C=0;C<Y.length;C++)Y[C]=255*((Y[C]+.5)/16-.5);for(let Z=0;Z<I;Z++)for(let re=0;re<v;re++){var L;C=4*(Z*v+re),N!=2?L=[i(y[C]+V[C]),i(y[C+1]+V[C+1]),i(y[C+2]+V[C+2]),i(y[C+3]+V[C+3])]:(P=Y[4*(3&Z)+(3&re)],L=[i(y[C]+P),i(y[C+1]+P),i(y[C+2]+P),i(y[C+3]+P)]),D=0;let Ee=16777215;for(O=0;O<q;O++){const Me=a(L,A[O]);Me<Ee&&(Ee=Me,D=O)}const Te=A[D],ce=[L[0]-Te[0],L[1]-Te[1],L[2]-Te[2],L[3]-Te[3]];N==1&&(re!=v-1&&s(ce,V,C+4,7),Z!=I-1&&(re!=0&&s(ce,V,C+4*v-4,3),s(ce,V,C+4*v,5),re!=v-1&&s(ce,V,C+4*v+4,1))),R[C>>2]=D,te[C>>2]=T[D]}}function u(y,v,I,T,F){F==null&&(F={});const{crc:R}=r,N=e.writeUint,q=e.writeUshort,A=e.writeASCII;let C=8;const D=y.frames.length>1;let O,P=!1,te=33+(D?20:0);if(F.sRGB!=null&&(te+=13),F.pHYs!=null&&(te+=21),F.iCCP!=null&&(O=pako.deflate(F.iCCP),te+=21+O.length+4),y.ctype==3){for(var V=y.plte.length,Y=0;Y<V;Y++)y.plte[Y]>>>24!=255&&(P=!0);te+=8+3*V+4+(P?8+1*V+4:0)}for(var L=0;L<y.frames.length;L++)D&&(te+=38),te+=(Te=y.frames[L]).cimg.length+12,L!=0&&(te+=4);te+=12;const Z=new Uint8Array(te),re=[137,80,78,71,13,10,26,10];for(Y=0;Y<8;Y++)Z[Y]=re[Y];if(N(Z,C,13),C+=4,A(Z,C,"IHDR"),C+=4,N(Z,C,v),C+=4,N(Z,C,I),C+=4,Z[C]=y.depth,C++,Z[C]=y.ctype,C++,Z[C]=0,C++,Z[C]=0,C++,Z[C]=0,C++,N(Z,C,R(Z,C-17,17)),C+=4,F.sRGB!=null&&(N(Z,C,1),C+=4,A(Z,C,"sRGB"),C+=4,Z[C]=F.sRGB,C++,N(Z,C,R(Z,C-5,5)),C+=4),F.iCCP!=null){const ce=13+O.length;N(Z,C,ce),C+=4,A(Z,C,"iCCP"),C+=4,A(Z,C,"ICC profile"),C+=11,C+=2,Z.set(O,C),C+=O.length,N(Z,C,R(Z,C-(ce+4),ce+4)),C+=4}if(F.pHYs!=null&&(N(Z,C,9),C+=4,A(Z,C,"pHYs"),C+=4,N(Z,C,F.pHYs[0]),C+=4,N(Z,C,F.pHYs[1]),C+=4,Z[C]=F.pHYs[2],C++,N(Z,C,R(Z,C-13,13)),C+=4),D&&(N(Z,C,8),C+=4,A(Z,C,"acTL"),C+=4,N(Z,C,y.frames.length),C+=4,N(Z,C,F.loop!=null?F.loop:0),C+=4,N(Z,C,R(Z,C-12,12)),C+=4),y.ctype==3){for(N(Z,C,3*(V=y.plte.length)),C+=4,A(Z,C,"PLTE"),C+=4,Y=0;Y<V;Y++){const ce=3*Y,Me=y.plte[Y],ye=255&Me,Ae=Me>>>8&255,ut=Me>>>16&255;Z[C+ce+0]=ye,Z[C+ce+1]=Ae,Z[C+ce+2]=ut}if(C+=3*V,N(Z,C,R(Z,C-3*V-4,3*V+4)),C+=4,P){for(N(Z,C,V),C+=4,A(Z,C,"tRNS"),C+=4,Y=0;Y<V;Y++)Z[C+Y]=y.plte[Y]>>>24&255;C+=V,N(Z,C,R(Z,C-V-4,V+4)),C+=4}}let Ee=0;for(L=0;L<y.frames.length;L++){var Te=y.frames[L];D&&(N(Z,C,26),C+=4,A(Z,C,"fcTL"),C+=4,N(Z,C,Ee++),C+=4,N(Z,C,Te.rect.width),C+=4,N(Z,C,Te.rect.height),C+=4,N(Z,C,Te.rect.x),C+=4,N(Z,C,Te.rect.y),C+=4,q(Z,C,T[L]),C+=2,q(Z,C,1e3),C+=2,Z[C]=Te.dispose,C++,Z[C]=Te.blend,C++,N(Z,C,R(Z,C-30,30)),C+=4);const ce=Te.cimg;N(Z,C,(V=ce.length)+(L==0?0:4)),C+=4;const Me=C;A(Z,C,L==0?"IDAT":"fdAT"),C+=4,L!=0&&(N(Z,C,Ee++),C+=4),Z.set(ce,C),C+=V,N(Z,C,R(Z,Me,C-Me)),C+=4}return N(Z,C,0),C+=4,A(Z,C,"IEND"),C+=4,N(Z,C,R(Z,C-4,4)),C+=4,Z.buffer}function d(y,v,I){for(let T=0;T<y.frames.length;T++){const F=y.frames[T];F.rect.width;const R=F.rect.height,N=new Uint8Array(R*F.bpl+R);F.cimg=h(F.img,R,F.bpp,F.bpl,N,v,I)}}function o(y,v,I,T,F){const R=F[0],N=F[1],q=F[2],A=F[3],C=F[4],D=F[5];let O=6,P=8,te=255;for(var V=0;V<y.length;V++){const De=new Uint8Array(y[V]);for(var Y=De.length,L=0;L<Y;L+=4)te&=De[L+3]}const Z=te!=255,re=function(be,we,He,Oe,Fe,Be){const Se=[];for(var xe=0;xe<be.length;xe++){const Ve=new Uint8Array(be[xe]),je=new Uint32Array(Ve.buffer);var Ze;let Ge=0,Ke=0,ge=we,ft=He,vt=Oe?1:0;if(xe!=0){const St=Be||Oe||xe==1||Se[xe-2].dispose!=0?1:2;let Nt=0,Ie=1e9;for(let it=0;it<St;it++){var We=new Uint8Array(be[xe-1-it]);const Yt=new Uint32Array(be[xe-1-it]);let ne=we,de=He,Le=-1,Tt=-1;for(let et=0;et<He;et++)for(let ht=0;ht<we;ht++)je[qe=et*we+ht]!=Yt[qe]&&(ht<ne&&(ne=ht),ht>Le&&(Le=ht),et<de&&(de=et),et>Tt&&(Tt=et));Le==-1&&(ne=de=Le=Tt=0),Fe&&((1&ne)==1&&ne--,(1&de)==1&&de--);const Cn=(Le-ne+1)*(Tt-de+1);Cn<Ie&&(Ie=Cn,Nt=it,Ge=ne,Ke=de,ge=Le-ne+1,ft=Tt-de+1)}We=new Uint8Array(be[xe-1-Nt]),Nt==1&&(Se[xe-1].dispose=2),Ze=new Uint8Array(ge*ft*4),n(We,we,He,Ze,ge,ft,-Ge,-Ke,0),vt=n(Ve,we,He,Ze,ge,ft,-Ge,-Ke,3)?1:0,vt==1?c(Ve,we,He,Ze,{x:Ge,y:Ke,width:ge,height:ft}):n(Ve,we,He,Ze,ge,ft,-Ge,-Ke,0)}else Ze=Ve.slice(0);Se.push({rect:{x:Ge,y:Ke,width:ge,height:ft},img:Ze,blend:vt,dispose:0})}if(Oe)for(xe=0;xe<Se.length;xe++){if((ct=Se[xe]).blend==1)continue;const Ve=ct.rect,je=Se[xe-1].rect,Ge=Math.min(Ve.x,je.x),Ke=Math.min(Ve.y,je.y),ge={x:Ge,y:Ke,width:Math.max(Ve.x+Ve.width,je.x+je.width)-Ge,height:Math.max(Ve.y+Ve.height,je.y+je.height)-Ke};Se[xe-1].dispose=1,xe-1!=0&&f(be,we,He,Se,xe-1,ge,Fe),f(be,we,He,Se,xe,ge,Fe)}let yt=0;if(be.length!=1)for(var qe=0;qe<Se.length;qe++){var ct;yt+=(ct=Se[qe]).rect.width*ct.rect.height}return Se}(y,v,I,R,N,q),Ee={},Te=[],ce=[];if(T!=0){const De=[];for(L=0;L<re.length;L++)De.push(re[L].img.buffer);const be=function(Fe){let Be=0;for(var Se=0;Se<Fe.length;Se++)Be+=Fe[Se].byteLength;const xe=new Uint8Array(Be);let Ze=0;for(Se=0;Se<Fe.length;Se++){const We=new Uint8Array(Fe[Se]),yt=We.length;for(let qe=0;qe<yt;qe+=4){let ct=We[qe],Ve=We[qe+1],je=We[qe+2];const Ge=We[qe+3];Ge==0&&(ct=Ve=je=0),xe[Ze+qe]=ct,xe[Ze+qe+1]=Ve,xe[Ze+qe+2]=je,xe[Ze+qe+3]=Ge}Ze+=yt}return xe.buffer}(De),we=b(be,T);for(L=0;L<we.plte.length;L++)Te.push(we.plte[L].est.rgba);let He=0;for(L=0;L<re.length;L++){const Oe=(ye=re[L]).img.length;var Me=new Uint8Array(we.inds.buffer,He>>2,Oe>>2);ce.push(Me);const Fe=new Uint8Array(we.abuf,He,Oe);D&&l(ye.img,ye.rect.width,ye.rect.height,Te,Fe,Me),ye.img.set(Fe),He+=Oe}}else for(V=0;V<re.length;V++){var ye=re[V];const De=new Uint32Array(ye.img.buffer);var Ae=ye.rect.width;for(Y=De.length,Me=new Uint8Array(Y),ce.push(Me),L=0;L<Y;L++){const be=De[L];if(L!=0&&be==De[L-1])Me[L]=Me[L-1];else if(L>Ae&&be==De[L-Ae])Me[L]=Me[L-Ae];else{let we=Ee[be];if(we==null&&(Ee[be]=we=Te.length,Te.push(be),Te.length>=300))break;Me[L]=we}}}const ut=Te.length;for(ut<=256&&C==0&&(P=ut<=2?1:ut<=4?2:ut<=16?4:8,P=Math.max(P,A)),V=0;V<re.length;V++){(ye=re[V]).rect.x,ye.rect.y,Ae=ye.rect.width;const De=ye.rect.height;let be=ye.img;new Uint32Array(be.buffer);let we=4*Ae,He=4;if(ut<=256&&C==0){we=Math.ceil(P*Ae/8);var Xe=new Uint8Array(we*De);const Oe=ce[V];for(let Fe=0;Fe<De;Fe++){L=Fe*we;const Be=Fe*Ae;if(P==8)for(var Ue=0;Ue<Ae;Ue++)Xe[L+Ue]=Oe[Be+Ue];else if(P==4)for(Ue=0;Ue<Ae;Ue++)Xe[L+(Ue>>1)]|=Oe[Be+Ue]<<4-4*(1&Ue);else if(P==2)for(Ue=0;Ue<Ae;Ue++)Xe[L+(Ue>>2)]|=Oe[Be+Ue]<<6-2*(3&Ue);else if(P==1)for(Ue=0;Ue<Ae;Ue++)Xe[L+(Ue>>3)]|=Oe[Be+Ue]<<7-1*(7&Ue)}be=Xe,O=3,He=1}else if(Z==0&&re.length==1){Xe=new Uint8Array(Ae*De*3);const Oe=Ae*De;for(L=0;L<Oe;L++){const Fe=3*L,Be=4*L;Xe[Fe]=be[Be],Xe[Fe+1]=be[Be+1],Xe[Fe+2]=be[Be+2]}be=Xe,O=2,He=3,we=3*Ae}ye.img=be,ye.bpl=we,ye.bpp=He}return{ctype:O,depth:P,plte:Te,frames:re}}function f(y,v,I,T,F,R,N){const q=Uint8Array,A=Uint32Array,C=new q(y[F-1]),D=new A(y[F-1]),O=F+1<y.length?new q(y[F+1]):null,P=new q(y[F]),te=new A(P.buffer);let V=v,Y=I,L=-1,Z=-1;for(let Ee=0;Ee<R.height;Ee++)for(let Te=0;Te<R.width;Te++){const ce=R.x+Te,Me=R.y+Ee,ye=Me*v+ce,Ae=te[ye];Ae==0||T[F-1].dispose==0&&D[ye]==Ae&&(O==null||O[4*ye+3]!=0)||(ce<V&&(V=ce),ce>L&&(L=ce),Me<Y&&(Y=Me),Me>Z&&(Z=Me))}L==-1&&(V=Y=L=Z=0),N&&((1&V)==1&&V--,(1&Y)==1&&Y--),R={x:V,y:Y,width:L-V+1,height:Z-Y+1};const re=T[F];re.rect=R,re.blend=1,re.img=new Uint8Array(R.width*R.height*4),T[F-1].dispose==0?(n(C,v,I,re.img,R.width,R.height,-R.x,-R.y,0),c(P,v,I,re.img,R)):n(P,v,I,re.img,R.width,R.height,-R.x,-R.y,0)}function c(y,v,I,T,F){n(y,v,I,T,F.width,F.height,-F.x,-F.y,2)}function h(y,v,I,T,F,R,N){const q=[];let A,C=[0,1,2,3,4];R!=-1?C=[R]:(v*T>5e5||I==1)&&(C=[0]),N&&(A={level:0});const D=go;for(var O=0;O<C.length;O++){for(let V=0;V<v;V++)p(F,y,V,T,I,C[O]);q.push(D.deflate(F,A))}let P,te=1e9;for(O=0;O<q.length;O++)q[O].length<te&&(P=O,te=q[O].length);return q[P]}function p(y,v,I,T,F,R){const N=I*T;let q=N+I;if(y[q]=R,q++,R==0)if(T<500)for(var A=0;A<T;A++)y[q+A]=v[N+A];else y.set(new Uint8Array(v.buffer,N,T),q);else if(R==1){for(A=0;A<F;A++)y[q+A]=v[N+A];for(A=F;A<T;A++)y[q+A]=v[N+A]-v[N+A-F]+256&255}else if(I==0){for(A=0;A<F;A++)y[q+A]=v[N+A];if(R==2)for(A=F;A<T;A++)y[q+A]=v[N+A];if(R==3)for(A=F;A<T;A++)y[q+A]=v[N+A]-(v[N+A-F]>>1)+256&255;if(R==4)for(A=F;A<T;A++)y[q+A]=v[N+A]-t(v[N+A-F],0,0)+256&255}else{if(R==2)for(A=0;A<T;A++)y[q+A]=v[N+A]+256-v[N+A-T]&255;if(R==3){for(A=0;A<F;A++)y[q+A]=v[N+A]+256-(v[N+A-T]>>1)&255;for(A=F;A<T;A++)y[q+A]=v[N+A]+256-(v[N+A-T]+v[N+A-F]>>1)&255}if(R==4){for(A=0;A<F;A++)y[q+A]=v[N+A]+256-t(0,v[N+A-T],0)&255;for(A=F;A<T;A++)y[q+A]=v[N+A]+256-t(v[N+A-F],v[N+A-T],v[N+A-F-T])&255}}}function b(y,v){const I=new Uint8Array(y),T=I.slice(0),F=new Uint32Array(T.buffer),R=w(T,v),N=R[0],q=R[1],A=I.length,C=new Uint8Array(A>>2);let D;if(I.length<2e7)for(var O=0;O<A;O+=4)D=g(N,P=I[O]*(1/255),te=I[O+1]*(1/255),V=I[O+2]*(1/255),Y=I[O+3]*(1/255)),C[O>>2]=D.ind,F[O>>2]=D.est.rgba;else for(O=0;O<A;O+=4){var P=I[O]*.00392156862745098,te=I[O+1]*(1/255),V=I[O+2]*(1/255),Y=I[O+3]*(1/255);for(D=N;D.left;)D=k(D.est,P,te,V,Y)<=0?D.left:D.right;C[O>>2]=D.ind,F[O>>2]=D.est.rgba}return{abuf:T.buffer,inds:C,plte:q}}function w(y,v,I){I==null&&(I=1e-4);const T=new Uint32Array(y.buffer),F={i0:0,i1:y.length,bst:null,est:null,tdst:0,left:null,right:null};F.bst=U(y,F.i0,F.i1),F.est=$(F.bst);const R=[F];for(;R.length<v;){let q=0,A=0;for(var N=0;N<R.length;N++)R[N].est.L>q&&(q=R[N].est.L,A=N);if(q<I)break;const C=R[A],D=x(y,T,C.i0,C.i1,C.est.e,C.est.eMq255);if(C.i0>=D||C.i1<=D){C.est.L=0;continue}const O={i0:C.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};O.bst=U(y,O.i0,O.i1),O.est=$(O.bst);const P={i0:D,i1:C.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:C.bst.N-O.bst.N},N=0;N<16;N++)P.bst.R[N]=C.bst.R[N]-O.bst.R[N];for(N=0;N<4;N++)P.bst.m[N]=C.bst.m[N]-O.bst.m[N];P.est=$(P.bst),C.left=O,C.right=P,R[A]=O,R.push(P)}for(R.sort((q,A)=>A.bst.N-q.bst.N),N=0;N<R.length;N++)R[N].ind=N;return[F,R]}function g(y,v,I,T,F){if(y.left==null)return y.tdst=function(O,P,te,V,Y){const L=P-O[0],Z=te-O[1],re=V-O[2],Ee=Y-O[3];return L*L+Z*Z+re*re+Ee*Ee}(y.est.q,v,I,T,F),y;const R=k(y.est,v,I,T,F);let N=y.left,q=y.right;R>0&&(N=y.right,q=y.left);const A=g(N,v,I,T,F);if(A.tdst<=R*R)return A;const C=g(q,v,I,T,F);return C.tdst<A.tdst?C:A}function k(y,v,I,T,F){const{e:R}=y;return R[0]*v+R[1]*I+R[2]*T+R[3]*F-y.eMq}function x(y,v,I,T,F,R){for(T-=4;I<T;){for(;E(y,I,F)<=R;)I+=4;for(;E(y,T,F)>R;)T-=4;if(I>=T)break;const N=v[I>>2];v[I>>2]=v[T>>2],v[T>>2]=N,I+=4,T-=4}for(;E(y,I,F)>R;)I-=4;return I+4}function E(y,v,I){return y[v]*I[0]+y[v+1]*I[1]+y[v+2]*I[2]+y[v+3]*I[3]}function U(y,v,I){const T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,0,0,0],R=I-v>>2;for(let N=v;N<I;N+=4){const q=y[N]*.00392156862745098,A=y[N+1]*(1/255),C=y[N+2]*(1/255),D=y[N+3]*(1/255);F[0]+=q,F[1]+=A,F[2]+=C,F[3]+=D,T[0]+=q*q,T[1]+=q*A,T[2]+=q*C,T[3]+=q*D,T[5]+=A*A,T[6]+=A*C,T[7]+=A*D,T[10]+=C*C,T[11]+=C*D,T[15]+=D*D}return T[4]=T[1],T[8]=T[2],T[9]=T[6],T[12]=T[3],T[13]=T[7],T[14]=T[11],{R:T,m:F,N:R}}function $(y){const{R:v}=y,{m:I}=y,{N:T}=y,F=I[0],R=I[1],N=I[2],q=I[3],A=T==0?0:1/T,C=[v[0]-F*F*A,v[1]-F*R*A,v[2]-F*N*A,v[3]-F*q*A,v[4]-R*F*A,v[5]-R*R*A,v[6]-R*N*A,v[7]-R*q*A,v[8]-N*F*A,v[9]-N*R*A,v[10]-N*N*A,v[11]-N*q*A,v[12]-q*F*A,v[13]-q*R*A,v[14]-q*N*A,v[15]-q*q*A],D=C,O=M;let P=[Math.random(),Math.random(),Math.random(),Math.random()],te=0,V=0;if(T!=0)for(let L=0;L<16&&(P=O.multVec(D,P),V=Math.sqrt(O.dot(P,P)),P=O.sml(1/V,P),!(L!=0&&Math.abs(V-te)<1e-9));L++)te=V;const Y=[F*A,R*A,N*A,q*A];return{Cov:C,q:Y,e:P,L:te,eMq255:O.dot(O.sml(255,Y),P),eMq:O.dot(P,Y),rgba:(Math.round(255*Y[3])<<24|Math.round(255*Y[2])<<16|Math.round(255*Y[1])<<8|Math.round(255*Y[0])<<0)>>>0}}var M={multVec:(y,v)=>[y[0]*v[0]+y[1]*v[1]+y[2]*v[2]+y[3]*v[3],y[4]*v[0]+y[5]*v[1]+y[6]*v[2]+y[7]*v[3],y[8]*v[0]+y[9]*v[1]+y[10]*v[2]+y[11]*v[3],y[12]*v[0]+y[13]*v[1]+y[14]*v[2]+y[15]*v[3]],dot:(y,v)=>y[0]*v[0]+y[1]*v[1]+y[2]*v[2]+y[3]*v[3],sml:(y,v)=>[y*v[0],y*v[1],y*v[2],y*v[3]]};kt.encode=function(v,I,T,F,R,N,q){F==null&&(F=0),q==null&&(q=!1);const A=o(v,I,T,F,[!1,!1,!1,0,q,!1]);return d(A,-1),u(A,I,T,R,N)},kt.encodeLL=function(v,I,T,F,R,N,q,A){const C={ctype:0+(F==1?0:2)+(R==0?0:4),depth:N,frames:[]},D=(F+R)*N,O=D*I;for(let P=0;P<v.length;P++)C.frames.push({rect:{x:0,y:0,width:I,height:T},img:new Uint8Array(v[P]),blend:0,dispose:1,bpp:Math.ceil(D/8),bpl:Math.ceil(O/8)});return d(C,0,!0),u(C,I,T,q,A)},kt.encode.compress=o,kt.encode.dither=l,kt.quantize=b,kt.quantize.getKDtree=w,kt.quantize.getNearest=g})();const Pi={toArrayBuffer(n,e){const t=n.width,r=n.height,s=t<<2,i=n.getContext("2d").getImageData(0,0,t,r),a=new Uint32Array(i.data.buffer),l=(32*t+31)/32<<2,u=l*r,d=122+u,o=new ArrayBuffer(d),f=new DataView(o),c=1<<20;let h,p,b,w,g=c,k=0,x=0,E=0;function U(y){f.setUint16(x,y,!0),x+=2}function $(y){f.setUint32(x,y,!0),x+=4}function M(y){x+=y}U(19778),$(d),M(4),$(122),$(108),$(t),$(-r>>>0),U(1),U(32),$(3),$(u),$(2835),$(2835),M(8),$(16711680),$(65280),$(255),$(4278190080),$(1466527264),function y(){for(;k<r&&g>0;){for(w=122+k*l,h=0;h<s;)g--,p=a[E++],b=p>>>24,f.setUint32(w+h,p<<8|b),h+=4;k++}E<a.length?(g=c,setTimeout(y,Pi._dly)):e(o)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var _t={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},vo={[_t.CHROME]:16384,[_t.FIREFOX]:11180,[_t.DESKTOP_SAFARI]:16384,[_t.IE]:8192,[_t.IOS]:4096,[_t.ETC]:8192};const Jr=typeof window<"u",Zi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,hr=Jr&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),yo=(Jr||Zi)&&(hr&&hr.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Li=(Jr||Zi)&&(hr&&hr.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Xr(n,e,t=Date.now()){return new Promise(r=>{const s=n.split(","),i=s[0].match(/:(.*?);/)[1],a=globalThis.atob(s[1]);let l=a.length;const u=new Uint8Array(l);for(;l--;)u[l]=a.charCodeAt(l);const d=new Blob([u],{type:i});d.name=e,d.lastModified=t,r(d)})}function zi(n){return new Promise((e,t)=>{const r=new Li;r.onload=()=>e(r.result),r.onerror=s=>t(s),r.readAsDataURL(n)})}function Hi(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=s=>t(s),r.src=n})}function Jt(){if(Jt.cachedResult!==void 0)return Jt.cachedResult;let n=_t.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=_t.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=_t.IOS:/Safari/i.test(e)?n=_t.DESKTOP_SAFARI:/Firefox/i.test(e)?n=_t.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=_t.IE),Jt.cachedResult=n,Jt.cachedResult}function Bi(n,e){const t=Jt(),r=vo[t];let s=n,i=e,a=s*i;const l=s>i?i/s:s/i;for(;a>r*r;){const u=(r+s)/2,d=(r+i)/2;u<d?(i=d,s=d*l):(i=u*l,s=u),a=s*i}return{width:s,height:i}}function Ar(n,e){let t,r;try{if(t=new OffscreenCanvas(n,e),r=t.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),r=t.getContext("2d")}return t.width=n,t.height=e,[t,r]}function Vi(n,e){const{width:t,height:r}=Bi(n.width,n.height),[s,i]=Ar(t,r);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(n,0,0,s.width,s.height),s}function Gn(){return Gn.cachedResult!==void 0||(Gn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Gn.cachedResult}function pr(n,e={}){return new Promise(function(t,r){let s,i;var a=function(){try{return i=Vi(s,e.fileType||n.type),t([s,i])}catch(u){return r(u)}},l=function(u){try{var d=function(o){try{throw o}catch(f){return r(f)}};try{let o;return zi(n).then(function(f){try{return o=f,Hi(o).then(function(c){try{return s=c,function(){try{return a()}catch(h){return r(h)}}()}catch(h){return d(h)}},d)}catch(c){return d(c)}},d)}catch(o){d(o)}}catch(o){return r(o)}};try{if(Gn()||[_t.DESKTOP_SAFARI,_t.MOBILE_SAFARI].includes(Jt()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(u){try{return s=u,a()}catch{return l()}},l)}catch{l()}})}function mr(n,e,t,r,s=1){return new Promise(function(i,a){let l;if(e==="image/png"){let f,c,h;return f=n.getContext("2d"),{data:c}=f.getImageData(0,0,n.width,n.height),h=kt.encode([c.buffer],n.width,n.height,4096*s),l=new Blob([h],{type:e}),l.name=t,l.lastModified=r,u.call(this)}{let f=function(){return u.call(this)};var d=f;if(e==="image/bmp")return new Promise(c=>Pi.toBlob(n,c)).then(function(c){try{return l=c,l.name=t,l.lastModified=r,f.call(this)}catch(h){return a(h)}}.bind(this),a);{let c=function(){return f.call(this)};var o=c;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:s}).then(function(h){try{return l=h,l.name=t,l.lastModified=r,c.call(this)}catch(p){return a(p)}}.bind(this),a);{let h;return h=n.toDataURL(e,s),Xr(h,t,r).then(function(p){try{return l=p,c.call(this)}catch(b){return a(b)}}.bind(this),a)}}}function u(){return i(l)}})}function It(n){n.width=0,n.height=0}function fn(){return new Promise(function(n,e){let t,r,s,i;return fn.cachedResult!==void 0?n(fn.cachedResult):Xr("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return t=a,pr(t).then(function(l){try{return r=l[1],mr(r,t.type,t.name,t.lastModified).then(function(u){try{return s=u,It(r),pr(s).then(function(d){try{return i=d[0],fn.cachedResult=i.width===1&&i.height===2,n(fn.cachedResult)}catch(o){return e(o)}},e)}catch(d){return e(d)}},e)}catch(u){return e(u)}},e)}catch(l){return e(l)}},e)})}function Qi(n){return new Promise((e,t)=>{const r=new Li;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const a=i.byteLength;let l=2;for(;l<a;){if(i.getUint16(l+2,!1)<=8)return e(-1);const u=i.getUint16(l,!1);if(l+=2,u==65505){if(i.getUint32(l+=2,!1)!=1165519206)return e(-1);const d=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,d);const o=i.getUint16(l,d);l+=2;for(let f=0;f<o;f++)if(i.getUint16(l+12*f,d)==274)return e(i.getUint16(l+12*f+8,d))}else{if((65280&u)!=65280)break;l+=i.getUint16(l,!1)}}return e(-1)},r.onerror=s=>t(s),r.readAsArrayBuffer(n)})}function Wi(n,e){const{width:t}=n,{height:r}=n,{maxWidthOrHeight:s}=e;let i,a=n;return isFinite(s)&&(t>s||r>s)&&([a,i]=Ar(t,r),t>r?(a.width=s,a.height=r/t*s):(a.width=t/r*s,a.height=s),i.drawImage(n,0,0,a.width,a.height),It(n)),a}function Gi(n,e){const{width:t}=n,{height:r}=n,[s,i]=Ar(t,r);switch(e>4&&e<9?(s.width=r,s.height=t):(s.width=t,s.height=r),e){case 2:i.transform(-1,0,0,1,t,0);break;case 3:i.transform(-1,0,0,-1,t,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,t);break;case 8:i.transform(0,-1,1,0,0,t)}return i.drawImage(n,0,0,t,r),It(n),s}function $s(n,e,t=0){return new Promise(function(r,s){let i,a,l,u,d,o,f,c,h,p,b,w,g,k,x,E,U,$,M,y;function v(T=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=T,e.onProgress(Math.min(i,100))}function I(T){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(T,i),100),e.onProgress(i)}return i=t,a=e.maxIteration||10,l=1024*e.maxSizeMB*1024,v(),pr(n,e).then(function(T){try{return[,u]=T,v(),d=Wi(u,e),v(),new Promise(function(F,R){var N;if(!(N=e.exifOrientation))return Qi(n).then(function(A){try{return N=A,q.call(this)}catch(C){return R(C)}}.bind(this),R);function q(){return F(N)}return q.call(this)}).then(function(F){try{return o=F,v(),fn().then(function(R){try{return f=R?d:Gi(d,o),v(),c=e.initialQuality||1,h=e.fileType||n.type,mr(f,h,n.name,n.lastModified,c).then(function(N){try{{let D=function(){if(a--&&(x>l||x>g)){let P,te;return P=y?.95*M.width:M.width,te=y?.95*M.height:M.height,[U,$]=Ar(P,te),$.drawImage(M,0,0,P,te),c*=h==="image/png"?.85:.95,mr(U,h,n.name,n.lastModified,c).then(function(V){try{return E=V,It(M),M=U,x=E.size,I(Math.min(99,Math.floor((k-x)/(k-l)*100))),D}catch(Y){return s(Y)}},s)}return[1]},O=function(){return It(M),It(U),It(d),It(f),It(u),I(100),r(E)};var A=D,C=O;if(p=N,v(),b=p.size>l,w=p.size>n.size,!b&&!w)return I(100),r(p);var q;return g=n.size,k=p.size,x=k,M=f,y=!e.alwaysKeepResolution&&b,(q=function(P){for(;P;){if(P.then)return void P.then(q,s);try{if(P.pop){if(P.length)return P.pop()?O.call(this):P;P=D}else P=P.call(this)}catch(te){return s(te)}}}.bind(this))(D)}}catch(D){return s(D)}}.bind(this),s)}catch(N){return s(N)}}.bind(this),s)}catch(R){return s(R)}}.bind(this),s)}catch(F){return s(F)}}.bind(this),s)})}const bo=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Fr;function wo(n,e){return new Promise((t,r)=>{Fr||(Fr=function(a){const l=[];return typeof a=="function"?l.push(`(${a})()`):l.push(a),URL.createObjectURL(new Blob(l))}(bo));const s=new Worker(Fr);s.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)s.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void s.terminate();t(a.data.file),s.terminate()}else e.onProgress(a.data.progress)}),s.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),s.terminate()}),s.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function at(n,e){return new Promise(function(t,r){let s,i,a,l,u,d;if(s={...e},a=0,{onProgress:l}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=h=>{a=h,typeof l=="function"&&l(a)},!(n instanceof Blob||n instanceof yo))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return r(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||d)return $s(n,s).then(function(h){try{return i=h,c.call(this)}catch(p){return r(p)}}.bind(this),r);var o=function(){try{return c.call(this)}catch(h){return r(h)}}.bind(this),f=function(h){try{return $s(n,s).then(function(p){try{return i=p,o()}catch(b){return r(b)}},r)}catch(p){return r(p)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",wo(n,s).then(function(h){try{return i=h,o()}catch{return f()}},f)}catch{f()}function c(){try{i.name=n.name,i.lastModified=n.lastModified}catch{}try{s.preserveExif&&n.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===n.type)&&(i=ji(n,i))}catch{}return t(i)}})}at.getDataUrlFromFile=zi,at.getFilefromDataUrl=Xr,at.loadImage=Hi,at.drawImageInCanvas=Vi,at.drawFileInCanvas=pr,at.canvasToFile=mr,at.getExifOrientation=Qi,at.handleMaxWidthOrHeight=Wi,at.followExifOrientation=Gi,at.cleanupCanvasMemory=It,at.isAutoOrientationInBrowser=fn,at.approximateBelowMaximumCanvasSizeOfBrowser=Bi,at.copyExifWithoutOrientation=ji,at.getBrowserName=Jt,at.version="2.0.2";let Hn;const ko=new Uint8Array(16);function Co(){if(!Hn&&(Hn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hn(ko)}const st=[];for(let n=0;n<256;++n)st.push((n+256).toString(16).slice(1));function Ao(n,e=0){return(st[n[e+0]]+st[n[e+1]]+st[n[e+2]]+st[n[e+3]]+"-"+st[n[e+4]]+st[n[e+5]]+"-"+st[n[e+6]]+st[n[e+7]]+"-"+st[n[e+8]]+st[n[e+9]]+"-"+st[n[e+10]]+st[n[e+11]]+st[n[e+12]]+st[n[e+13]]+st[n[e+14]]+st[n[e+15]]).toLowerCase()}const xo=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Es={randomUUID:xo};function $o(n,e,t){if(Es.randomUUID&&!e&&!n)return Es.randomUUID();n=n||{};const r=n.random||(n.rng||Co)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let s=0;s<16;++s)e[t+s]=r[s];return e}return Ao(r)}const $n=Gt({}),gn=Gt([]),xr=Gt(null);function Eo(){return new Promise(n=>{xr.set(n)})}function So(){xr.update(n=>(n!==null&&n(null),null))}function To(n){xr.update(e=>(e!==null&&e(n),null))}async function Io(n,e){const t=$o(),r=await at(n,{maxSizeMB:.8,onProgress:e});if(r.size>=io)throw Error("File is too large (max 15mb)");gn.update(s=>(s.push({uuid:t,name:n.name,size:n.size,blob:r}),s)),Yi(r,t)}async function Yi(n,e){const t=new FileReader;await new Promise((s,i)=>{t.onload=s,t.onerror=i,t.onabort=i,t.readAsDataURL(n)});const r=t.result;$n.update(s=>(s[e]=r,s))}function Mo(n=void 0){const e=document.createElement("input");return e.type="file",e.hidden=!0,n!==void 0&&(e.accept=n),document.body.appendChild(e),new Promise((t,r)=>{e.onchange=()=>{if(e.files===null)return r();const s=e.files.item(0);t(s)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function Fo(n=void 0){const e=document.createElement("input");return e.type="file",e.multiple=!0,e.hidden=!0,n!==void 0&&(e.accept=n),new Promise((t,r)=>{document.body.appendChild(e),e.onchange=()=>{if(e.files===null)return r();t(e.files)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function No(n,e){const t=document.createElement("a");t.download=n.replace(/[ ^/]/g,"_"),t.href=URL.createObjectURL(e),t.dataset.downloadurl=["application/json",t.download,t.href].join(":"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function Uo(n){let e,t,r;return{c(){e=ue("svg"),t=ue("path"),r=ue("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(s,i){H(s,e,i),m(e,t),m(e,r)},p:G,i:G,o:G,d(s){s&&z(e)}}}class Ji extends Ce{constructor(e){super(),ke(this,e,null,Uo,ve,{})}}function Ss(n,e,t){const r=n.slice();return r[14]=e[t],r}function Ts(n,e,t){const r=n.slice();return r[17]=e[t],r}function Is(n){let e,t,r,s,i,a,l,u,d,o,f,c,h,p,b,w,g,k,x,E=n[2].length<1&&n[0].length<1&&Ms(),U=n[2],$=[];for(let v=0;v<U.length;v+=1)$[v]=Fs(Ts(n,U,v));let M=n[0],y=[];for(let v=0;v<M.length;v+=1)y[v]=Ns(Ss(n,M,v));return f=new Ji({}),{c(){e=S("div"),t=S("div"),r=S("div"),E&&E.c(),s=j();for(let v=0;v<$.length;v+=1)$[v].c();i=j();for(let v=0;v<y.length;v+=1)y[v].c();a=j(),l=S("div"),u=S("button"),u.textContent="Close",d=j(),o=S("button"),le(f.$$.fragment),c=ee(`
          Upload Images`),h=j(),p=S("button"),b=ee("Delete All Images"),_(r,"class","images svelte-jdx2r3"),_(u,"class","btn btn--surface"),_(o,"class","btn btn--icon btn--surface"),_(p,"class","btn btn--surface"),p.disabled=w=n[2].length===0,_(l,"class","actions btn-row btn-row--fill svelte-jdx2r3"),_(t,"class","dialog svelte-jdx2r3"),_(e,"class","wrapper svelte-jdx2r3")},m(v,I){H(v,e,I),m(e,t),m(t,r),E&&E.m(r,null),m(r,s);for(let T=0;T<$.length;T+=1)$[T]&&$[T].m(r,null);m(r,i);for(let T=0;T<y.length;T+=1)y[T]&&y[T].m(r,null);m(t,a),m(t,l),m(l,u),m(l,d),m(l,o),ie(f,o,null),m(o,c),m(l,h),m(l,p),m(p,b),g=!0,k||(x=[J(u,"click",So),J(o,"click",n[4]),J(p,"click",n[7]),J(t,"drop",n[5]),J(t,"dragover",Po)],k=!0)},p(v,I){if(v[2].length<1&&v[0].length<1?E||(E=Ms(),E.c(),E.m(r,s)):E&&(E.d(1),E=null),I&76){U=v[2];let T;for(T=0;T<U.length;T+=1){const F=Ts(v,U,T);$[T]?$[T].p(F,I):($[T]=Fs(F),$[T].c(),$[T].m(r,i))}for(;T<$.length;T+=1)$[T].d(1);$.length=U.length}if(I&1){M=v[0];let T;for(T=0;T<M.length;T+=1){const F=Ss(v,M,T);y[T]?y[T].p(F,I):(y[T]=Ns(F),y[T].c(),y[T].m(r,null))}for(;T<y.length;T+=1)y[T].d(1);y.length=M.length}(!g||I&4&&w!==(w=v[2].length===0))&&(p.disabled=w)},i(v){g||(B(f.$$.fragment,v),g=!0)},o(v){W(f.$$.fragment,v),g=!1},d(v){v&&z(e),E&&E.d(),En($,v),En(y,v),ae(f),k=!1,Je(x)}}}function Ms(n){let e;return{c(){e=S("p"),e.textContent="Click upload or drag and drop files here to upload",_(e,"class","images__text svelte-jdx2r3")},m(t,r){H(t,e,r)},d(t){t&&z(e)}}}function Ro(n){let e;return{c(){e=S("span"),e.textContent="Preview loading.."},m(t,r){H(t,e,r)},p:G,d(t){t&&z(e)}}}function Oo(n){let e,t;return{c(){e=S("img"),_(e,"class","image svelte-jdx2r3"),Yn(e.src,t=n[3][n[17].uuid])||_(e,"src",t),_(e,"alt","Preview")},m(r,s){H(r,e,s)},p(r,s){s&12&&!Yn(e.src,t=r[3][r[17].uuid])&&_(e,"src",t)},d(r){r&&z(e)}}}function Fs(n){let e,t,r=n[17].name+"",s,i,a,l,u,d=n[17].size+"",o,f,c,h,p,b,w,g,k;function x(y,v){return y[3][y[17].uuid]!==void 0?Oo:Ro}let E=x(n),U=E(n);function $(){return n[8](n[17])}function M(){return n[9](n[17])}return{c(){e=S("div"),t=S("p"),s=ee(r),i=j(),a=S("div"),U.c(),l=j(),u=S("p"),o=ee(d),f=ee(" bytes"),c=j(),h=S("div"),p=S("button"),p.textContent="Select",b=j(),w=S("button"),w.textContent="Delete",_(t,"class","file__name svelte-jdx2r3"),_(a,"class","image-wrapper svelte-jdx2r3"),_(p,"class","btn btn--small"),_(w,"class","btn btn--small"),_(h,"class","file__actions svelte-jdx2r3"),_(e,"class","file svelte-jdx2r3")},m(y,v){H(y,e,v),m(e,t),m(t,s),m(e,i),m(e,a),U.m(a,null),m(e,l),m(e,u),m(u,o),m(u,f),m(e,c),m(e,h),m(h,p),m(h,b),m(h,w),g||(k=[J(p,"click",$),J(w,"click",M)],g=!0)},p(y,v){n=y,v&4&&r!==(r=n[17].name+"")&&$e(s,r),E===(E=x(n))&&U?U.p(n,v):(U.d(1),U=E(n),U&&(U.c(),U.m(a,null))),v&4&&d!==(d=n[17].size+"")&&$e(o,d)},d(y){y&&z(e),U.d(),g=!1,Je(k)}}}function qo(n){let e,t,r=n[14].progress+"",s;return{c(){e=S("p"),t=ee("Progress: "),s=ee(r)},m(i,a){H(i,e,a),m(e,t),m(e,s)},p(i,a){a&1&&r!==(r=i[14].progress+"")&&$e(s,r)},d(i){i&&z(e)}}}function Do(n){let e,t=n[14].error+"",r;return{c(){e=S("p"),r=ee(t),_(e,"class","error svelte-jdx2r3")},m(s,i){H(s,e,i),m(e,r)},p(s,i){i&1&&t!==(t=s[14].error+"")&&$e(r,t)},d(s){s&&z(e)}}}function Ns(n){let e,t,r=n[14].name+"",s,i,a;function l(o,f){return o[14].error?Do:qo}let u=l(n),d=u(n);return{c(){e=S("div"),t=S("p"),s=ee(r),i=j(),d.c(),a=j(),_(e,"class","file svelte-jdx2r3")},m(o,f){H(o,e,f),m(e,t),m(t,s),m(e,i),d.m(e,null),m(e,a)},p(o,f){f&1&&r!==(r=o[14].name+"")&&$e(s,r),u===(u=l(o))&&d?d.p(o,f):(d.d(1),d=u(o),d&&(d.c(),d.m(e,a)))},d(o){o&&z(e),d.d()}}}function jo(n){let e,t,r=n[1]&&Is(n);return{c(){r&&r.c(),e=Pt()},m(s,i){r&&r.m(s,i),H(s,e,i),t=!0},p(s,[i]){s[1]?r?(r.p(s,i),i&2&&B(r,1)):(r=Is(s),r.c(),B(r,1),r.m(e.parentNode,e)):r&&(nt(),W(r,1,1,()=>{r=null}),rt())},i(s){t||(B(r),t=!0)},o(s){W(r),t=!1},d(s){r&&r.d(s),s&&z(e)}}}function Po(n){n.stopPropagation(),n.preventDefault()}function Zo(n,e,t){let r,s,i;wt(n,xr,g=>t(1,r=g)),wt(n,gn,g=>t(2,s=g)),wt(n,$n,g=>t(3,i=g));let a=[];async function l(){const g=await Fo("image/*");g!==null&&d(g)}function u(g){g.stopPropagation(),g.preventDefault();const k=g.dataTransfer;if(k===null)return;const x=k.files;x!==null&&d(x)}function d(g){for(const k of g)a.push({name:k.name,progress:0,error:null}),t(0,a),Io(k,x=>{c(k.name,x)}).then(()=>o(k)).catch(x=>f(k,x))}function o(g){t(0,a=a.filter(k=>k.name!==g.name))}function f(g,k){t(0,a=a.map(x=>(x.name===g.name&&(x.error=k.message),x)))}function c(g,k){t(0,a=a.map(x=>(x.name===g&&(x.progress=k),x)))}function h(g){gn.update(k=>k.filter(x=>x.uuid!==g.uuid)),$n.update(k=>(delete k[g.uuid],k))}async function p(){await Wr("Confirm Deletion","Are you sure you want to delete all the uploaded files?")&&(gn.set([]),$n.set({}),t(0,a=[]))}return[a,r,s,i,l,u,h,p,g=>To(g),g=>h(g)]}class Lo extends Ce{constructor(e){super(),ke(this,e,Zo,jo,ve,{})}}function zo(n){let e;return{c(){e=S("p"),e.textContent="Pick Image"},m(t,r){H(t,e,r)},p:G,d(t){t&&z(e)}}}function Ho(n){let e,t,r,s,i,a,l;return{c(){e=S("img"),s=j(),i=S("button"),i.textContent="Click to remove",_(e,"class","image svelte-8u6k8r"),_(e,"data-fit",t=n[0].image.fit),Yn(e.src,r=n[1])||_(e,"src",r),_(e,"alt","Uploaded Content"),_(i,"class","overlay svelte-8u6k8r")},m(u,d){H(u,e,d),H(u,s,d),H(u,i,d),a||(l=J(i,"click",n[3]),a=!0)},p(u,d){d&1&&t!==(t=u[0].image.fit)&&_(e,"data-fit",t),d&2&&!Yn(e.src,r=u[1])&&_(e,"src",r)},d(u){u&&z(e),u&&z(s),u&&z(i),a=!1,l()}}}function Us(n){let e,t,r,s,i,a,l,u,d,o,f,c,h,p,b,w;return{c(){e=S("label"),t=S("span"),t.textContent="Image Fit",r=j(),s=S("p"),s.textContent=`Decide how the image should be best fit for the player screens, It's
      recommended that you use "Contain" if the full image content is important
      to be visible`,i=j(),a=S("select"),l=S("option"),u=ee("Contain: Fit the entire image"),d=S("option"),o=ee("Cover: Fill the available space"),f=S("option"),c=ee("Fill Width: Fill available width "),h=S("option"),p=ee("Fill Height: Fill available height"),_(t,"class","field__name svelte-8u6k8r"),_(s,"class","field__desc svelte-8u6k8r"),l.__value=cn.Contain,l.value=l.__value,d.__value=cn.Cover,d.value=d.__value,f.__value=cn.Width,f.value=f.__value,h.__value=cn.Height,h.value=h.__value,_(a,"class","input svelte-8u6k8r"),n[0].image.fit===void 0&&Ye(()=>n[6].call(a)),_(e,"class","field svelte-8u6k8r")},m(g,k){H(g,e,k),m(e,t),m(e,r),m(e,s),m(e,i),m(e,a),m(a,l),m(l,u),m(a,d),m(d,o),m(a,f),m(f,c),m(a,h),m(h,p),Ht(a,n[0].image.fit,!0),b||(w=J(a,"change",n[6]),b=!0)},p(g,k){k&1&&Ht(a,g[0].image.fit)},d(g){g&&z(e),b=!1,w()}}}function Bo(n){let e,t,r,s,i,a,l;function u(c,h){return c[0].image!==null&&c[1]?Ho:zo}let d=u(n),o=d(n),f=n[0].image!==null&&Us(n);return s=new Lo({}),{c(){e=S("div"),o.c(),t=j(),f&&f.c(),r=j(),le(s.$$.fragment),_(e,"tabindex","0"),_(e,"role","button"),_(e,"class","wrapper svelte-8u6k8r")},m(c,h){H(c,e,h),o.m(e,null),H(c,t,h),f&&f.m(c,h),H(c,r,h),ie(s,c,h),i=!0,a||(l=[J(e,"click",n[2]),J(e,"keypress",n[4])],a=!0)},p(c,[h]){d===(d=u(c))&&o?o.p(c,h):(o.d(1),o=d(c),o&&(o.c(),o.m(e,null))),c[0].image!==null?f?f.p(c,h):(f=Us(c),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},i(c){i||(B(s.$$.fragment,c),i=!0)},o(c){W(s.$$.fragment,c),i=!1},d(c){c&&z(e),o.d(),c&&z(t),f&&f.d(c),c&&z(r),ae(s,c),a=!1,Je(l)}}}function Vo(n,e,t){let r;wt(n,$n,o=>t(5,r=o));let{question:s}=e,i=null;async function a(){let o=await Eo();o!==null&&t(0,s.image={uuid:o.uuid,fit:cn.Contain},s)}function l(o){o.stopPropagation(),t(0,s.image=null,s),t(1,i=null)}function u(o){(o.key==="Enter"||o.key==="NumpadEnter")&&a()}function d(){s.image.fit=gr(this),t(0,s)}return n.$$set=o=>{"question"in o&&t(0,s=o.question)},n.$$.update=()=>{if(n.$$.dirty&33&&s.image!==null){let o=r[s.image.uuid];o!==void 0?t(1,i=o):t(1,i=null)}},[s,i,a,l,u,r,d]}class Qo extends Ce{constructor(e){super(),ke(this,e,Vo,Bo,ve,{question:0})}}function $r(n,{from:e,to:t},r={}){const s=getComputedStyle(n),i=s.transform==="none"?"":s.transform,[a,l]=s.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/t.width-(t.left+a),d=e.top+e.height*l/t.height-(t.top+l),{delay:o=0,duration:f=h=>Math.sqrt(h)*120,easing:c=bi}=r;return{delay:o,duration:wn(f)?f(Math.sqrt(u*u+d*d)):f,easing:c,css:(h,p)=>{const b=p*u,w=p*d,g=h+p*e.width/t.width,k=h+p*e.height/t.height;return`transform: ${i} translate(${b}px, ${w}px) scale(${g}, ${k});`}}}function Wo(n){let e,t,r,s,i,a,l;return{c(){e=S("label"),t=S("input"),r=j(),s=ue("svg"),i=ue("path"),_(t,"class","input svelte-1sqhokz"),_(t,"type","checkbox"),_(i,"d","M4.575 8.977s-.404-.007-.536-.165L.057 5.64l.829-1.227L4.47 7.268 10.921.086l.923 1.103-6.863 7.64c-.134-.003-.406.148-.406.148z"),_(i,"fill","#FFF"),_(i,"fill-rule","evenodd"),_(s,"width","16"),_(s,"height","16"),_(s,"viewBox","0 0 12 9"),_(s,"xmlns","http://www.w3.org/2000/svg"),_(s,"class","mark svelte-1sqhokz"),_(e,"class","wrapper svelte-1sqhokz")},m(u,d){H(u,e,d),m(e,t),t.checked=n[0],m(e,r),m(e,s),m(s,i),a||(l=J(t,"change",n[1]),a=!0)},p(u,[d]){d&1&&(t.checked=u[0])},i:G,o:G,d(u){u&&z(e),a=!1,l()}}}function Go(n,e,t){let{value:r}=e;function s(){r=this.checked,t(0,r)}return n.$$set=i=>{"value"in i&&t(0,r=i.value)},[r,s]}class Yo extends Ce{constructor(e){super(),ke(this,e,Go,Wo,ve,{value:0})}}function Jo(n){let e,t,r;return{c(){e=ue("svg"),t=ue("path"),r=ue("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(s,i){H(s,e,i),m(e,t),m(e,r)},p:G,i:G,o:G,d(s){s&&z(e)}}}class Xi extends Ce{constructor(e){super(),ke(this,e,null,Jo,ve,{})}}function Xo(n){let e,t;return{c(){e=ue("svg"),t=ue("path"),_(t,"d","m283 699-43-43 240-240 240 240-43 43-197-197-197 197Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 96 960 960"),_(e,"width","48"),_(e,"height","48"),_(e,"fill","#FFFFFF")},m(r,s){H(r,e,s),m(e,t)},p:G,i:G,o:G,d(r){r&&z(e)}}}class Ki extends Ce{constructor(e){super(),ke(this,e,null,Xo,ve,{})}}function Ko(n){let e,t;return{c(){e=ue("svg"),t=ue("path"),_(t,"d","M480 712 240 472l43-43 197 197 197-197 43 43-240 240Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 96 960 960"),_(e,"width","48"),_(e,"height","48"),_(e,"fill","#FFFFFF")},m(r,s){H(r,e,s),m(e,t)},p:G,i:G,o:G,d(r){r&&z(e)}}}class ea extends Ce{constructor(e){super(),ke(this,e,null,Ko,ve,{})}}function Rs(n,e,t){const r=n.slice();return r[11]=e[t],r[12]=e,r[13]=t,r}function Os(n){let e,t=[],r=new Map,s,i,a,l,u,d,o,f,c,h,p,b,w=n[0].answers;const g=k=>k[11].id;for(let k=0;k<w.length;k+=1){let x=Rs(n,w,k),E=g(x);r.set(E,t[k]=qs(E,x))}return{c(){e=S("div");for(let k=0;k<t.length;k+=1)t[k].c();s=j(),i=S("div"),a=S("button"),l=ee("Add Answer"),d=j(),o=S("button"),f=ee("Shuffle"),_(a,"class","btn"),a.disabled=u=n[0].answers.length>=ws,_(o,"class","btn"),o.disabled=c=n[0].answers.length<=1,_(i,"class","field-group"),_(e,"class","answers svelte-9k2gpx")},m(k,x){H(k,e,x);for(let E=0;E<t.length;E+=1)t[E]&&t[E].m(e,null);m(e,s),m(e,i),m(i,a),m(a,l),m(i,d),m(i,o),m(o,f),h=!0,p||(b=[J(a,"click",n[1]),J(o,"click",n[5])],p=!0)},p(k,x){if(x&29){w=k[0].answers,nt();for(let E=0;E<t.length;E+=1)t[E].r();t=wr(t,x,g,1,k,w,r,e,br,qs,s,Rs);for(let E=0;E<t.length;E+=1)t[E].a();rt()}(!h||x&1&&u!==(u=k[0].answers.length>=ws))&&(a.disabled=u),(!h||x&1&&c!==(c=k[0].answers.length<=1))&&(o.disabled=c)},i(k){if(!h){for(let x=0;x<w.length;x+=1)B(t[x]);h=!0}},o(k){for(let x=0;x<t.length;x+=1)W(t[x]);h=!1},d(k){k&&z(e);for(let x=0;x<t.length;x+=1)t[x].d();p=!1,Je(b)}}}function qs(n,e){let t,r,s,i,a,l,u,d,o,f,c,h,p,b,w,g,k,x,E,U,$=G,M,y,v;function I(A){e[6](A,e[11])}let T={};e[11].correct!==void 0&&(T.value=e[11].correct),s=new Yo({props:T}),zt.push(()=>mn(s,"value",I)),d=new Ki({});function F(){return e[7](e[13])}h=new ea({});function R(){return e[8](e[13])}function N(){e[9].call(w,e[12],e[13])}x=new Xi({});function q(){return e[10](e[13])}return{key:n,first:null,c(){t=S("div"),r=S("div"),le(s.$$.fragment),a=j(),l=S("div"),u=S("button"),le(d.$$.fragment),f=j(),c=S("button"),le(h.$$.fragment),b=j(),w=S("input"),g=j(),k=S("button"),le(x.$$.fragment),_(r,"class","answer__check svelte-9k2gpx"),u.disabled=o=e[13]<=0,_(u,"class","btn btn--icon-only btn--surface btn-small arrow"),c.disabled=p=e[13]+1>=e[0].answers.length,_(c,"class","btn btn--icon-only btn--surface btn-small arrow"),_(l,"class","answer__actions svelte-9k2gpx"),_(w,"class","answer__question input svelte-9k2gpx"),_(w,"type","text"),_(w,"maxlength",Yl),k.disabled=E=e[0].answers.length==1,_(k,"class","btn btn--icon-only"),_(t,"class","answer svelte-9k2gpx"),this.first=t},m(A,C){H(A,t,C),m(t,r),ie(s,r,null),m(t,a),m(t,l),m(l,u),ie(d,u,null),m(l,f),m(l,c),ie(h,c,null),m(t,b),m(t,w),Pe(w,e[11].value),m(t,g),m(t,k),ie(x,k,null),M=!0,y||(v=[J(u,"click",F),J(c,"click",R),J(w,"input",N),J(k,"click",q)],y=!0)},p(A,C){e=A;const D={};!i&&C&1&&(i=!0,D.value=e[11].correct,pn(()=>i=!1)),s.$set(D),(!M||C&1&&o!==(o=e[13]<=0))&&(u.disabled=o),(!M||C&1&&p!==(p=e[13]+1>=e[0].answers.length))&&(c.disabled=p),C&1&&w.value!==e[11].value&&Pe(w,e[11].value),(!M||C&1&&E!==(E=e[0].answers.length==1))&&(k.disabled=E)},r(){U=t.getBoundingClientRect()},f(){yr(t),$()},a(){$(),$=vr(t,U,$r,{duration:500})},i(A){M||(B(s.$$.fragment,A),B(d.$$.fragment,A),B(h.$$.fragment,A),B(x.$$.fragment,A),M=!0)},o(A){W(s.$$.fragment,A),W(d.$$.fragment,A),W(h.$$.fragment,A),W(x.$$.fragment,A),M=!1},d(A){A&&z(t),ae(s),ae(d),ae(h),ae(x),y=!1,Je(v)}}}function eu(n){let e,t,r=(n[0].ty==tt.Single||n[0].ty==tt.Multiple)&&Os(n);return{c(){r&&r.c(),e=Pt()},m(s,i){r&&r.m(s,i),H(s,e,i),t=!0},p(s,[i]){s[0].ty==tt.Single||s[0].ty==tt.Multiple?r?(r.p(s,i),i&1&&B(r,1)):(r=Os(s),r.c(),B(r,1),r.m(e.parentNode,e)):r&&(nt(),W(r,1,1,()=>{r=null}),rt())},i(s){t||(B(r),t=!0)},o(s){W(r),t=!1},d(s){r&&r.d(s),s&&z(e)}}}function tu(n,e,t){let{question:r}=e;function s(){let p=0;for(const b of r.answers)b.id>=p&&(p=b.id+1);r.answers.push({id:p,value:"",correct:!1}),t(0,r)}const i=p=>{t(0,r.answers=fr(r.answers,p,p-1),r)},a=p=>{t(0,r.answers=fr(r.answers,p,p+1),r)};function l(p){t(0,r.answers=r.answers.filter((b,w)=>w!=p),r)}function u(){t(0,r.answers=Di(r.answers),r)}function d(p,b){n.$$.not_equal(b.correct,p)&&(b.correct=p,t(0,r))}const o=p=>i(p),f=p=>a(p);function c(p,b){p[b].value=this.value,t(0,r)}const h=p=>l(p);return n.$$set=p=>{"question"in p&&t(0,r=p.question)},[r,s,i,a,l,u,d,o,f,c,h]}class nu extends Ce{constructor(e){super(),ke(this,e,tu,eu,ve,{question:0})}}function ru(n){let e,t,r,s,i,a,l,u,d,o,f,c;return{c(){e=S("div"),t=S("input"),i=j(),a=S("select"),l=S("option"),u=ee("Minutes"),d=S("option"),o=ee("Seconds"),_(t,"class","input svelte-t6875b"),_(t,"type","number"),_(t,"min",r=n[5](n[0])),_(t,"max",s=n[5](n[1])),l.__value=n[4].Minutes,l.value=l.__value,d.__value=n[4].Seconds,d.value=d.__value,_(a,"class","select svelte-t6875b"),n[2]===void 0&&Ye(()=>n[9].call(a))},m(h,p){H(h,e,p),m(e,t),Pe(t,n[3]),m(e,i),m(e,a),m(a,l),m(l,u),m(a,d),m(d,o),Ht(a,n[2],!0),f||(c=[J(t,"input",n[8]),J(t,"change",n[6]),J(a,"change",n[9]),J(a,"change",n[6])],f=!0)},p(h,[p]){p&1&&r!==(r=h[5](h[0]))&&_(t,"min",r),p&2&&s!==(s=h[5](h[1]))&&_(t,"max",s),p&8&&gt(t.value)!==h[3]&&Pe(t,h[3]),p&20&&Ht(a,h[2])},i:G,o:G,d(h){h&&z(e),f=!1,Je(c)}}}function su(n,e,t){let{value:r}=e,{min:s}=e,{max:i}=e;var a=(p=>(p[p.Seconds=0]="Seconds",p[p.Minutes=1]="Minutes",p))(a||{});let l=0,u=o(r);function d(p){return l==0?p*1e3:l==1?p*1e3*60:p}function o(p){return l==0?p/1e3:l==1?p/60/1e3:p}function f(){if(u<1)t(3,u=1);else{let p=d(u);p>i?p=i:p<s&&(p=s),t(3,u=o(p)),t(7,r=p)}}function c(){u=gt(this.value),t(3,u)}function h(){l=gr(this),t(2,l),t(4,a)}return n.$$set=p=>{"value"in p&&t(7,r=p.value),"min"in p&&t(0,s=p.min),"max"in p&&t(1,i=p.max)},[s,i,l,u,a,o,f,r,c,h]}class Ds extends Ce{constructor(e){super(),ke(this,e,su,ru,ve,{value:7,min:0,max:1})}}function iu(n){let e,t,r;return{c(){e=ue("svg"),t=ue("path"),r=ue("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(s,i){H(s,e,i),m(e,t),m(e,r)},p:G,i:G,o:G,d(s){s&&z(e)}}}class Kr extends Ce{constructor(e){super(),ke(this,e,null,iu,ve,{})}}function js(n){let e,t,r,s,i,a,l,u,d,o,f,c,h,p,b,w,g,k;return{c(){e=S("label"),t=S("span"),t.textContent="Min Choices",r=j(),s=S("p"),s.textContent="The minimum number of answers that must be selected to get a pass",i=j(),a=S("input"),u=j(),d=S("label"),o=S("span"),o.textContent="Desired Choices",f=j(),c=S("p"),c.textContent=`The total number of answers the player must choose to get a full
          score. Can be the same as the minimum choices`,h=j(),p=S("input"),_(t,"class","field__name svelte-160lkeg"),_(s,"class","field__desc svelte-160lkeg"),_(a,"class","input svelte-160lkeg"),_(a,"type","number"),_(a,"min",1),_(a,"max",l=n[0].answers.length),_(e,"class","field svelte-160lkeg"),_(o,"class","field__name svelte-160lkeg"),_(c,"class","field__desc svelte-160lkeg"),_(p,"class","input svelte-160lkeg"),_(p,"type","number"),_(p,"min",b=n[0].min),_(p,"max",w=n[0].answers.length),_(d,"class","field svelte-160lkeg")},m(x,E){H(x,e,E),m(e,t),m(e,r),m(e,s),m(e,i),m(e,a),Pe(a,n[0].min),H(x,u,E),H(x,d,E),m(d,o),m(d,f),m(d,c),m(d,h),m(d,p),Pe(p,n[0].max),g||(k=[J(a,"input",n[6]),J(p,"input",n[7])],g=!0)},p(x,E){E&1&&l!==(l=x[0].answers.length)&&_(a,"max",l),E&1&&gt(a.value)!==x[0].min&&Pe(a,x[0].min),E&1&&b!==(b=x[0].min)&&_(p,"min",b),E&1&&w!==(w=x[0].answers.length)&&_(p,"max",w),E&1&&gt(p.value)!==x[0].max&&Pe(p,x[0].max)},d(x){x&&z(e),x&&z(u),x&&z(d),g=!1,Je(k)}}}function au(n){let e,t,r,s,i,a,l,u,d,o,f,c,h,p,b,w,g,k,x,E,U,$,M,y,v,I,T,F,R,N,q,A,C,D,O,P,te,V,Y,L,Z,re,Ee,Te,ce,Me,ye,Ae,ut,Xe,Ue,De,be,we,He,Oe,Fe,Be,Se,xe,Ze,We,yt,qe,ct,Ve,je,Ge,Ke,ge,ft,vt,St,Nt,Ie,it,Yt,ne,de,Le,Tt,Cn,et,ht,Sr,ss;s=new Kr({}),d=new Qo({props:{question:n[0]}});let pt=n[0].ty==tt.Multiple&&js(n);function aa(pe){n[8](pe)}let is={};n[0]!==void 0&&(is.question=n[0]),q=new nu({props:is}),zt.push(()=>mn(q,"question",aa));function la(pe){n[9](pe)}let as={min:Xl,max:Kl};n[0].answer_time!==void 0&&(as.value=n[0].answer_time),ce=new Ds({props:as}),zt.push(()=>mn(ce,"value",la));function oa(pe){n[10](pe)}let ls={min:no,max:ro};return n[0].bonus_score_time!==void 0&&(ls.value=n[0].bonus_score_time),be=new Ds({props:ls}),zt.push(()=>mn(be,"value",oa)),{c(){e=S("main"),t=S("header"),r=S("button"),le(s.$$.fragment),i=ee(`
      Back`),a=j(),l=S("button"),l.textContent="Save",u=j(),le(d.$$.fragment),o=j(),f=S("div"),c=S("p"),c.textContent="Question",h=j(),p=S("p"),p.textContent="Enter the question to ask the players",b=j(),w=S("textarea"),g=j(),k=S("div"),x=S("div"),E=S("p"),E.textContent="Question Type",U=j(),$=S("p"),$.textContent="The type of question to present",M=j(),y=S("select"),v=S("option"),I=ee("Single Choice"),T=S("option"),F=ee("Multiple Choice"),R=j(),pt&&pt.c(),N=j(),le(q.$$.fragment),C=j(),D=S("div"),O=S("h2"),O.textContent="Timing",P=j(),te=S("p"),te.textContent="Below you can configuring the timing for different events",V=j(),Y=S("div"),L=S("div"),Z=S("span"),Z.textContent="Answer Time",re=j(),Ee=S("p"),Ee.textContent="Time the players have to answer the question",Te=j(),le(ce.$$.fragment),ye=j(),Ae=S("div"),ut=S("span"),ut.textContent="Bonus Score Time",Xe=j(),Ue=S("p"),Ue.textContent="Time the players must answer within for bonus scores",De=j(),le(be.$$.fragment),He=j(),Oe=S("div"),Fe=S("h2"),Fe.textContent="Scoring",Be=j(),Se=S("p"),Se.textContent=`Score is awarded to players based on how quickly the player answers the
      question. You can configure the minimum and maximum values for this below`,xe=j(),Ze=S("div"),We=S("label"),yt=S("span"),yt.textContent="Min Score",qe=j(),ct=S("p"),ct.textContent="The minimum amount of score to award for this question",Ve=j(),je=S("input"),Ke=j(),ge=S("label"),ft=S("span"),ft.textContent="Max Score",vt=j(),St=S("p"),St.textContent="The maximum amount of score to award for this question",Nt=j(),Ie=S("input"),Yt=j(),ne=S("label"),de=S("span"),de.textContent="Bonus Score",Le=j(),Tt=S("p"),Tt.textContent="The amount of score to add for being within the bonus time",Cn=j(),et=S("input"),_(r,"class","btn btn--icon"),_(l,"class","btn"),_(t,"class","header btn-row svelte-160lkeg"),_(c,"class","field__name svelte-160lkeg"),_(p,"class","field__desc svelte-160lkeg"),_(w,"class","question__text input svelte-160lkeg"),_(w,"cols","30"),_(w,"rows","10"),_(f,"class","field svelte-160lkeg"),_(E,"class","field__name svelte-160lkeg"),_($,"class","field__desc svelte-160lkeg"),v.__value=tt.Single,v.value=v.__value,T.__value=tt.Multiple,T.value=T.__value,_(y,"class","input svelte-160lkeg"),n[0].ty===void 0&&Ye(()=>n[5].call(y)),_(x,"class","field svelte-160lkeg"),_(k,"class","field-group svelte-160lkeg"),_(O,"class","group__title svelte-160lkeg"),_(te,"class","group__desc svelte-160lkeg"),_(Z,"class","field__name svelte-160lkeg"),_(Ee,"class","field__desc svelte-160lkeg"),_(L,"class","field svelte-160lkeg"),_(ut,"class","field__name svelte-160lkeg"),_(Ue,"class","field__desc svelte-160lkeg"),_(Ae,"class","field svelte-160lkeg"),_(Y,"class","group__value field-group svelte-160lkeg"),_(D,"class","group"),_(Fe,"class","group__title svelte-160lkeg"),_(Se,"class","group__desc svelte-160lkeg"),_(yt,"class","field__name svelte-160lkeg"),_(ct,"class","field__desc svelte-160lkeg"),_(je,"class","input svelte-160lkeg"),_(je,"type","number"),_(je,"min",0),_(je,"max",Ge=n[0].scoring.max_score),_(We,"class","field svelte-160lkeg"),_(ft,"class","field__name svelte-160lkeg"),_(St,"class","field__desc svelte-160lkeg"),_(Ie,"class","input svelte-160lkeg"),_(Ie,"type","number"),_(Ie,"min",it=n[0].scoring.min_score),_(Ie,"max",1e3),_(ge,"class","field svelte-160lkeg"),_(de,"class","field__name svelte-160lkeg"),_(Tt,"class","field__desc svelte-160lkeg"),_(et,"class","input svelte-160lkeg"),_(et,"type","number"),_(et,"min",0),_(et,"max",1e3),_(ne,"class","field svelte-160lkeg"),_(Ze,"class","group__value field-group svelte-160lkeg"),_(Oe,"class","group"),_(e,"class","main svelte-160lkeg")},m(pe,mt){H(pe,e,mt),m(e,t),m(t,r),ie(s,r,null),m(r,i),m(t,a),m(t,l),m(e,u),ie(d,e,null),m(e,o),m(e,f),m(f,c),m(f,h),m(f,p),m(f,b),m(f,w),Pe(w,n[0].text),m(e,g),m(e,k),m(k,x),m(x,E),m(x,U),m(x,$),m(x,M),m(x,y),m(y,v),m(v,I),m(y,T),m(T,F),Ht(y,n[0].ty,!0),m(k,R),pt&&pt.m(k,null),m(e,N),ie(q,e,null),m(e,C),m(e,D),m(D,O),m(D,P),m(D,te),m(D,V),m(D,Y),m(Y,L),m(L,Z),m(L,re),m(L,Ee),m(L,Te),ie(ce,L,null),m(Y,ye),m(Y,Ae),m(Ae,ut),m(Ae,Xe),m(Ae,Ue),m(Ae,De),ie(be,Ae,null),m(e,He),m(e,Oe),m(Oe,Fe),m(Oe,Be),m(Oe,Se),m(Oe,xe),m(Oe,Ze),m(Ze,We),m(We,yt),m(We,qe),m(We,ct),m(We,Ve),m(We,je),Pe(je,n[0].scoring.min_score),m(Ze,Ke),m(Ze,ge),m(ge,ft),m(ge,vt),m(ge,St),m(ge,Nt),m(ge,Ie),Pe(Ie,n[0].scoring.max_score),m(Ze,Yt),m(Ze,ne),m(ne,de),m(ne,Le),m(ne,Tt),m(ne,Cn),m(ne,et),Pe(et,n[0].scoring.bonus_score),ht=!0,Sr||(ss=[J(r,"click",n[1]),J(l,"click",n[3]),J(w,"input",n[4]),J(y,"change",n[5]),J(y,"change",n[2]),J(je,"input",n[11]),J(Ie,"input",n[12]),J(et,"input",n[13])],Sr=!0)},p(pe,[mt]){const os={};mt&1&&(os.question=pe[0]),d.$set(os),mt&1&&Pe(w,pe[0].text),mt&1&&Ht(y,pe[0].ty),pe[0].ty==tt.Multiple?pt?pt.p(pe,mt):(pt=js(pe),pt.c(),pt.m(k,null)):pt&&(pt.d(1),pt=null);const us={};!A&&mt&1&&(A=!0,us.question=pe[0],pn(()=>A=!1)),q.$set(us);const cs={};!Me&&mt&1&&(Me=!0,cs.value=pe[0].answer_time,pn(()=>Me=!1)),ce.$set(cs);const fs={};!we&&mt&1&&(we=!0,fs.value=pe[0].bonus_score_time,pn(()=>we=!1)),be.$set(fs),(!ht||mt&1&&Ge!==(Ge=pe[0].scoring.max_score))&&_(je,"max",Ge),mt&1&&gt(je.value)!==pe[0].scoring.min_score&&Pe(je,pe[0].scoring.min_score),(!ht||mt&1&&it!==(it=pe[0].scoring.min_score))&&_(Ie,"min",it),mt&1&&gt(Ie.value)!==pe[0].scoring.max_score&&Pe(Ie,pe[0].scoring.max_score),mt&1&&gt(et.value)!==pe[0].scoring.bonus_score&&Pe(et,pe[0].scoring.bonus_score)},i(pe){ht||(B(s.$$.fragment,pe),B(d.$$.fragment,pe),B(q.$$.fragment,pe),B(ce.$$.fragment,pe),B(be.$$.fragment,pe),ht=!0)},o(pe){W(s.$$.fragment,pe),W(d.$$.fragment,pe),W(q.$$.fragment,pe),W(ce.$$.fragment,pe),W(be.$$.fragment,pe),ht=!1},d(pe){pe&&z(e),ae(s),ae(d),pt&&pt.d(),ae(q),ae(ce),ae(be),Sr=!1,Je(ss)}}}function lu(n,e,t){let{question:r}=e;async function s(){await Wr("Confirm Back","Are you sure you want to go back? You will loose any unsaved progress")&&Or()}function i(){t(0,r=ho(r))}function a(){let k=0;for(const x of r.answers)x.correct&&(k+=1);return k}function l(){if(a()<1){Rt("No answers","You must select atleast 1 answer as a correct answer");return}if(t(0,r.text=r.text.trim(),r),r.text.length<1){Rt("Empty quesiton","The question text must not be empty");return}for(let k=0;k<r.answers.length;k++){const x=r.answers[k];if(x.value=x.value.trim(),x.value.length<1){Rt("Empty answer",`Answer number ${k+1} must not be blank`);return}}fo(r),Or()}function u(){r.text=this.value,t(0,r)}function d(){r.ty=gr(this),t(0,r)}function o(){r.min=gt(this.value),t(0,r)}function f(){r.max=gt(this.value),t(0,r)}function c(k){r=k,t(0,r)}function h(k){n.$$.not_equal(r.answer_time,k)&&(r.answer_time=k,t(0,r))}function p(k){n.$$.not_equal(r.bonus_score_time,k)&&(r.bonus_score_time=k,t(0,r))}function b(){r.scoring.min_score=gt(this.value),t(0,r)}function w(){r.scoring.max_score=gt(this.value),t(0,r)}function g(){r.scoring.bonus_score=gt(this.value),t(0,r)}return n.$$set=k=>{"question"in k&&t(0,r=k.question)},n.$$.update=()=>{if(n.$$.dirty&1&&r.ty===tt.Multiple){let k=a();r.max>k&&t(0,r.max=k,r),r.max<r.min&&t(0,r.max=r.min,r)}},[r,s,i,l,u,d,o,f,c,h,p,b,w,g]}class ou extends Ce{constructor(e){super(),ke(this,e,lu,au,ve,{question:0})}}function uu(n){let e;return{c(){e=S("div"),_(e,"class","spin svelte-1ku7j7d")},m(t,r){H(t,e,r)},p:G,i:G,o:G,d(t){t&&z(e)}}}class ta extends Ce{constructor(e){super(),ke(this,e,null,uu,ve,{})}}function cu(n){let e,t,r,s,i,a;return t=new ta({}),{c(){e=S("main"),le(t.$$.fragment),r=j(),s=S("p"),i=ee(n[0]),_(s,"class","text svelte-ce1y0i"),_(e,"class","page page--center page--overflow")},m(l,u){H(l,e,u),ie(t,e,null),m(e,r),m(e,s),m(s,i),a=!0},p(l,[u]){(!a||u&1)&&$e(i,l[0])},i(l){a||(B(t.$$.fragment,l),a=!0)},o(l){W(t.$$.fragment,l),a=!1},d(l){l&&z(e),ae(t)}}}function fu(n,e,t){let{text:r}=e;return n.$$set=s=>{"text"in s&&t(0,r=s.text)},[r]}class es extends Ce{constructor(e){super(),ke(this,e,fu,cu,ve,{text:0})}}function du(n){let e,t,r,s,i,a,l;return t=new ta({}),{c(){e=S("main"),le(t.$$.fragment),r=j(),s=S("p"),i=ee(n[0]),_(s,"class","text svelte-1cn2ffa"),_(e,"class","main svelte-1cn2ffa")},m(u,d){H(u,e,d),ie(t,e,null),m(e,r),m(e,s),m(s,i),l=!0},p(u,[d]){(!l||d&1)&&$e(i,u[0])},i(u){l||(B(t.$$.fragment,u),Ye(()=>{l&&(a||(a=Re(e,Kn,{},!0)),a.run(1))}),l=!0)},o(u){W(t.$$.fragment,u),a||(a=Re(e,Kn,{},!1)),a.run(0),l=!1},d(u){u&&z(e),ae(t),u&&a&&a.end()}}}function hu(n,e,t){let{text:r=""}=e;return n.$$set=s=>{"text"in s&&t(0,r=s.text)},[r]}class ts extends Ce{constructor(e){super(),ke(this,e,hu,du,ve,{text:0})}}function pu(n){let e,t,r;return{c(){e=ue("svg"),t=ue("path"),r=ue("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M8 5v14l11-7z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(s,i){H(s,e,i),m(e,t),m(e,r)},p:G,i:G,o:G,d(s){s&&z(e)}}}class Er extends Ce{constructor(e){super(),ke(this,e,null,pu,ve,{})}}function Ps(n){let e,t;return e=new ts({}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function mu(n){let e,t,r,s,i,a,l,u,d,o,f,c,h,p,b,w=n[4]&&Zs(n);return{c(){e=S("main"),t=S("p"),r=ee(n[1]),s=j(),i=S("h1"),i.textContent="Enter Name",a=j(),l=S("p"),l.textContent="Please enter your desired name",u=j(),d=S("div"),o=S("input"),f=j(),w&&w.c(),_(o,"class","input input--small svelte-122cy5o"),_(o,"type","text"),_(o,"minlength",Ui),_(o,"maxlength",Ri),_(d,"class","form svelte-122cy5o"),_(e,"class","page page--center page--overflow svelte-122cy5o")},m(g,k){H(g,e,k),m(e,t),m(t,r),m(e,s),m(e,i),m(e,a),m(e,l),m(e,u),m(e,d),m(d,o),Pe(o,n[2]),m(d,f),w&&w.m(d,null),h=!0,p||(b=[J(o,"input",n[13]),J(o,"input",n[8])],p=!0)},p(g,k){(!h||k&2)&&$e(r,g[1]),k&4&&o.value!==g[2]&&Pe(o,g[2]),g[4]?w?(w.p(g,k),k&16&&B(w,1)):(w=Zs(g),w.c(),B(w,1),w.m(d,null)):w&&(nt(),W(w,1,1,()=>{w=null}),rt())},i(g){h||(B(w),Ye(()=>{h&&(c||(c=Re(e,ze,{},!0)),c.run(1))}),h=!0)},o(g){W(w),c||(c=Re(e,ze,{},!1)),c.run(0),h=!1},d(g){g&&z(e),w&&w.d(),g&&c&&c.end(),p=!1,Je(b)}}}function _u(n){let e,t,r,s,i,a,l,u,d,o,f,c,h=n[3]&&Ls(n);return{c(){e=S("main"),t=S("h1"),t.textContent="Enter Code",r=j(),s=S("p"),s.textContent="Please enter your quiz code below",i=j(),a=S("div"),l=S("input"),u=j(),h&&h.c(),_(l,"class","input svelte-122cy5o"),_(l,"type","text"),_(l,"minlength",Qn),_(l,"maxlength",Qn),_(l,"placeholder","X".repeat(Qn)),_(a,"class","form svelte-122cy5o"),_(e,"class","page page--center page--overflow svelte-122cy5o")},m(p,b){H(p,e,b),m(e,t),m(e,r),m(e,s),m(e,i),m(e,a),m(a,l),Pe(l,n[1]),m(a,u),h&&h.m(a,null),o=!0,f||(c=[J(l,"input",n[12]),J(l,"input",n[7])],f=!0)},p(p,b){b&2&&l.value!==p[1]&&Pe(l,p[1]),p[3]?h?(h.p(p,b),b&8&&B(h,1)):(h=Ls(p),h.c(),B(h,1),h.m(a,null)):h&&(nt(),W(h,1,1,()=>{h=null}),rt())},i(p){o||(B(h),Ye(()=>{o&&(d||(d=Re(e,ze,{},!0)),d.run(1))}),o=!0)},o(p){W(h),d||(d=Re(e,ze,{},!1)),d.run(0),o=!1},d(p){p&&z(e),h&&h.d(),p&&d&&d.end(),f=!1,Je(c)}}}function Zs(n){let e,t,r,s,i,a;return t=new Er({}),{c(){e=S("button"),le(t.$$.fragment),_(e,"class","play play--small svelte-122cy5o")},m(l,u){H(l,e,u),ie(t,e,null),s=!0,i||(a=J(e,"click",n[10]),i=!0)},p:G,i(l){s||(B(t.$$.fragment,l),Ye(()=>{s&&(r||(r=Re(e,ze,{axis:"x",duration:200},!0)),r.run(1))}),s=!0)},o(l){W(t.$$.fragment,l),r||(r=Re(e,ze,{axis:"x",duration:200},!1)),r.run(0),s=!1},d(l){l&&z(e),ae(t),l&&r&&r.end(),i=!1,a()}}}function Ls(n){let e,t,r,s,i,a;return t=new Er({}),{c(){e=S("button"),le(t.$$.fragment),_(e,"class","play svelte-122cy5o")},m(l,u){H(l,e,u),ie(t,e,null),s=!0,i||(a=J(e,"click",n[9]),i=!0)},p:G,i(l){s||(B(t.$$.fragment,l),Ye(()=>{s&&(r||(r=Re(e,ze,{axis:"x",duration:200},!0)),r.run(1))}),s=!0)},o(l){W(t.$$.fragment,l),r||(r=Re(e,ze,{axis:"x",duration:200},!1)),r.run(0),s=!1},d(l){l&&z(e),ae(t),l&&r&&r.end(),i=!1,a()}}}function gu(n){let e,t,r,s,i,a,l,u,d,o,f=n[5]&&Ps();r=new Kr({});const c=[_u,mu],h=[];function p(b,w){return b[0]===b[6].Connect?0:1}return i=p(n),a=h[i]=c[i](n),{c(){f&&f.c(),e=j(),t=S("button"),le(r.$$.fragment),s=j(),a.c(),l=Pt(),_(t,"class","back back--floating")},m(b,w){f&&f.m(b,w),H(b,e,w),H(b,t,w),ie(r,t,null),H(b,s,w),h[i].m(b,w),H(b,l,w),u=!0,d||(o=J(t,"click",n[11]),d=!0)},p(b,[w]){b[5]?f?w&32&&B(f,1):(f=Ps(),f.c(),B(f,1),f.m(e.parentNode,e)):f&&(nt(),W(f,1,1,()=>{f=null}),rt());let g=i;i=p(b),i===g?h[i].p(b,w):(nt(),W(h[g],1,1,()=>{h[g]=null}),rt(),a=h[i],a?a.p(b,w):(a=h[i]=c[i](b),a.c()),B(a,1),a.m(l.parentNode,l))},i(b){u||(B(f),B(r.$$.fragment,b),B(a),u=!0)},o(b){W(f),W(r.$$.fragment,b),W(a),u=!1},d(b){f&&f.d(b),b&&z(e),b&&z(t),ae(r),b&&z(s),h[i].d(b),b&&z(l),d=!1,o()}}}function vu(n,e,t){var r=(g=>(g[g.Connect=0]="Connect",g[g.Join=1]="Join",g))(r||{});let s=0,i="",a="",l=!1,u=!1,d=!1;function o(){t(1,i=i.toUpperCase().replace(/[^A-Z0-9]/,"")),t(3,l=i.length===Qn)}function f(){t(4,u=a.length>=Ui&&a.length<=Ri)}function c(){t(5,d=!0),Wt({ty:jt.Connect,token:i}).then(()=>{t(0,s=1)}).catch(g=>{console.error("Failed to connect",g),Rt("Failed to connect",Zr[g])}).finally(()=>t(5,d=!1))}function h(){t(5,d=!0),Wt({ty:jt.Join,name:a}).then(({id:g,token:k,config:x})=>{yi({id:g,token:k,config:x,host:!1,name:a})}).catch(g=>{console.error("Failed to join",g),Rt("Failed to join",Zr[g])}).finally(()=>t(5,d=!1))}function p(){s===0?Zn():t(0,s=0)}function b(){i=this.value,t(1,i)}function w(){a=this.value,t(2,a)}return[s,i,a,l,u,d,r,o,f,c,h,p,b,w]}class yu extends Ce{constructor(e){super(),ke(this,e,vu,gu,ve,{})}}async function na(n){try{await Wt({ty:jt.Kick,id:n})}catch(e){console.error("Error while attempting to kick",e)}}async function bn(n){try{await Wt({ty:jt.HostAction,action:n})}catch(e){console.error("Error while attempting host action",n,e)}}async function bu(){try{await Wt({ty:jt.Ready})}catch(n){console.error("Error while attempting to ready",n)}}async function ns(n){const e=n.host?"Are you sure you want to leave? Leaving will remove all other players from the game":"Are you sure you want to leave?";await Wr("Confirm Leave",e)&&(Zn(),na(n.id))}const wu={Answered:["Hmm I wonder if you got it right....","It definitely had to be that one! ","Yeah it was probably that one... ","0_0 good luck i guess..","Are you sure it was that one..?"," Probbably right","It gotta be that one!","If you say so ","1 + 1 = 5?","Was definitely that one! "," don't tell them the answer","Made it in time ","Nice answer ","Mastermind "],[qt.Correct]:["You did it!","That one was right!","Good job!","Yup that was it!","Nicely done ","Brainy ","Smarty pants "],[qt.Incorrect]:["Ooops..","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"],[qt.Partial]:["Almost there...","Not quite there","Just about...","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"]};function ra(n){const e=wu[n];return e[Wn(0,e.length-1)]}function ku(n){let e,t,r,s,i,a;return{c(){e=S("main"),t=S("h1"),t.textContent="Waiting...",r=j(),s=S("p"),s.textContent=`${n[0]}`,_(t,"class","title svelte-1p2ou5x"),_(s,"class","text svelte-1p2ou5x"),_(e,"class","main svelte-1p2ou5x")},m(l,u){H(l,e,u),m(e,t),m(e,r),m(e,s),a=!0},p:G,i(l){a||(Ye(()=>{a&&(i||(i=Re(e,ze,{},!0)),i.run(1))}),a=!0)},o(l){i||(i=Re(e,ze,{},!1)),i.run(0),a=!1},d(l){l&&z(e),l&&i&&i.end()}}}function Cu(n){return[ra("Answered")]}class Au extends Ce{constructor(e){super(),ke(this,e,Cu,ku,ve,{})}}function zs(n){return Object.prototype.toString.call(n)==="[object Date]"}function Hr(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((s,i)=>Hr(n[i],s));return s=>r.map(i=>i(s))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(zs(n)&&zs(e)){n=n.getTime(),e=e.getTime();const i=e-n;return a=>new Date(n+a*i)}const r=Object.keys(e),s={};return r.forEach(i=>{s[i]=Hr(n[i],e[i])}),i=>{const a={};return r.forEach(l=>{a[l]=s[l](i)}),a}}if(t==="number"){const r=e-n;return s=>n+s*r}throw new Error(`Cannot interpolate ${t} values`)}function rs(n,e={}){const t=Gt(n);let r,s=n;function i(a,l){if(n==null)return t.set(n=a),Promise.resolve();s=a;let u=r,d=!1,{delay:o=0,duration:f=400,easing:c=_r,interpolate:h=Hr}=ds(ds({},e),l);if(f===0)return u&&(u.abort(),u=null),t.set(n=s),Promise.resolve();const p=Br()+o;let b;return r=Qr(w=>{if(w<p)return!0;d||(b=h(n,a),typeof f=="function"&&(f=f(n,a)),d=!0),u&&(u.abort(),u=null);const g=w-p;return g>f?(t.set(n=a),!1):(t.set(n=b(c(g/f))),!0)}),r.promise}return{set:i,update:(a,l)=>i(a(s,n),l),subscribe:t.subscribe}}function xu(n){let e=n[0].toFixed(0)+"",t;return{c(){t=ee(e)},m(r,s){H(r,t,s)},p(r,[s]){s&1&&e!==(e=r[0].toFixed(0)+"")&&$e(t,e)},i:G,o:G,d(r){r&&z(t)}}}function $u(n,e,t){let r,{value:s}=e;const i=rs(0,{delay:500});return wt(n,i,a=>t(0,r=a)),n.$$set=a=>{"value"in a&&t(2,s=a.value)},n.$$.update=()=>{n.$$.dirty&4&&i.set(s)},[r,i,s]}class sa extends Ce{constructor(e){super(),ke(this,e,$u,xu,ve,{value:2})}}function Eu(n){let e,t,r,s,i,a,l,u,d;return{c(){e=ue("svg"),t=ue("g"),r=ue("polygon"),s=ue("polygon"),i=ue("polygon"),a=ue("g"),l=ue("circle"),u=ue("circle"),d=ue("path"),ps(r,"fill","#FFD102"),_(r,"points","371.342,210.903 469.209,150.675 379.787,95.648 281.922,155.874 	"),ps(s,"fill","#FFD102"),_(s,"points","127.994,210.903 225.863,150.675 136.44,95.648 38.576,155.874 	"),_(i,"fill","#FFE368"),_(i,"points",`383.997,197.691 255.992,118.921 127.994,197.691 0,118.921 22.505,382.593 489.495,382.593 
	512,118.921 `),_(l,"fill","#FFAA0E"),_(l,"cx","99.947"),_(l,"cy","320.636"),_(l,"r","8.44"),_(u,"fill","#FFAA0E"),_(u,"cx","66.184"),_(u,"cy","286.878"),_(u,"r","8.44"),_(d,"fill","#FFAA0E"),_(d,"d",`M489.495,371.341H22.505C10.076,371.341,0,381.416,0,393.846c0,12.43,10.076,22.505,22.505,22.505
		h466.989c12.43,0,22.505-10.076,22.505-22.505C512,381.416,501.924,371.341,489.495,371.341z`),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"viewBox","0 0 512 512"),_(e,"xml:space","preserve")},m(o,f){H(o,e,f),m(e,t),m(t,r),m(t,s),m(e,i),m(e,a),m(a,l),m(a,u),m(a,d)},p:G,i:G,o:G,d(o){o&&z(e)}}}class Su extends Ce{constructor(e){super(),ke(this,e,null,Eu,ve,{})}}function Hs(n,e,t){const r=n.slice();return r[4]=e[t],r[6]=t,r}function Bs(n){let e,t,r;return{c(){e=S("button"),e.textContent="Restart",_(e,"class","btn")},m(s,i){H(s,e,i),t||(r=J(e,"click",n[2]),t=!0)},p:G,d(s){s&&z(e),t=!1,r()}}}function Vs(n){let e,t,r;return t=new Su({}),{c(){e=S("div"),le(t.$$.fragment),_(e,"class","crown svelte-9bcas5")},m(s,i){H(s,e,i),ie(t,e,null),r=!0},i(s){r||(B(t.$$.fragment,s),r=!0)},o(s){W(t.$$.fragment,s),r=!1},d(s){s&&z(e),ae(t)}}}function Qs(n,e){let t,r,s,i=Cs(e[6]+1)+"",a,l,u,d=e[4].name+"",o,f,c,h,p,b,w=G,g,k=e[6]==0&&Vs();return h=new sa({props:{value:e[4].score}}),{key:n,first:null,c(){t=S("tr"),r=S("td"),k&&k.c(),s=j(),a=ee(i),l=j(),u=S("td"),o=ee(d),f=j(),c=S("td"),le(h.$$.fragment),p=j(),_(r,"class","player__place svelte-9bcas5"),_(u,"class","player__name svelte-9bcas5"),_(c,"class","player_score"),_(t,"class","player svelte-9bcas5"),this.first=t},m(x,E){H(x,t,E),m(t,r),k&&k.m(r,null),m(r,s),m(r,a),m(t,l),m(t,u),m(u,o),m(t,f),m(t,c),ie(h,c,null),m(t,p),g=!0},p(x,E){e=x,e[6]==0?k?E&1&&B(k,1):(k=Vs(),k.c(),B(k,1),k.m(r,s)):k&&(nt(),W(k,1,1,()=>{k=null}),rt()),(!g||E&1)&&i!==(i=Cs(e[6]+1)+"")&&$e(a,i),(!g||E&1)&&d!==(d=e[4].name+"")&&$e(o,d);const U={};E&1&&(U.value=e[4].score),h.$set(U)},r(){b=t.getBoundingClientRect()},f(){yr(t),w()},a(){w(),w=vr(t,b,$r,{})},i(x){g||(B(k),B(h.$$.fragment,x),g=!0)},o(x){W(k),W(h.$$.fragment,x),g=!1},d(x){x&&z(t),k&&k.d(),ae(h)}}}function Tu(n){let e,t,r,s=n[1].token+"",i,a,l,u=n[1].config.name+"",d,o,f,c=n[1].config.text+"",h,p,b,w,g,k,x,E,U,$,M=[],y=new Map,v,I,T,F,R=n[1].host&&Bs(n),N=n[0].players;const q=A=>A[4].id;for(let A=0;A<N.length;A+=1){let C=Hs(n,N,A),D=q(C);y.set(D,M[A]=Qs(D,C))}return{c(){e=S("main"),t=S("div"),r=S("h1"),i=ee(s),a=j(),l=S("h2"),d=ee(u),o=j(),f=S("p"),h=ee(c),p=j(),b=S("div"),w=S("button"),w.textContent="Leave",g=j(),R&&R.c(),k=j(),x=S("table"),E=S("thead"),E.innerHTML=`<tr><th>Place</th> 
          <th>Name</th> 
          <th>Score</th></tr>`,U=j(),$=S("tbody");for(let A=0;A<M.length;A+=1)M[A].c();_(r,"class","token svelte-9bcas5"),_(l,"class","name"),_(f,"class","desc svelte-9bcas5"),_(w,"class","btn"),_(b,"class","btn-row btn-row--fill actions svelte-9bcas5"),_(t,"class","quiz svelte-9bcas5"),_(e,"class","page page--middle page--overflow svelte-9bcas5")},m(A,C){H(A,e,C),m(e,t),m(t,r),m(r,i),m(t,a),m(t,l),m(l,d),m(t,o),m(t,f),m(f,h),m(t,p),m(t,b),m(b,w),m(b,g),R&&R.m(b,null),m(t,k),m(t,x),m(x,E),m(x,U),m(x,$);for(let D=0;D<M.length;D+=1)M[D]&&M[D].m($,null);I=!0,T||(F=J(w,"click",n[3]),T=!0)},p(A,[C]){if((!I||C&2)&&s!==(s=A[1].token+"")&&$e(i,s),(!I||C&2)&&u!==(u=A[1].config.name+"")&&$e(d,u),(!I||C&2)&&c!==(c=A[1].config.text+"")&&$e(h,c),A[1].host?R?R.p(A,C):(R=Bs(A),R.c(),R.m(b,null)):R&&(R.d(1),R=null),C&1){N=A[0].players,nt();for(let D=0;D<M.length;D+=1)M[D].r();M=wr(M,C,q,1,A,N,y,$,br,Qs,null,Hs);for(let D=0;D<M.length;D+=1)M[D].a();rt()}},i(A){if(!I){for(let C=0;C<N.length;C+=1)B(M[C]);Ye(()=>{I&&(v||(v=Re(e,ze,{},!0)),v.run(1))}),I=!0}},o(A){for(let C=0;C<M.length;C+=1)W(M[C]);v||(v=Re(e,ze,{},!1)),v.run(0),I=!1},d(A){A&&z(e),R&&R.d();for(let C=0;C<M.length;C+=1)M[C].d();A&&v&&v.end(),T=!1,F()}}}function Iu(n,e,t){let{summary:r}=e,{gameData:s}=e;const i=()=>bn(nn.Reset),a=()=>ns(s);return n.$$set=l=>{"summary"in l&&t(0,r=l.summary),"gameData"in l&&t(1,s=l.gameData)},[r,s,i,a]}class Mu extends Ce{constructor(e){super(),ke(this,e,Iu,Tu,ve,{summary:0,gameData:1})}}function Ws(n,e,t){const r=n.slice();return r[12]=e[t],r[14]=t,r}function Gs(n,e,t){const r=n.slice();return r[12]=e[t],r[14]=t,r}function Ys(n){let e,t,r,s;return{c(){e=S("div"),_(e,"class","image-wrapper svelte-b8ytla")},m(i,a){H(i,e,a),r||(s=fa(t=Ru.call(null,e,n[3])),r=!0)},p(i,a){t&&wn(t.update)&&a&8&&t.update.call(null,i[3])},d(i){i&&z(e),r=!1,s()}}}function Fu(n){let e,t,r,s,i,a,l,u=n[2].answers,d=[];for(let o=0;o<u.length;o+=1)d[o]=Js(Ws(n,u,o));return{c(){e=S("div");for(let o=0;o<d.length;o+=1)d[o].c();t=j(),r=S("button"),s=ee("Submit"),_(e,"class","answers svelte-b8ytla"),_(r,"class","btn submit svelte-b8ytla"),r.disabled=i=n[4].length<n[2].min},m(o,f){H(o,e,f);for(let c=0;c<d.length;c+=1)d[c]&&d[c].m(e,null);H(o,t,f),H(o,r,f),m(r,s),a||(l=J(r,"click",n[6]),a=!0)},p(o,f){if(f&149){u=o[2].answers;let c;for(c=0;c<u.length;c+=1){const h=Ws(o,u,c);d[c]?d[c].p(h,f):(d[c]=Js(h),d[c].c(),d[c].m(e,null))}for(;c<d.length;c+=1)d[c].d(1);d.length=u.length}f&20&&i!==(i=o[4].length<o[2].min)&&(r.disabled=i)},d(o){o&&z(e),En(d,o),o&&z(t),o&&z(r),a=!1,l()}}}function Nu(n){let e,t=n[2].answers,r=[];for(let s=0;s<t.length;s+=1)r[s]=Xs(Gs(n,t,s));return{c(){e=S("div");for(let s=0;s<r.length;s+=1)r[s].c();_(e,"class","answers svelte-b8ytla")},m(s,i){H(s,e,i);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(s,i){if(i&37){t=s[2].answers;let a;for(a=0;a<t.length;a+=1){const l=Gs(s,t,a);r[a]?r[a].p(l,i):(r[a]=Xs(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(s){s&&z(e),En(r,s)}}}function Js(n){let e,t=n[12].value+"",r,s,i,a,l,u;function d(){return n[11](n[14])}return{c(){e=S("button"),r=ee(t),s=j(),_(e,"data-host",i=n[0].host),_(e,"class","answer btn btn--surface svelte-b8ytla"),e.disabled=a=n[0].host||n[4].length>=n[2].max&&!n[4].includes(n[14]),ms(e,"answer--checked",n[4].includes(n[14]))},m(o,f){H(o,e,f),m(e,r),m(e,s),l||(u=J(e,"click",d),l=!0)},p(o,f){n=o,f&4&&t!==(t=n[12].value+"")&&$e(r,t),f&1&&i!==(i=n[0].host)&&_(e,"data-host",i),f&21&&a!==(a=n[0].host||n[4].length>=n[2].max&&!n[4].includes(n[14]))&&(e.disabled=a),f&16&&ms(e,"answer--checked",n[4].includes(n[14]))},d(o){o&&z(e),l=!1,u()}}}function Xs(n){let e,t=n[12].value+"",r,s,i,a,l,u;function d(){return n[10](n[14])}return{c(){e=S("button"),r=ee(t),s=j(),_(e,"data-host",i=n[0].host),_(e,"class","answer btn btn--surface svelte-b8ytla"),e.disabled=a=n[0].host},m(o,f){H(o,e,f),m(e,r),m(e,s),l||(u=J(e,"click",d),l=!0)},p(o,f){n=o,f&4&&t!==(t=n[12].value+"")&&$e(r,t),f&1&&i!==(i=n[0].host)&&_(e,"data-host",i),f&1&&a!==(a=n[0].host)&&(e.disabled=a)},d(o){o&&z(e),l=!1,u()}}}function Ks(n){let e,t,r;return{c(){e=S("button"),e.textContent="Skip",_(e,"class","btn btn--surface")},m(s,i){H(s,e,i),t||(r=J(e,"click",n[8]),t=!0)},p:G,d(s){s&&z(e),t=!1,r()}}}function Uu(n){let e,t,r,s,i=n[2].text+"",a,l,u,d,o,f=n[0].token+"",c,h,p,b,w=cr(n[1])+"",g,k=n[3]!==null&&Ys(n);function x(M,y){if(M[2].ty===tt.Single)return Nu;if(M[2].ty===tt.Multiple)return Fu}let E=x(n),U=E&&E(n),$=n[0].host&&Ks(n);return{c(){e=S("main"),k&&k.c(),t=j(),r=S("div"),s=S("p"),a=ee(i),l=j(),U&&U.c(),u=j(),d=S("div"),o=S("p"),c=ee(f),h=j(),$&&$.c(),p=j(),b=S("p"),g=ee(w),_(s,"class","text svelte-b8ytla"),_(r,"class","content svelte-b8ytla"),_(o,"class","token svelte-b8ytla"),_(b,"class","time svelte-b8ytla"),_(d,"class","bottom svelte-b8ytla"),_(e,"class","main svelte-b8ytla")},m(M,y){H(M,e,y),k&&k.m(e,null),m(e,t),m(e,r),m(r,s),m(s,a),m(r,l),U&&U.m(r,null),m(e,u),m(e,d),m(d,o),m(o,c),m(d,h),$&&$.m(d,null),m(d,p),m(d,b),m(b,g)},p(M,[y]){M[3]!==null?k?k.p(M,y):(k=Ys(M),k.c(),k.m(e,t)):k&&(k.d(1),k=null),y&4&&i!==(i=M[2].text+"")&&$e(a,i),E===(E=x(M))&&U?U.p(M,y):(U&&U.d(1),U=E&&E(M),U&&(U.c(),U.m(r,null))),y&1&&f!==(f=M[0].token+"")&&$e(c,f),M[0].host?$?$.p(M,y):($=Ks(M),$.c(),$.m(d,p)):$&&($.d(1),$=null),y&2&&w!==(w=cr(M[1])+"")&&$e(g,w)},i:G,o:G,d(M){M&&z(e),k&&k.d(),U&&U.d(),$&&$.d()}}}function Ru(n,e){n.appendChild(e)}function Ou(n,e,t){let{gameData:r}=e,{timer:s}=e,{question:i}=e,{answered:a}=e,{preloadedImage:l}=e,u=[];async function d(b){t(9,a=!0);try{await Wt({ty:jt.Answer,answer:{ty:Lr.Single,answer:b}})}catch(w){console.error("Error while attempting to answer",w)}}async function o(){t(9,a=!0);try{await Wt({ty:jt.Answer,answer:{ty:Lr.Multiple,answers:u}})}catch(b){console.error("Error while attempting to answer",b)}}function f(b){u.includes(b)?t(4,u=u.filter(w=>w!=b)):(u.push(b),t(4,u))}const c=()=>bn(nn.Skip),h=b=>d(b),p=b=>f(b);return n.$$set=b=>{"gameData"in b&&t(0,r=b.gameData),"timer"in b&&t(1,s=b.timer),"question"in b&&t(2,i=b.question),"answered"in b&&t(9,a=b.answered),"preloadedImage"in b&&t(3,l=b.preloadedImage)},[r,s,i,l,u,d,o,f,c,a,h,p]}class qu extends Ce{constructor(e){super(),ke(this,e,Ou,Uu,ve,{gameData:0,timer:1,question:2,answered:9,preloadedImage:3})}}function ei(n,e,t){const r=n.slice();return r[8]=e[t],r}function Du(n){let e,t,r;return{c(){e=S("button"),e.textContent="Start",_(e,"class","btn")},m(s,i){H(s,e,i),t||(r=J(e,"click",n[4]),t=!0)},p:G,d(s){s&&z(e),t=!1,r()}}}function ju(n){let e,t,r;return{c(){e=S("button"),e.textContent="Next",_(e,"class","btn")},m(s,i){H(s,e,i),t||(r=J(e,"click",n[5]),t=!0)},p:G,d(s){s&&z(e),t=!1,r()}}}function ti(n,e){let t,r,s=e[8].name+"",i,a,l,u,d,o,f,c,h,p=G,b,w,g;u=new sa({props:{value:e[2][e[8].id]??0}});function k(){return e[7](e[8])}return{key:n,first:null,c(){t=S("tr"),r=S("td"),i=ee(s),a=j(),l=S("td"),le(u.$$.fragment),d=j(),o=S("td"),f=S("button"),f.textContent="Kick",c=j(),_(r,"class","player__name svelte-t8tz1l"),_(l,"class","player_score"),_(f,"class","btn"),_(o,"class","player__action svelte-t8tz1l"),_(t,"class","player svelte-t8tz1l"),this.first=t},m(x,E){H(x,t,E),m(t,r),m(r,i),m(t,a),m(t,l),ie(u,l,null),m(t,d),m(t,o),m(o,f),m(t,c),b=!0,w||(g=J(f,"click",k),w=!0)},p(x,E){e=x,(!b||E&2)&&s!==(s=e[8].name+"")&&$e(i,s);const U={};E&6&&(U.value=e[2][e[8].id]??0),u.$set(U)},r(){h=t.getBoundingClientRect()},f(){yr(t),p()},a(){p(),p=vr(t,h,$r,{})},i(x){b||(B(u.$$.fragment,x),b=!0)},o(x){W(u.$$.fragment,x),b=!1},d(x){x&&z(t),ae(u),w=!1,g()}}}function Pu(n){let e,t,r,s=n[0].token+"",i,a,l,u=n[0].config.name+"",d,o,f,c=n[0].config.text+"",h,p,b,w,g,k,x,E,U,$,M=[],y=new Map,v,I,T,F;function R(D,O){if(D[3]===lt.Marked)return ju;if(D[1].length>0&&D[3]===lt.Lobby)return Du}let N=R(n),q=N&&N(n),A=n[1];const C=D=>D[8].id;for(let D=0;D<A.length;D+=1){let O=ei(n,A,D),P=C(O);y.set(P,M[D]=ti(P,O))}return{c(){e=S("main"),t=S("div"),r=S("h1"),i=ee(s),a=j(),l=S("h2"),d=ee(u),o=j(),f=S("p"),h=ee(c),p=j(),b=S("div"),w=S("button"),w.textContent="Leave",g=j(),q&&q.c(),k=j(),x=S("table"),E=S("thead"),E.innerHTML=`<tr><th>Name</th> 
          <th>Score</th> 
          <th>Actions</th></tr>`,U=j(),$=S("tbody");for(let D=0;D<M.length;D+=1)M[D].c();_(r,"class","token svelte-t8tz1l"),_(l,"class","name"),_(f,"class","desc svelte-t8tz1l"),_(w,"class","btn"),_(b,"class","btn-row btn-row--fill actions svelte-t8tz1l"),_(t,"class","quiz svelte-t8tz1l"),_(e,"class","page page--middle page--overflow svelte-t8tz1l")},m(D,O){H(D,e,O),m(e,t),m(t,r),m(r,i),m(t,a),m(t,l),m(l,d),m(t,o),m(t,f),m(f,h),m(t,p),m(t,b),m(b,w),m(b,g),q&&q.m(b,null),m(t,k),m(t,x),m(x,E),m(x,U),m(x,$);for(let P=0;P<M.length;P+=1)M[P]&&M[P].m($,null);I=!0,T||(F=J(w,"click",n[6]),T=!0)},p(D,[O]){if((!I||O&1)&&s!==(s=D[0].token+"")&&$e(i,s),(!I||O&1)&&u!==(u=D[0].config.name+"")&&$e(d,u),(!I||O&1)&&c!==(c=D[0].config.text+"")&&$e(h,c),N===(N=R(D))&&q?q.p(D,O):(q&&q.d(1),q=N&&N(D),q&&(q.c(),q.m(b,null))),O&6){A=D[1],nt();for(let P=0;P<M.length;P+=1)M[P].r();M=wr(M,O,C,1,D,A,y,$,br,ti,null,ei);for(let P=0;P<M.length;P+=1)M[P].a();rt()}},i(D){if(!I){for(let O=0;O<A.length;O+=1)B(M[O]);Ye(()=>{I&&(v||(v=Re(e,ze,{},!0)),v.run(1))}),I=!0}},o(D){for(let O=0;O<M.length;O+=1)W(M[O]);v||(v=Re(e,ze,{},!1)),v.run(0),I=!1},d(D){D&&z(e),q&&q.d();for(let O=0;O<M.length;O+=1)M[O].d();D&&v&&v.end(),T=!1,F()}}}function Zu(n,e,t){let{gameData:r}=e,{players:s}=e,{scores:i}=e,{gameState:a}=e;const l=()=>bn(nn.Start),u=()=>bn(nn.Next),d=()=>ns(r),o=f=>na(f.id);return n.$$set=f=>{"gameData"in f&&t(0,r=f.gameData),"players"in f&&t(1,s=f.players),"scores"in f&&t(2,i=f.scores),"gameState"in f&&t(3,a=f.gameState)},[r,s,i,a,l,u,d,o]}class Lu extends Ce{constructor(e){super(),ke(this,e,Zu,Pu,ve,{gameData:0,players:1,scores:2,gameState:3})}}function zu(n){let e,t=n[0].count+"",r,s,i=n[0].total+"",a,l,u,d,o=n[1].toFixed(0)+"",f;return{c(){e=S("p"),r=ee(t),s=ee(" / "),a=ee(i),l=j(),u=S("p"),d=ee("+"),f=ee(o),_(e,"class","ratio"),_(u,"class","score svelte-1dywswa")},m(c,h){H(c,e,h),m(e,r),m(e,s),m(e,a),H(c,l,h),H(c,u,h),m(u,d),m(u,f)},p(c,h){h&1&&t!==(t=c[0].count+"")&&$e(r,t),h&1&&i!==(i=c[0].total+"")&&$e(a,i),h&2&&o!==(o=c[1].toFixed(0)+"")&&$e(f,o)},d(c){c&&z(e),c&&z(l),c&&z(u)}}}function Hu(n){let e,t,r=n[1].toFixed(0)+"",s;return{c(){e=S("p"),t=ee("+"),s=ee(r),_(e,"class","score svelte-1dywswa")},m(i,a){H(i,e,a),m(e,t),m(e,s)},p(i,a){a&2&&r!==(r=i[1].toFixed(0)+"")&&$e(s,r)},d(i){i&&z(e)}}}function Bu(n){let e,t,r=n[0].ty+"",s,i,a,l,u,d,o;function f(p,b){if(p[0].ty===qt.Correct)return Hu;if(p[0].ty===qt.Partial)return zu}let c=f(n),h=c&&c(n);return{c(){e=S("main"),t=S("h1"),s=ee(r),i=j(),a=S("p"),a.textContent=`${n[2]}`,l=j(),h&&h.c(),_(t,"class","title svelte-1dywswa"),_(a,"class","text svelte-1dywswa"),_(e,"class","main svelte-1dywswa"),_(e,"data-type",u=n[0].ty)},m(p,b){H(p,e,b),m(e,t),m(t,s),m(e,i),m(e,a),m(e,l),h&&h.m(e,null),o=!0},p(p,[b]){(!o||b&1)&&r!==(r=p[0].ty+"")&&$e(s,r),c===(c=f(p))&&h?h.p(p,b):(h&&h.d(1),h=c&&c(p),h&&(h.c(),h.m(e,null))),(!o||b&1&&u!==(u=p[0].ty))&&_(e,"data-type",u)},i(p){o||(Ye(()=>{o&&(d||(d=Re(e,ze,{},!0)),d.run(1))}),o=!0)},o(p){d||(d=Re(e,ze,{},!1)),d.run(0),o=!1},d(p){p&&z(e),h&&h.d(),p&&d&&d.end()}}}function Vu(n,e,t){let r,{score:s}=e;const i=ra(s.ty),a=rs(0,{delay:500});return wt(n,a,l=>t(1,r=l)),n.$$set=l=>{"score"in l&&t(0,s=l.score)},n.$$.update=()=>{n.$$.dirty&1&&(s.ty===qt.Correct||s.ty===qt.Partial)&&a.set(s.value)},[s,r,i,a]}class Qu extends Ce{constructor(e){super(),ke(this,e,Vu,Bu,ve,{score:0})}}function Wu(n){let e,t,r,s,i,a=n[0].token+"",l,u,d,o,f,c,h;return{c(){e=S("main"),t=S("div"),t.innerHTML=`<h1 class="title svelte-cmvqrj">Waiting for host...</h1> 
    <p class="text svelte-cmvqrj">You&#39;re in, waiting for the host to start the quiz.</p>`,r=j(),s=S("div"),i=S("p"),l=ee(a),u=j(),d=S("button"),d.textContent="Leave",_(t,"class","quiz svelte-cmvqrj"),_(i,"class","token svelte-cmvqrj"),_(d,"class","btn btn--surface"),_(s,"class","bottom svelte-cmvqrj"),_(e,"class","page page--overflow")},m(p,b){H(p,e,b),m(e,t),m(e,r),m(e,s),m(s,i),m(i,l),m(s,u),m(s,d),f=!0,c||(h=J(d,"click",n[1]),c=!0)},p(p,[b]){(!f||b&1)&&a!==(a=p[0].token+"")&&$e(l,a)},i(p){f||(Ye(()=>{f&&(o||(o=Re(e,ze,{},!0)),o.run(1))}),f=!0)},o(p){o||(o=Re(e,ze,{},!1)),o.run(0),f=!1},d(p){p&&z(e),p&&o&&o.end(),c=!1,h()}}}function Gu(n,e,t){let{gameData:r}=e;const s=()=>ns(r);return n.$$set=i=>{"gameData"in i&&t(0,r=i.gameData)},[r,s]}class Yu extends Ce{constructor(e){super(),ke(this,e,Gu,Wu,ve,{gameData:0})}}function ni(n){let e,t=cr(n[1])+"",r;return{c(){e=S("span"),r=ee(t),_(e,"class","time svelte-lus7sg")},m(s,i){H(s,e,i),m(e,r)},p(s,i){i&2&&t!==(t=cr(s[1])+"")&&$e(r,t)},d(s){s&&z(e)}}}function Ju(n){let e;return{c(){e=S("p"),e.textContent="Get ready to answer",_(e,"class","text svelte-lus7sg")},m(t,r){H(t,e,r)},d(t){t&&z(e)}}}function Xu(n){let e;return{c(){e=S("p"),e.textContent="Get ready, the quiz is about to start.",_(e,"class","text svelte-lus7sg")},m(t,r){H(t,e,r)},d(t){t&&z(e)}}}function ri(n){let e,t,r,s,i,a=n[0]===lt.Starting&&si(n);return{c(){e=S("button"),e.textContent="Skip",t=j(),a&&a.c(),r=Pt(),_(e,"class","btn btn--surface")},m(l,u){H(l,e,u),H(l,t,u),a&&a.m(l,u),H(l,r,u),s||(i=J(e,"click",n[3]),s=!0)},p(l,u){l[0]===lt.Starting?a?a.p(l,u):(a=si(l),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(l){l&&z(e),l&&z(t),a&&a.d(l),l&&z(r),s=!1,i()}}}function si(n){let e,t,r;return{c(){e=S("button"),e.textContent="Cancel",_(e,"class","btn btn--surface")},m(s,i){H(s,e,i),t||(r=J(e,"click",n[4]),t=!0)},p:G,d(s){s&&z(e),t=!1,r()}}}function Ku(n){let e,t,r,s,i,a,l=n[2].token+"",u,d,o,f,c=n[1].elapsed!==n[1].total&&ni(n);function h(g,k){return g[0]===lt.Starting?Xu:Ju}let p=h(n),b=p(n),w=n[2].host&&ri(n);return{c(){e=S("main"),t=S("div"),c&&c.c(),r=j(),b.c(),s=j(),i=S("div"),a=S("p"),u=ee(l),d=j(),w&&w.c(),_(t,"class","quiz svelte-lus7sg"),_(a,"class","token svelte-lus7sg"),_(i,"class","bottom svelte-lus7sg"),_(e,"class","page page--overflow")},m(g,k){H(g,e,k),m(e,t),c&&c.m(t,null),m(t,r),b.m(t,null),m(e,s),m(e,i),m(i,a),m(a,u),m(i,d),w&&w.m(i,null),f=!0},p(g,[k]){g[1].elapsed!==g[1].total?c?c.p(g,k):(c=ni(g),c.c(),c.m(t,r)):c&&(c.d(1),c=null),p!==(p=h(g))&&(b.d(1),b=p(g),b&&(b.c(),b.m(t,null))),(!f||k&4)&&l!==(l=g[2].token+"")&&$e(u,l),g[2].host?w?w.p(g,k):(w=ri(g),w.c(),w.m(i,null)):w&&(w.d(1),w=null)},i(g){f||(Ye(()=>{f&&(o||(o=Re(e,ze,{},!0)),o.run(1))}),f=!0)},o(g){o||(o=Re(e,ze,{},!1)),o.run(0),f=!1},d(g){g&&z(e),c&&c.d(),b.d(),w&&w.d(),g&&o&&o.end()}}}function ec(n,e,t){let{gameState:r}=e,{timer:s}=e,{gameData:i}=e;const a=()=>bn(nn.Skip),l=()=>bn(nn.Cancel);return n.$$set=u=>{"gameState"in u&&t(0,r=u.gameState),"timer"in u&&t(1,s=u.timer),"gameData"in u&&t(2,i=u.gameData)},[r,s,i,a,l]}class tc extends Ce{constructor(e){super(),ke(this,e,ec,Ku,ve,{gameState:0,timer:1,gameData:2})}}function nc(n){let e,t;return e=new es({props:{text:"..."}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p:G,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function rc(n){let e,t;return e=new Qu({props:{score:n[6]}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p(r,s){const i={};s&64&&(i.score=r[6]),e.$set(i)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function sc(n){let e,t;return e=new Yu({props:{gameData:n[0]}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p(r,s){const i={};s&1&&(i.gameData=r[0]),e.$set(i)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function ic(n){let e,t;return e=new Lu({props:{gameData:n[0],gameState:n[3],players:n[2],scores:n[7]}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p(r,s){const i={};s&1&&(i.gameData=r[0]),s&8&&(i.gameState=r[3]),s&4&&(i.players=r[2]),s&128&&(i.scores=r[7]),e.$set(i)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function ac(n){let e,t;return e=new es({props:{text:"Waiting for other players..."}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p:G,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function lc(n){let e,t,r,s;const i=[fc,cc],a=[];function l(u,d){return u[8]?u[2].length!==1?1:-1:0}return~(e=l(n))&&(t=a[e]=i[e](n)),{c(){t&&t.c(),r=Pt()},m(u,d){~e&&a[e].m(u,d),H(u,r,d),s=!0},p(u,d){let o=e;e=l(u),e===o?~e&&a[e].p(u,d):(t&&(nt(),W(a[o],1,1,()=>{a[o]=null}),rt()),~e?(t=a[e],t?t.p(u,d):(t=a[e]=i[e](u),t.c()),B(t,1),t.m(r.parentNode,r)):t=null)},i(u){s||(B(t),s=!0)},o(u){W(t),s=!1},d(u){~e&&a[e].d(u),u&&z(r)}}}function oc(n){let e,t;return e=new tc({props:{gameState:n[3],gameData:n[0],timer:n[9]}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p(r,s){const i={};s&8&&(i.gameState=r[3]),s&1&&(i.gameData=r[0]),s&512&&(i.timer=r[9]),e.$set(i)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function uc(n){let e,t;return e=new Mu({props:{gameData:n[0],summary:n[4]}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p(r,s){const i={};s&1&&(i.gameData=r[0]),s&16&&(i.summary=r[4]),e.$set(i)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function cc(n){let e,t;return e=new Au({}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p:G,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function fc(n){let e,t,r;function s(a){n[10](a)}let i={gameData:n[0],question:n[5],timer:n[9],preloadedImage:n[1]};return n[8]!==void 0&&(i.answered=n[8]),e=new qu({props:i}),zt.push(()=>mn(e,"answered",s)),{c(){le(e.$$.fragment)},m(a,l){ie(e,a,l),r=!0},p(a,l){const u={};l&1&&(u.gameData=a[0]),l&32&&(u.question=a[5]),l&512&&(u.timer=a[9]),l&2&&(u.preloadedImage=a[1]),!t&&l&256&&(t=!0,u.answered=a[8],pn(()=>t=!1)),e.$set(u)},i(a){r||(B(e.$$.fragment,a),r=!0)},o(a){W(e.$$.fragment,a),r=!1},d(a){ae(e,a)}}}function dc(n){let e,t,r,s;const i=[uc,oc,lc,ac,ic,sc,rc,nc],a=[];function l(u,d){return u[3]===lt.Finished&&u[4]!=null?0:u[3]===lt.Starting||u[3]===lt.PreQuestion?1:u[3]===lt.AwaitingAnswers&&u[5]!=null?2:u[3]===lt.AwaitingReady?3:u[0].host?4:u[3]===lt.Lobby?5:u[3]===lt.Marked?6:7}return e=l(n),t=a[e]=i[e](n),{c(){t.c(),r=Pt()},m(u,d){a[e].m(u,d),H(u,r,d),s=!0},p(u,[d]){let o=e;e=l(u),e===o?a[e].p(u,d):(nt(),W(a[o],1,1,()=>{a[o]=null}),rt(),t=a[e],t?t.p(u,d):(t=a[e]=i[e](u),t.c()),B(t,1),t.m(r.parentNode,r))},i(u){s||(B(t),s=!0)},o(u){W(t),s=!1},d(u){a[e].d(u),u&&z(r)}}}function hc(n,e,t){let{gameData:r}=e,s=null,i=[],a=lt.Lobby,l=null;r.host||i.push({id:r.id,name:r.name??""});let u=null,d={ty:qt.Incorrect},o={},f,c={total:0,elapsed:0},h=0;function p(){if(c.elapsed===c.total)return;const w=performance.now(),g=w-h;t(9,c.elapsed+=g,c),h=w,c.elapsed>c.total?t(9,c.elapsed=c.total,c):requestAnimationFrame(p)}Zt(Ct.PlayerData,w=>{console.debug("Other player message",w),i.push(w),t(2,i)}),Zt(Ct.GameState,w=>{if(console.debug("Game state message",w),t(3,a=w.state),t(8,f=!1),w.state===lt.Lobby)t(7,o={});else if(w.state===lt.Finished){const g=i.map(k=>({score:o[k.id]??0,...k}));g.sort((k,x)=>x.score-k.score),t(4,l={players:g})}}),Zt(Ct.TimeSync,w=>{console.debug("Time sync message",w),h=performance.now(),t(9,c={total:w.total,elapsed:w.elapsed}),p()}),Zt(Ct.Question,async w=>{console.debug("Question message",w),t(5,u=w.question),t(1,s=await jl(r.token,u)),s!==null&&u.image!==null&&(s.classList.add("question-image"),s.setAttribute("data-fit",u.image.fit),t(1,s.alt=u.text,s),s.decode!==void 0&&await s.decode()),await bu(),console.debug("Server acknowledged ready state")}),Zt(Ct.Scores,w=>{console.debug("Score message",w),t(7,o=w.scores);let g=k=>o[k]??0;t(2,i=i.sort((k,x)=>g(x.id)-g(k.id)))}),Zt(Ct.Score,w=>{console.debug("Score message",w),t(6,d=w.score)}),Zt(Ct.Error,w=>{console.error("Server error",w.error)}),Zt(Ct.Kicked,w=>{if(console.debug("Kick message",w),t(2,i=i.filter(g=>g.id!==w.id)),w.id===r.id&&(Zn(),w.reason!==Ii.Disconnected)){const g=Rl[w.reason];Rt("Removed from game",g)}}),gi(()=>{});function b(w){f=w,t(8,f)}return n.$$set=w=>{"gameData"in w&&t(0,r=w.gameData)},[r,s,i,a,l,u,d,o,f,c,b]}class pc extends Ce{constructor(e){super(),ke(this,e,hc,dc,ve,{gameData:0})}}function mc(n){let e,t,r;return{c(){e=ue("svg"),t=ue("path"),r=ue("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(s,i){H(s,e,i),m(e,t),m(e,r)},p:G,i:G,o:G,d(s){s&&z(e)}}}class ia extends Ce{constructor(e){super(),ke(this,e,null,mc,ve,{})}}function ii(n,e,t){const r=n.slice();return r[7]=e[t],r}function ai(n){let e,t=n[0].answers,r=[];for(let s=0;s<t.length;s+=1)r[s]=li(ii(n,t,s));return{c(){e=S("ul");for(let s=0;s<r.length;s+=1)r[s].c();_(e,"class","answers svelte-123upp3")},m(s,i){H(s,e,i);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(s,i){if(i&1){t=s[0].answers;let a;for(a=0;a<t.length;a+=1){const l=ii(s,t,a);r[a]?r[a].p(l,i):(r[a]=li(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(s){s&&z(e),En(r,s)}}}function li(n){let e,t=n[7].value+"",r,s,i;return{c(){e=S("li"),r=ee(t),s=j(),_(e,"class","answer svelte-123upp3"),_(e,"data-correct",i=n[7].correct)},m(a,l){H(a,e,l),m(e,r),m(e,s)},p(a,l){l&1&&t!==(t=a[7].value+"")&&$e(r,t),l&1&&i!==(i=a[7].correct)&&_(e,"data-correct",i)},d(a){a&&z(e)}}}function _c(n){let e,t,r,s,i,a,l,u,d,o,f,c,h,p,b,w,g,k,x,E=n[0].text+"",U,$,M,y,v;s=new Ki({}),u=new Xi({}),c=new ia({}),b=new ea({});let I=(n[0].ty==tt.Single||n[0].ty==tt.Multiple)&&ai(n);return{c(){e=S("div"),t=S("div"),r=S("button"),le(s.$$.fragment),a=j(),l=S("button"),le(u.$$.fragment),o=j(),f=S("button"),le(c.$$.fragment),h=j(),p=S("button"),le(b.$$.fragment),g=j(),k=S("div"),x=S("p"),U=ee(E),$=j(),I&&I.c(),r.disabled=i=n[1]<=0,_(r,"class","btn btn--icon-only btn--surface"),l.disabled=d=n[2]==1,_(l,"class","btn btn--icon-only btn--surface"),_(f,"class","btn btn--icon-only btn--surface"),p.disabled=w=n[1]+1>=n[2],_(p,"class","btn btn--icon-only btn--surface"),_(t,"class","actions svelte-123upp3"),_(k,"class","body svelte-123upp3"),_(e,"class","question svelte-123upp3")},m(T,F){H(T,e,F),m(e,t),m(t,r),ie(s,r,null),m(t,a),m(t,l),ie(u,l,null),m(t,o),m(t,f),ie(c,f,null),m(t,h),m(t,p),ie(b,p,null),m(e,g),m(e,k),m(k,x),m(x,U),m(k,$),I&&I.m(k,null),M=!0,y||(v=[J(r,"click",n[4]),J(l,"click",n[6]),J(f,"click",n[3]),J(p,"click",n[5])],y=!0)},p(T,[F]){(!M||F&2&&i!==(i=T[1]<=0))&&(r.disabled=i),(!M||F&4&&d!==(d=T[2]==1))&&(l.disabled=d),(!M||F&6&&w!==(w=T[1]+1>=T[2]))&&(p.disabled=w),(!M||F&1)&&E!==(E=T[0].text+"")&&$e(U,E),T[0].ty==tt.Single||T[0].ty==tt.Multiple?I?I.p(T,F):(I=ai(T),I.c(),I.m(k,null)):I&&(I.d(1),I=null)},i(T){M||(B(s.$$.fragment,T),B(u.$$.fragment,T),B(c.$$.fragment,T),B(b.$$.fragment,T),M=!0)},o(T){W(s.$$.fragment,T),W(u.$$.fragment,T),W(c.$$.fragment,T),W(b.$$.fragment,T),M=!1},d(T){T&&z(e),ae(s),ae(u),ae(c),ae(b),I&&I.d(),y=!1,Je(v)}}}function gc(n,e,t){let{question:r}=e,{index:s}=e,{length:i}=e;function a(){Ma(lo(r))}const l=()=>xs(s,s-1),u=()=>xs(s,s+1),d=()=>uo(s);return n.$$set=o=>{"question"in o&&t(0,r=o.question),"index"in o&&t(1,s=o.index),"length"in o&&t(2,i=o.length)},[r,s,i,a,l,u,d]}class vc extends Ce{constructor(e){super(),ke(this,e,gc,_c,ve,{question:0,index:1,length:2})}}function yc(n){let e,t,r;return{c(){e=ue("svg"),t=ue("path"),r=ue("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(s,i){H(s,e,i),m(e,t),m(e,r)},p:G,i:G,o:G,d(s){s&&z(e)}}}class bc extends Ce{constructor(e){super(),ke(this,e,null,yc,ve,{})}}function wc(n){let e,t,r;return{c(){e=ue("svg"),t=ue("path"),r=ue("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(s,i){H(s,e,i),m(e,t),m(e,r)},p:G,i:G,o:G,d(s){s&&z(e)}}}class kc extends Ce{constructor(e){super(),ke(this,e,null,wc,ve,{})}}const Cc=me.object({name:me.string(),text:me.string(),max_players:me.number(),filtering:me.string(),questions:me.array(Ol).min(1),images:me.array(me.object({uuid:me.string().uuid(),name:me.string(),size:me.number(),type:me.string(),data:me.array(me.number())}))});async function Ac(n){const e=await n.blob.arrayBuffer();return{uuid:n.uuid,name:n.name,size:n.size,type:n.blob.type,data:Array.from(new Uint8Array(e))}}async function xc(n,e){const t=await Promise.all(e.map(Ac)),r={...n,images:t},s=JSON.stringify(r);return new Blob([s],{type:"application/json"})}async function $c(n){const e=new FileReader;await new Promise((i,a)=>{e.onload=i,e.onerror=a,e.onabort=a,e.readAsText(n)});const t=e.result,r=JSON.parse(t),s=Cc.parse(r);for(const{data:i,uuid:a,name:l,type:u,size:d}of s.images){const o=new Uint8Array(i),f=new Blob([o.buffer],{type:u});gn.update(c=>(c.push({uuid:a,name:l,size:d,blob:f}),c.filter(h=>h.uuid!==a))),Yi(f,a)}return{name:s.name,text:s.text,max_players:s.max_players,filtering:s.filtering,questions:s.questions}}function oi(n,e,t){const r=n.slice();return r[15]=e[t],r[16]=e,r[17]=t,r}function ui(n){let e,t,r,s;const i=[Sc,Ec],a=[];function l(u,d){return u[1]==="Uploading"?0:1}return e=l(n),t=a[e]=i[e](n),{c(){t.c(),r=Pt()},m(u,d){a[e].m(u,d),H(u,r,d),s=!0},p(u,d){let o=e;e=l(u),e===o?a[e].p(u,d):(nt(),W(a[o],1,1,()=>{a[o]=null}),rt(),t=a[e],t?t.p(u,d):(t=a[e]=i[e](u),t.c()),B(t,1),t.m(r.parentNode,r))},i(u){s||(B(t),s=!0)},o(u){W(t),s=!1},d(u){a[e].d(u),u&&z(r)}}}function Ec(n){let e,t;return e=new ts({props:{text:"Connecting..."}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p:G,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function Sc(n){let e,t;return e=new ts({props:{text:`Uploading ${n[3].toFixed(0)}%`}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p(r,s){const i={};s&8&&(i.text=`Uploading ${r[3].toFixed(0)}%`),e.$set(i)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function ci(n,e){let t,r,s,i,a,l=G,u;function d(f){e[12](f,e[15],e[16],e[17])}let o={index:e[17],length:e[2].questions.length};return e[15]!==void 0&&(o.question=e[15]),r=new vc({props:o}),zt.push(()=>mn(r,"question",d)),{key:n,first:null,c(){t=S("li"),le(r.$$.fragment),i=j(),this.first=t},m(f,c){H(f,t,c),ie(r,t,null),m(t,i),u=!0},p(f,c){e=f;const h={};c&4&&(h.index=e[17]),c&4&&(h.length=e[2].questions.length),!s&&c&4&&(s=!0,h.question=e[15],pn(()=>s=!1)),r.$set(h)},r(){a=t.getBoundingClientRect()},f(){yr(t),l()},a(){l(),l=vr(t,a,$r,{duration:500})},i(f){u||(B(r.$$.fragment,f),u=!0)},o(f){W(r.$$.fragment,f),u=!1},d(f){f&&z(t),ae(r)}}}function Tc(n){let e,t,r,s,i,a,l,u,d,o,f,c,h,p,b,w,g,k,x,E,U,$,M,y,v,I,T,F,R,N,q,A,C,D,O,P,te,V,Y,L,Z,re,Ee,Te,ce,Me,ye,Ae,ut,Xe,Ue,De,be,we,He,Oe,Fe,Be,Se,xe,Ze,We,yt,qe,ct,Ve,je,Ge,Ke,ge=[],ft=new Map,vt,St,Nt,Ie=n[0]&&ui(n);a=new Kr({}),o=new Ji({}),p=new bc({}),k=new Er({}),xe=new kc({});let it=n[2].questions;const Yt=ne=>ne[15].id;for(let ne=0;ne<it.length;ne+=1){let de=oi(n,it,ne),Le=Yt(de);ft.set(Le,ge[ne]=ci(Le,de))}return{c(){Ie&&Ie.c(),e=j(),t=S("main"),r=S("div"),s=S("header"),i=S("button"),le(a.$$.fragment),l=ee(`
        Back`),u=j(),d=S("button"),le(o.$$.fragment),f=ee(`
        Import`),c=j(),h=S("button"),le(p.$$.fragment),b=ee(`
        Export`),w=j(),g=S("button"),le(k.$$.fragment),x=ee(`
        Play`),E=j(),U=S("label"),$=S("span"),$.textContent="Title",M=j(),y=S("p"),y.innerHTML='Give your quiz a title <span class="optional svelte-2jvmi2">Optional</span>',v=j(),I=S("input"),T=j(),F=S("label"),R=S("span"),R.textContent="Description",N=j(),q=S("p"),q.innerHTML='Description of your Quiz <span class="optional svelte-2jvmi2">Optional</span>',A=j(),C=S("textarea"),D=j(),O=S("label"),P=S("span"),P.textContent="Max Players",te=j(),V=S("p"),V.textContent="Maximum number of players allowed to join this quiz",Y=j(),L=S("input"),Z=j(),re=S("label"),Ee=S("span"),Ee.textContent="Name Filtering",Te=j(),ce=S("p"),ce.textContent=`Level of filtering on profane/inappropriate naming. Its recommended that
        you leave this on Medium or High`,Me=j(),ye=S("select"),Ae=S("option"),ut=ee("None: Don't filter names"),Xe=S("option"),Ue=ee("Low: Filter out more severe names"),De=S("option"),be=ee(`Medium: Filter out anything thats not mild
        `),we=S("option"),He=ee("High: Filter out as much as possible"),Oe=j(),Fe=S("div"),Be=S("div"),Se=S("button"),le(xe.$$.fragment),Ze=ee(`
        Add Question`),yt=j(),qe=S("button"),ct=ee("Shuffle"),je=j(),Ge=S("div"),Ke=S("ol");for(let ne=0;ne<ge.length;ne+=1)ge[ne].c();_(i,"class","btn btn--icon svelte-2jvmi2"),_(d,"class","btn btn--icon svelte-2jvmi2"),_(h,"class","btn btn--icon svelte-2jvmi2"),_(g,"class","btn btn--icon svelte-2jvmi2"),_(s,"class","header svelte-2jvmi2"),_($,"class","field__name svelte-2jvmi2"),_(y,"class","field__desc svelte-2jvmi2"),_(I,"class","input svelte-2jvmi2"),_(I,"type","text"),_(I,"maxlength",Hl),_(U,"class","field svelte-2jvmi2"),_(R,"class","field__name svelte-2jvmi2"),_(q,"class","field__desc svelte-2jvmi2"),_(C,"class","input input--desc svelte-2jvmi2"),_(C,"name",""),_(C,"id",""),_(C,"cols","30"),_(C,"rows","5"),_(C,"maxlength",Bl),_(F,"class","field svelte-2jvmi2"),_(P,"class","field__name svelte-2jvmi2"),_(V,"class","field__desc svelte-2jvmi2"),_(L,"class","input svelte-2jvmi2"),_(L,"type","number"),_(L,"min",so),_(L,"max",Oi),_(O,"class","field svelte-2jvmi2"),_(Ee,"class","field__name svelte-2jvmi2"),_(ce,"class","field__desc svelte-2jvmi2"),Ae.__value=un.None,Ae.value=Ae.__value,Xe.__value=un.Low,Xe.value=Xe.__value,De.__value=un.Medium,De.value=De.__value,we.__value=un.High,we.value=we.__value,_(ye,"class","input svelte-2jvmi2"),n[2].filtering===void 0&&Ye(()=>n[11].call(ye)),_(re,"class","field svelte-2jvmi2"),_(r,"class","details svelte-2jvmi2"),Se.disabled=We=n[2].questions.length>=ks,_(Se,"class","btn btn--icon svelte-2jvmi2"),qe.disabled=Ve=n[2].questions.length<=1,_(qe,"class","btn btn--sm svelte-2jvmi2"),_(Be,"class","list__actions svelte-2jvmi2"),_(Ke,"class","questions svelte-2jvmi2"),_(Ge,"class","list__content svelte-2jvmi2"),_(Fe,"class","list svelte-2jvmi2"),_(t,"class","main svelte-2jvmi2")},m(ne,de){Ie&&Ie.m(ne,de),H(ne,e,de),H(ne,t,de),m(t,r),m(r,s),m(s,i),ie(a,i,null),m(i,l),m(s,u),m(s,d),ie(o,d,null),m(d,f),m(s,c),m(s,h),ie(p,h,null),m(h,b),m(s,w),m(s,g),ie(k,g,null),m(g,x),m(r,E),m(r,U),m(U,$),m(U,M),m(U,y),m(U,v),m(U,I),Pe(I,n[2].name),m(r,T),m(r,F),m(F,R),m(F,N),m(F,q),m(F,A),m(F,C),Pe(C,n[2].text),m(r,D),m(r,O),m(O,P),m(O,te),m(O,V),m(O,Y),m(O,L),Pe(L,n[2].max_players),m(r,Z),m(r,re),m(re,Ee),m(re,Te),m(re,ce),m(re,Me),m(re,ye),m(ye,Ae),m(Ae,ut),m(ye,Xe),m(Xe,Ue),m(ye,De),m(De,be),m(ye,we),m(we,He),Ht(ye,n[2].filtering,!0),m(t,Oe),m(t,Fe),m(Fe,Be),m(Be,Se),ie(xe,Se,null),m(Se,Ze),m(Be,yt),m(Be,qe),m(qe,ct),m(Fe,je),m(Fe,Ge),m(Ge,Ke);for(let Le=0;Le<ge.length;Le+=1)ge[Le]&&ge[Le].m(Ke,null);vt=!0,St||(Nt=[J(i,"click",Zn),J(d,"click",n[6]),J(h,"click",n[5]),J(g,"click",n[7]),J(I,"input",n[8]),J(C,"input",n[9]),J(L,"input",n[10]),J(ye,"change",n[11]),J(Se,"click",oo),J(qe,"click",co)],St=!0)},p(ne,[de]){if(ne[0]?Ie?(Ie.p(ne,de),de&1&&B(Ie,1)):(Ie=ui(ne),Ie.c(),B(Ie,1),Ie.m(e.parentNode,e)):Ie&&(nt(),W(Ie,1,1,()=>{Ie=null}),rt()),de&4&&I.value!==ne[2].name&&Pe(I,ne[2].name),de&4&&Pe(C,ne[2].text),de&4&&gt(L.value)!==ne[2].max_players&&Pe(L,ne[2].max_players),de&4&&Ht(ye,ne[2].filtering),(!vt||de&4&&We!==(We=ne[2].questions.length>=ks))&&(Se.disabled=We),(!vt||de&4&&Ve!==(Ve=ne[2].questions.length<=1))&&(qe.disabled=Ve),de&4){it=ne[2].questions,nt();for(let Le=0;Le<ge.length;Le+=1)ge[Le].r();ge=wr(ge,de,Yt,1,ne,it,ft,Ke,br,ci,null,oi);for(let Le=0;Le<ge.length;Le+=1)ge[Le].a();rt()}},i(ne){if(!vt){B(Ie),B(a.$$.fragment,ne),B(o.$$.fragment,ne),B(p.$$.fragment,ne),B(k.$$.fragment,ne),B(xe.$$.fragment,ne);for(let de=0;de<it.length;de+=1)B(ge[de]);vt=!0}},o(ne){W(Ie),W(a.$$.fragment,ne),W(o.$$.fragment,ne),W(p.$$.fragment,ne),W(k.$$.fragment,ne),W(xe.$$.fragment,ne);for(let de=0;de<ge.length;de+=1)W(ge[de]);vt=!1},d(ne){Ie&&Ie.d(ne),ne&&z(e),ne&&z(t),ae(a),ae(o),ae(p),ae(k),ae(xe);for(let de=0;de<ge.length;de+=1)ge[de].d();St=!1,Je(Nt)}}}function Ic(n,e,t){let r,s,i;wt(n,gn,k=>t(13,r=k)),wt(n,bt,k=>t(2,s=k));let a=!1,l="",u=rs(0);wt(n,u,k=>t(3,i=k));async function d(){const k=s,x=r;console.debug("Exporting quiz to file",k.name);const E=await xc(k,x),U=k.name+".quizler";No(U,E)}async function o(){const k=await Mo(".quizler");if(k!==null)try{const x=await $c(k);bt.set(x),console.debug("Imported quiz file",x)}catch(x){console.error("Error while importing quiz file",x),Rt("Failed to import","Quiz file invalid or corrupted")}}function f(k){if(k.lengthComputable){const x=k.loaded/k.total*100;console.debug(`Uploading content: ${x.toFixed(0)}%`),u.set(x)}}function c(){t(0,a=!0),t(1,l="Uploading");const k=s;k.name=k.name.trim(),k.text=k.text.trim();const x=r;console.debug("Creating quiz"),ql(k,x,f).then(E=>(t(1,l="Initializing"),console.debug("Initializing game",E),Wt({ty:jt.Initialize,uuid:E}))).then(({id:E,token:U,config:$})=>{yi({id:E,token:U,config:$,host:!0})}).catch(E=>{console.error("Failed to create",E),E instanceof Error?Rt("Failed to create",E.message):Rt("Failed to create",Zr[E])}).finally(()=>t(0,a=!1))}function h(){s.name=this.value,bt.set(s)}function p(){s.text=this.value,bt.set(s)}function b(){s.max_players=gt(this.value),bt.set(s)}function w(){s.filtering=gr(this),bt.set(s)}function g(k,x,E,U){E[U]=k,bt.set(s)}return[a,l,s,i,u,d,o,c,h,p,b,w,g]}class Mc extends Ce{constructor(e){super(),ke(this,e,Ic,Tc,ve,{})}}function Fc(n){let e,t;return{c(){e=ue("svg"),t=ue("path"),_(t,"d","M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z"),_(e,"fill","#FFFFFF"),_(e,"width","32px"),_(e,"height","31.25px"),_(e,"viewBox","0 0 256 250"),_(e,"version","1.1"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"preserveAspectRatio","xMidYMid")},m(r,s){H(r,e,s),m(e,t)},p:G,i:G,o:G,d(r){r&&z(e)}}}class Nc extends Ce{constructor(e){super(),ke(this,e,null,Fc,ve,{})}}function Uc(n){let e,t,r,s,i,a,l,u,d;return{c(){e=ue("svg"),t=ue("path"),r=ue("path"),s=ue("path"),i=ue("path"),a=ue("path"),l=ue("path"),u=ue("path"),d=ue("path"),_(t,"d","M209.6,119.1v-3.38q0-16.18,2.49-20.42T225.44,83q5.69-4.19,7.9-7.8a16.8,16.8,0,0,0,2.2-9q0-6.59-4.2-10.35a14.58,14.58,0,0,0-10.16-3.76q-15.74,0-17.65,22.29L179.15,71q2.7-20.1,14.65-30.46T223,30.19q17.61,0,29.56,10.07a32.29,32.29,0,0,1,12,25.69q.06,19.3-19.76,32.34-8.61,5.71-10.43,8.92t-1.8,11.84Zm27.48,34.73-27.93.06L209.08,127,237,127Z"),_(t,"transform","translate(-5.67 -30.19)"),_(r,"d","M98.54,268.74a43,43,0,0,1-9.39,1.07q-15.06,0-20.17-6.46t-5.92-16.26a95.28,95.28,0,0,1-10.63.74q-21.31,0-34-16.68T5.67,190.36q0-23.55,12.27-40.71t36.14-17.17q23.55,0,35.9,17.08t12.35,41.05q0,19.26-7,32.06T78.7,241q0,8.65,9.88,8.65,2.88,0,10-.83ZM54,154q-20.72,0-20.71,36.39,0,36.55,20.63,36.55,20.87,0,20.87-36.06Q74.75,154,54,154Z"),_(r,"transform","translate(-5.67 -30.19)"),_(s,"d","M189.43,163.44v83.15H166.71V232.43q-6.42,15.88-24.53,15.89-9.39,0-14.41-3.5a19.32,19.32,0,0,1-7.21-9.55q-2.18-6-2.18-17.5V163.44h23.8v54.33q0,11.21,9.22,11.2a13,13,0,0,0,8.15-2.67,12,12,0,0,0,4.4-5.73q.95-3,1-10.45V163.44Z"),_(s,"transform","translate(-5.67 -30.19)"),_(i,"d","M234.22,163.44v83.15H209.69V163.44Z"),_(i,"transform","translate(-5.67 -30.19)"),_(a,"d","M311.45,163.44v15.31l-37.1,50H313.1v17.87H247.64V228.72l36.68-48.57H250.69V163.44Z"),_(a,"transform","translate(-5.67 -30.19)"),_(l,"d","M326.6,246.59V134.21h24.53V246.59Z"),_(l,"transform","translate(-5.67 -30.19)"),_(u,"d","M446,209.13H392.47q-.09,2.22-.09,3.87,0,8.9,4.74,13.42A15.79,15.79,0,0,0,408.44,231q12.27,0,14.74-13.09l22.23,1.64q-9.32,28.83-37.8,28.82-12.42,0-21.11-5a39.35,39.35,0,0,1-14.33-14.53q-5.64-9.56-5.64-22.89,0-19.84,11.32-32T407,161.71A37.84,37.84,0,0,1,434.5,173Q446,184.34,446,209.13Zm-53.6-14.24h29.56q-1.15-17.13-14.08-17.13Q394,177.76,392.38,194.89Z"),_(u,"transform","translate(-5.67 -30.19)"),_(d,"d","M485.25,246.59H461.46V163.44h22.48v15.47q5.18-17.28,17.94-17.29c1.21,0,2.69.09,4.45.25v24.21q-7.49,0-11.65,2.3t-6.79,8.28q-2.64,6-2.64,16.09Z"),_(d,"transform","translate(-5.67 -30.19)"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 500.66 239.62"),_(e,"fill","#FFFFFF"),_(e,"width","248"),_(e,"height","135")},m(o,f){H(o,e,f),m(e,t),m(e,r),m(e,s),m(e,i),m(e,a),m(e,l),m(e,u),m(e,d)},p:G,i:G,o:G,d(o){o&&z(e)}}}class Rc extends Ce{constructor(e){super(),ke(this,e,null,Uc,ve,{})}}function Oc(n){let e,t,r,s,i,a,l,u,d,o,f,c,h,p,b,w,g,k,x,E,U,$,M;return s=new Rc({}),l=new Nc({}),c=new Er({}),g=new ia({}),{c(){e=S("main"),t=S("div"),r=S("div"),le(s.$$.fragment),i=j(),a=S("a"),le(l.$$.fragment),u=ee(`
      View on GitHub`),d=j(),o=S("div"),f=S("button"),le(c.$$.fragment),h=j(),p=S("div"),p.innerHTML=`<p class="action__name svelte-l0hn24">Join a quiz</p> 
        <p class="action__text svelte-l0hn24">Enter a game code and hop right in</p>`,b=j(),w=S("button"),le(g.$$.fragment),k=j(),x=S("div"),x.innerHTML=`<p class="action__name svelte-l0hn24">Create a quiz</p> 
        <p class="action__text svelte-l0hn24">Create your own quiz</p>`,_(r,"class","logo svelte-l0hn24"),_(a,"href","https://github.com/jacobtread/Quizler-v2"),_(a,"target","_blank"),_(a,"rel","noreferrer"),_(a,"title","View on Github"),_(a,"class","btn btn--icon github svelte-l0hn24"),_(t,"class","left svelte-l0hn24"),_(p,"class","action__body svelte-l0hn24"),_(f,"class","action svelte-l0hn24"),_(f,"aria-label","Join"),_(x,"class","action__body svelte-l0hn24"),_(w,"class","action svelte-l0hn24"),_(w,"aria-label","Create"),_(o,"class","actions svelte-l0hn24"),_(e,"class","main svelte-l0hn24")},m(y,v){H(y,e,v),m(e,t),m(t,r),ie(s,r,null),m(t,i),m(t,a),ie(l,a,null),m(a,u),m(e,d),m(e,o),m(o,f),ie(c,f,null),m(f,h),m(f,p),m(o,b),m(o,w),ie(g,w,null),m(w,k),m(w,x),U=!0,$||(M=[J(f,"click",Ia),J(w,"click",Or)],$=!0)},p:G,i(y){U||(B(s.$$.fragment,y),B(l.$$.fragment,y),B(c.$$.fragment,y),B(g.$$.fragment,y),Ye(()=>{U&&(E||(E=Re(e,ze,{},!0)),E.run(1))}),U=!0)},o(y){W(s.$$.fragment,y),W(l.$$.fragment,y),W(c.$$.fragment,y),W(g.$$.fragment,y),E||(E=Re(e,ze,{},!1)),E.run(0),U=!1},d(y){y&&z(e),ae(s),ae(l),ae(c),ae(g),y&&E&&E.end(),$=!1,Je(M)}}}class qc extends Ce{constructor(e){super(),ke(this,e,null,Oc,ve,{})}}function Dc(n){let e,t;return e=new es({props:{text:"Connecting to server..."}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p:G,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function jc(n){let e,t,r,s;const i=[Hc,zc,Lc,Zc,Pc],a=[];function l(u,d){return u[1].ty==ln.Home?0:u[1].ty===ln.Create?1:u[1].ty===ln.Connect?2:u[1].ty===ln.Editing?3:u[1].ty===ln.Game?4:-1}return~(e=l(n))&&(t=a[e]=i[e](n)),{c(){t&&t.c(),r=Pt()},m(u,d){~e&&a[e].m(u,d),H(u,r,d),s=!0},p(u,d){let o=e;e=l(u),e===o?~e&&a[e].p(u,d):(t&&(nt(),W(a[o],1,1,()=>{a[o]=null}),rt()),~e?(t=a[e],t?t.p(u,d):(t=a[e]=i[e](u),t.c()),B(t,1),t.m(r.parentNode,r)):t=null)},i(u){s||(B(t),s=!0)},o(u){W(t),s=!1},d(u){~e&&a[e].d(u),u&&z(r)}}}function Pc(n){let e,t;return e=new pc({props:{gameData:n[1].gameData}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p(r,s){const i={};s&2&&(i.gameData=r[1].gameData),e.$set(i)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function Zc(n){let e,t;return e=new ou({props:{question:n[1].question}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p(r,s){const i={};s&2&&(i.question=r[1].question),e.$set(i)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function Lc(n){let e,t;return e=new yu({}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p:G,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function zc(n){let e,t;return e=new Mc({}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p:G,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function Hc(n){let e,t;return e=new qc({}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),t=!0},p:G,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function Bc(n){let e,t,r,s,i;const a=[jc,Dc],l=[];function u(d,o){return d[0]?0:1}return e=u(n),t=l[e]=a[e](n),s=new Oa({}),{c(){t.c(),r=j(),le(s.$$.fragment)},m(d,o){l[e].m(d,o),H(d,r,o),ie(s,d,o),i=!0},p(d,[o]){let f=e;e=u(d),e===f?l[e].p(d,o):(nt(),W(l[f],1,1,()=>{l[f]=null}),rt(),t=l[e],t?t.p(d,o):(t=l[e]=a[e](d),t.c()),B(t,1),t.m(r.parentNode,r))},i(d){i||(B(t),B(s.$$.fragment,d),i=!0)},o(d){W(t),W(s.$$.fragment,d),i=!1},d(d){l[e].d(d),d&&z(r),ae(s,d)}}}function Vc(n,e,t){let r,s;return wt(n,Yr,i=>t(0,r=i)),wt(n,kn,i=>t(1,s=i)),[r,s]}class Qc extends Ce{constructor(e){super(),ke(this,e,Vc,Bc,ve,{})}}new Qc({target:document.getElementById("app")});
