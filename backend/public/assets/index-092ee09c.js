(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function G(){}const vr=n=>n;function di(n,e){for(const t in e)n[t]=e[t];return n}function cs(n){return n()}function hi(){return Object.create(null)}function Qe(n){n.forEach(cs)}function yr(n){return typeof n=="function"}function Ce(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Vn;function Cn(n,e){return Vn||(Vn=document.createElement("a")),Vn.href=e,n===Vn.href}function oa(n){return Object.keys(n).length===0}function ua(n,...e){if(n==null)return G;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Tt(n,e,t){n.$$.on_destroy.push(ua(e,t))}const fs=typeof window<"u";let Yr=fs?()=>window.performance.now():()=>Date.now(),Xr=fs?n=>requestAnimationFrame(n):G;const yn=new Set;function ds(n){yn.forEach(e=>{e.c(n)||(yn.delete(e),e.f())}),yn.size!==0&&Xr(ds)}function Kr(n){let e;return yn.size===0&&Xr(ds),{promise:new Promise(t=>{yn.add(e={c:n,f:t})}),abort(){yn.delete(e)}}}function _(n,e){n.appendChild(e)}function hs(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function ca(n){const e=T("style");return fa(hs(n),e),e.sheet}function fa(n,e){return _(n.head||n,e),e.sheet}function V(n,e,t){n.insertBefore(e,t||null)}function H(n){n.parentNode&&n.parentNode.removeChild(n)}function In(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function T(n){return document.createElement(n)}function fe(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function re(n){return document.createTextNode(n)}function P(){return re(" ")}function Xt(){return re("")}function ee(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function p(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function vt(n){return n===""?null:+n}function da(n){return Array.from(n.childNodes)}function Ie(n,e){e=""+e,n.data!==e&&(n.data=e)}function De(n,e){n.value=e??""}function mi(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Qt(n,e,t){for(let r=0;r<n.options.length;r+=1){const i=n.options[r];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function br(n){const e=n.querySelector(":checked");return e&&e.__value}function pi(n,e,t){n.classList[t?"add":"remove"](e)}function ha(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,r,e),i}const er=new Map;let tr=0;function ma(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function pa(n,e){const t={stylesheet:ca(e),rules:{}};return er.set(n,t),t}function qr(n,e,t,r,i,s,a,l=0){const u=16.666/r;let f=`{
`;for(let w=0;w<=1;w+=u){const g=e+(t-e)*s(w);f+=w*100+`%{${a(g,1-g)}}
`}const o=f+`100% {${a(t,1-t)}}
}`,h=`__svelte_${ma(o)}_${l}`,c=hs(n),{stylesheet:d,rules:m}=er.get(c)||pa(c,n);m[h]||(m[h]=!0,d.insertRule(`@keyframes ${h} ${o}`,d.cssRules.length));const b=n.style.animation||"";return n.style.animation=`${b?`${b}, `:""}${h} ${r}ms linear ${i}ms 1 both`,tr+=1,h}function ms(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-r.length;i&&(n.style.animation=r.join(", "),tr-=i,tr||_a())}function _a(){Xr(()=>{tr||(er.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&H(e)}),er.clear())})}function wr(n,e,t,r){if(!e)return G;const i=n.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return G;const{delay:s=0,duration:a=300,easing:l=vr,start:u=Yr()+s,end:f=u+a,tick:o=G,css:h}=t(n,{from:e,to:i},r);let c=!0,d=!1,m;function b(){h&&(m=qr(n,0,1,a,s,l,h)),s||(d=!0)}function w(){h&&ms(n,m),c=!1}return Kr(g=>{if(!d&&g>=u&&(d=!0),d&&g>=f&&(o(1,0),w()),!c)return!1;if(d){const A=g-u,x=0+1*l(A/a);o(x,1-x)}return!0}),b(),o(0,1),w}function kr(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,i=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,ga(n,i)}}function ga(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),i=r.transform==="none"?"":r.transform;n.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Fn;function Tn(n){Fn=n}function ps(){if(!Fn)throw new Error("Function called outside component initialization");return Fn}function _s(n){ps().$$.on_mount.push(n)}function va(n){ps().$$.on_destroy.push(n)}const mn=[],Pt=[];let bn=[];const jr=[],ya=Promise.resolve();let Dr=!1;function ba(){Dr||(Dr=!0,ya.then(gs))}function it(n){bn.push(n)}function rn(n){jr.push(n)}const Ur=new Set;let dn=0;function gs(){if(dn!==0)return;const n=Fn;do{try{for(;dn<mn.length;){const e=mn[dn];dn++,Tn(e),wa(e.$$)}}catch(e){throw mn.length=0,dn=0,e}for(Tn(null),mn.length=0,dn=0;Pt.length;)Pt.pop()();for(let e=0;e<bn.length;e+=1){const t=bn[e];Ur.has(t)||(Ur.add(t),t())}bn.length=0}while(mn.length);for(;jr.length;)jr.pop()();Dr=!1,Ur.clear(),Tn(n)}function wa(n){if(n.fragment!==null){n.update(),Qe(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(it)}}function ka(n){const e=[],t=[];bn.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),bn=e}let En;function Ca(){return En||(En=Promise.resolve(),En.then(()=>{En=null})),En}function Nr(n,e,t){n.dispatchEvent(ha(`${e?"intro":"outro"}${t}`))}const Wn=new Set;let Dt;function ht(){Dt={r:0,c:[],p:Dt}}function mt(){Dt.r||Qe(Dt.c),Dt=Dt.p}function W(n,e){n&&n.i&&(Wn.delete(n),n.i(e))}function J(n,e,t,r){if(n&&n.o){if(Wn.has(n))return;Wn.add(n),Dt.c.push(()=>{Wn.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const Aa={duration:0};function He(n,e,t,r){const i={direction:"both"};let s=e(n,t,i),a=r?0:1,l=null,u=null,f=null;function o(){f&&ms(n,f)}function h(d,m){const b=d.b-a;return m*=Math.abs(b),{a,b:d.b,d:b,duration:m,start:d.start,end:d.start+m,group:d.group}}function c(d){const{delay:m=0,duration:b=300,easing:w=vr,tick:g=G,css:A}=s||Aa,x={start:Yr()+m,b:d};d||(x.group=Dt,Dt.r+=1),l||u?u=x:(A&&(o(),f=qr(n,a,d,b,m,w,A)),d&&g(0,1),l=h(x,b),it(()=>Nr(n,d,"start")),Kr(E=>{if(u&&E>u.start&&(l=h(u,b),u=null,Nr(n,l.b,"start"),A&&(o(),f=qr(n,a,l.b,l.duration,0,w,s.css))),l){if(E>=l.end)g(a=l.b,1-a),Nr(n,l.b,"end"),u||(l.b?o():--l.group.r||Qe(l.group.c)),l=null;else if(E>=l.start){const q=E-l.start;a=l.a+l.d*w(q/l.duration),g(a,1-a)}}return!!(l||u)}))}return{run(d){yr(s)?Ca().then(()=>{s=s(i),c(d)}):c(d)},end(){o(),l=u=null}}}function xa(n,e){J(n,1,1,()=>{e.delete(n.key)})}function Cr(n,e){n.f(),xa(n,e)}function Ar(n,e,t,r,i,s,a,l,u,f,o,h){let c=n.length,d=s.length,m=c;const b={};for(;m--;)b[n[m].key]=m;const w=[],g=new Map,A=new Map,x=[];for(m=d;m--;){const U=h(i,s,m),v=t(U);let y=a.get(v);y?r&&x.push(()=>y.p(U,e)):(y=f(v,U),y.c()),g.set(v,w[m]=y),v in b&&A.set(v,Math.abs(m-b[v]))}const E=new Set,q=new Set;function S(U){W(U,1),U.m(l,o),a.set(U.key,U),o=U.first,d--}for(;c&&d;){const U=w[d-1],v=n[c-1],y=U.key,M=v.key;U===v?(o=U.first,c--,d--):g.has(M)?!a.has(y)||E.has(y)?S(U):q.has(M)?c--:A.get(y)>A.get(M)?(q.add(y),S(U)):(E.add(M),c--):(u(v,a),c--)}for(;c--;){const U=n[c];g.has(U.key)||u(U,a)}for(;d;)S(w[d-1]);return Qe(x),w}const $a=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...$a];function sn(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function oe(n){n&&n.c()}function ae(n,e,t,r){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),r||it(()=>{const a=n.$$.on_mount.map(cs).filter(yr);n.$$.on_destroy?n.$$.on_destroy.push(...a):Qe(a),n.$$.on_mount=[]}),s.forEach(it)}function le(n,e){const t=n.$$;t.fragment!==null&&(ka(t.after_update),Qe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ea(n,e){n.$$.dirty[0]===-1&&(mn.push(n),ba(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Ae(n,e,t,r,i,s,a,l=[-1]){const u=Fn;Tn(n);const f=n.$$={fragment:null,ctx:[],props:s,update:G,not_equal:i,bound:hi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:hi(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};a&&a(f.root);let o=!1;if(f.ctx=t?t(n,e.props||{},(h,c,...d)=>{const m=d.length?d[0]:c;return f.ctx&&i(f.ctx[h],f.ctx[h]=m)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](m),o&&Ea(n,h)),c}):[],f.update(),o=!0,Qe(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const h=da(e.target);f.fragment&&f.fragment.l(h),h.forEach(H)}else f.fragment&&f.fragment.c();e.intro&&W(n.$$.fragment),ae(n,e.target,e.anchor,e.customElement),gs()}Tn(u)}class xe{$destroy(){le(this,1),this.$destroy=G}$on(e,t){if(!yr(t))return G;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!oa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const hn=[];function Kt(n,e=G){let t;const r=new Set;function i(l){if(Ce(n,l)&&(n=l,t)){const u=!hn.length;for(const f of r)f[1](),hn.push(f,n);if(u){for(let f=0;f<hn.length;f+=2)hn[f][0](hn[f+1]);hn.length=0}}}function s(l){i(l(n))}function a(l,u=G){const f=[l,u];return r.add(f),r.size===1&&(t=e(i)||G),l(n),()=>{r.delete(f),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}var tn=(n=>(n[n.Home=0]="Home",n[n.Connect=1]="Connect",n[n.Join=2]="Join",n[n.Create=3]="Create",n[n.Editing=4]="Editing",n[n.Game=5]="Game",n))(tn||{});const cn=Kt({ty:0});function $n(){cn.set({ty:0})}function Pr(){cn.set({ty:3})}function vs(){cn.set({ty:1})}function Ta(n){cn.set({ty:2,token:n})}function ys(n){cn.set({ty:5,gameData:n})}function Sa(n){cn.set({ty:4,question:n})}function bs(n){const e=n-1;return e*e*e+1}function _i(n,{delay:e=0,duration:t=400,easing:r=vr}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*i}`}}function et(n,{delay:e=0,duration:t=400,easing:r=bs,axis:i="y"}={}){const s=getComputedStyle(n),a=+s.opacity,l=i==="y"?"height":"width",u=parseFloat(s[l]),f=i==="y"?["top","bottom"]:["left","right"],o=f.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),h=parseFloat(s[`padding${o[0]}`]),c=parseFloat(s[`padding${o[1]}`]),d=parseFloat(s[`margin${o[0]}`]),m=parseFloat(s[`margin${o[1]}`]),b=parseFloat(s[`border${o[0]}Width`]),w=parseFloat(s[`border${o[1]}Width`]);return{delay:e,duration:t,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*a};${l}: ${g*u}px;padding-${f[0]}: ${g*h}px;padding-${f[1]}: ${g*c}px;margin-${f[0]}: ${g*d}px;margin-${f[1]}: ${g*m}px;border-${f[0]}-width: ${g*b}px;border-${f[1]}-width: ${g*w}px;`}}var ws=(n=>(n[n.Error=0]="Error",n[n.Confirm=1]="Confirm",n))(ws||{});const xr=Kt(null);function Rr(n){xr.update(e=>(e!==null&&e.ty===1&&e.callback(n),null))}function $r(n,e){return new Promise(t=>{xr.set({ty:1,title:n,message:e,callback:t})})}function Zt(n,e){xr.set({ty:0,title:n,message:e})}function gi(n){let e,t,r,i=n[0].title+"",s,a,l,u=n[0].message+"",f,o,h,c,d,m;function b(A,x){return A[0].ty===ws.Error?Ia:Ma}let w=b(n),g=w(n);return{c(){e=T("div"),t=T("div"),r=T("h1"),s=re(i),a=P(),l=T("p"),f=re(u),o=P(),h=T("div"),g.c(),p(r,"class","dialog__title svelte-171o5q7"),p(l,"class","dialog__msg svelte-171o5q7"),p(h,"class","btn-row btn-row--fill"),p(t,"class","dialog svelte-171o5q7"),p(e,"class","dialog-wrapper svelte-171o5q7")},m(A,x){V(A,e,x),_(e,t),_(t,r),_(r,s),_(t,a),_(t,l),_(l,f),_(t,o),_(t,h),g.m(h,null),m=!0},p(A,x){(!m||x&1)&&i!==(i=A[0].title+"")&&Ie(s,i),(!m||x&1)&&u!==(u=A[0].message+"")&&Ie(f,u),w===(w=b(A))&&g?g.p(A,x):(g.d(1),g=w(A),g&&(g.c(),g.m(h,null)))},i(A){m||(it(()=>{m&&(c||(c=He(t,et,{duration:200},!0)),c.run(1))}),it(()=>{m&&(d||(d=He(e,_i,{duration:200},!0)),d.run(1))}),m=!0)},o(A){c||(c=He(t,et,{duration:200},!1)),c.run(0),d||(d=He(e,_i,{duration:200},!1)),d.run(0),m=!1},d(A){A&&H(e),g.d(),A&&c&&c.end(),A&&d&&d.end()}}}function Ma(n){let e,t,r,i,s;return{c(){e=T("button"),e.textContent="Confirm",t=P(),r=T("button"),r.textContent="Cancel",p(e,"class","btn btn--surface"),p(r,"class","btn btn--surface")},m(a,l){V(a,e,l),V(a,t,l),V(a,r,l),i||(s=[ee(e,"click",n[2]),ee(r,"click",n[3])],i=!0)},p:G,d(a){a&&H(e),a&&H(t),a&&H(r),i=!1,Qe(s)}}}function Ia(n){let e,t,r;return{c(){e=T("button"),e.textContent="Close",p(e,"class","btn btn--surface")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[1]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function Fa(n){let e,t,r=n[0]&&gi(n);return{c(){r&&r.c(),e=Xt()},m(i,s){r&&r.m(i,s),V(i,e,s),t=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&W(r,1)):(r=gi(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(ht(),J(r,1,1,()=>{r=null}),mt())},i(i){t||(W(r),t=!0)},o(i){J(r),t=!1},d(i){r&&r.d(i),i&&H(e)}}}function Ua(n,e,t){let r;return Tt(n,xr,l=>t(0,r=l)),[r,()=>Rr(!0),()=>Rr(!0),()=>Rr(!1)]}class Na extends xe{constructor(e){super(),Ae(this,e,Ua,Fa,Ce,{})}}var Te;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},n.find=(i,s)=>{for(const a of i)if(s(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Te||(Te={}));var Zr;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Zr||(Zr={}));const K=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vt=n=>{switch(typeof n){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(n)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(n)?K.array:n===null?K.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?K.promise:typeof Map<"u"&&n instanceof Map?K.map:typeof Set<"u"&&n instanceof Set?K.set:typeof Date<"u"&&n instanceof Date?K.date:K.object;default:return K.unknown}},Q=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ra=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class St extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let l=r,u=0;for(;u<a.path.length;){const f=a.path[u];u===a.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(t(a))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}St.create=n=>new St(n);const Un=(n,e)=>{let t;switch(n.code){case Q.invalid_type:n.received===K.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Q.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Te.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:t=`Unrecognized key(s) in object: ${Te.joinValues(n.keys,", ")}`;break;case Q.invalid_union:t="Invalid input";break;case Q.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Te.joinValues(n.options)}`;break;case Q.invalid_enum_value:t=`Invalid enum value. Expected ${Te.joinValues(n.options)}, received '${n.received}'`;break;case Q.invalid_arguments:t="Invalid function arguments";break;case Q.invalid_return_type:t="Invalid function return type";break;case Q.invalid_date:t="Invalid date";break;case Q.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Te.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Q.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Q.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Q.custom:t="Invalid input";break;case Q.invalid_intersection_types:t="Intersection results could not be merged";break;case Q.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Q.not_finite:t="Number must be finite";break;default:t=e.defaultError,Te.assertNever(n)}return{message:t}};let ks=Un;function Oa(n){ks=n}function nr(){return ks}const rr=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],a={...i,path:s};let l="";const u=r.filter(f=>!!f).slice().reverse();for(const f of u)l=f(a,{data:e,defaultError:l}).message;return{...i,path:s,message:i.message||l}},qa=[];function te(n,e){const t=rr({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,nr(),Un].filter(r=>!!r)});n.common.issues.push(t)}class ft{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return he;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t)r.push({key:await i.key,value:await i.value});return ft.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return he;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const he=Object.freeze({status:"aborted"}),Cs=n=>({status:"dirty",value:n}),dt=n=>({status:"valid",value:n}),Lr=n=>n.status==="aborted",zr=n=>n.status==="dirty",ir=n=>n.status==="valid",sr=n=>typeof Promise<"u"&&n instanceof Promise;var se;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class Rt{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vi=(n,e)=>{if(ir(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new St(n.common.issues);return this._error=t,this._error}}};function ge(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,l)=>a.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:t??l.defaultError},description:i}}class ye{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Vt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Vt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ft,ctx:{common:e.parent.common,data:e.data,parsedType:Vt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(sr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return vi(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vt(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(sr(i)?i:Promise.resolve(i));return vi(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const a=e(i),l=()=>s.addIssue({code:Q.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new It({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Lt.create(this,this._def)}nullable(){return un.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mt.create(this,this._def)}promise(){return xn.create(this,this._def)}or(e){return qn.create([this,e],this._def)}and(e){return jn.create(this,e,this._def)}transform(e){return new It({...ge(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new zn({...ge(this._def),innerType:this,defaultValue:t,typeName:ce.ZodDefault})}brand(){return new xs({typeName:ce.ZodBranded,type:this,...ge(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new ur({...ge(this._def),innerType:this,catchValue:t,typeName:ce.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Bn.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ja=/^c[^\s-]{8,}$/i,Da=/^[a-z][a-z0-9]*$/,Pa=/[0-9A-HJKMNP-TV-Z]{26}/,Za=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,La=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,za=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Ha=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ba=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Va=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Qa(n,e){return!!((e==="v4"||!e)&&Ha.test(n)||(e==="v6"||!e)&&Ba.test(n))}class Et extends ye{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(i=>e.test(i),{validation:t,code:Q.invalid_string,...se.errToObj(r)}),this.nonempty=e=>this.min(1,se.errToObj(e)),this.trim=()=>new Et({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Et({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Et({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:K.string,received:s.parsedType}),he}const r=new ft;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),te(i,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),te(i,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?te(i,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&te(i,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")La.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"email",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")za.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"emoji",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Za.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"uuid",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")ja.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"cuid",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Da.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"cuid2",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Pa.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"ulid",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),te(i,{validation:"url",code:Q.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"regex",code:Q.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),te(i,{code:Q.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),te(i,{code:Q.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),te(i,{code:Q.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Va(s).test(e.data)||(i=this._getOrReturnCtx(e,i),te(i,{code:Q.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Qa(e.data,s.version)||(i=this._getOrReturnCtx(e,i),te(i,{validation:"ip",code:Q.invalid_string,message:s.message}),r.dirty()):Te.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new Et({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...se.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...se.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...se.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Et.create=n=>{var e;return new Et({checks:[],typeName:ce.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ge(n)})};function Wa(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class Wt extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:K.number,received:s.parsedType}),he}let r;const i=new ft;for(const s of this._def.checks)s.kind==="int"?Te.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Wa(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.not_finite,message:s.message}),i.dirty()):Te.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,i){return new Wt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Wt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Te.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Wt.create=n=>new Wt({checks:[],typeName:ce.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ge(n)});class Gt extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==K.bigint){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:K.bigint,received:s.parsedType}),he}let r;const i=new ft;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Te.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,i){return new Gt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Gt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Gt.create=n=>{var e;return new Gt({checks:[],typeName:ce.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ge(n)})};class Nn extends ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.boolean,received:r.parsedType}),he}return dt(e.data)}}Nn.create=n=>new Nn({typeName:ce.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ge(n)});class ln extends ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:K.date,received:s.parsedType}),he}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_date}),he}const r=new ft;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),te(i,{code:Q.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),te(i,{code:Q.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Te.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ln({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ln.create=n=>new ln({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ce.ZodDate,...ge(n)});class ar extends ye{_parse(e){if(this._getType(e)!==K.symbol){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.symbol,received:r.parsedType}),he}return dt(e.data)}}ar.create=n=>new ar({typeName:ce.ZodSymbol,...ge(n)});class Rn extends ye{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.undefined,received:r.parsedType}),he}return dt(e.data)}}Rn.create=n=>new Rn({typeName:ce.ZodUndefined,...ge(n)});class On extends ye{_parse(e){if(this._getType(e)!==K.null){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.null,received:r.parsedType}),he}return dt(e.data)}}On.create=n=>new On({typeName:ce.ZodNull,...ge(n)});class An extends ye{constructor(){super(...arguments),this._any=!0}_parse(e){return dt(e.data)}}An.create=n=>new An({typeName:ce.ZodAny,...ge(n)});class an extends ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dt(e.data)}}an.create=n=>new an({typeName:ce.ZodUnknown,...ge(n)});class zt extends ye{_parse(e){const t=this._getOrReturnCtx(e);return te(t,{code:Q.invalid_type,expected:K.never,received:t.parsedType}),he}}zt.create=n=>new zt({typeName:ce.ZodNever,...ge(n)});class lr extends ye{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.void,received:r.parsedType}),he}return dt(e.data)}}lr.create=n=>new lr({typeName:ce.ZodVoid,...ge(n)});class Mt extends ye{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==K.array)return te(t,{code:Q.invalid_type,expected:K.array,received:t.parsedType}),he;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,l=t.data.length<i.exactLength.value;(a||l)&&(te(t,{code:a?Q.too_big:Q.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(te(t,{code:Q.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(te(t,{code:Q.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,l)=>i.type._parseAsync(new Rt(t,a,t.path,l)))).then(a=>ft.mergeArray(r,a));const s=[...t.data].map((a,l)=>i.type._parseSync(new Rt(t,a,t.path,l)));return ft.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new Mt({...this._def,minLength:{value:e,message:se.toString(t)}})}max(e,t){return new Mt({...this._def,maxLength:{value:e,message:se.toString(t)}})}length(e,t){return new Mt({...this._def,exactLength:{value:e,message:se.toString(t)}})}nonempty(e){return this.min(1,e)}}Mt.create=(n,e)=>new Mt({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...ge(e)});function pn(n){if(n instanceof Ze){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Lt.create(pn(r))}return new Ze({...n._def,shape:()=>e})}else return n instanceof Mt?new Mt({...n._def,type:pn(n.element)}):n instanceof Lt?Lt.create(pn(n.unwrap())):n instanceof un?un.create(pn(n.unwrap())):n instanceof Ot?Ot.create(n.items.map(e=>pn(e))):n}class Ze extends ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Te.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==K.object){const f=this._getOrReturnCtx(e);return te(f,{code:Q.invalid_type,expected:K.object,received:f.parsedType}),he}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof zt&&this._def.unknownKeys==="strip"))for(const f in i.data)a.includes(f)||l.push(f);const u=[];for(const f of a){const o=s[f],h=i.data[f];u.push({key:{status:"valid",value:f},value:o._parse(new Rt(i,h,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof zt){const f=this._def.unknownKeys;if(f==="passthrough")for(const o of l)u.push({key:{status:"valid",value:o},value:{status:"valid",value:i.data[o]}});else if(f==="strict")l.length>0&&(te(i,{code:Q.unrecognized_keys,keys:l}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const o of l){const h=i.data[o];u.push({key:{status:"valid",value:o},value:f._parse(new Rt(i,h,i.path,o)),alwaysSet:o in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const o of u){const h=await o.key;f.push({key:h,value:await o.value,alwaysSet:o.alwaysSet})}return f}).then(f=>ft.mergeObjectSync(r,f)):ft.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new Ze({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,a,l;const u=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(l=se.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new Ze({...this._def,unknownKeys:"strip"})}passthrough(){return new Ze({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ze({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ze({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ce.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ze({...this._def,catchall:e})}pick(e){const t={};return Te.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new Ze({...this._def,shape:()=>t})}omit(e){const t={};return Te.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new Ze({...this._def,shape:()=>t})}deepPartial(){return pn(this)}partial(e){const t={};return Te.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new Ze({...this._def,shape:()=>t})}required(e){const t={};return Te.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Lt;)s=s._def.innerType;t[r]=s}}),new Ze({...this._def,shape:()=>t})}keyof(){return As(Te.objectKeys(this.shape))}}Ze.create=(n,e)=>new Ze({shape:()=>n,unknownKeys:"strip",catchall:zt.create(),typeName:ce.ZodObject,...ge(e)});Ze.strictCreate=(n,e)=>new Ze({shape:()=>n,unknownKeys:"strict",catchall:zt.create(),typeName:ce.ZodObject,...ge(e)});Ze.lazycreate=(n,e)=>new Ze({shape:n,unknownKeys:"strip",catchall:zt.create(),typeName:ce.ZodObject,...ge(e)});class qn extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new St(l.ctx.common.issues));return te(t,{code:Q.invalid_union,unionErrors:a}),he}if(t.common.async)return Promise.all(r.map(async s=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const f={...t,common:{...t.common,issues:[]},parent:null},o=u._parseSync({data:t.data,path:t.path,parent:f});if(o.status==="valid")return o;o.status==="dirty"&&!s&&(s={result:o,ctx:f}),f.common.issues.length&&a.push(f.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(u=>new St(u));return te(t,{code:Q.invalid_union,unionErrors:l}),he}}get options(){return this._def.options}}qn.create=(n,e)=>new qn({options:n,typeName:ce.ZodUnion,...ge(e)});const Gn=n=>n instanceof Pn?Gn(n.schema):n instanceof It?Gn(n.innerType()):n instanceof Zn?[n.value]:n instanceof Jt?n.options:n instanceof Ln?Object.keys(n.enum):n instanceof zn?Gn(n._def.innerType):n instanceof Rn?[void 0]:n instanceof On?[null]:null;class Er extends ye{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.object)return te(t,{code:Q.invalid_type,expected:K.object,received:t.parsedType}),he;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(te(t,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),he)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const a=Gn(s.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Er({typeName:ce.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...ge(r)})}}function Hr(n,e){const t=Vt(n),r=Vt(e);if(n===e)return{valid:!0,data:n};if(t===K.object&&r===K.object){const i=Te.objectKeys(e),s=Te.objectKeys(n).filter(l=>i.indexOf(l)!==-1),a={...n,...e};for(const l of s){const u=Hr(n[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(t===K.array&&r===K.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const a=n[s],l=e[s],u=Hr(a,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===K.date&&r===K.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class jn extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Lr(s)||Lr(a))return he;const l=Hr(s.value,a.value);return l.valid?((zr(s)||zr(a))&&t.dirty(),{status:t.value,value:l.data}):(te(r,{code:Q.invalid_intersection_types}),he)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}jn.create=(n,e,t)=>new jn({left:n,right:e,typeName:ce.ZodIntersection,...ge(t)});class Ot extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.array)return te(r,{code:Q.invalid_type,expected:K.array,received:r.parsedType}),he;if(r.data.length<this._def.items.length)return te(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&r.data.length>this._def.items.length&&(te(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Rt(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>ft.mergeArray(t,a)):ft.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Ot({...this._def,rest:e})}}Ot.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ot({items:n,typeName:ce.ZodTuple,rest:null,...ge(e)})};class Dn extends ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.object)return te(r,{code:Q.invalid_type,expected:K.object,received:r.parsedType}),he;const i=[],s=this._def.keyType,a=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new Rt(r,l,r.path,l)),value:a._parse(new Rt(r,r.data[l],r.path,l))});return r.common.async?ft.mergeObjectAsync(t,i):ft.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof ye?new Dn({keyType:e,valueType:t,typeName:ce.ZodRecord,...ge(r)}):new Dn({keyType:Et.create(),valueType:e,typeName:ce.ZodRecord,...ge(t)})}}class or extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.map)return te(r,{code:Q.invalid_type,expected:K.map,received:r.parsedType}),he;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([l,u],f)=>({key:i._parse(new Rt(r,l,r.path,[f,"key"])),value:s._parse(new Rt(r,u,r.path,[f,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const f=await u.key,o=await u.value;if(f.status==="aborted"||o.status==="aborted")return he;(f.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(f.value,o.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const u of a){const f=u.key,o=u.value;if(f.status==="aborted"||o.status==="aborted")return he;(f.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(f.value,o.value)}return{status:t.value,value:l}}}}or.create=(n,e,t)=>new or({valueType:e,keyType:n,typeName:ce.ZodMap,...ge(t)});class on extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.set)return te(r,{code:Q.invalid_type,expected:K.set,received:r.parsedType}),he;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(te(r,{code:Q.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(te(r,{code:Q.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function a(u){const f=new Set;for(const o of u){if(o.status==="aborted")return he;o.status==="dirty"&&t.dirty(),f.add(o.value)}return{status:t.value,value:f}}const l=[...r.data.values()].map((u,f)=>s._parse(new Rt(r,u,r.path,f)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,t){return new on({...this._def,minSize:{value:e,message:se.toString(t)}})}max(e,t){return new on({...this._def,maxSize:{value:e,message:se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}on.create=(n,e)=>new on({valueType:n,minSize:null,maxSize:null,typeName:ce.ZodSet,...ge(e)});class wn extends ye{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.function)return te(t,{code:Q.invalid_type,expected:K.function,received:t.parsedType}),he;function r(l,u){return rr({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,nr(),Un].filter(f=>!!f),issueData:{code:Q.invalid_arguments,argumentsError:u}})}function i(l,u){return rr({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,nr(),Un].filter(f=>!!f),issueData:{code:Q.invalid_return_type,returnTypeError:u}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;return this._def.returns instanceof xn?dt(async(...l)=>{const u=new St([]),f=await this._def.args.parseAsync(l,s).catch(c=>{throw u.addIssue(r(l,c)),u}),o=await a(...f);return await this._def.returns._def.type.parseAsync(o,s).catch(c=>{throw u.addIssue(i(o,c)),u})}):dt((...l)=>{const u=this._def.args.safeParse(l,s);if(!u.success)throw new St([r(l,u.error)]);const f=a(...u.data),o=this._def.returns.safeParse(f,s);if(!o.success)throw new St([i(f,o.error)]);return o.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new wn({...this._def,args:Ot.create(e).rest(an.create())})}returns(e){return new wn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new wn({args:e||Ot.create([]).rest(an.create()),returns:t||an.create(),typeName:ce.ZodFunction,...ge(r)})}}class Pn extends ye{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Pn.create=(n,e)=>new Pn({getter:n,typeName:ce.ZodLazy,...ge(e)});class Zn extends ye{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return te(t,{received:t.data,code:Q.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:e.data}}get value(){return this._def.value}}Zn.create=(n,e)=>new Zn({value:n,typeName:ce.ZodLiteral,...ge(e)});function As(n,e){return new Jt({values:n,typeName:ce.ZodEnum,...ge(e)})}class Jt extends ye{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return te(t,{expected:Te.joinValues(r),received:t.parsedType,code:Q.invalid_type}),he}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),r=this._def.values;return te(t,{received:t.data,code:Q.invalid_enum_value,options:r}),he}return dt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Jt.create(e)}exclude(e){return Jt.create(this.options.filter(t=>!e.includes(t)))}}Jt.create=As;class Ln extends ye{_parse(e){const t=Te.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==K.string&&r.parsedType!==K.number){const i=Te.objectValues(t);return te(r,{expected:Te.joinValues(i),received:r.parsedType,code:Q.invalid_type}),he}if(t.indexOf(e.data)===-1){const i=Te.objectValues(t);return te(r,{received:r.data,code:Q.invalid_enum_value,options:i}),he}return dt(e.data)}get enum(){return this._def.values}}Ln.create=(n,e)=>new Ln({values:n,typeName:ce.ZodNativeEnum,...ge(e)});class xn extends ye{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.promise&&t.common.async===!1)return te(t,{code:Q.invalid_type,expected:K.promise,received:t.parsedType}),he;const r=t.parsedType===K.promise?t.data:Promise.resolve(t.data);return dt(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}xn.create=(n,e)=>new xn({type:n,typeName:ce.ZodPromise,...ge(e)});class It extends ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const a=i.transform(r.data);return r.common.async?Promise.resolve(a).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}const s={addIssue:a=>{te(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const a=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?he:(l.status==="dirty"&&t.dirty(),a(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?he:(l.status==="dirty"&&t.dirty(),a(l.value).then(()=>({status:t.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ir(a))return a;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>ir(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:t.value,value:l})):a);Te.assertNever(i)}}It.create=(n,e,t)=>new It({schema:n,typeName:ce.ZodEffects,effect:e,...ge(t)});It.createWithPreprocess=(n,e,t)=>new It({schema:e,effect:{type:"preprocess",transform:n},typeName:ce.ZodEffects,...ge(t)});class Lt extends ye{_parse(e){return this._getType(e)===K.undefined?dt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lt.create=(n,e)=>new Lt({innerType:n,typeName:ce.ZodOptional,...ge(e)});class un extends ye{_parse(e){return this._getType(e)===K.null?dt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}un.create=(n,e)=>new un({innerType:n,typeName:ce.ZodNullable,...ge(e)});class zn extends ye{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===K.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}zn.create=(n,e)=>new zn({innerType:n,typeName:ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ge(e)});class ur extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return sr(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new St(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new St(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ur.create=(n,e)=>new ur({innerType:n,typeName:ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ge(e)});class cr extends ye{_parse(e){if(this._getType(e)!==K.nan){const r=this._getOrReturnCtx(e);return te(r,{code:Q.invalid_type,expected:K.nan,received:r.parsedType}),he}return{status:"valid",value:e.data}}}cr.create=n=>new cr({typeName:ce.ZodNaN,...ge(n)});const Ga=Symbol("zod_brand");class xs extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Bn extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?he:s.status==="dirty"?(t.dirty(),Cs(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?he:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new Bn({in:e,out:t,typeName:ce.ZodPipeline})}}const $s=(n,e={},t)=>n?An.create().superRefine((r,i)=>{var s,a;if(!n(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(s=l.fatal)!==null&&s!==void 0?s:t)!==null&&a!==void 0?a:!0,f=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...f,fatal:u})}}):An.create(),Ja={object:Ze.lazycreate};var ce;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline"})(ce||(ce={}));const Ya=(n,e={message:`Input not instance of ${n.name}`})=>$s(t=>t instanceof n,e),Es=Et.create,Ts=Wt.create,Xa=cr.create,Ka=Gt.create,Ss=Nn.create,el=ln.create,tl=ar.create,nl=Rn.create,rl=On.create,il=An.create,sl=an.create,al=zt.create,ll=lr.create,ol=Mt.create,ul=Ze.create,cl=Ze.strictCreate,fl=qn.create,dl=Er.create,hl=jn.create,ml=Ot.create,pl=Dn.create,_l=or.create,gl=on.create,vl=wn.create,yl=Pn.create,bl=Zn.create,wl=Jt.create,kl=Ln.create,Cl=xn.create,yi=It.create,Al=Lt.create,xl=un.create,$l=It.createWithPreprocess,El=Bn.create,Tl=()=>Es().optional(),Sl=()=>Ts().optional(),Ml=()=>Ss().optional(),Il={string:n=>Et.create({...n,coerce:!0}),number:n=>Wt.create({...n,coerce:!0}),boolean:n=>Nn.create({...n,coerce:!0}),bigint:n=>Gt.create({...n,coerce:!0}),date:n=>ln.create({...n,coerce:!0})},Fl=he;var _e=Object.freeze({__proto__:null,defaultErrorMap:Un,setErrorMap:Oa,getErrorMap:nr,makeIssue:rr,EMPTY_PATH:qa,addIssueToContext:te,ParseStatus:ft,INVALID:he,DIRTY:Cs,OK:dt,isAborted:Lr,isDirty:zr,isValid:ir,isAsync:sr,get util(){return Te},get objectUtil(){return Zr},ZodParsedType:K,getParsedType:Vt,ZodType:ye,ZodString:Et,ZodNumber:Wt,ZodBigInt:Gt,ZodBoolean:Nn,ZodDate:ln,ZodSymbol:ar,ZodUndefined:Rn,ZodNull:On,ZodAny:An,ZodUnknown:an,ZodNever:zt,ZodVoid:lr,ZodArray:Mt,ZodObject:Ze,ZodUnion:qn,ZodDiscriminatedUnion:Er,ZodIntersection:jn,ZodTuple:Ot,ZodRecord:Dn,ZodMap:or,ZodSet:on,ZodFunction:wn,ZodLazy:Pn,ZodLiteral:Zn,ZodEnum:Jt,ZodNativeEnum:Ln,ZodPromise:xn,ZodEffects:It,ZodTransformer:It,ZodOptional:Lt,ZodNullable:un,ZodDefault:zn,ZodCatch:ur,ZodNaN:cr,BRAND:Ga,ZodBranded:xs,ZodPipeline:Bn,custom:$s,Schema:ye,ZodSchema:ye,late:Ja,get ZodFirstPartyTypeKind(){return ce},coerce:Il,any:il,array:ol,bigint:Ka,boolean:Ss,date:el,discriminatedUnion:dl,effect:yi,enum:wl,function:vl,instanceof:Ya,intersection:hl,lazy:yl,literal:bl,map:_l,nan:Xa,nativeEnum:kl,never:al,null:rl,nullable:xl,number:Ts,object:ul,oboolean:Ml,onumber:Sl,optional:Al,ostring:Tl,pipeline:El,preprocess:$l,promise:Cl,record:pl,set:gl,strictObject:cl,string:Es,symbol:tl,transformer:yi,tuple:ml,undefined:nl,union:fl,unknown:sl,void:ll,NEVER:Fl,ZodIssueCode:Q,quotelessJson:Ra,ZodError:St});const ei={MalformedMessage:"Unknown client sent invalid message",InvalidToken:"Invalid token provided",UsernameTaken:"Username already in use",InappropriateName:"That name is not allowed/inappropriate choose another name",NotJoinable:"Quiz is not joinable",CapacityReached:"Quiz is full",UnknownPlayer:"Target player not found",Unexpected:"Unexpected error occurred",InvalidPermission:"You don't have permission to do that",UnexpectedMessage:"Client and server out of sync",InvalidAnswer:"Invalid answer type"};var _n=(n=>(n.None="None",n.Low="Low",n.Medium="Medium",n.High="High",n))(_n||{}),_t=(n=>(n.Lobby="Lobby",n.Starting="Starting",n.AwaitingReady="AwaitingReady",n.AwaitingAnswers="AwaitingAnswers",n.Marked="Marked",n.Finished="Finished",n))(_t||{}),Sn=(n=>(n.Start="Start",n.Cancel="Cancel",n.Skip="Skip",n.Reset="Reset",n))(Sn||{}),Ms=(n=>(n.RemovedByHost="RemovedByHost",n.HostDisconnect="HostDisconnect",n.LostConnection="LostConnection",n.Disconnected="Disconnected",n))(Ms||{});const Ul={RemovedByHost:"Removed by host",HostDisconnect:"Quiz host left",LostConnection:"Connection lost",Disconnected:"Disconnected"};var at=(n=>(n.Single="Single",n.Multiple="Multiple",n))(at||{});const bi=_e.object({id:_e.number(),value:_e.string(),correct:_e.boolean()});var gn=(n=>(n.Contain="Contain",n.Cover="Cover",n.Width="Width",n.Height="Height",n))(gn||{});const Nl=_e.object({id:_e.number(),text:_e.string(),image:_e.object({uuid:_e.string().uuid(),fit:_e.enum(["Contain","Cover","Width","Height"])}).nullable(),answer_time:_e.number(),bonus_score_time:_e.number(),scoring:_e.object({min_score:_e.number(),max_score:_e.number(),bonus_score:_e.number()})}).and(_e.discriminatedUnion("ty",[_e.object({ty:_e.literal("Single"),answers:_e.array(bi)}),_e.object({ty:_e.literal("Multiple"),answers:_e.array(bi),min:_e.number(),max:_e.number()})]));var Br=(n=>(n.Single="Single",n.Multiple="Multiple",n))(Br||{}),Nt=(n=>(n.Correct="Correct",n.Incorrect="Incorrect",n.Partial="Partial",n))(Nt||{}),Ht=(n=>(n.Initialize="Initialize",n.Connect="Connect",n.Join="Join",n.Ready="Ready",n.HostAction="HostAction",n.Answer="Answer",n.Kick="Kick",n))(Ht||{}),$t=(n=>(n.Joined="Joined",n.Ok="Ok",n.PlayerData="PlayerData",n.GameState="GameState",n.TimeSync="TimeSync",n.Question="Question",n.Scores="Scores",n.Score="Score",n.Error="Error",n.Kicked="Kicked",n))($t||{});function ti(n){return new URL(n,window.location.origin)}function Vr(n,e){return ti(`/api/quiz/${n}/${e}`).toString()}function Rl(n,e,t){return new Promise((r,i)=>{const s=Ol(n,e),a=new XMLHttpRequest;a.upload.onprogress=t,a.responseType="json",a.onload=()=>{if(Math.floor(a.status/100)!==2)return console.error("Failed invalid request",a),i(new Error("Invalid request try reloading the page or updating Quizler"));const f=a.response;r(f.uuid)},a.onerror=a.ontimeout=a.onabort=()=>i(new Error("Failed to connect"));const l=ti("/api/quiz");a.open("POST",l),a.send(s)})}function Ol(n,e){const t=new FormData;t.append("config",JSON.stringify(n));for(const r of e)n.questions.find(s=>{var a;return((a=s.image)==null?void 0:a.uuid)===r.uuid})!==void 0&&t.append(r.uuid,r.blob);return t}async function ql(n,e){const t=e.image;if(t===null)return;const r=6;let i=0;const s=Vr(n,t.uuid);for(;i<r;)try{await new Promise((a,l)=>{const u=new Image;u.src=s,u.onload=a,u.onerror=l}),console.debug("Preloaded question image",s);break}catch(a){console.error("Failed to preload image trying again",s,a),i+=1}}let Is=0,fr={},Hn=[],Fs=Us();const Qr={},ni=Kt(!1);function Bt(n,e){_s(()=>{Qr[n]=e,console.log("Added handler for",n),Hn=Hn.filter(t=>t.ty===n?(e(t),!1):!0)}),va(()=>{delete Qr[n]})}function jl(){for(const n of Hn)console.warn("Message was not handled",n);Hn=[]}function Us(){const n=ti("/api/quiz/socket");n.protocol=n.protocol.includes("https")?"wss":"ws",console.debug("Connecting to socket server "+n);const e=new WebSocket(n);return e.onmessage=Zl,e.onopen=()=>{e.readyState==WebSocket.OPEN?(console.debug("Connected to socket"),ni.set(!0)):console.log(e.readyState)},e.onclose=t=>{console.error("WebSocket connetion closed",t),Dl()},e.onerror=t=>{console.error("WebSocket error",t)},e}function Dl(){Is=0,fr={},jl(),$n(),Pl()}function Pl(){console.debug("Socket connection lost (Reconnecting in 1000ms)"),ni.set(!1),setTimeout(()=>{Fs=Us()},1e3)}function Yt(n){return new Promise((e,t)=>{console.debug("Sending message to server",n),n.rid=Is++,fr[n.rid]={resolve:e,reject:t};const r=JSON.stringify(n);try{Fs.send(r)}catch(i){console.error("Failed to send message",i),delete fr[n.rid],t({ty:$t.Error,error:"Unexpected"})}})}function Zl({data:n}){const e=JSON.parse(n);if(e.ty===void 0){console.error("Packet missing message type",n);return}const t=e.rid;if(t!==void 0){const i=fr[t];if(i===void 0){console.error(`Missing return handle ${t} for message`,e);return}e.ty===$t.Error?i.reject(e.error):i.resolve(e)}const r=Qr[e.ty];if(r!==void 0){r(e);return}Hn.push(e)}const Jn=5,Ns=1,Rs=30,Ll=70,zl=300,Hl="Example Quiz",Bl="Small description about your quiz",Vl=10,Ql=100,Wl=150,wi=8,ki=50,Gl=1e3*15,Jl=1e3,Yl=1e3*60*30,Xl=1e3*10,Kl=1e3,eo=1e3*60*30,to=150,no=1e3*3,ro=1e3,io=1e3*60*30,so=1,Os=50,ao=1024*1024*15;function lo(){return{name:Hl,text:Bl,max_players:Os,filtering:_n.High,timing:{wait_time:Xl},questions:[qs()]}}function qs(){return{id:0,ty:at.Single,text:"This is an example question, you should replace this with your first question",image:null,answer_time:Gl,bonus_score_time:no,scoring:{min_score:Vl,max_score:Ql,bonus_score:to},answers:[{id:0,value:"Example A",correct:!0},{id:1,value:"Example B",correct:!1},{id:2,value:"Example C",correct:!1},{id:3,value:"Example D",correct:!1}]}}function dr(n){return((n.total-n.elapsed)/1e3).toFixed(0)}function Yn(n,e){const t=Math.round(Math.random()*(e-n)+n);return t>e?e:t<n?n:t}function oo(n){return JSON.parse(JSON.stringify(n))}function Ci(n){const e=["th","st","nd","rd"],t=n%100;return n+(e[(t-20)%10]||e[t]||e[0])}function js(n){const e=Yn(1,n.length/2);let t=0;for(;t<e;){const r=Yn(0,n.length-1),i=Yn(0,n.length-1);r!==i&&(hr(n,r,i),t++)}return n}function hr(n,e,t){const r=n[e],i=n[t];return(r!==void 0||i!==void 0)&&(n[e]=i,n[t]=r),n}const wt=Kt(lo());let Ai=1;function uo(){wt.update(n=>{const e=qs();return e.id=Ai,Ai++,n.questions.push(e),n})}function xi(n,e){wt.update(t=>(hr(t.questions,n,e),t))}function co(n){wt.update(e=>(e.questions.splice(n,1),e))}function fo(){wt.update(n=>(js(n.questions),n))}function ho(n){wt.update(e=>{const t=e.questions.findIndex(r=>r.id===n.id);return t===-1?e.questions.push(n):e.questions[t]=n,e})}function mo(n){return n.answers=n.answers??[],n.ty===at.Multiple&&(n.min=n.min??1,n.max=n.max??n.answers.length),n}function po(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}function Ds(n,e){return new Promise(function(t,r){let i;return _o(n).then(function(s){try{return i=s,t(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const _o=n=>new Promise((e,t)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return t("not a valid JPEG");for(a+=2;;){const l=s.getUint16(a);if(l===65498)break;const u=s.getUint16(a+2);if(l===65505&&s.getUint32(a+4)===1165519206){const f=a+10;let o;switch(s.getUint16(f)){case 18761:o=!0;break;case 19789:o=!1;break;default:return t("TIFF header contains invalid endian")}if(s.getUint16(f+2,o)!==42)return t("TIFF header contains invalid version");const h=s.getUint32(f+4,o),c=f+h+2+12*s.getUint16(f+h,o);for(let d=f+h+2;d<c;d+=12)if(s.getUint16(d,o)==274){if(s.getUint16(d+2,o)!==3)return t("Orientation data type is invalid");if(s.getUint32(d+4,o)!==1)return t("Orientation data count is invalid");s.setUint16(d+8,1,o);break}return e(i.slice(a,a+2+u))}a+=2+u}return e(new Blob)}),r.readAsArrayBuffer(n)});var mr={},go={get exports(){return mr},set exports(n){mr=n}};(function(n){var e,t,r={};go.exports=r,r.parse=function(i,s){for(var a=r.bin.readUshort,l=r.bin.readUint,u=0,f={},o=new Uint8Array(i),h=o.length-4;l(o,h)!=101010256;)h--;u=h,u+=4;var c=a(o,u+=4);a(o,u+=2);var d=l(o,u+=2),m=l(o,u+=4);u+=4,u=m;for(var b=0;b<c;b++){l(o,u),u+=4,u+=4,u+=4,l(o,u+=4),d=l(o,u+=4);var w=l(o,u+=4),g=a(o,u+=4),A=a(o,u+2),x=a(o,u+4);u+=6;var E=l(o,u+=8);u+=4,u+=g+A+x,r._readLocal(o,E,f,d,w,s)}return f},r._readLocal=function(i,s,a,l,u,f){var o=r.bin.readUshort,h=r.bin.readUint;h(i,s),o(i,s+=4),o(i,s+=2);var c=o(i,s+=2);h(i,s+=2),h(i,s+=4),s+=4;var d=o(i,s+=8),m=o(i,s+=2);s+=2;var b=r.bin.readUTF8(i,s,d);if(s+=d,s+=m,f)a[b]={size:u,csize:l};else{var w=new Uint8Array(i.buffer,s);if(c==0)a[b]=new Uint8Array(w.buffer.slice(s,s+l));else{if(c!=8)throw"unknown compression method: "+c;var g=new Uint8Array(u);r.inflateRaw(w,g),a[b]=g}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*i.length));l[a]=120,l[a+1]=156,a+=2,a=r.F.deflateRaw(i,l,a,s.level);var u=r.adler(i,0,i.length);return l[a+0]=u>>>24&255,l[a+1]=u>>>16&255,l[a+2]=u>>>8&255,l[a+3]=u>>>0&255,new Uint8Array(l.buffer,0,a+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),l=r.F.deflateRaw(i,a,l,s.level);return new Uint8Array(a.buffer,0,l)},r.encode=function(i,s){s==null&&(s=!1);var a=0,l=r.bin.writeUint,u=r.bin.writeUshort,f={};for(var o in i){var h=!r._noNeed(o)&&!s,c=i[o],d=r.crc.crc(c,0,c.length);f[o]={cpr:h,usize:c.length,crc:d,file:h?r.deflateRaw(c):c}}for(var o in f)a+=f[o].file.length+30+46+2*r.bin.sizeUTF8(o);a+=22;var m=new Uint8Array(a),b=0,w=[];for(var o in f){var g=f[o];w.push(b),b=r._writeHeader(m,b,o,g,0)}var A=0,x=b;for(var o in f)g=f[o],w.push(b),b=r._writeHeader(m,b,o,g,1,w[A++]);var E=b-x;return l(m,b,101010256),b+=4,u(m,b+=4,A),u(m,b+=2,A),l(m,b+=2,E),l(m,b+=4,x),b+=4,b+=2,m.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,a,l,u,f){var o=r.bin.writeUint,h=r.bin.writeUshort,c=l.file;return o(i,s,u==0?67324752:33639248),s+=4,u==1&&(s+=2),h(i,s,20),h(i,s+=2,0),h(i,s+=2,l.cpr?8:0),o(i,s+=2,0),o(i,s+=4,l.crc),o(i,s+=4,c.length),o(i,s+=4,l.usize),h(i,s+=4,r.bin.sizeUTF8(a)),h(i,s+=2,0),s+=2,u==1&&(s+=2,s+=2,o(i,s+=6,f),s+=4),s+=r.bin.writeUTF8(i,s,a),u==0&&(i.set(c,s),s+=c.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,l){for(var u=0;u<l;u++)i=r.crc.table[255&(i^s[a+u])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^r.crc.update(4294967295,i,s,a)}},r.adler=function(i,s,a){for(var l=1,u=0,f=s,o=s+a;f<o;){for(var h=Math.min(f+5552,o);f<h;)u+=l+=i[f++];l%=65521,u%=65521}return u<<16|l},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var l="",u=0;u<a;u++)l+=String.fromCharCode(i[s+u]);return l},writeASCII:function(i,s,a){for(var l=0;l<a.length;l++)i[s+l]=a.charCodeAt(l)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var l,u="",f=0;f<a;f++)u+="%"+r.bin.pad(i[s+f].toString(16));try{l=decodeURIComponent(u)}catch{return r.bin.readASCII(i,s,a)}return l},writeUTF8:function(i,s,a){for(var l=a.length,u=0,f=0;f<l;f++){var o=a.charCodeAt(f);if(!(4294967168&o))i[s+u]=o,u++;else if(!(4294965248&o))i[s+u]=192|o>>6,i[s+u+1]=128|o>>0&63,u+=2;else if(!(4294901760&o))i[s+u]=224|o>>12,i[s+u+1]=128|o>>6&63,i[s+u+2]=128|o>>0&63,u+=3;else{if(4292870144&o)throw"e";i[s+u]=240|o>>18,i[s+u+1]=128|o>>12&63,i[s+u+2]=128|o>>6&63,i[s+u+3]=128|o>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var s=i.length,a=0,l=0;l<s;l++){var u=i.charCodeAt(l);if(!(4294967168&u))a++;else if(!(4294965248&u))a+=2;else if(!(4294901760&u))a+=3;else{if(4292870144&u)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(i,s,a,l){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],f=r.F.U,o=r.F._goodIndex;r.F._hash;var h=r.F._putsE,c=0,d=a<<3,m=0,b=i.length;if(l==0){for(;c<b;)h(s,d,c+($=Math.min(65535,b-c))==b?1:0),d=r.F._copyExact(i,c,$,s,d+8),c+=$;return d>>>3}var w=f.lits,g=f.strt,A=f.prev,x=0,E=0,q=0,S=0,U=0,v=0;for(b>2&&(g[v=r.F._hash(i,0)]=0),c=0;c<b;c++){if(U=v,c+1<b-2){v=r.F._hash(i,c+1);var y=c+1&32767;A[y]=g[v],g[v]=y}if(m<=c){(x>14e3||E>26697)&&b-c>100&&(m<c&&(w[x]=c-m,x+=2,m=c),d=r.F._writeBlock(c==b-1||m==b?1:0,w,x,S,i,q,c-q,s,d),x=E=S=0,q=c);var M=0;c<b-2&&(M=r.F._bestMatch(i,c,A,U,Math.min(u[2],b-c),u[3]));var $=M>>>16,F=65535&M;if(M!=0){F=65535&M;var R=o($=M>>>16,f.of0);f.lhst[257+R]++;var I=o(F,f.df0);f.dhst[I]++,S+=f.exb[R]+f.dxb[I],w[x]=$<<23|c-m,w[x+1]=F<<16|R<<8|I,x+=2,m=c+$}else f.lhst[i[c]]++;E++}}for(q==c&&i.length!=0||(m<c&&(w[x]=c-m,x+=2,m=c),d=r.F._writeBlock(1,w,x,S,i,q,c-q,s,d),x=0,E=0,x=E=S=0,q=c);7&d;)d++;return d>>>3},r.F._bestMatch=function(i,s,a,l,u,f){var o=32767&s,h=a[o],c=o-h+32768&32767;if(h==o||l!=r.F._hash(i,s-c))return 0;for(var d=0,m=0,b=Math.min(32767,s);c<=b&&--f!=0&&h!=o;){if(d==0||i[s+d]==i[s+d-c]){var w=r.F._howLong(i,s,c);if(w>d){if(m=c,(d=w)>=u)break;c+2<w&&(w=c+2);for(var g=0,A=0;A<w-2;A++){var x=s-c+A+32768&32767,E=x-a[x]+32768&32767;E>g&&(g=E,h=x)}}}c+=(o=h)-(h=a[o])+32768&32767}return d<<16|m},r.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var l=s,u=Math.min(i.length,s+258);for(s+=3;s<u&&i[s]==i[s-a];)s++;return s-l},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,a,l,u,f,o,h,c){var d,m,b,w,g,A,x,E,q,S=r.F.U,U=r.F._putsF,v=r.F._putsE;S.lhst[256]++,m=(d=r.F.getTrees())[0],b=d[1],w=d[2],g=d[3],A=d[4],x=d[5],E=d[6],q=d[7];var y=32+(c+3&7?8-(c+3&7):0)+(o<<3),M=l+r.F.contSize(S.fltree,S.lhst)+r.F.contSize(S.fdtree,S.dhst),$=l+r.F.contSize(S.ltree,S.lhst)+r.F.contSize(S.dtree,S.dhst);$+=14+3*x+r.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var F=0;F<286;F++)S.lhst[F]=0;for(F=0;F<30;F++)S.dhst[F]=0;for(F=0;F<19;F++)S.ihst[F]=0;var R=y<M&&y<$?0:M<$?1:2;if(U(h,c,i),U(h,c+1,R),c+=3,R==0){for(;7&c;)c++;c=r.F._copyExact(u,f,o,h,c)}else{var I,O;if(R==1&&(I=S.fltree,O=S.fdtree),R==2){r.F.makeCodes(S.ltree,m),r.F.revCodes(S.ltree,m),r.F.makeCodes(S.dtree,b),r.F.revCodes(S.dtree,b),r.F.makeCodes(S.itree,w),r.F.revCodes(S.itree,w),I=S.ltree,O=S.dtree,v(h,c,g-257),v(h,c+=5,A-1),v(h,c+=5,x-4),c+=4;for(var C=0;C<x;C++)v(h,c+3*C,S.itree[1+(S.ordr[C]<<1)]);c+=3*x,c=r.F._codeTiny(E,S.itree,h,c),c=r.F._codeTiny(q,S.itree,h,c)}for(var k=f,j=0;j<a;j+=2){for(var N=s[j],Z=N>>>23,Y=k+(8388607&N);k<Y;)c=r.F._writeLit(u[k++],I,h,c);if(Z!=0){var z=s[j+1],B=z>>16,L=z>>8&255,D=255&z;v(h,c=r.F._writeLit(257+L,I,h,c),Z-S.of0[L]),c+=S.exb[L],U(h,c=r.F._writeLit(D,O,h,c),B-S.df0[D]),c+=S.dxb[D],k+=Z}}c=r.F._writeLit(256,I,h,c)}return c},r.F._copyExact=function(i,s,a,l,u){var f=u>>>3;return l[f]=a,l[f+1]=a>>>8,l[f+2]=255-l[f],l[f+3]=255-l[f+1],f+=4,l.set(new Uint8Array(i.buffer,s,a),f),u+(a+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),a=r.F._hufTree(i.dhst,i.dtree,15),l=[],u=r.F._lenCodes(i.ltree,l),f=[],o=r.F._lenCodes(i.dtree,f),h=0;h<l.length;h+=2)i.ihst[l[h]]++;for(h=0;h<f.length;h+=2)i.ihst[f[h]]++;for(var c=r.F._hufTree(i.ihst,i.itree,7),d=19;d>4&&i.itree[1+(i.ordr[d-1]<<1)]==0;)d--;return[s,a,c,u,o,d,l,f]},r.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},r.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},r.F.contSize=function(i,s){for(var a=0,l=0;l<s.length;l++)a+=s[l]*i[1+(l<<1)];return a},r.F._codeTiny=function(i,s,a,l){for(var u=0;u<i.length;u+=2){var f=i[u],o=i[u+1];l=r.F._writeLit(f,s,a,l);var h=f==16?2:f==17?3:7;f>15&&(r.F._putsE(a,l,o,h),l+=h)}return l},r.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var u=i[l+1],f=l+3<a?i[l+3]:-1,o=l+5<a?i[l+5]:-1,h=l==0?-1:i[l-1];if(u==0&&f==u&&o==u){for(var c=l+5;c+2<a&&i[c+2]==u;)c+=2;(d=Math.min(c+1-l>>>1,138))<11?s.push(17,d-3):s.push(18,d-11),l+=2*d-2}else if(u==h&&f==u&&o==u){for(c=l+5;c+2<a&&i[c+2]==u;)c+=2;var d=Math.min(c+1-l>>>1,6);s.push(16,d-3),l+=2*d-2}else s.push(u,0)}return a>>>1},r.F._hufTree=function(i,s,a){var l=[],u=i.length,f=s.length,o=0;for(o=0;o<f;o+=2)s[o]=0,s[o+1]=0;for(o=0;o<u;o++)i[o]!=0&&l.push({lit:o,f:i[o]});var h=l.length,c=l.slice(0);if(h==0)return 0;if(h==1){var d=l[0].lit;return c=d==0?1:0,s[1+(d<<1)]=1,s[1+(c<<1)]=1,1}l.sort(function(E,q){return E.f-q.f});var m=l[0],b=l[1],w=0,g=1,A=2;for(l[0]={lit:-1,f:m.f+b.f,l:m,r:b,d:0};g!=h-1;)m=w!=g&&(A==h||l[w].f<l[A].f)?l[w++]:l[A++],b=w!=g&&(A==h||l[w].f<l[A].f)?l[w++]:l[A++],l[g++]={lit:-1,f:m.f+b.f,l:m,r:b};var x=r.F.setDepth(l[g-1],0);for(x>a&&(r.F.restrictDepth(c,a,x),x=a),o=0;o<h;o++)s[1+(c[o].lit<<1)]=c[o].d;return x},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,a){var l=0,u=1<<a-s,f=0;for(i.sort(function(h,c){return c.d==h.d?h.f-c.f:c.d-h.d}),l=0;l<i.length&&i[l].d>s;l++){var o=i[l].d;i[l].d=s,f+=u-(1<<a-o)}for(f>>>=a-s;f>0;)(o=i[l].d)<s?(i[l].d++,f-=1<<s-o-1):l++;for(;l>=0;l--)i[l].d==s&&f<0&&(i[l].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},r.F._writeLit=function(i,s,a,l){return r.F._putsF(a,l,s[i<<1]),l+s[1+(i<<1)]},r.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var l=r.F,u=l._bitsF,f=l._bitsE,o=l._decodeTiny,h=l.makeCodes,c=l.codes2map,d=l._get17,m=l.U,b=s==null;b&&(s=new a(i.length>>>2<<3));for(var w,g,A=0,x=0,E=0,q=0,S=0,U=0,v=0,y=0,M=0;A==0;)if(A=u(i,M,1),x=u(i,M+1,2),M+=3,x!=0){if(b&&(s=r.F._check(s,y+(1<<17))),x==1&&(w=m.flmap,g=m.fdmap,U=511,v=31),x==2){E=f(i,M,5)+257,q=f(i,M+5,5)+1,S=f(i,M+10,4)+4,M+=14;for(var $=0;$<38;$+=2)m.itree[$]=0,m.itree[$+1]=0;var F=1;for($=0;$<S;$++){var R=f(i,M+3*$,3);m.itree[1+(m.ordr[$]<<1)]=R,R>F&&(F=R)}M+=3*S,h(m.itree,F),c(m.itree,F,m.imap),w=m.lmap,g=m.dmap,M=o(m.imap,(1<<F)-1,E+q,i,M,m.ttree);var I=l._copyOut(m.ttree,0,E,m.ltree);U=(1<<I)-1;var O=l._copyOut(m.ttree,E,q,m.dtree);v=(1<<O)-1,h(m.ltree,I),c(m.ltree,I,w),h(m.dtree,O),c(m.dtree,O,g)}for(;;){var C=w[d(i,M)&U];M+=15&C;var k=C>>>4;if(!(k>>>8))s[y++]=k;else{if(k==256)break;var j=y+k-254;if(k>264){var N=m.ldef[k-257];j=y+(N>>>3)+f(i,M,7&N),M+=7&N}var Z=g[d(i,M)&v];M+=15&Z;var Y=Z>>>4,z=m.ddef[Y],B=(z>>>4)+u(i,M,15&z);for(M+=15&z,b&&(s=r.F._check(s,y+(1<<17)));y<j;)s[y]=s[y++-B],s[y]=s[y++-B],s[y]=s[y++-B],s[y]=s[y++-B];y=j}}}else{7&M&&(M+=8-(7&M));var L=4+(M>>>3),D=i[L-4]|i[L-3]<<8;b&&(s=r.F._check(s,y+D)),s.set(new a(i.buffer,i.byteOffset+L,D),y),M=L+D<<3,y+=D}return s.length==y?s:s.slice(0,y)},r.F._check=function(i,s){var a=i.length;if(s<=a)return i;var l=new Uint8Array(Math.max(a<<1,s));return l.set(i,0),l},r.F._decodeTiny=function(i,s,a,l,u,f){for(var o=r.F._bitsE,h=r.F._get17,c=0;c<a;){var d=i[h(l,u)&s];u+=15&d;var m=d>>>4;if(m<=15)f[c]=m,c++;else{var b=0,w=0;m==16?(w=3+o(l,u,2),u+=2,b=f[c-1]):m==17?(w=3+o(l,u,3),u+=3):m==18&&(w=11+o(l,u,7),u+=7);for(var g=c+w;c<g;)f[c]=b,c++}}return u},r.F._copyOut=function(i,s,a,l){for(var u=0,f=0,o=l.length>>>1;f<a;){var h=i[f+s];l[f<<1]=0,l[1+(f<<1)]=h,h>u&&(u=h),f++}for(;f<o;)l[f<<1]=0,l[1+(f<<1)]=0,f++;return u},r.F.makeCodes=function(i,s){for(var a,l,u,f,o=r.F.U,h=i.length,c=o.bl_count,d=0;d<=s;d++)c[d]=0;for(d=1;d<h;d+=2)c[i[d]]++;var m=o.next_code;for(a=0,c[0]=0,l=1;l<=s;l++)a=a+c[l-1]<<1,m[l]=a;for(u=0;u<h;u+=2)(f=i[u+1])!=0&&(i[u]=m[f],m[f]++)},r.F.codes2map=function(i,s,a){for(var l=i.length,u=r.F.U.rev15,f=0;f<l;f+=2)if(i[f+1]!=0)for(var o=f>>1,h=i[f+1],c=o<<4|h,d=s-h,m=i[f]<<d,b=m+(1<<d);m!=b;)a[u[m]>>>15-s]=c,m++},r.F.revCodes=function(i,s){for(var a=r.F.U.rev15,l=15-s,u=0;u<i.length;u+=2){var f=i[u]<<s-i[u+1];i[u]=a[f]>>>l}},r.F._putsE=function(i,s,a){a<<=7&s;var l=s>>>3;i[l]|=a,i[l+1]|=a>>>8},r.F._putsF=function(i,s,a){a<<=7&s;var l=s>>>3;i[l]|=a,i[l+1]|=a>>>8,i[l+2]|=a>>>16},r.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},r.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function l(u,f,o){for(;f--!=0;)u.push(0,o)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];l(i.fltree,144,8),l(i.fltree,112,9),l(i.fltree,24,7),l(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),l(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),l(i.itree,19,0),l(i.ltree,286,0),l(i.dtree,30,0),l(i.ttree,320,0)}()})();var vo=po({__proto__:null,default:mr},[mr]);const xt=function(){var n={nextZero(o,h){for(;o[h]!=0;)h++;return h},readUshort:(o,h)=>o[h]<<8|o[h+1],writeUshort(o,h,c){o[h]=c>>8&255,o[h+1]=255&c},readUint:(o,h)=>16777216*o[h]+(o[h+1]<<16|o[h+2]<<8|o[h+3]),writeUint(o,h,c){o[h]=c>>24&255,o[h+1]=c>>16&255,o[h+2]=c>>8&255,o[h+3]=255&c},readASCII(o,h,c){let d="";for(let m=0;m<c;m++)d+=String.fromCharCode(o[h+m]);return d},writeASCII(o,h,c){for(let d=0;d<c.length;d++)o[h+d]=c.charCodeAt(d)},readBytes(o,h,c){const d=[];for(let m=0;m<c;m++)d.push(o[h+m]);return d},pad:o=>o.length<2?`0${o}`:o,readUTF8(o,h,c){let d,m="";for(let b=0;b<c;b++)m+=`%${n.pad(o[h+b].toString(16))}`;try{d=decodeURIComponent(m)}catch{return n.readASCII(o,h,c)}return d}};function e(o,h,c,d){const m=h*c,b=s(d),w=Math.ceil(h*b/8),g=new Uint8Array(4*m),A=new Uint32Array(g.buffer),{ctype:x}=d,{depth:E}=d,q=n.readUshort;if(x==6){const N=m<<2;if(E==8)for(var S=0;S<N;S+=4)g[S]=o[S],g[S+1]=o[S+1],g[S+2]=o[S+2],g[S+3]=o[S+3];if(E==16)for(S=0;S<N;S++)g[S]=o[S<<1]}else if(x==2){const N=d.tabs.tRNS;if(N==null){if(E==8)for(S=0;S<m;S++){var U=3*S;A[S]=255<<24|o[U+2]<<16|o[U+1]<<8|o[U]}if(E==16)for(S=0;S<m;S++)U=6*S,A[S]=255<<24|o[U+4]<<16|o[U+2]<<8|o[U]}else{var v=N[0];const Z=N[1],Y=N[2];if(E==8)for(S=0;S<m;S++){var y=S<<2;U=3*S,A[S]=255<<24|o[U+2]<<16|o[U+1]<<8|o[U],o[U]==v&&o[U+1]==Z&&o[U+2]==Y&&(g[y+3]=0)}if(E==16)for(S=0;S<m;S++)y=S<<2,U=6*S,A[S]=255<<24|o[U+4]<<16|o[U+2]<<8|o[U],q(o,U)==v&&q(o,U+2)==Z&&q(o,U+4)==Y&&(g[y+3]=0)}}else if(x==3){const N=d.tabs.PLTE,Z=d.tabs.tRNS,Y=Z?Z.length:0;if(E==1)for(var M=0;M<c;M++){var $=M*w,F=M*h;for(S=0;S<h;S++){y=F+S<<2;var R=3*(I=o[$+(S>>3)]>>7-((7&S)<<0)&1);g[y]=N[R],g[y+1]=N[R+1],g[y+2]=N[R+2],g[y+3]=I<Y?Z[I]:255}}if(E==2)for(M=0;M<c;M++)for($=M*w,F=M*h,S=0;S<h;S++)y=F+S<<2,R=3*(I=o[$+(S>>2)]>>6-((3&S)<<1)&3),g[y]=N[R],g[y+1]=N[R+1],g[y+2]=N[R+2],g[y+3]=I<Y?Z[I]:255;if(E==4)for(M=0;M<c;M++)for($=M*w,F=M*h,S=0;S<h;S++)y=F+S<<2,R=3*(I=o[$+(S>>1)]>>4-((1&S)<<2)&15),g[y]=N[R],g[y+1]=N[R+1],g[y+2]=N[R+2],g[y+3]=I<Y?Z[I]:255;if(E==8)for(S=0;S<m;S++){var I;y=S<<2,R=3*(I=o[S]),g[y]=N[R],g[y+1]=N[R+1],g[y+2]=N[R+2],g[y+3]=I<Y?Z[I]:255}}else if(x==4){if(E==8)for(S=0;S<m;S++){y=S<<2;var O=o[C=S<<1];g[y]=O,g[y+1]=O,g[y+2]=O,g[y+3]=o[C+1]}if(E==16)for(S=0;S<m;S++){var C;y=S<<2,O=o[C=S<<2],g[y]=O,g[y+1]=O,g[y+2]=O,g[y+3]=o[C+2]}}else if(x==0)for(v=d.tabs.tRNS?d.tabs.tRNS:-1,M=0;M<c;M++){const N=M*w,Z=M*h;if(E==1)for(var k=0;k<h;k++){var j=(O=255*(o[N+(k>>>3)]>>>7-(7&k)&1))==255*v?0:255;A[Z+k]=j<<24|O<<16|O<<8|O}else if(E==2)for(k=0;k<h;k++)j=(O=85*(o[N+(k>>>2)]>>>6-((3&k)<<1)&3))==85*v?0:255,A[Z+k]=j<<24|O<<16|O<<8|O;else if(E==4)for(k=0;k<h;k++)j=(O=17*(o[N+(k>>>1)]>>>4-((1&k)<<2)&15))==17*v?0:255,A[Z+k]=j<<24|O<<16|O<<8|O;else if(E==8)for(k=0;k<h;k++)j=(O=o[N+k])==v?0:255,A[Z+k]=j<<24|O<<16|O<<8|O;else if(E==16)for(k=0;k<h;k++)O=o[N+(k<<1)],j=q(o,N+(k<<1))==v?0:255,A[Z+k]=j<<24|O<<16|O<<8|O}return g}function t(o,h,c,d){const m=s(o),b=Math.ceil(c*m/8),w=new Uint8Array((b+1+o.interlace)*d);return h=o.tabs.CgBI?i(h,w):r(h,w),o.interlace==0?h=a(h,o,0,c,d):o.interlace==1&&(h=function(A,x){const E=x.width,q=x.height,S=s(x),U=S>>3,v=Math.ceil(E*S/8),y=new Uint8Array(q*v);let M=0;const $=[0,0,4,0,2,0,1],F=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],I=[8,8,4,4,2,2,1];let O=0;for(;O<7;){const k=R[O],j=I[O];let N=0,Z=0,Y=$[O];for(;Y<q;)Y+=k,Z++;let z=F[O];for(;z<E;)z+=j,N++;const B=Math.ceil(N*S/8);a(A,x,M,N,Z);let L=0,D=$[O];for(;D<q;){let ie=F[O],be=M+L*B<<3;for(;ie<E;){var C;if(S==1&&(C=(C=A[be>>3])>>7-(7&be)&1,y[D*v+(ie>>3)]|=C<<7-((7&ie)<<0)),S==2&&(C=(C=A[be>>3])>>6-(7&be)&3,y[D*v+(ie>>2)]|=C<<6-((3&ie)<<1)),S==4&&(C=(C=A[be>>3])>>4-(7&be)&15,y[D*v+(ie>>1)]|=C<<4-((1&ie)<<2)),S>=8){const ne=D*v+ie*U;for(let X=0;X<U;X++)y[ne+X]=A[(be>>3)+X]}be+=S,ie+=j}L++,D+=k}N*Z!=0&&(M+=Z*(1+B)),O+=1}return y}(h,o)),h}function r(o,h){return i(new Uint8Array(o.buffer,2,o.length-6),h)}var i=function(){const o={H:{}};return o.H.N=function(h,c){const d=Uint8Array;let m,b,w=0,g=0,A=0,x=0,E=0,q=0,S=0,U=0,v=0;if(h[0]==3&&h[1]==0)return c||new d(0);const y=o.H,M=y.b,$=y.e,F=y.R,R=y.n,I=y.A,O=y.Z,C=y.m,k=c==null;for(k&&(c=new d(h.length>>>2<<5));w==0;)if(w=M(h,v,1),g=M(h,v+1,2),v+=3,g!=0){if(k&&(c=o.H.W(c,U+(1<<17))),g==1&&(m=C.J,b=C.h,q=511,S=31),g==2){A=$(h,v,5)+257,x=$(h,v+5,5)+1,E=$(h,v+10,4)+4,v+=14;let N=1;for(var j=0;j<38;j+=2)C.Q[j]=0,C.Q[j+1]=0;for(j=0;j<E;j++){const z=$(h,v+3*j,3);C.Q[1+(C.X[j]<<1)]=z,z>N&&(N=z)}v+=3*E,R(C.Q,N),I(C.Q,N,C.u),m=C.w,b=C.d,v=F(C.u,(1<<N)-1,A+x,h,v,C.v);const Z=y.V(C.v,0,A,C.C);q=(1<<Z)-1;const Y=y.V(C.v,A,x,C.D);S=(1<<Y)-1,R(C.C,Z),I(C.C,Z,m),R(C.D,Y),I(C.D,Y,b)}for(;;){const N=m[O(h,v)&q];v+=15&N;const Z=N>>>4;if(!(Z>>>8))c[U++]=Z;else{if(Z==256)break;{let Y=U+Z-254;if(Z>264){const ie=C.q[Z-257];Y=U+(ie>>>3)+$(h,v,7&ie),v+=7&ie}const z=b[O(h,v)&S];v+=15&z;const B=z>>>4,L=C.c[B],D=(L>>>4)+M(h,v,15&L);for(v+=15&L;U<Y;)c[U]=c[U++-D],c[U]=c[U++-D],c[U]=c[U++-D],c[U]=c[U++-D];U=Y}}}}else{7&v&&(v+=8-(7&v));const N=4+(v>>>3),Z=h[N-4]|h[N-3]<<8;k&&(c=o.H.W(c,U+Z)),c.set(new d(h.buffer,h.byteOffset+N,Z),U),v=N+Z<<3,U+=Z}return c.length==U?c:c.slice(0,U)},o.H.W=function(h,c){const d=h.length;if(c<=d)return h;const m=new Uint8Array(d<<1);return m.set(h,0),m},o.H.R=function(h,c,d,m,b,w){const g=o.H.e,A=o.H.Z;let x=0;for(;x<d;){const E=h[A(m,b)&c];b+=15&E;const q=E>>>4;if(q<=15)w[x]=q,x++;else{let S=0,U=0;q==16?(U=3+g(m,b,2),b+=2,S=w[x-1]):q==17?(U=3+g(m,b,3),b+=3):q==18&&(U=11+g(m,b,7),b+=7);const v=x+U;for(;x<v;)w[x]=S,x++}}return b},o.H.V=function(h,c,d,m){let b=0,w=0;const g=m.length>>>1;for(;w<d;){const A=h[w+c];m[w<<1]=0,m[1+(w<<1)]=A,A>b&&(b=A),w++}for(;w<g;)m[w<<1]=0,m[1+(w<<1)]=0,w++;return b},o.H.n=function(h,c){const d=o.H.m,m=h.length;let b,w,g,A;const x=d.j;for(var E=0;E<=c;E++)x[E]=0;for(E=1;E<m;E+=2)x[h[E]]++;const q=d.K;for(b=0,x[0]=0,w=1;w<=c;w++)b=b+x[w-1]<<1,q[w]=b;for(g=0;g<m;g+=2)A=h[g+1],A!=0&&(h[g]=q[A],q[A]++)},o.H.A=function(h,c,d){const m=h.length,b=o.H.m.r;for(let w=0;w<m;w+=2)if(h[w+1]!=0){const g=w>>1,A=h[w+1],x=g<<4|A,E=c-A;let q=h[w]<<E;const S=q+(1<<E);for(;q!=S;)d[b[q]>>>15-c]=x,q++}},o.H.l=function(h,c){const d=o.H.m.r,m=15-c;for(let b=0;b<h.length;b+=2){const w=h[b]<<c-h[b+1];h[b]=d[w]>>>m}},o.H.M=function(h,c,d){d<<=7&c;const m=c>>>3;h[m]|=d,h[m+1]|=d>>>8},o.H.I=function(h,c,d){d<<=7&c;const m=c>>>3;h[m]|=d,h[m+1]|=d>>>8,h[m+2]|=d>>>16},o.H.e=function(h,c,d){return(h[c>>>3]|h[1+(c>>>3)]<<8)>>>(7&c)&(1<<d)-1},o.H.b=function(h,c,d){return(h[c>>>3]|h[1+(c>>>3)]<<8|h[2+(c>>>3)]<<16)>>>(7&c)&(1<<d)-1},o.H.Z=function(h,c){return(h[c>>>3]|h[1+(c>>>3)]<<8|h[2+(c>>>3)]<<16)>>>(7&c)},o.H.i=function(h,c){return(h[c>>>3]|h[1+(c>>>3)]<<8|h[2+(c>>>3)]<<16|h[3+(c>>>3)]<<24)>>>(7&c)},o.H.m=function(){const h=Uint16Array,c=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=o.H.m;for(var c=0;c<32768;c++){let m=c;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,h.r[c]=(m>>>16|m<<16)>>>17}function d(m,b,w){for(;b--!=0;)m.push(0,w)}for(c=0;c<32;c++)h.q[c]=h.S[c]<<3|h.T[c],h.c[c]=h.p[c]<<4|h.z[c];d(h._,144,8),d(h._,112,9),d(h._,24,7),d(h._,8,8),o.H.n(h._,9),o.H.A(h._,9,h.J),o.H.l(h._,9),d(h.$,32,5),o.H.n(h.$,5),o.H.A(h.$,5,h.h),o.H.l(h.$,5),d(h.Q,19,0),d(h.C,286,0),d(h.D,30,0),d(h.v,320,0)}(),o.H.N}();function s(o){return[1,null,3,1,2,null,4][o.ctype]*o.depth}function a(o,h,c,d,m){let b=s(h);const w=Math.ceil(d*b/8);let g,A;b=Math.ceil(b/8);let x=o[c],E=0;if(x>1&&(o[c]=[0,0,1][x-2]),x==3)for(E=b;E<w;E++)o[E+1]=o[E+1]+(o[E+1-b]>>>1)&255;for(let q=0;q<m;q++)if(g=c+q*w,A=g+q+1,x=o[A-1],E=0,x==0)for(;E<w;E++)o[g+E]=o[A+E];else if(x==1){for(;E<b;E++)o[g+E]=o[A+E];for(;E<w;E++)o[g+E]=o[A+E]+o[g+E-b]}else if(x==2)for(;E<w;E++)o[g+E]=o[A+E]+o[g+E-w];else if(x==3){for(;E<b;E++)o[g+E]=o[A+E]+(o[g+E-w]>>>1);for(;E<w;E++)o[g+E]=o[A+E]+(o[g+E-w]+o[g+E-b]>>>1)}else{for(;E<b;E++)o[g+E]=o[A+E]+l(0,o[g+E-w],0);for(;E<w;E++)o[g+E]=o[A+E]+l(o[g+E-b],o[g+E-w],o[g+E-b-w])}return o}function l(o,h,c){const d=o+h-c,m=d-o,b=d-h,w=d-c;return m*m<=b*b&&m*m<=w*w?o:b*b<=w*w?h:c}function u(o,h,c){c.width=n.readUint(o,h),h+=4,c.height=n.readUint(o,h),h+=4,c.depth=o[h],h++,c.ctype=o[h],h++,c.compress=o[h],h++,c.filter=o[h],h++,c.interlace=o[h],h++}function f(o,h,c,d,m,b,w,g,A){const x=Math.min(h,m),E=Math.min(c,b);let q=0,S=0;for(let O=0;O<E;O++)for(let C=0;C<x;C++)if(w>=0&&g>=0?(q=O*h+C<<2,S=(g+O)*m+w+C<<2):(q=(-g+O)*h-w+C<<2,S=O*m+C<<2),A==0)d[S]=o[q],d[S+1]=o[q+1],d[S+2]=o[q+2],d[S+3]=o[q+3];else if(A==1){var U=o[q+3]*.00392156862745098,v=o[q]*U,y=o[q+1]*U,M=o[q+2]*U,$=d[S+3]*(1/255),F=d[S]*$,R=d[S+1]*$,I=d[S+2]*$;const k=1-U,j=U+$*k,N=j==0?0:1/j;d[S+3]=255*j,d[S+0]=(v+F*k)*N,d[S+1]=(y+R*k)*N,d[S+2]=(M+I*k)*N}else if(A==2)U=o[q+3],v=o[q],y=o[q+1],M=o[q+2],$=d[S+3],F=d[S],R=d[S+1],I=d[S+2],U==$&&v==F&&y==R&&M==I?(d[S]=0,d[S+1]=0,d[S+2]=0,d[S+3]=0):(d[S]=v,d[S+1]=y,d[S+2]=M,d[S+3]=U);else if(A==3){if(U=o[q+3],v=o[q],y=o[q+1],M=o[q+2],$=d[S+3],F=d[S],R=d[S+1],I=d[S+2],U==$&&v==F&&y==R&&M==I)continue;if(U<220&&$>20)return!1}return!0}return{decode:function(h){const c=new Uint8Array(h);let d=8;const m=n,b=m.readUshort,w=m.readUint,g={tabs:{},frames:[]},A=new Uint8Array(c.length);let x,E=0,q=0;const S=[137,80,78,71,13,10,26,10];for(var U=0;U<8;U++)if(c[U]!=S[U])throw"The input is not a PNG file!";for(;d<c.length;){const O=m.readUint(c,d);d+=4;const C=m.readASCII(c,d,4);if(d+=4,C=="IHDR")u(c,d,g);else if(C=="iCCP"){for(var v=d;c[v]!=0;)v++;m.readASCII(c,d,v-d),c[v+1];const k=c.slice(v+2,d+O);let j=null;try{j=r(k)}catch{j=i(k)}g.tabs[C]=j}else if(C=="CgBI")g.tabs[C]=c.slice(d,d+4);else if(C=="IDAT"){for(U=0;U<O;U++)A[E+U]=c[d+U];E+=O}else if(C=="acTL")g.tabs[C]={num_frames:w(c,d),num_plays:w(c,d+4)},x=new Uint8Array(c.length);else if(C=="fcTL"){q!=0&&((I=g.frames[g.frames.length-1]).data=t(g,x.slice(0,q),I.rect.width,I.rect.height),q=0);const k={x:w(c,d+12),y:w(c,d+16),width:w(c,d+4),height:w(c,d+8)};let j=b(c,d+22);j=b(c,d+20)/(j==0?100:j);const N={rect:k,delay:Math.round(1e3*j),dispose:c[d+24],blend:c[d+25]};g.frames.push(N)}else if(C=="fdAT"){for(U=0;U<O-4;U++)x[q+U]=c[d+U+4];q+=O-4}else if(C=="pHYs")g.tabs[C]=[m.readUint(c,d),m.readUint(c,d+4),c[d+8]];else if(C=="cHRM")for(g.tabs[C]=[],U=0;U<8;U++)g.tabs[C].push(m.readUint(c,d+4*U));else if(C=="tEXt"||C=="zTXt"){g.tabs[C]==null&&(g.tabs[C]={});var y=m.nextZero(c,d),M=m.readASCII(c,d,y-d),$=d+O-y-1;if(C=="tEXt")R=m.readASCII(c,y+1,$);else{var F=r(c.slice(y+2,y+2+$));R=m.readUTF8(F,0,F.length)}g.tabs[C][M]=R}else if(C=="iTXt"){g.tabs[C]==null&&(g.tabs[C]={}),y=0,v=d,y=m.nextZero(c,v),M=m.readASCII(c,v,y-v);const k=c[v=y+1];var R;c[v+1],v+=2,y=m.nextZero(c,v),m.readASCII(c,v,y-v),v=y+1,y=m.nextZero(c,v),m.readUTF8(c,v,y-v),$=O-((v=y+1)-d),k==0?R=m.readUTF8(c,v,$):(F=r(c.slice(v,v+$)),R=m.readUTF8(F,0,F.length)),g.tabs[C][M]=R}else if(C=="PLTE")g.tabs[C]=m.readBytes(c,d,O);else if(C=="hIST"){const k=g.tabs.PLTE.length/3;for(g.tabs[C]=[],U=0;U<k;U++)g.tabs[C].push(b(c,d+2*U))}else if(C=="tRNS")g.ctype==3?g.tabs[C]=m.readBytes(c,d,O):g.ctype==0?g.tabs[C]=b(c,d):g.ctype==2&&(g.tabs[C]=[b(c,d),b(c,d+2),b(c,d+4)]);else if(C=="gAMA")g.tabs[C]=m.readUint(c,d)/1e5;else if(C=="sRGB")g.tabs[C]=c[d];else if(C=="bKGD")g.ctype==0||g.ctype==4?g.tabs[C]=[b(c,d)]:g.ctype==2||g.ctype==6?g.tabs[C]=[b(c,d),b(c,d+2),b(c,d+4)]:g.ctype==3&&(g.tabs[C]=c[d]);else if(C=="IEND")break;d+=O,m.readUint(c,d),d+=4}var I;return q!=0&&((I=g.frames[g.frames.length-1]).data=t(g,x.slice(0,q),I.rect.width,I.rect.height)),g.data=t(g,A,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(h){const c=h.width,d=h.height;if(h.tabs.acTL==null)return[e(h.data,c,d,h).buffer];const m=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const b=c*d*4,w=new Uint8Array(b),g=new Uint8Array(b),A=new Uint8Array(b);for(let E=0;E<h.frames.length;E++){const q=h.frames[E],S=q.rect.x,U=q.rect.y,v=q.rect.width,y=q.rect.height,M=e(q.data,v,y,h);if(E!=0)for(var x=0;x<b;x++)A[x]=w[x];if(q.blend==0?f(M,v,y,w,c,d,S,U,0):q.blend==1&&f(M,v,y,w,c,d,S,U,1),m.push(w.buffer.slice(0)),q.dispose!=0){if(q.dispose==1)f(g,v,y,w,c,d,S,U,0);else if(q.dispose==2)for(x=0;x<b;x++)w[x]=A[x]}}return m},_paeth:l,_copyTile:f,_bin:n}}();(function(){const{_copyTile:n}=xt,{_bin:e}=xt,t=xt._paeth;var r={table:function(){const v=new Uint32Array(256);for(let y=0;y<256;y++){let M=y;for(let $=0;$<8;$++)1&M?M=3988292384^M>>>1:M>>>=1;v[y]=M}return v}(),update(v,y,M,$){for(let F=0;F<$;F++)v=r.table[255&(v^y[M+F])]^v>>>8;return v},crc:(v,y,M)=>4294967295^r.update(4294967295,v,y,M)};function i(v,y,M,$){y[M]+=v[0]*$>>4,y[M+1]+=v[1]*$>>4,y[M+2]+=v[2]*$>>4,y[M+3]+=v[3]*$>>4}function s(v){return Math.max(0,Math.min(255,v))}function a(v,y){const M=v[0]-y[0],$=v[1]-y[1],F=v[2]-y[2],R=v[3]-y[3];return M*M+$*$+F*F+R*R}function l(v,y,M,$,F,R,I){I==null&&(I=1);const O=$.length,C=[];for(var k=0;k<O;k++){const D=$[k];C.push([D>>>0&255,D>>>8&255,D>>>16&255,D>>>24&255])}for(k=0;k<O;k++){let D=4294967295;for(var j=0,N=0;N<O;N++){var Z=a(C[k],C[N]);N!=k&&Z<D&&(D=Z,j=N)}}const Y=new Uint32Array(F.buffer),z=new Int16Array(y*M*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(k=0;k<B.length;k++)B[k]=255*((B[k]+.5)/16-.5);for(let D=0;D<M;D++)for(let ie=0;ie<y;ie++){var L;k=4*(D*y+ie),I!=2?L=[s(v[k]+z[k]),s(v[k+1]+z[k+1]),s(v[k+2]+z[k+2]),s(v[k+3]+z[k+3])]:(Z=B[4*(3&D)+(3&ie)],L=[s(v[k]+Z),s(v[k+1]+Z),s(v[k+2]+Z),s(v[k+3]+Z)]),j=0;let be=16777215;for(N=0;N<O;N++){const ue=a(L,C[N]);ue<be&&(be=ue,j=N)}const ne=C[j],X=[L[0]-ne[0],L[1]-ne[1],L[2]-ne[2],L[3]-ne[3]];I==1&&(ie!=y-1&&i(X,z,k+4,7),D!=M-1&&(ie!=0&&i(X,z,k+4*y-4,3),i(X,z,k+4*y,5),ie!=y-1&&i(X,z,k+4*y+4,1))),R[k>>2]=j,Y[k>>2]=$[j]}}function u(v,y,M,$,F){F==null&&(F={});const{crc:R}=r,I=e.writeUint,O=e.writeUshort,C=e.writeASCII;let k=8;const j=v.frames.length>1;let N,Z=!1,Y=33+(j?20:0);if(F.sRGB!=null&&(Y+=13),F.pHYs!=null&&(Y+=21),F.iCCP!=null&&(N=pako.deflate(F.iCCP),Y+=21+N.length+4),v.ctype==3){for(var z=v.plte.length,B=0;B<z;B++)v.plte[B]>>>24!=255&&(Z=!0);Y+=8+3*z+4+(Z?8+1*z+4:0)}for(var L=0;L<v.frames.length;L++)j&&(Y+=38),Y+=(ne=v.frames[L]).cimg.length+12,L!=0&&(Y+=4);Y+=12;const D=new Uint8Array(Y),ie=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)D[B]=ie[B];if(I(D,k,13),k+=4,C(D,k,"IHDR"),k+=4,I(D,k,y),k+=4,I(D,k,M),k+=4,D[k]=v.depth,k++,D[k]=v.ctype,k++,D[k]=0,k++,D[k]=0,k++,D[k]=0,k++,I(D,k,R(D,k-17,17)),k+=4,F.sRGB!=null&&(I(D,k,1),k+=4,C(D,k,"sRGB"),k+=4,D[k]=F.sRGB,k++,I(D,k,R(D,k-5,5)),k+=4),F.iCCP!=null){const X=13+N.length;I(D,k,X),k+=4,C(D,k,"iCCP"),k+=4,C(D,k,"ICC profile"),k+=11,k+=2,D.set(N,k),k+=N.length,I(D,k,R(D,k-(X+4),X+4)),k+=4}if(F.pHYs!=null&&(I(D,k,9),k+=4,C(D,k,"pHYs"),k+=4,I(D,k,F.pHYs[0]),k+=4,I(D,k,F.pHYs[1]),k+=4,D[k]=F.pHYs[2],k++,I(D,k,R(D,k-13,13)),k+=4),j&&(I(D,k,8),k+=4,C(D,k,"acTL"),k+=4,I(D,k,v.frames.length),k+=4,I(D,k,F.loop!=null?F.loop:0),k+=4,I(D,k,R(D,k-12,12)),k+=4),v.ctype==3){for(I(D,k,3*(z=v.plte.length)),k+=4,C(D,k,"PLTE"),k+=4,B=0;B<z;B++){const X=3*B,ue=v.plte[B],ke=255&ue,Se=ue>>>8&255,Be=ue>>>16&255;D[k+X+0]=ke,D[k+X+1]=Se,D[k+X+2]=Be}if(k+=3*z,I(D,k,R(D,k-3*z-4,3*z+4)),k+=4,Z){for(I(D,k,z),k+=4,C(D,k,"tRNS"),k+=4,B=0;B<z;B++)D[k+B]=v.plte[B]>>>24&255;k+=z,I(D,k,R(D,k-z-4,z+4)),k+=4}}let be=0;for(L=0;L<v.frames.length;L++){var ne=v.frames[L];j&&(I(D,k,26),k+=4,C(D,k,"fcTL"),k+=4,I(D,k,be++),k+=4,I(D,k,ne.rect.width),k+=4,I(D,k,ne.rect.height),k+=4,I(D,k,ne.rect.x),k+=4,I(D,k,ne.rect.y),k+=4,O(D,k,$[L]),k+=2,O(D,k,1e3),k+=2,D[k]=ne.dispose,k++,D[k]=ne.blend,k++,I(D,k,R(D,k-30,30)),k+=4);const X=ne.cimg;I(D,k,(z=X.length)+(L==0?0:4)),k+=4;const ue=k;C(D,k,L==0?"IDAT":"fdAT"),k+=4,L!=0&&(I(D,k,be++),k+=4),D.set(X,k),k+=z,I(D,k,R(D,ue,k-ue)),k+=4}return I(D,k,0),k+=4,C(D,k,"IEND"),k+=4,I(D,k,R(D,k-4,4)),k+=4,D.buffer}function f(v,y,M){for(let $=0;$<v.frames.length;$++){const F=v.frames[$];F.rect.width;const R=F.rect.height,I=new Uint8Array(R*F.bpl+R);F.cimg=d(F.img,R,F.bpp,F.bpl,I,y,M)}}function o(v,y,M,$,F){const R=F[0],I=F[1],O=F[2],C=F[3],k=F[4],j=F[5];let N=6,Z=8,Y=255;for(var z=0;z<v.length;z++){const Pe=new Uint8Array(v[z]);for(var B=Pe.length,L=0;L<B;L+=4)Y&=Pe[L+3]}const D=Y!=255,ie=function(we,me,Re,Oe,$e,tt){const Ee=[];for(var Me=0;Me<we.length;Me++){const qe=new Uint8Array(we[Me]),Ue=new Uint32Array(qe.buffer);var Ne;let Ge=0,lt=0,Le=me,Je=Re,qt=Oe?1:0;if(Me!=0){const At=tt||Oe||Me==1||Ee[Me-2].dispose!=0?1:2;let jt=0,rt=1e9;for(let ut=0;ut<At;ut++){var We=new Uint8Array(we[Me-1-ut]);const ze=new Uint32Array(we[Me-1-ut]);let Ye=me,Xe=Re,yt=-1,bt=-1;for(let Ve=0;Ve<Re;Ve++)for(let Ke=0;Ke<me;Ke++)Ue[je=Ve*me+Ke]!=ze[je]&&(Ke<Ye&&(Ye=Ke),Ke>yt&&(yt=Ke),Ve<Xe&&(Xe=Ve),Ve>bt&&(bt=Ve));yt==-1&&(Ye=Xe=yt=bt=0),$e&&((1&Ye)==1&&Ye--,(1&Xe)==1&&Xe--);const en=(yt-Ye+1)*(bt-Xe+1);en<rt&&(rt=en,jt=ut,Ge=Ye,lt=Xe,Le=yt-Ye+1,Je=bt-Xe+1)}We=new Uint8Array(we[Me-1-jt]),jt==1&&(Ee[Me-1].dispose=2),Ne=new Uint8Array(Le*Je*4),n(We,me,Re,Ne,Le,Je,-Ge,-lt,0),qt=n(qe,me,Re,Ne,Le,Je,-Ge,-lt,3)?1:0,qt==1?c(qe,me,Re,Ne,{x:Ge,y:lt,width:Le,height:Je}):n(qe,me,Re,Ne,Le,Je,-Ge,-lt,0)}else Ne=qe.slice(0);Ee.push({rect:{x:Ge,y:lt,width:Le,height:Je},img:Ne,blend:qt,dispose:0})}if(Oe)for(Me=0;Me<Ee.length;Me++){if((nt=Ee[Me]).blend==1)continue;const qe=nt.rect,Ue=Ee[Me-1].rect,Ge=Math.min(qe.x,Ue.x),lt=Math.min(qe.y,Ue.y),Le={x:Ge,y:lt,width:Math.max(qe.x+qe.width,Ue.x+Ue.width)-Ge,height:Math.max(qe.y+qe.height,Ue.y+Ue.height)-lt};Ee[Me-1].dispose=1,Me-1!=0&&h(we,me,Re,Ee,Me-1,Le,$e),h(we,me,Re,Ee,Me,Le,$e)}let kt=0;if(we.length!=1)for(var je=0;je<Ee.length;je++){var nt;kt+=(nt=Ee[je]).rect.width*nt.rect.height}return Ee}(v,y,M,R,I,O),be={},ne=[],X=[];if($!=0){const Pe=[];for(L=0;L<ie.length;L++)Pe.push(ie[L].img.buffer);const we=function($e){let tt=0;for(var Ee=0;Ee<$e.length;Ee++)tt+=$e[Ee].byteLength;const Me=new Uint8Array(tt);let Ne=0;for(Ee=0;Ee<$e.length;Ee++){const We=new Uint8Array($e[Ee]),kt=We.length;for(let je=0;je<kt;je+=4){let nt=We[je],qe=We[je+1],Ue=We[je+2];const Ge=We[je+3];Ge==0&&(nt=qe=Ue=0),Me[Ne+je]=nt,Me[Ne+je+1]=qe,Me[Ne+je+2]=Ue,Me[Ne+je+3]=Ge}Ne+=kt}return Me.buffer}(Pe),me=b(we,$);for(L=0;L<me.plte.length;L++)ne.push(me.plte[L].est.rgba);let Re=0;for(L=0;L<ie.length;L++){const Oe=(ke=ie[L]).img.length;var ue=new Uint8Array(me.inds.buffer,Re>>2,Oe>>2);X.push(ue);const $e=new Uint8Array(me.abuf,Re,Oe);j&&l(ke.img,ke.rect.width,ke.rect.height,ne,$e,ue),ke.img.set($e),Re+=Oe}}else for(z=0;z<ie.length;z++){var ke=ie[z];const Pe=new Uint32Array(ke.img.buffer);var Se=ke.rect.width;for(B=Pe.length,ue=new Uint8Array(B),X.push(ue),L=0;L<B;L++){const we=Pe[L];if(L!=0&&we==Pe[L-1])ue[L]=ue[L-1];else if(L>Se&&we==Pe[L-Se])ue[L]=ue[L-Se];else{let me=be[we];if(me==null&&(be[we]=me=ne.length,ne.push(we),ne.length>=300))break;ue[L]=me}}}const Be=ne.length;for(Be<=256&&k==0&&(Z=Be<=2?1:Be<=4?2:Be<=16?4:8,Z=Math.max(Z,C)),z=0;z<ie.length;z++){(ke=ie[z]).rect.x,ke.rect.y,Se=ke.rect.width;const Pe=ke.rect.height;let we=ke.img;new Uint32Array(we.buffer);let me=4*Se,Re=4;if(Be<=256&&k==0){me=Math.ceil(Z*Se/8);var st=new Uint8Array(me*Pe);const Oe=X[z];for(let $e=0;$e<Pe;$e++){L=$e*me;const tt=$e*Se;if(Z==8)for(var Fe=0;Fe<Se;Fe++)st[L+Fe]=Oe[tt+Fe];else if(Z==4)for(Fe=0;Fe<Se;Fe++)st[L+(Fe>>1)]|=Oe[tt+Fe]<<4-4*(1&Fe);else if(Z==2)for(Fe=0;Fe<Se;Fe++)st[L+(Fe>>2)]|=Oe[tt+Fe]<<6-2*(3&Fe);else if(Z==1)for(Fe=0;Fe<Se;Fe++)st[L+(Fe>>3)]|=Oe[tt+Fe]<<7-1*(7&Fe)}we=st,N=3,Re=1}else if(D==0&&ie.length==1){st=new Uint8Array(Se*Pe*3);const Oe=Se*Pe;for(L=0;L<Oe;L++){const $e=3*L,tt=4*L;st[$e]=we[tt],st[$e+1]=we[tt+1],st[$e+2]=we[tt+2]}we=st,N=2,Re=3,me=3*Se}ke.img=we,ke.bpl=me,ke.bpp=Re}return{ctype:N,depth:Z,plte:ne,frames:ie}}function h(v,y,M,$,F,R,I){const O=Uint8Array,C=Uint32Array,k=new O(v[F-1]),j=new C(v[F-1]),N=F+1<v.length?new O(v[F+1]):null,Z=new O(v[F]),Y=new C(Z.buffer);let z=y,B=M,L=-1,D=-1;for(let be=0;be<R.height;be++)for(let ne=0;ne<R.width;ne++){const X=R.x+ne,ue=R.y+be,ke=ue*y+X,Se=Y[ke];Se==0||$[F-1].dispose==0&&j[ke]==Se&&(N==null||N[4*ke+3]!=0)||(X<z&&(z=X),X>L&&(L=X),ue<B&&(B=ue),ue>D&&(D=ue))}L==-1&&(z=B=L=D=0),I&&((1&z)==1&&z--,(1&B)==1&&B--),R={x:z,y:B,width:L-z+1,height:D-B+1};const ie=$[F];ie.rect=R,ie.blend=1,ie.img=new Uint8Array(R.width*R.height*4),$[F-1].dispose==0?(n(k,y,M,ie.img,R.width,R.height,-R.x,-R.y,0),c(Z,y,M,ie.img,R)):n(Z,y,M,ie.img,R.width,R.height,-R.x,-R.y,0)}function c(v,y,M,$,F){n(v,y,M,$,F.width,F.height,-F.x,-F.y,2)}function d(v,y,M,$,F,R,I){const O=[];let C,k=[0,1,2,3,4];R!=-1?k=[R]:(y*$>5e5||M==1)&&(k=[0]),I&&(C={level:0});const j=vo;for(var N=0;N<k.length;N++){for(let z=0;z<y;z++)m(F,v,z,$,M,k[N]);O.push(j.deflate(F,C))}let Z,Y=1e9;for(N=0;N<O.length;N++)O[N].length<Y&&(Z=N,Y=O[N].length);return O[Z]}function m(v,y,M,$,F,R){const I=M*$;let O=I+M;if(v[O]=R,O++,R==0)if($<500)for(var C=0;C<$;C++)v[O+C]=y[I+C];else v.set(new Uint8Array(y.buffer,I,$),O);else if(R==1){for(C=0;C<F;C++)v[O+C]=y[I+C];for(C=F;C<$;C++)v[O+C]=y[I+C]-y[I+C-F]+256&255}else if(M==0){for(C=0;C<F;C++)v[O+C]=y[I+C];if(R==2)for(C=F;C<$;C++)v[O+C]=y[I+C];if(R==3)for(C=F;C<$;C++)v[O+C]=y[I+C]-(y[I+C-F]>>1)+256&255;if(R==4)for(C=F;C<$;C++)v[O+C]=y[I+C]-t(y[I+C-F],0,0)+256&255}else{if(R==2)for(C=0;C<$;C++)v[O+C]=y[I+C]+256-y[I+C-$]&255;if(R==3){for(C=0;C<F;C++)v[O+C]=y[I+C]+256-(y[I+C-$]>>1)&255;for(C=F;C<$;C++)v[O+C]=y[I+C]+256-(y[I+C-$]+y[I+C-F]>>1)&255}if(R==4){for(C=0;C<F;C++)v[O+C]=y[I+C]+256-t(0,y[I+C-$],0)&255;for(C=F;C<$;C++)v[O+C]=y[I+C]+256-t(y[I+C-F],y[I+C-$],y[I+C-F-$])&255}}}function b(v,y){const M=new Uint8Array(v),$=M.slice(0),F=new Uint32Array($.buffer),R=w($,y),I=R[0],O=R[1],C=M.length,k=new Uint8Array(C>>2);let j;if(M.length<2e7)for(var N=0;N<C;N+=4)j=g(I,Z=M[N]*(1/255),Y=M[N+1]*(1/255),z=M[N+2]*(1/255),B=M[N+3]*(1/255)),k[N>>2]=j.ind,F[N>>2]=j.est.rgba;else for(N=0;N<C;N+=4){var Z=M[N]*.00392156862745098,Y=M[N+1]*(1/255),z=M[N+2]*(1/255),B=M[N+3]*(1/255);for(j=I;j.left;)j=A(j.est,Z,Y,z,B)<=0?j.left:j.right;k[N>>2]=j.ind,F[N>>2]=j.est.rgba}return{abuf:$.buffer,inds:k,plte:O}}function w(v,y,M){M==null&&(M=1e-4);const $=new Uint32Array(v.buffer),F={i0:0,i1:v.length,bst:null,est:null,tdst:0,left:null,right:null};F.bst=q(v,F.i0,F.i1),F.est=S(F.bst);const R=[F];for(;R.length<y;){let O=0,C=0;for(var I=0;I<R.length;I++)R[I].est.L>O&&(O=R[I].est.L,C=I);if(O<M)break;const k=R[C],j=x(v,$,k.i0,k.i1,k.est.e,k.est.eMq255);if(k.i0>=j||k.i1<=j){k.est.L=0;continue}const N={i0:k.i0,i1:j,bst:null,est:null,tdst:0,left:null,right:null};N.bst=q(v,N.i0,N.i1),N.est=S(N.bst);const Z={i0:j,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};for(Z.bst={R:[],m:[],N:k.bst.N-N.bst.N},I=0;I<16;I++)Z.bst.R[I]=k.bst.R[I]-N.bst.R[I];for(I=0;I<4;I++)Z.bst.m[I]=k.bst.m[I]-N.bst.m[I];Z.est=S(Z.bst),k.left=N,k.right=Z,R[C]=N,R.push(Z)}for(R.sort((O,C)=>C.bst.N-O.bst.N),I=0;I<R.length;I++)R[I].ind=I;return[F,R]}function g(v,y,M,$,F){if(v.left==null)return v.tdst=function(N,Z,Y,z,B){const L=Z-N[0],D=Y-N[1],ie=z-N[2],be=B-N[3];return L*L+D*D+ie*ie+be*be}(v.est.q,y,M,$,F),v;const R=A(v.est,y,M,$,F);let I=v.left,O=v.right;R>0&&(I=v.right,O=v.left);const C=g(I,y,M,$,F);if(C.tdst<=R*R)return C;const k=g(O,y,M,$,F);return k.tdst<C.tdst?k:C}function A(v,y,M,$,F){const{e:R}=v;return R[0]*y+R[1]*M+R[2]*$+R[3]*F-v.eMq}function x(v,y,M,$,F,R){for($-=4;M<$;){for(;E(v,M,F)<=R;)M+=4;for(;E(v,$,F)>R;)$-=4;if(M>=$)break;const I=y[M>>2];y[M>>2]=y[$>>2],y[$>>2]=I,M+=4,$-=4}for(;E(v,M,F)>R;)M-=4;return M+4}function E(v,y,M){return v[y]*M[0]+v[y+1]*M[1]+v[y+2]*M[2]+v[y+3]*M[3]}function q(v,y,M){const $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,0,0,0],R=M-y>>2;for(let I=y;I<M;I+=4){const O=v[I]*.00392156862745098,C=v[I+1]*(1/255),k=v[I+2]*(1/255),j=v[I+3]*(1/255);F[0]+=O,F[1]+=C,F[2]+=k,F[3]+=j,$[0]+=O*O,$[1]+=O*C,$[2]+=O*k,$[3]+=O*j,$[5]+=C*C,$[6]+=C*k,$[7]+=C*j,$[10]+=k*k,$[11]+=k*j,$[15]+=j*j}return $[4]=$[1],$[8]=$[2],$[9]=$[6],$[12]=$[3],$[13]=$[7],$[14]=$[11],{R:$,m:F,N:R}}function S(v){const{R:y}=v,{m:M}=v,{N:$}=v,F=M[0],R=M[1],I=M[2],O=M[3],C=$==0?0:1/$,k=[y[0]-F*F*C,y[1]-F*R*C,y[2]-F*I*C,y[3]-F*O*C,y[4]-R*F*C,y[5]-R*R*C,y[6]-R*I*C,y[7]-R*O*C,y[8]-I*F*C,y[9]-I*R*C,y[10]-I*I*C,y[11]-I*O*C,y[12]-O*F*C,y[13]-O*R*C,y[14]-O*I*C,y[15]-O*O*C],j=k,N=U;let Z=[Math.random(),Math.random(),Math.random(),Math.random()],Y=0,z=0;if($!=0)for(let L=0;L<16&&(Z=N.multVec(j,Z),z=Math.sqrt(N.dot(Z,Z)),Z=N.sml(1/z,Z),!(L!=0&&Math.abs(z-Y)<1e-9));L++)Y=z;const B=[F*C,R*C,I*C,O*C];return{Cov:k,q:B,e:Z,L:Y,eMq255:N.dot(N.sml(255,B),Z),eMq:N.dot(Z,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var U={multVec:(v,y)=>[v[0]*y[0]+v[1]*y[1]+v[2]*y[2]+v[3]*y[3],v[4]*y[0]+v[5]*y[1]+v[6]*y[2]+v[7]*y[3],v[8]*y[0]+v[9]*y[1]+v[10]*y[2]+v[11]*y[3],v[12]*y[0]+v[13]*y[1]+v[14]*y[2]+v[15]*y[3]],dot:(v,y)=>v[0]*y[0]+v[1]*y[1]+v[2]*y[2]+v[3]*y[3],sml:(v,y)=>[v*y[0],v*y[1],v*y[2],v*y[3]]};xt.encode=function(y,M,$,F,R,I,O){F==null&&(F=0),O==null&&(O=!1);const C=o(y,M,$,F,[!1,!1,!1,0,O,!1]);return f(C,-1),u(C,M,$,R,I)},xt.encodeLL=function(y,M,$,F,R,I,O,C){const k={ctype:0+(F==1?0:2)+(R==0?0:4),depth:I,frames:[]},j=(F+R)*I,N=j*M;for(let Z=0;Z<y.length;Z++)k.frames.push({rect:{x:0,y:0,width:M,height:$},img:new Uint8Array(y[Z]),blend:0,dispose:1,bpp:Math.ceil(j/8),bpl:Math.ceil(N/8)});return f(k,0,!0),u(k,M,$,O,C)},xt.encode.compress=o,xt.encode.dither=l,xt.quantize=b,xt.quantize.getKDtree=w,xt.quantize.getNearest=g})();const Ps={toArrayBuffer(n,e){const t=n.width,r=n.height,i=t<<2,s=n.getContext("2d").getImageData(0,0,t,r),a=new Uint32Array(s.data.buffer),l=(32*t+31)/32<<2,u=l*r,f=122+u,o=new ArrayBuffer(f),h=new DataView(o),c=1<<20;let d,m,b,w,g=c,A=0,x=0,E=0;function q(v){h.setUint16(x,v,!0),x+=2}function S(v){h.setUint32(x,v,!0),x+=4}function U(v){x+=v}q(19778),S(f),U(4),S(122),S(108),S(t),S(-r>>>0),q(1),q(32),S(3),S(u),S(2835),S(2835),U(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function v(){for(;A<r&&g>0;){for(w=122+A*l,d=0;d<i;)g--,m=a[E++],b=m>>>24,h.setUint32(w+d,m<<8|b),d+=4;A++}E<a.length?(g=c,setTimeout(v,Ps._dly)):e(o)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var gt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},yo={[gt.CHROME]:16384,[gt.FIREFOX]:11180,[gt.DESKTOP_SAFARI]:16384,[gt.IE]:8192,[gt.IOS]:4096,[gt.ETC]:8192};const ri=typeof window<"u",Zs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,pr=ri&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),bo=(ri||Zs)&&(pr&&pr.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ls=(ri||Zs)&&(pr&&pr.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ii(n,e,t=Date.now()){return new Promise(r=>{const i=n.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let l=a.length;const u=new Uint8Array(l);for(;l--;)u[l]=a.charCodeAt(l);const f=new Blob([u],{type:s});f.name=e,f.lastModified=t,r(f)})}function zs(n){return new Promise((e,t)=>{const r=new Ls;r.onload=()=>e(r.result),r.onerror=i=>t(i),r.readAsDataURL(n)})}function Hs(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>t(i),r.src=n})}function nn(){if(nn.cachedResult!==void 0)return nn.cachedResult;let n=gt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=gt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=gt.IOS:/Safari/i.test(e)?n=gt.DESKTOP_SAFARI:/Firefox/i.test(e)?n=gt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=gt.IE),nn.cachedResult=n,nn.cachedResult}function Bs(n,e){const t=nn(),r=yo[t];let i=n,s=e,a=i*s;const l=i>s?s/i:i/s;for(;a>r*r;){const u=(r+i)/2,f=(r+s)/2;u<f?(s=f,i=f*l):(s=u*l,i=u),a=i*s}return{width:i,height:s}}function Tr(n,e){let t,r;try{if(t=new OffscreenCanvas(n,e),r=t.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),r=t.getContext("2d")}return t.width=n,t.height=e,[t,r]}function Vs(n,e){const{width:t,height:r}=Bs(n.width,n.height),[i,s]=Tr(t,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(n,0,0,i.width,i.height),i}function Xn(){return Xn.cachedResult!==void 0||(Xn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Xn.cachedResult}function _r(n,e={}){return new Promise(function(t,r){let i,s;var a=function(){try{return s=Vs(i,e.fileType||n.type),t([i,s])}catch(u){return r(u)}},l=function(u){try{var f=function(o){try{throw o}catch(h){return r(h)}};try{let o;return zs(n).then(function(h){try{return o=h,Hs(o).then(function(c){try{return i=c,function(){try{return a()}catch(d){return r(d)}}()}catch(d){return f(d)}},f)}catch(c){return f(c)}},f)}catch(o){f(o)}}catch(o){return r(o)}};try{if(Xn()||[gt.DESKTOP_SAFARI,gt.MOBILE_SAFARI].includes(nn()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(u){try{return i=u,a()}catch{return l()}},l)}catch{l()}})}function gr(n,e,t,r,i=1){return new Promise(function(s,a){let l;if(e==="image/png"){let h,c,d;return h=n.getContext("2d"),{data:c}=h.getImageData(0,0,n.width,n.height),d=xt.encode([c.buffer],n.width,n.height,4096*i),l=new Blob([d],{type:e}),l.name=t,l.lastModified=r,u.call(this)}{let h=function(){return u.call(this)};var f=h;if(e==="image/bmp")return new Promise(c=>Ps.toBlob(n,c)).then(function(c){try{return l=c,l.name=t,l.lastModified=r,h.call(this)}catch(d){return a(d)}}.bind(this),a);{let c=function(){return h.call(this)};var o=c;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:i}).then(function(d){try{return l=d,l.name=t,l.lastModified=r,c.call(this)}catch(m){return a(m)}}.bind(this),a);{let d;return d=n.toDataURL(e,i),ii(d,t,r).then(function(m){try{return l=m,c.call(this)}catch(b){return a(b)}}.bind(this),a)}}}function u(){return s(l)}})}function Ut(n){n.width=0,n.height=0}function vn(){return new Promise(function(n,e){let t,r,i,s;return vn.cachedResult!==void 0?n(vn.cachedResult):ii("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return t=a,_r(t).then(function(l){try{return r=l[1],gr(r,t.type,t.name,t.lastModified).then(function(u){try{return i=u,Ut(r),_r(i).then(function(f){try{return s=f[0],vn.cachedResult=s.width===1&&s.height===2,n(vn.cachedResult)}catch(o){return e(o)}},e)}catch(f){return e(f)}},e)}catch(u){return e(u)}},e)}catch(l){return e(l)}},e)})}function Qs(n){return new Promise((e,t)=>{const r=new Ls;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let l=2;for(;l<a;){if(s.getUint16(l+2,!1)<=8)return e(-1);const u=s.getUint16(l,!1);if(l+=2,u==65505){if(s.getUint32(l+=2,!1)!=1165519206)return e(-1);const f=s.getUint16(l+=6,!1)==18761;l+=s.getUint32(l+4,f);const o=s.getUint16(l,f);l+=2;for(let h=0;h<o;h++)if(s.getUint16(l+12*h,f)==274)return e(s.getUint16(l+12*h+8,f))}else{if((65280&u)!=65280)break;l+=s.getUint16(l,!1)}}return e(-1)},r.onerror=i=>t(i),r.readAsArrayBuffer(n)})}function Ws(n,e){const{width:t}=n,{height:r}=n,{maxWidthOrHeight:i}=e;let s,a=n;return isFinite(i)&&(t>i||r>i)&&([a,s]=Tr(t,r),t>r?(a.width=i,a.height=r/t*i):(a.width=t/r*i,a.height=i),s.drawImage(n,0,0,a.width,a.height),Ut(n)),a}function Gs(n,e){const{width:t}=n,{height:r}=n,[i,s]=Tr(t,r);switch(e>4&&e<9?(i.width=r,i.height=t):(i.width=t,i.height=r),e){case 2:s.transform(-1,0,0,1,t,0);break;case 3:s.transform(-1,0,0,-1,t,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,t);break;case 8:s.transform(0,-1,1,0,0,t)}return s.drawImage(n,0,0,t,r),Ut(n),i}function $i(n,e,t=0){return new Promise(function(r,i){let s,a,l,u,f,o,h,c,d,m,b,w,g,A,x,E,q,S,U,v;function y($=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=$,e.onProgress(Math.min(s,100))}function M($){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max($,s),100),e.onProgress(s)}return s=t,a=e.maxIteration||10,l=1024*e.maxSizeMB*1024,y(),_r(n,e).then(function($){try{return[,u]=$,y(),f=Ws(u,e),y(),new Promise(function(F,R){var I;if(!(I=e.exifOrientation))return Qs(n).then(function(C){try{return I=C,O.call(this)}catch(k){return R(k)}}.bind(this),R);function O(){return F(I)}return O.call(this)}).then(function(F){try{return o=F,y(),vn().then(function(R){try{return h=R?f:Gs(f,o),y(),c=e.initialQuality||1,d=e.fileType||n.type,gr(h,d,n.name,n.lastModified,c).then(function(I){try{{let j=function(){if(a--&&(x>l||x>g)){let Z,Y;return Z=v?.95*U.width:U.width,Y=v?.95*U.height:U.height,[q,S]=Tr(Z,Y),S.drawImage(U,0,0,Z,Y),c*=d==="image/png"?.85:.95,gr(q,d,n.name,n.lastModified,c).then(function(z){try{return E=z,Ut(U),U=q,x=E.size,M(Math.min(99,Math.floor((A-x)/(A-l)*100))),j}catch(B){return i(B)}},i)}return[1]},N=function(){return Ut(U),Ut(q),Ut(f),Ut(h),Ut(u),M(100),r(E)};var C=j,k=N;if(m=I,y(),b=m.size>l,w=m.size>n.size,!b&&!w)return M(100),r(m);var O;return g=n.size,A=m.size,x=A,U=h,v=!e.alwaysKeepResolution&&b,(O=function(Z){for(;Z;){if(Z.then)return void Z.then(O,i);try{if(Z.pop){if(Z.length)return Z.pop()?N.call(this):Z;Z=j}else Z=Z.call(this)}catch(Y){return i(Y)}}}.bind(this))(j)}}catch(j){return i(j)}}.bind(this),i)}catch(I){return i(I)}}.bind(this),i)}catch(R){return i(R)}}.bind(this),i)}catch(F){return i(F)}}.bind(this),i)})}const wo=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Or;function ko(n,e){return new Promise((t,r)=>{Or||(Or=function(a){const l=[];return typeof a=="function"?l.push(`(${a})()`):l.push(a),URL.createObjectURL(new Blob(l))}(wo));const i=new Worker(Or);i.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void i.terminate();t(a.data.file),i.terminate()}else e.onProgress(a.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function ct(n,e){return new Promise(function(t,r){let i,s,a,l,u,f;if(i={...e},a=0,{onProgress:l}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=d=>{a=d,typeof l=="function"&&l(a)},!(n instanceof Blob||n instanceof bo))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||f)return $i(n,i).then(function(d){try{return s=d,c.call(this)}catch(m){return r(m)}}.bind(this),r);var o=function(){try{return c.call(this)}catch(d){return r(d)}}.bind(this),h=function(d){try{return $i(n,i).then(function(m){try{return s=m,o()}catch(b){return r(b)}},r)}catch(m){return r(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ko(n,i).then(function(d){try{return s=d,o()}catch{return h()}},h)}catch{h()}function c(){try{s.name=n.name,s.lastModified=n.lastModified}catch{}try{i.preserveExif&&n.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===n.type)&&(s=Ds(n,s))}catch{}return t(s)}})}ct.getDataUrlFromFile=zs,ct.getFilefromDataUrl=ii,ct.loadImage=Hs,ct.drawImageInCanvas=Vs,ct.drawFileInCanvas=_r,ct.canvasToFile=gr,ct.getExifOrientation=Qs,ct.handleMaxWidthOrHeight=Ws,ct.followExifOrientation=Gs,ct.cleanupCanvasMemory=Ut,ct.isAutoOrientationInBrowser=vn,ct.approximateBelowMaximumCanvasSizeOfBrowser=Bs,ct.copyExifWithoutOrientation=Ds,ct.getBrowserName=nn,ct.version="2.0.2";let Qn;const Co=new Uint8Array(16);function Ao(){if(!Qn&&(Qn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qn(Co)}const ot=[];for(let n=0;n<256;++n)ot.push((n+256).toString(16).slice(1));function xo(n,e=0){return(ot[n[e+0]]+ot[n[e+1]]+ot[n[e+2]]+ot[n[e+3]]+"-"+ot[n[e+4]]+ot[n[e+5]]+"-"+ot[n[e+6]]+ot[n[e+7]]+"-"+ot[n[e+8]]+ot[n[e+9]]+"-"+ot[n[e+10]]+ot[n[e+11]]+ot[n[e+12]]+ot[n[e+13]]+ot[n[e+14]]+ot[n[e+15]]).toLowerCase()}const $o=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ei={randomUUID:$o};function Eo(n,e,t){if(Ei.randomUUID&&!e&&!n)return Ei.randomUUID();n=n||{};const r=n.random||(n.rng||Ao)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return xo(r)}const Mn=Kt({}),kn=Kt([]),Sr=Kt(null);function To(){return new Promise(n=>{Sr.set(n)})}function So(){Sr.update(n=>(n!==null&&n(null),null))}function Mo(n){Sr.update(e=>(e!==null&&e(n),null))}async function Io(n,e){const t=Eo(),r=await ct(n,{maxSizeMB:.8,onProgress:e});if(r.size>=ao)throw Error("File is too large (max 15mb)");kn.update(i=>(i.push({uuid:t,name:n.name,size:n.size,blob:r}),i)),Js(r,t)}async function Js(n,e){const t=new FileReader;await new Promise((i,s)=>{t.onload=i,t.onerror=s,t.onabort=s,t.readAsDataURL(n)});const r=t.result;Mn.update(i=>(i[e]=r,i))}function Fo(n=void 0){const e=document.createElement("input");return e.type="file",e.hidden=!0,n!==void 0&&(e.accept=n),document.body.appendChild(e),new Promise((t,r)=>{e.onchange=()=>{if(e.files===null)return r();const i=e.files.item(0);t(i)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function Uo(n=void 0){const e=document.createElement("input");return e.type="file",e.multiple=!0,e.hidden=!0,n!==void 0&&(e.accept=n),new Promise((t,r)=>{document.body.appendChild(e),e.onchange=()=>{if(e.files===null)return r();t(e.files)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function No(n,e){const t=document.createElement("a");t.download=n.replace(/[ ^/]/g,"_"),t.href=URL.createObjectURL(e),t.dataset.downloadurl=["application/json",t.download,t.href].join(":"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function Ro(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),p(t,"d","M0 0h24v24H0z"),p(t,"fill","none"),p(r,"d","M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 24 24"),p(e,"width","48px"),p(e,"height","48px"),p(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Ys extends xe{constructor(e){super(),Ae(this,e,null,Ro,Ce,{})}}function Ti(n,e,t){const r=n.slice();return r[14]=e[t],r}function Si(n,e,t){const r=n.slice();return r[17]=e[t],r}function Mi(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,m,b,w,g,A,x,E=n[2].length<1&&n[0].length<1&&Ii(),q=n[2],S=[];for(let y=0;y<q.length;y+=1)S[y]=Fi(Si(n,q,y));let U=n[0],v=[];for(let y=0;y<U.length;y+=1)v[y]=Ui(Ti(n,U,y));return h=new Ys({}),{c(){e=T("div"),t=T("div"),r=T("div"),E&&E.c(),i=P();for(let y=0;y<S.length;y+=1)S[y].c();s=P();for(let y=0;y<v.length;y+=1)v[y].c();a=P(),l=T("div"),u=T("button"),u.textContent="Close",f=P(),o=T("button"),oe(h.$$.fragment),c=re(`
          Upload Images`),d=P(),m=T("button"),b=re("Delete All Images"),p(r,"class","images svelte-jdx2r3"),p(u,"class","btn btn--surface"),p(o,"class","btn btn--icon btn--surface"),p(m,"class","btn btn--surface"),m.disabled=w=n[2].length===0,p(l,"class","actions btn-row btn-row--fill svelte-jdx2r3"),p(t,"class","dialog svelte-jdx2r3"),p(e,"class","wrapper svelte-jdx2r3")},m(y,M){V(y,e,M),_(e,t),_(t,r),E&&E.m(r,null),_(r,i);for(let $=0;$<S.length;$+=1)S[$]&&S[$].m(r,null);_(r,s);for(let $=0;$<v.length;$+=1)v[$]&&v[$].m(r,null);_(t,a),_(t,l),_(l,u),_(l,f),_(l,o),ae(h,o,null),_(o,c),_(l,d),_(l,m),_(m,b),g=!0,A||(x=[ee(u,"click",So),ee(o,"click",n[4]),ee(m,"click",n[7]),ee(t,"drop",n[5]),ee(t,"dragover",Zo)],A=!0)},p(y,M){if(y[2].length<1&&y[0].length<1?E||(E=Ii(),E.c(),E.m(r,i)):E&&(E.d(1),E=null),M&76){q=y[2];let $;for($=0;$<q.length;$+=1){const F=Si(y,q,$);S[$]?S[$].p(F,M):(S[$]=Fi(F),S[$].c(),S[$].m(r,s))}for(;$<S.length;$+=1)S[$].d(1);S.length=q.length}if(M&1){U=y[0];let $;for($=0;$<U.length;$+=1){const F=Ti(y,U,$);v[$]?v[$].p(F,M):(v[$]=Ui(F),v[$].c(),v[$].m(r,null))}for(;$<v.length;$+=1)v[$].d(1);v.length=U.length}(!g||M&4&&w!==(w=y[2].length===0))&&(m.disabled=w)},i(y){g||(W(h.$$.fragment,y),g=!0)},o(y){J(h.$$.fragment,y),g=!1},d(y){y&&H(e),E&&E.d(),In(S,y),In(v,y),le(h),A=!1,Qe(x)}}}function Ii(n){let e;return{c(){e=T("p"),e.textContent="Click upload or drag and drop files here to upload",p(e,"class","images__text svelte-jdx2r3")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function Oo(n){let e;return{c(){e=T("span"),e.textContent="Preview loading.."},m(t,r){V(t,e,r)},p:G,d(t){t&&H(e)}}}function qo(n){let e,t;return{c(){e=T("img"),p(e,"class","image svelte-jdx2r3"),Cn(e.src,t=n[3][n[17].uuid])||p(e,"src",t),p(e,"alt","Preview")},m(r,i){V(r,e,i)},p(r,i){i&12&&!Cn(e.src,t=r[3][r[17].uuid])&&p(e,"src",t)},d(r){r&&H(e)}}}function Fi(n){let e,t,r=n[17].name+"",i,s,a,l,u,f=n[17].size+"",o,h,c,d,m,b,w,g,A;function x(v,y){return v[3][v[17].uuid]!==void 0?qo:Oo}let E=x(n),q=E(n);function S(){return n[8](n[17])}function U(){return n[9](n[17])}return{c(){e=T("div"),t=T("p"),i=re(r),s=P(),a=T("div"),q.c(),l=P(),u=T("p"),o=re(f),h=re(" bytes"),c=P(),d=T("div"),m=T("button"),m.textContent="Select",b=P(),w=T("button"),w.textContent="Delete",p(t,"class","file__name svelte-jdx2r3"),p(a,"class","image-wrapper svelte-jdx2r3"),p(m,"class","btn btn--small"),p(w,"class","btn btn--small"),p(d,"class","file__actions svelte-jdx2r3"),p(e,"class","file svelte-jdx2r3")},m(v,y){V(v,e,y),_(e,t),_(t,i),_(e,s),_(e,a),q.m(a,null),_(e,l),_(e,u),_(u,o),_(u,h),_(e,c),_(e,d),_(d,m),_(d,b),_(d,w),g||(A=[ee(m,"click",S),ee(w,"click",U)],g=!0)},p(v,y){n=v,y&4&&r!==(r=n[17].name+"")&&Ie(i,r),E===(E=x(n))&&q?q.p(n,y):(q.d(1),q=E(n),q&&(q.c(),q.m(a,null))),y&4&&f!==(f=n[17].size+"")&&Ie(o,f)},d(v){v&&H(e),q.d(),g=!1,Qe(A)}}}function jo(n){let e,t,r=n[14].progress+"",i;return{c(){e=T("p"),t=re("Progress: "),i=re(r)},m(s,a){V(s,e,a),_(e,t),_(e,i)},p(s,a){a&1&&r!==(r=s[14].progress+"")&&Ie(i,r)},d(s){s&&H(e)}}}function Do(n){let e,t=n[14].error+"",r;return{c(){e=T("p"),r=re(t),p(e,"class","error svelte-jdx2r3")},m(i,s){V(i,e,s),_(e,r)},p(i,s){s&1&&t!==(t=i[14].error+"")&&Ie(r,t)},d(i){i&&H(e)}}}function Ui(n){let e,t,r=n[14].name+"",i,s,a;function l(o,h){return o[14].error?Do:jo}let u=l(n),f=u(n);return{c(){e=T("div"),t=T("p"),i=re(r),s=P(),f.c(),a=P(),p(e,"class","file svelte-jdx2r3")},m(o,h){V(o,e,h),_(e,t),_(t,i),_(e,s),f.m(e,null),_(e,a)},p(o,h){h&1&&r!==(r=o[14].name+"")&&Ie(i,r),u===(u=l(o))&&f?f.p(o,h):(f.d(1),f=u(o),f&&(f.c(),f.m(e,a)))},d(o){o&&H(e),f.d()}}}function Po(n){let e,t,r=n[1]&&Mi(n);return{c(){r&&r.c(),e=Xt()},m(i,s){r&&r.m(i,s),V(i,e,s),t=!0},p(i,[s]){i[1]?r?(r.p(i,s),s&2&&W(r,1)):(r=Mi(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(ht(),J(r,1,1,()=>{r=null}),mt())},i(i){t||(W(r),t=!0)},o(i){J(r),t=!1},d(i){r&&r.d(i),i&&H(e)}}}function Zo(n){n.stopPropagation(),n.preventDefault()}function Lo(n,e,t){let r,i,s;Tt(n,Sr,g=>t(1,r=g)),Tt(n,kn,g=>t(2,i=g)),Tt(n,Mn,g=>t(3,s=g));let a=[];async function l(){const g=await Uo("image/*");g!==null&&f(g)}function u(g){g.stopPropagation(),g.preventDefault();const A=g.dataTransfer;if(A===null)return;const x=A.files;x!==null&&f(x)}function f(g){for(const A of g)a.push({name:A.name,progress:0,error:null}),t(0,a),Io(A,x=>{c(A.name,x)}).then(()=>o(A)).catch(x=>h(A,x))}function o(g){t(0,a=a.filter(A=>A.name!==g.name))}function h(g,A){t(0,a=a.map(x=>(x.name===g.name&&(x.error=A.message),x)))}function c(g,A){t(0,a=a.map(x=>(x.name===g&&(x.progress=A),x)))}function d(g){kn.update(A=>A.filter(x=>x.uuid!==g.uuid)),Mn.update(A=>(delete A[g.uuid],A))}async function m(){await $r("Confirm Deletion","Are you sure you want to delete all the uploaded files?")&&(kn.set([]),Mn.set({}),t(0,a=[]))}return[a,r,i,s,l,u,d,m,g=>Mo(g),g=>d(g)]}class zo extends xe{constructor(e){super(),Ae(this,e,Lo,Po,Ce,{})}}function Ho(n){let e;return{c(){e=T("p"),e.textContent="Pick Image"},m(t,r){V(t,e,r)},p:G,d(t){t&&H(e)}}}function Bo(n){let e,t,r,i,s,a,l;return{c(){e=T("img"),i=P(),s=T("button"),s.textContent="Click to remove",p(e,"class","image svelte-8u6k8r"),p(e,"data-fit",t=n[0].image.fit),Cn(e.src,r=n[1])||p(e,"src",r),p(e,"alt","Uploaded Content"),p(s,"class","overlay svelte-8u6k8r")},m(u,f){V(u,e,f),V(u,i,f),V(u,s,f),a||(l=ee(s,"click",n[3]),a=!0)},p(u,f){f&1&&t!==(t=u[0].image.fit)&&p(e,"data-fit",t),f&2&&!Cn(e.src,r=u[1])&&p(e,"src",r)},d(u){u&&H(e),u&&H(i),u&&H(s),a=!1,l()}}}function Ni(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,m,b,w;return{c(){e=T("label"),t=T("span"),t.textContent="Image Fit",r=P(),i=T("p"),i.textContent=`Decide how the image should be best fit for the player screens, It's
      recommended that you use "Contain" if the full image content is important
      to be visible`,s=P(),a=T("select"),l=T("option"),u=re("Contain: Fit the entire image"),f=T("option"),o=re("Cover: Fill the available space"),h=T("option"),c=re("Fill Width: Fill available width "),d=T("option"),m=re("Fill Height: Fill available height"),p(t,"class","field__name svelte-8u6k8r"),p(i,"class","field__desc svelte-8u6k8r"),l.__value=gn.Contain,l.value=l.__value,f.__value=gn.Cover,f.value=f.__value,h.__value=gn.Width,h.value=h.__value,d.__value=gn.Height,d.value=d.__value,p(a,"class","input svelte-8u6k8r"),n[0].image.fit===void 0&&it(()=>n[6].call(a)),p(e,"class","field svelte-8u6k8r")},m(g,A){V(g,e,A),_(e,t),_(e,r),_(e,i),_(e,s),_(e,a),_(a,l),_(l,u),_(a,f),_(f,o),_(a,h),_(h,c),_(a,d),_(d,m),Qt(a,n[0].image.fit,!0),b||(w=ee(a,"change",n[6]),b=!0)},p(g,A){A&1&&Qt(a,g[0].image.fit)},d(g){g&&H(e),b=!1,w()}}}function Vo(n){let e,t,r,i,s,a,l;function u(c,d){return c[0].image!==null&&c[1]?Bo:Ho}let f=u(n),o=f(n),h=n[0].image!==null&&Ni(n);return i=new zo({}),{c(){e=T("div"),o.c(),t=P(),h&&h.c(),r=P(),oe(i.$$.fragment),p(e,"tabindex","0"),p(e,"role","button"),p(e,"class","wrapper svelte-8u6k8r")},m(c,d){V(c,e,d),o.m(e,null),V(c,t,d),h&&h.m(c,d),V(c,r,d),ae(i,c,d),s=!0,a||(l=[ee(e,"click",n[2]),ee(e,"keypress",n[4])],a=!0)},p(c,[d]){f===(f=u(c))&&o?o.p(c,d):(o.d(1),o=f(c),o&&(o.c(),o.m(e,null))),c[0].image!==null?h?h.p(c,d):(h=Ni(c),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null)},i(c){s||(W(i.$$.fragment,c),s=!0)},o(c){J(i.$$.fragment,c),s=!1},d(c){c&&H(e),o.d(),c&&H(t),h&&h.d(c),c&&H(r),le(i,c),a=!1,Qe(l)}}}function Qo(n,e,t){let r;Tt(n,Mn,o=>t(5,r=o));let{question:i}=e,s=null;async function a(){let o=await To();o!==null&&t(0,i.image={uuid:o.uuid,fit:gn.Contain},i)}function l(o){o.stopPropagation(),t(0,i.image=null,i),t(1,s=null)}function u(o){(o.key==="Enter"||o.key==="NumpadEnter")&&a()}function f(){i.image.fit=br(this),t(0,i)}return n.$$set=o=>{"question"in o&&t(0,i=o.question)},n.$$.update=()=>{if(n.$$.dirty&33&&i.image!==null){let o=r[i.image.uuid];o!==void 0?t(1,s=o):t(1,s=null)}},[i,s,a,l,u,r,f]}class Wo extends xe{constructor(e){super(),Ae(this,e,Qo,Vo,Ce,{question:0})}}function Mr(n,{from:e,to:t},r={}){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform,[a,l]=i.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/t.width-(t.left+a),f=e.top+e.height*l/t.height-(t.top+l),{delay:o=0,duration:h=d=>Math.sqrt(d)*120,easing:c=bs}=r;return{delay:o,duration:yr(h)?h(Math.sqrt(u*u+f*f)):h,easing:c,css:(d,m)=>{const b=m*u,w=m*f,g=d+m*e.width/t.width,A=d+m*e.height/t.height;return`transform: ${s} translate(${b}px, ${w}px) scale(${g}, ${A});`}}}function Go(n){let e,t,r,i,s,a,l;return{c(){e=T("label"),t=T("input"),r=P(),i=fe("svg"),s=fe("path"),p(t,"class","input svelte-1sqhokz"),p(t,"type","checkbox"),p(s,"d","M4.575 8.977s-.404-.007-.536-.165L.057 5.64l.829-1.227L4.47 7.268 10.921.086l.923 1.103-6.863 7.64c-.134-.003-.406.148-.406.148z"),p(s,"fill","#FFF"),p(s,"fill-rule","evenodd"),p(i,"width","16"),p(i,"height","16"),p(i,"viewBox","0 0 12 9"),p(i,"xmlns","http://www.w3.org/2000/svg"),p(i,"class","mark svelte-1sqhokz"),p(e,"class","wrapper svelte-1sqhokz")},m(u,f){V(u,e,f),_(e,t),t.checked=n[0],_(e,r),_(e,i),_(i,s),a||(l=ee(t,"change",n[1]),a=!0)},p(u,[f]){f&1&&(t.checked=u[0])},i:G,o:G,d(u){u&&H(e),a=!1,l()}}}function Jo(n,e,t){let{value:r}=e;function i(){r=this.checked,t(0,r)}return n.$$set=s=>{"value"in s&&t(0,r=s.value)},[r,i]}class Yo extends xe{constructor(e){super(),Ae(this,e,Jo,Go,Ce,{value:0})}}function Xo(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),p(t,"d","M0 0h24v24H0z"),p(t,"fill","none"),p(r,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 24 24"),p(e,"width","48px"),p(e,"height","48px"),p(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Xs extends xe{constructor(e){super(),Ae(this,e,null,Xo,Ce,{})}}function Ko(n){let e,t;return{c(){e=fe("svg"),t=fe("path"),p(t,"d","m283 699-43-43 240-240 240 240-43 43-197-197-197 197Z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 96 960 960"),p(e,"width","48"),p(e,"height","48"),p(e,"fill","#FFFFFF")},m(r,i){V(r,e,i),_(e,t)},p:G,i:G,o:G,d(r){r&&H(e)}}}class Ks extends xe{constructor(e){super(),Ae(this,e,null,Ko,Ce,{})}}function eu(n){let e,t;return{c(){e=fe("svg"),t=fe("path"),p(t,"d","M480 712 240 472l43-43 197 197 197-197 43 43-240 240Z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 96 960 960"),p(e,"width","48"),p(e,"height","48"),p(e,"fill","#FFFFFF")},m(r,i){V(r,e,i),_(e,t)},p:G,i:G,o:G,d(r){r&&H(e)}}}class ea extends xe{constructor(e){super(),Ae(this,e,null,eu,Ce,{})}}function Ri(n,e,t){const r=n.slice();return r[11]=e[t],r[12]=e,r[13]=t,r}function Oi(n){let e,t=[],r=new Map,i,s,a,l,u,f,o,h,c,d,m,b,w=n[0].answers;const g=A=>A[11].id;for(let A=0;A<w.length;A+=1){let x=Ri(n,w,A),E=g(x);r.set(E,t[A]=qi(E,x))}return{c(){e=T("div");for(let A=0;A<t.length;A+=1)t[A].c();i=P(),s=T("div"),a=T("button"),l=re("Add Answer"),f=P(),o=T("button"),h=re("Shuffle"),p(a,"class","btn"),a.disabled=u=n[0].answers.length>=wi,p(o,"class","btn"),o.disabled=c=n[0].answers.length<=1,p(s,"class","field-group"),p(e,"class","answers svelte-9k2gpx")},m(A,x){V(A,e,x);for(let E=0;E<t.length;E+=1)t[E]&&t[E].m(e,null);_(e,i),_(e,s),_(s,a),_(a,l),_(s,f),_(s,o),_(o,h),d=!0,m||(b=[ee(a,"click",n[1]),ee(o,"click",n[5])],m=!0)},p(A,x){if(x&29){w=A[0].answers,ht();for(let E=0;E<t.length;E+=1)t[E].r();t=Ar(t,x,g,1,A,w,r,e,Cr,qi,i,Ri);for(let E=0;E<t.length;E+=1)t[E].a();mt()}(!d||x&1&&u!==(u=A[0].answers.length>=wi))&&(a.disabled=u),(!d||x&1&&c!==(c=A[0].answers.length<=1))&&(o.disabled=c)},i(A){if(!d){for(let x=0;x<w.length;x+=1)W(t[x]);d=!0}},o(A){for(let x=0;x<t.length;x+=1)J(t[x]);d=!1},d(A){A&&H(e);for(let x=0;x<t.length;x+=1)t[x].d();m=!1,Qe(b)}}}function qi(n,e){let t,r,i,s,a,l,u,f,o,h,c,d,m,b,w,g,A,x,E,q,S=G,U,v,y;function M(C){e[6](C,e[11])}let $={};e[11].correct!==void 0&&($.value=e[11].correct),i=new Yo({props:$}),Pt.push(()=>sn(i,"value",M)),f=new Ks({});function F(){return e[7](e[13])}d=new ea({});function R(){return e[8](e[13])}function I(){e[9].call(w,e[12],e[13])}x=new Xs({});function O(){return e[10](e[13])}return{key:n,first:null,c(){t=T("div"),r=T("div"),oe(i.$$.fragment),a=P(),l=T("div"),u=T("button"),oe(f.$$.fragment),h=P(),c=T("button"),oe(d.$$.fragment),b=P(),w=T("input"),g=P(),A=T("button"),oe(x.$$.fragment),p(r,"class","answer__check svelte-9k2gpx"),u.disabled=o=e[13]<=0,p(u,"class","btn btn--icon-only btn--surface btn-small arrow"),c.disabled=m=e[13]+1>=e[0].answers.length,p(c,"class","btn btn--icon-only btn--surface btn-small arrow"),p(l,"class","answer__actions svelte-9k2gpx"),p(w,"class","answer__question input svelte-9k2gpx"),p(w,"type","text"),p(w,"maxlength",Wl),A.disabled=E=e[0].answers.length==1,p(A,"class","btn btn--icon-only"),p(t,"class","answer svelte-9k2gpx"),this.first=t},m(C,k){V(C,t,k),_(t,r),ae(i,r,null),_(t,a),_(t,l),_(l,u),ae(f,u,null),_(l,h),_(l,c),ae(d,c,null),_(t,b),_(t,w),De(w,e[11].value),_(t,g),_(t,A),ae(x,A,null),U=!0,v||(y=[ee(u,"click",F),ee(c,"click",R),ee(w,"input",I),ee(A,"click",O)],v=!0)},p(C,k){e=C;const j={};!s&&k&1&&(s=!0,j.value=e[11].correct,rn(()=>s=!1)),i.$set(j),(!U||k&1&&o!==(o=e[13]<=0))&&(u.disabled=o),(!U||k&1&&m!==(m=e[13]+1>=e[0].answers.length))&&(c.disabled=m),k&1&&w.value!==e[11].value&&De(w,e[11].value),(!U||k&1&&E!==(E=e[0].answers.length==1))&&(A.disabled=E)},r(){q=t.getBoundingClientRect()},f(){kr(t),S()},a(){S(),S=wr(t,q,Mr,{duration:500})},i(C){U||(W(i.$$.fragment,C),W(f.$$.fragment,C),W(d.$$.fragment,C),W(x.$$.fragment,C),U=!0)},o(C){J(i.$$.fragment,C),J(f.$$.fragment,C),J(d.$$.fragment,C),J(x.$$.fragment,C),U=!1},d(C){C&&H(t),le(i),le(f),le(d),le(x),v=!1,Qe(y)}}}function tu(n){let e,t,r=(n[0].ty==at.Single||n[0].ty==at.Multiple)&&Oi(n);return{c(){r&&r.c(),e=Xt()},m(i,s){r&&r.m(i,s),V(i,e,s),t=!0},p(i,[s]){i[0].ty==at.Single||i[0].ty==at.Multiple?r?(r.p(i,s),s&1&&W(r,1)):(r=Oi(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(ht(),J(r,1,1,()=>{r=null}),mt())},i(i){t||(W(r),t=!0)},o(i){J(r),t=!1},d(i){r&&r.d(i),i&&H(e)}}}function nu(n,e,t){let{question:r}=e;function i(){let m=0;for(const b of r.answers)b.id>=m&&(m=b.id+1);r.answers.push({id:m,value:"",correct:!1}),t(0,r)}const s=m=>{t(0,r.answers=hr(r.answers,m,m-1),r)},a=m=>{t(0,r.answers=hr(r.answers,m,m+1),r)};function l(m){t(0,r.answers=r.answers.filter((b,w)=>w!=m),r)}function u(){t(0,r.answers=js(r.answers),r)}function f(m,b){n.$$.not_equal(b.correct,m)&&(b.correct=m,t(0,r))}const o=m=>s(m),h=m=>a(m);function c(m,b){m[b].value=this.value,t(0,r)}const d=m=>l(m);return n.$$set=m=>{"question"in m&&t(0,r=m.question)},[r,i,s,a,l,u,f,o,h,c,d]}class ru extends xe{constructor(e){super(),Ae(this,e,nu,tu,Ce,{question:0})}}function iu(n){let e,t,r,i,s,a,l,u,f,o,h,c;return{c(){e=T("div"),t=T("input"),s=P(),a=T("select"),l=T("option"),u=re("Minutes"),f=T("option"),o=re("Seconds"),p(t,"class","input svelte-t6875b"),p(t,"type","number"),p(t,"min",r=n[5](n[0])),p(t,"max",i=n[5](n[1])),l.__value=n[4].Minutes,l.value=l.__value,f.__value=n[4].Seconds,f.value=f.__value,p(a,"class","select svelte-t6875b"),n[2]===void 0&&it(()=>n[9].call(a))},m(d,m){V(d,e,m),_(e,t),De(t,n[3]),_(e,s),_(e,a),_(a,l),_(l,u),_(a,f),_(f,o),Qt(a,n[2],!0),h||(c=[ee(t,"input",n[8]),ee(t,"change",n[6]),ee(a,"change",n[9]),ee(a,"change",n[6])],h=!0)},p(d,[m]){m&1&&r!==(r=d[5](d[0]))&&p(t,"min",r),m&2&&i!==(i=d[5](d[1]))&&p(t,"max",i),m&8&&vt(t.value)!==d[3]&&De(t,d[3]),m&20&&Qt(a,d[2])},i:G,o:G,d(d){d&&H(e),h=!1,Qe(c)}}}function su(n,e,t){let{value:r}=e,{min:i}=e,{max:s}=e;var a=(m=>(m[m.Seconds=0]="Seconds",m[m.Minutes=1]="Minutes",m))(a||{});let l=0,u=o(r);function f(m){return l==0?m*1e3:l==1?m*1e3*60:m}function o(m){return l==0?m/1e3:l==1?m/60/1e3:m}function h(){if(u<1)t(3,u=1);else{let m=f(u);m>s?m=s:m<i&&(m=i),t(3,u=o(m)),t(7,r=m)}}function c(){u=vt(this.value),t(3,u)}function d(){l=br(this),t(2,l),t(4,a)}return n.$$set=m=>{"value"in m&&t(7,r=m.value),"min"in m&&t(0,i=m.min),"max"in m&&t(1,s=m.max)},[i,s,l,u,a,o,h,r,c,d]}class Wr extends xe{constructor(e){super(),Ae(this,e,su,iu,Ce,{value:7,min:0,max:1})}}function au(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),p(t,"d","M0 0h24v24H0z"),p(t,"fill","none"),p(r,"d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 24 24"),p(e,"width","48px"),p(e,"height","48px"),p(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Ir extends xe{constructor(e){super(),Ae(this,e,null,au,Ce,{})}}function ji(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,m,b,w,g,A;return{c(){e=T("label"),t=T("span"),t.textContent="Min Choices",r=P(),i=T("p"),i.textContent="The minimum number of answers that must be selected to get a pass",s=P(),a=T("input"),u=P(),f=T("label"),o=T("span"),o.textContent="Desired Choices",h=P(),c=T("p"),c.textContent=`The total number of answers the player must choose to get a full\r
          score. Can be the same as the minimum choices`,d=P(),m=T("input"),p(t,"class","field__name svelte-160lkeg"),p(i,"class","field__desc svelte-160lkeg"),p(a,"class","input svelte-160lkeg"),p(a,"type","number"),p(a,"min",1),p(a,"max",l=n[0].answers.length),p(e,"class","field svelte-160lkeg"),p(o,"class","field__name svelte-160lkeg"),p(c,"class","field__desc svelte-160lkeg"),p(m,"class","input svelte-160lkeg"),p(m,"type","number"),p(m,"min",b=n[0].min),p(m,"max",w=n[0].answers.length),p(f,"class","field svelte-160lkeg")},m(x,E){V(x,e,E),_(e,t),_(e,r),_(e,i),_(e,s),_(e,a),De(a,n[0].min),V(x,u,E),V(x,f,E),_(f,o),_(f,h),_(f,c),_(f,d),_(f,m),De(m,n[0].max),g||(A=[ee(a,"input",n[6]),ee(m,"input",n[7])],g=!0)},p(x,E){E&1&&l!==(l=x[0].answers.length)&&p(a,"max",l),E&1&&vt(a.value)!==x[0].min&&De(a,x[0].min),E&1&&b!==(b=x[0].min)&&p(m,"min",b),E&1&&w!==(w=x[0].answers.length)&&p(m,"max",w),E&1&&vt(m.value)!==x[0].max&&De(m,x[0].max)},d(x){x&&H(e),x&&H(u),x&&H(f),g=!1,Qe(A)}}}function lu(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,m,b,w,g,A,x,E,q,S,U,v,y,M,$,F,R,I,O,C,k,j,N,Z,Y,z,B,L,D,ie,be,ne,X,ue,ke,Se,Be,st,Fe,Pe,we,me,Re,Oe,$e,tt,Ee,Me,Ne,We,kt,je,nt,qe,Ue,Ge,lt,Le,Je,qt,At,jt,rt,ut,ze,Ye,Xe,yt,bt,en,Ve,Ke,fn,de;i=new Ir({}),f=new Wo({props:{question:n[0]}});let pe=n[0].ty==at.Multiple&&ji(n);function Ct(ve){n[8](ve)}let Ft={};n[0]!==void 0&&(Ft.question=n[0]),O=new ru({props:Ft}),Pt.push(()=>sn(O,"question",Ct));function aa(ve){n[9](ve)}let ai={min:Jl,max:Yl};n[0].answer_time!==void 0&&(ai.value=n[0].answer_time),X=new Wr({props:ai}),Pt.push(()=>sn(X,"value",aa));function la(ve){n[10](ve)}let li={min:ro,max:io};return n[0].bonus_score_time!==void 0&&(li.value=n[0].bonus_score_time),we=new Wr({props:li}),Pt.push(()=>sn(we,"value",la)),{c(){e=T("main"),t=T("header"),r=T("button"),oe(i.$$.fragment),s=re(`\r
      Back`),a=P(),l=T("button"),l.textContent="Save",u=P(),oe(f.$$.fragment),o=P(),h=T("div"),c=T("p"),c.textContent="Question",d=P(),m=T("p"),m.textContent="Enter the question to ask the players",b=P(),w=T("textarea"),g=P(),A=T("div"),x=T("div"),E=T("p"),E.textContent="Question Type",q=P(),S=T("p"),S.textContent="The type of question to present",U=P(),v=T("select"),y=T("option"),M=re("Single Choice"),$=T("option"),F=re("Multiple Choice"),R=P(),pe&&pe.c(),I=P(),oe(O.$$.fragment),k=P(),j=T("div"),N=T("h2"),N.textContent="Timing",Z=P(),Y=T("p"),Y.textContent="Below you can configuring the timing for different events",z=P(),B=T("div"),L=T("div"),D=T("span"),D.textContent="Answer Time",ie=P(),be=T("p"),be.textContent="Time the players have to answer the question",ne=P(),oe(X.$$.fragment),ke=P(),Se=T("div"),Be=T("span"),Be.textContent="Bonus Score Time",st=P(),Fe=T("p"),Fe.textContent="Time the players must answer within for bonus scores",Pe=P(),oe(we.$$.fragment),Re=P(),Oe=T("div"),$e=T("h2"),$e.textContent="Scoring",tt=P(),Ee=T("p"),Ee.textContent=`Score is awarded to players based on how quickly the player answers the\r
      question. You can configure the minimum and maximum values for this below`,Me=P(),Ne=T("div"),We=T("label"),kt=T("span"),kt.textContent="Min Score",je=P(),nt=T("p"),nt.textContent="The minimum amount of score to award for this question",qe=P(),Ue=T("input"),lt=P(),Le=T("label"),Je=T("span"),Je.textContent="Max Score",qt=P(),At=T("p"),At.textContent="The maximum amount of score to award for this question",jt=P(),rt=T("input"),ze=P(),Ye=T("label"),Xe=T("span"),Xe.textContent="Bonus Score",yt=P(),bt=T("p"),bt.textContent="The amount of score to add for being within the bonus time",en=P(),Ve=T("input"),p(r,"class","btn btn--icon"),p(l,"class","btn"),p(t,"class","header btn-row svelte-160lkeg"),p(c,"class","field__name svelte-160lkeg"),p(m,"class","field__desc svelte-160lkeg"),p(w,"class","question__text input svelte-160lkeg"),p(w,"cols","30"),p(w,"rows","10"),p(h,"class","field svelte-160lkeg"),p(E,"class","field__name svelte-160lkeg"),p(S,"class","field__desc svelte-160lkeg"),y.__value=at.Single,y.value=y.__value,$.__value=at.Multiple,$.value=$.__value,p(v,"class","input svelte-160lkeg"),n[0].ty===void 0&&it(()=>n[5].call(v)),p(x,"class","field svelte-160lkeg"),p(A,"class","field-group svelte-160lkeg"),p(N,"class","group__title svelte-160lkeg"),p(Y,"class","group__desc svelte-160lkeg"),p(D,"class","field__name svelte-160lkeg"),p(be,"class","field__desc svelte-160lkeg"),p(L,"class","field svelte-160lkeg"),p(Be,"class","field__name svelte-160lkeg"),p(Fe,"class","field__desc svelte-160lkeg"),p(Se,"class","field svelte-160lkeg"),p(B,"class","group__value field-group svelte-160lkeg"),p(j,"class","group"),p($e,"class","group__title svelte-160lkeg"),p(Ee,"class","group__desc svelte-160lkeg"),p(kt,"class","field__name svelte-160lkeg"),p(nt,"class","field__desc svelte-160lkeg"),p(Ue,"class","input svelte-160lkeg"),p(Ue,"type","number"),p(Ue,"min",0),p(Ue,"max",Ge=n[0].scoring.max_score),p(We,"class","field svelte-160lkeg"),p(Je,"class","field__name svelte-160lkeg"),p(At,"class","field__desc svelte-160lkeg"),p(rt,"class","input svelte-160lkeg"),p(rt,"type","number"),p(rt,"min",ut=n[0].scoring.min_score),p(rt,"max",1e3),p(Le,"class","field svelte-160lkeg"),p(Xe,"class","field__name svelte-160lkeg"),p(bt,"class","field__desc svelte-160lkeg"),p(Ve,"class","input svelte-160lkeg"),p(Ve,"type","number"),p(Ve,"min",0),p(Ve,"max",1e3),p(Ye,"class","field svelte-160lkeg"),p(Ne,"class","group__value field-group svelte-160lkeg"),p(Oe,"class","group"),p(e,"class","main svelte-160lkeg")},m(ve,pt){V(ve,e,pt),_(e,t),_(t,r),ae(i,r,null),_(r,s),_(t,a),_(t,l),_(e,u),ae(f,e,null),_(e,o),_(e,h),_(h,c),_(h,d),_(h,m),_(h,b),_(h,w),De(w,n[0].text),_(e,g),_(e,A),_(A,x),_(x,E),_(x,q),_(x,S),_(x,U),_(x,v),_(v,y),_(y,M),_(v,$),_($,F),Qt(v,n[0].ty,!0),_(A,R),pe&&pe.m(A,null),_(e,I),ae(O,e,null),_(e,k),_(e,j),_(j,N),_(j,Z),_(j,Y),_(j,z),_(j,B),_(B,L),_(L,D),_(L,ie),_(L,be),_(L,ne),ae(X,L,null),_(B,ke),_(B,Se),_(Se,Be),_(Se,st),_(Se,Fe),_(Se,Pe),ae(we,Se,null),_(e,Re),_(e,Oe),_(Oe,$e),_(Oe,tt),_(Oe,Ee),_(Oe,Me),_(Oe,Ne),_(Ne,We),_(We,kt),_(We,je),_(We,nt),_(We,qe),_(We,Ue),De(Ue,n[0].scoring.min_score),_(Ne,lt),_(Ne,Le),_(Le,Je),_(Le,qt),_(Le,At),_(Le,jt),_(Le,rt),De(rt,n[0].scoring.max_score),_(Ne,ze),_(Ne,Ye),_(Ye,Xe),_(Ye,yt),_(Ye,bt),_(Ye,en),_(Ye,Ve),De(Ve,n[0].scoring.bonus_score),Ke=!0,fn||(de=[ee(r,"click",n[1]),ee(l,"click",n[3]),ee(w,"input",n[4]),ee(v,"change",n[5]),ee(v,"change",n[2]),ee(Ue,"input",n[11]),ee(rt,"input",n[12]),ee(Ve,"input",n[13])],fn=!0)},p(ve,[pt]){const oi={};pt&1&&(oi.question=ve[0]),f.$set(oi),pt&1&&De(w,ve[0].text),pt&1&&Qt(v,ve[0].ty),ve[0].ty==at.Multiple?pe?pe.p(ve,pt):(pe=ji(ve),pe.c(),pe.m(A,null)):pe&&(pe.d(1),pe=null);const ui={};!C&&pt&1&&(C=!0,ui.question=ve[0],rn(()=>C=!1)),O.$set(ui);const ci={};!ue&&pt&1&&(ue=!0,ci.value=ve[0].answer_time,rn(()=>ue=!1)),X.$set(ci);const fi={};!me&&pt&1&&(me=!0,fi.value=ve[0].bonus_score_time,rn(()=>me=!1)),we.$set(fi),(!Ke||pt&1&&Ge!==(Ge=ve[0].scoring.max_score))&&p(Ue,"max",Ge),pt&1&&vt(Ue.value)!==ve[0].scoring.min_score&&De(Ue,ve[0].scoring.min_score),(!Ke||pt&1&&ut!==(ut=ve[0].scoring.min_score))&&p(rt,"min",ut),pt&1&&vt(rt.value)!==ve[0].scoring.max_score&&De(rt,ve[0].scoring.max_score),pt&1&&vt(Ve.value)!==ve[0].scoring.bonus_score&&De(Ve,ve[0].scoring.bonus_score)},i(ve){Ke||(W(i.$$.fragment,ve),W(f.$$.fragment,ve),W(O.$$.fragment,ve),W(X.$$.fragment,ve),W(we.$$.fragment,ve),Ke=!0)},o(ve){J(i.$$.fragment,ve),J(f.$$.fragment,ve),J(O.$$.fragment,ve),J(X.$$.fragment,ve),J(we.$$.fragment,ve),Ke=!1},d(ve){ve&&H(e),le(i),le(f),pe&&pe.d(),le(O),le(X),le(we),fn=!1,Qe(de)}}}function ou(n,e,t){let{question:r}=e;async function i(){await $r("Confirm Back","Are you sure you want to go back? You will loose any unsaved progress")&&Pr()}function s(){t(0,r=mo(r))}function a(){let A=0;for(const x of r.answers)x.correct&&(A+=1);return A}function l(){if(a()<1){Zt("No answers","You must select atleast 1 answer as a correct answer");return}if(t(0,r.text=r.text.trim(),r),r.text.length<1){Zt("Empty quesiton","The question text must not be empty");return}for(let A=0;A<r.answers.length;A++){const x=r.answers[A];if(x.value=x.value.trim(),x.value.length<1){Zt("Empty answer",`Answer number ${A+1} must not be blank`);return}}ho(r),Pr()}function u(){r.text=this.value,t(0,r)}function f(){r.ty=br(this),t(0,r)}function o(){r.min=vt(this.value),t(0,r)}function h(){r.max=vt(this.value),t(0,r)}function c(A){r=A,t(0,r)}function d(A){n.$$.not_equal(r.answer_time,A)&&(r.answer_time=A,t(0,r))}function m(A){n.$$.not_equal(r.bonus_score_time,A)&&(r.bonus_score_time=A,t(0,r))}function b(){r.scoring.min_score=vt(this.value),t(0,r)}function w(){r.scoring.max_score=vt(this.value),t(0,r)}function g(){r.scoring.bonus_score=vt(this.value),t(0,r)}return n.$$set=A=>{"question"in A&&t(0,r=A.question)},n.$$.update=()=>{if(n.$$.dirty&1&&r.ty===at.Multiple){let A=a();r.max>A&&t(0,r.max=A,r),r.max<r.min&&t(0,r.max=r.min,r)}},[r,i,s,l,u,f,o,h,c,d,m,b,w,g]}class uu extends xe{constructor(e){super(),Ae(this,e,ou,lu,Ce,{question:0})}}function cu(n){let e;return{c(){e=T("div"),p(e,"class","spin svelte-1ku7j7d")},m(t,r){V(t,e,r)},p:G,i:G,o:G,d(t){t&&H(e)}}}class fu extends xe{constructor(e){super(),Ae(this,e,null,cu,Ce,{})}}function du(n){let e,t,r,i,s,a;return t=new fu({}),{c(){e=T("main"),oe(t.$$.fragment),r=P(),i=T("p"),s=re(n[0]),p(i,"class","text svelte-1n3hv6a"),p(e,"class","main svelte-1n3hv6a")},m(l,u){V(l,e,u),ae(t,e,null),_(e,r),_(e,i),_(i,s),a=!0},p(l,[u]){(!a||u&1)&&Ie(s,l[0])},i(l){a||(W(t.$$.fragment,l),a=!0)},o(l){J(t.$$.fragment,l),a=!1},d(l){l&&H(e),le(t)}}}function hu(n,e,t){let{text:r}=e;return n.$$set=i=>{"text"in i&&t(0,r=i.text)},[r]}class si extends xe{constructor(e){super(),Ae(this,e,hu,du,Ce,{text:0})}}function mu(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),p(t,"d","M0 0h24v24H0z"),p(t,"fill","none"),p(r,"d","M8 5v14l11-7z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 24 24"),p(e,"width","48px"),p(e,"height","48px"),p(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Fr extends xe{constructor(e){super(),Ae(this,e,null,mu,Ce,{})}}function Di(n){let e,t,r,i,s,a;return t=new Fr({}),{c(){e=T("button"),oe(t.$$.fragment),p(e,"class","play svelte-ks6myu")},m(l,u){V(l,e,u),ae(t,e,null),i=!0,s||(a=ee(e,"click",n[3]),s=!0)},p:G,i(l){i||(W(t.$$.fragment,l),it(()=>{i&&(r||(r=He(e,et,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){J(t.$$.fragment,l),r||(r=He(e,et,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&H(e),le(t),l&&r&&r.end(),s=!1,a()}}}function pu(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,m,b;r=new Ir({});let w=!n[1]&&Di(n);return{c(){e=T("main"),t=T("button"),oe(r.$$.fragment),i=P(),s=T("h1"),s.textContent="Enter Code",a=P(),l=T("p"),l.textContent="Please enter your quiz code below",u=P(),f=T("div"),o=T("input"),h=P(),w&&w.c(),p(t,"class","back back--floating"),p(o,"class","input svelte-ks6myu"),p(o,"type","text"),p(o,"minlength",Jn),p(o,"maxlength",Jn),p(o,"placeholder","X".repeat(Jn)),p(f,"class","form svelte-ks6myu"),p(e,"class","main svelte-ks6myu")},m(g,A){V(g,e,A),_(e,t),ae(r,t,null),_(e,i),_(e,s),_(e,a),_(e,l),_(e,u),_(e,f),_(f,o),De(o,n[0]),_(f,h),w&&w.m(f,null),d=!0,m||(b=[ee(t,"click",$n),ee(o,"input",n[4]),ee(o,"input",n[2])],m=!0)},p(g,[A]){A&1&&o.value!==g[0]&&De(o,g[0]),g[1]?w&&(ht(),J(w,1,1,()=>{w=null}),mt()):w?(w.p(g,A),A&2&&W(w,1)):(w=Di(g),w.c(),W(w,1),w.m(f,null))},i(g){d||(W(r.$$.fragment,g),W(w),it(()=>{d&&(c||(c=He(e,et,{},!0)),c.run(1))}),d=!0)},o(g){J(r.$$.fragment,g),J(w),c||(c=He(e,et,{},!1)),c.run(0),d=!1},d(g){g&&H(e),le(r),w&&w.d(),g&&c&&c.end(),m=!1,Qe(b)}}}function _u(n,e,t){let r="",i=!0;function s(){t(0,r=r.toUpperCase().replace(/[^A-Z0-9]/,"")),t(1,i=r.length!=Jn)}function a(){Yt({ty:Ht.Connect,token:r}).then(()=>Ta(r)).catch(u=>{console.error("Failed to connect",u),Zt("Failed to connect",ei[u])})}function l(){r=this.value,t(0,r)}return[r,i,s,a,l]}class gu extends xe{constructor(e){super(),Ae(this,e,_u,pu,Ce,{})}}async function Gr(n){try{await Yt({ty:Ht.Kick,id:n})}catch(e){console.error("Error while attempting to kick",e)}}async function Kn(n){try{await Yt({ty:Ht.HostAction,action:n})}catch(e){console.error("Error while attempting host action",n,e)}}async function vu(){try{await Yt({ty:Ht.Ready})}catch(n){console.error("Error while attempting to ready",n)}}const yu={Answered:["Hmm I wonder if you got it right....","It definitely had to be that one! ","Yeah it was probably that one... ","0_0 good luck i guess..","Are you sure it was that one..?"," Probbably right","It gotta be that one!","If you say so ","1 + 1 = 5?","Was definitely that one! "," don't tell them the answer","Made it in time ","Nice answer ","Mastermind "],[Nt.Correct]:["You did it!","That one was right!","Good job!","Yup that was it!","Nicely done ","Brainy ","Smarty pants "],[Nt.Incorrect]:["Ooops..","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"],[Nt.Partial]:["Almost there...","Not quite there","Just about...","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"]};function ta(n){const e=yu[n];return e[Yn(0,e.length-1)]}function bu(n){let e,t,r,i,s,a;return{c(){e=T("main"),t=T("h1"),t.textContent="Waiting...",r=P(),i=T("p"),i.textContent=`${n[0]}`,p(t,"class","title svelte-1p2ou5x"),p(i,"class","text svelte-1p2ou5x"),p(e,"class","main svelte-1p2ou5x")},m(l,u){V(l,e,u),_(e,t),_(e,r),_(e,i),a=!0},p:G,i(l){a||(it(()=>{a&&(s||(s=He(e,et,{},!0)),s.run(1))}),a=!0)},o(l){s||(s=He(e,et,{},!1)),s.run(0),a=!1},d(l){l&&H(e),l&&s&&s.end()}}}function wu(n){return[ta("Answered")]}class ku extends xe{constructor(e){super(),Ae(this,e,wu,bu,Ce,{})}}function Pi(n){return Object.prototype.toString.call(n)==="[object Date]"}function Jr(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((i,s)=>Jr(n[s],i));return i=>r.map(s=>s(i))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Pi(n)&&Pi(e)){n=n.getTime(),e=e.getTime();const s=e-n;return a=>new Date(n+a*s)}const r=Object.keys(e),i={};return r.forEach(s=>{i[s]=Jr(n[s],e[s])}),s=>{const a={};return r.forEach(l=>{a[l]=i[l](s)}),a}}if(t==="number"){const r=e-n;return i=>n+i*r}throw new Error(`Cannot interpolate ${t} values`)}function na(n,e={}){const t=Kt(n);let r,i=n;function s(a,l){if(n==null)return t.set(n=a),Promise.resolve();i=a;let u=r,f=!1,{delay:o=0,duration:h=400,easing:c=vr,interpolate:d=Jr}=di(di({},e),l);if(h===0)return u&&(u.abort(),u=null),t.set(n=i),Promise.resolve();const m=Yr()+o;let b;return r=Kr(w=>{if(w<m)return!0;f||(b=d(n,a),typeof h=="function"&&(h=h(n,a)),f=!0),u&&(u.abort(),u=null);const g=w-m;return g>h?(t.set(n=a),!1):(t.set(n=b(c(g/h))),!0)}),r.promise}return{set:s,update:(a,l)=>s(a(i,n),l),subscribe:t.subscribe}}function Cu(n){let e=n[0].toFixed(0)+"",t;return{c(){t=re(e)},m(r,i){V(r,t,i)},p(r,[i]){i&1&&e!==(e=r[0].toFixed(0)+"")&&Ie(t,e)},i:G,o:G,d(r){r&&H(t)}}}function Au(n,e,t){let r,{value:i}=e;const s=na(0,{delay:500});return Tt(n,s,a=>t(0,r=a)),n.$$set=a=>{"value"in a&&t(2,i=a.value)},n.$$.update=()=>{n.$$.dirty&4&&s.set(i)},[r,s,i]}class ra extends xe{constructor(e){super(),Ae(this,e,Au,Cu,Ce,{value:2})}}function xu(n){let e,t,r,i,s,a,l,u,f;return{c(){e=fe("svg"),t=fe("g"),r=fe("polygon"),i=fe("polygon"),s=fe("polygon"),a=fe("g"),l=fe("circle"),u=fe("circle"),f=fe("path"),mi(r,"fill","#FFD102"),p(r,"points","371.342,210.903 469.209,150.675 379.787,95.648 281.922,155.874 	"),mi(i,"fill","#FFD102"),p(i,"points","127.994,210.903 225.863,150.675 136.44,95.648 38.576,155.874 	"),p(s,"fill","#FFE368"),p(s,"points",`383.997,197.691 255.992,118.921 127.994,197.691 0,118.921 22.505,382.593 489.495,382.593 
	512,118.921 `),p(l,"fill","#FFAA0E"),p(l,"cx","99.947"),p(l,"cy","320.636"),p(l,"r","8.44"),p(u,"fill","#FFAA0E"),p(u,"cx","66.184"),p(u,"cy","286.878"),p(u,"r","8.44"),p(f,"fill","#FFAA0E"),p(f,"d",`M489.495,371.341H22.505C10.076,371.341,0,381.416,0,393.846c0,12.43,10.076,22.505,22.505,22.505
		h466.989c12.43,0,22.505-10.076,22.505-22.505C512,381.416,501.924,371.341,489.495,371.341z`),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(e,"viewBox","0 0 512 512"),p(e,"xml:space","preserve")},m(o,h){V(o,e,h),_(e,t),_(t,r),_(t,i),_(e,s),_(e,a),_(a,l),_(a,u),_(a,f)},p:G,i:G,o:G,d(o){o&&H(e)}}}class $u extends xe{constructor(e){super(),Ae(this,e,null,xu,Ce,{})}}function Zi(n,e,t){const r=n.slice();return r[4]=e[t],r[6]=t,r}function Li(n){let e,t,r;return{c(){e=T("button"),e.textContent="Restart",p(e,"class","btn")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[3]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function zi(n){let e,t,r;return t=new $u({}),{c(){e=T("div"),oe(t.$$.fragment),p(e,"class","crown svelte-1x6mh6t")},m(i,s){V(i,e,s),ae(t,e,null),r=!0},i(i){r||(W(t.$$.fragment,i),r=!0)},o(i){J(t.$$.fragment,i),r=!1},d(i){i&&H(e),le(t)}}}function Hi(n,e){let t,r,i,s=Ci(e[6]+1)+"",a,l,u,f=e[4].name+"",o,h,c,d,m,b,w=G,g,A=e[6]==0&&zi();return d=new ra({props:{value:e[4].score}}),{key:n,first:null,c(){t=T("tr"),r=T("td"),A&&A.c(),i=P(),a=re(s),l=P(),u=T("td"),o=re(f),h=P(),c=T("td"),oe(d.$$.fragment),m=P(),p(r,"class","player__place svelte-1x6mh6t"),p(u,"class","player__name svelte-1x6mh6t"),p(c,"class","player_score svelte-1x6mh6t"),p(t,"class","player svelte-1x6mh6t"),this.first=t},m(x,E){V(x,t,E),_(t,r),A&&A.m(r,null),_(r,i),_(r,a),_(t,l),_(t,u),_(u,o),_(t,h),_(t,c),ae(d,c,null),_(t,m),g=!0},p(x,E){e=x,e[6]==0?A?E&1&&W(A,1):(A=zi(),A.c(),W(A,1),A.m(r,i)):A&&(ht(),J(A,1,1,()=>{A=null}),mt()),(!g||E&1)&&s!==(s=Ci(e[6]+1)+"")&&Ie(a,s),(!g||E&1)&&f!==(f=e[4].name+"")&&Ie(o,f);const q={};E&1&&(q.value=e[4].score),d.$set(q)},r(){b=t.getBoundingClientRect()},f(){kr(t),w()},a(){w(),w=wr(t,b,Mr,{})},i(x){g||(W(A),W(d.$$.fragment,x),g=!0)},o(x){J(A),J(d.$$.fragment,x),g=!1},d(x){x&&H(t),A&&A.d(),le(d)}}}function Eu(n){let e,t,r,i,s=n[1].token+"",a,l,u,f=n[1].config.name+"",o,h,c,d=n[1].config.text+"",m,b,w,g,A,x,E,q,S,U,v=[],y=new Map,M,$,F,R,I=n[1].host&&Li(n),O=n[0].players;const C=k=>k[4].id;for(let k=0;k<O.length;k+=1){let j=Zi(n,O,k),N=C(j);y.set(N,v[k]=Hi(N,j))}return{c(){e=T("main"),t=T("div"),r=T("div"),i=T("h1"),a=re(s),l=P(),u=T("h2"),o=re(f),h=P(),c=T("p"),m=re(d),b=P(),w=T("div"),g=T("button"),g.textContent="Leave",A=P(),I&&I.c(),x=P(),E=T("table"),q=T("thead"),q.innerHTML=`<tr><th class="svelte-1x6mh6t">Place</th> 
          <th class="svelte-1x6mh6t">Name</th> 
          <th class="svelte-1x6mh6t">Score</th></tr>`,S=P(),U=T("tbody");for(let k=0;k<v.length;k+=1)v[k].c();p(i,"class","token svelte-1x6mh6t"),p(r,"class","head svelte-1x6mh6t"),p(u,"class","name"),p(c,"class","desc svelte-1x6mh6t"),p(g,"class","btn"),p(w,"class","btn-row btn-row--fill"),p(E,"class","players svelte-1x6mh6t"),p(t,"class","quiz svelte-1x6mh6t"),p(e,"class","main svelte-1x6mh6t")},m(k,j){V(k,e,j),_(e,t),_(t,r),_(r,i),_(i,a),_(t,l),_(t,u),_(u,o),_(t,h),_(t,c),_(c,m),_(t,b),_(t,w),_(w,g),_(w,A),I&&I.m(w,null),_(t,x),_(t,E),_(E,q),_(E,S),_(E,U);for(let N=0;N<v.length;N+=1)v[N]&&v[N].m(U,null);$=!0,F||(R=ee(g,"click",n[2]),F=!0)},p(k,[j]){if((!$||j&2)&&s!==(s=k[1].token+"")&&Ie(a,s),(!$||j&2)&&f!==(f=k[1].config.name+"")&&Ie(o,f),(!$||j&2)&&d!==(d=k[1].config.text+"")&&Ie(m,d),k[1].host?I?I.p(k,j):(I=Li(k),I.c(),I.m(w,null)):I&&(I.d(1),I=null),j&1){O=k[0].players,ht();for(let N=0;N<v.length;N+=1)v[N].r();v=Ar(v,j,C,1,k,O,y,U,Cr,Hi,null,Zi);for(let N=0;N<v.length;N+=1)v[N].a();mt()}},i(k){if(!$){for(let j=0;j<O.length;j+=1)W(v[j]);it(()=>{$&&(M||(M=He(e,et,{},!0)),M.run(1))}),$=!0}},o(k){for(let j=0;j<v.length;j+=1)J(v[j]);M||(M=He(e,et,{},!1)),M.run(0),$=!1},d(k){k&&H(e),I&&I.d();for(let j=0;j<v.length;j+=1)v[j].d();k&&M&&M.end(),F=!1,R()}}}function Tu(n,e,t){let{summary:r}=e,{gameData:i}=e;async function s(){i.host&&!await $r("Confirm Leave","Are you sure you want to leave? Leaving will remove all other players from the game")||(await Gr(i.id),$n())}const a=()=>Kn(Sn.Reset);return n.$$set=l=>{"summary"in l&&t(0,r=l.summary),"gameData"in l&&t(1,i=l.gameData)},[r,i,s,a]}class Su extends xe{constructor(e){super(),Ae(this,e,Tu,Eu,Ce,{summary:0,gameData:1})}}function Bi(n,e,t){const r=n.slice();return r[10]=e[t],r[12]=t,r}function Vi(n,e,t){const r=n.slice();return r[10]=e[t],r[12]=t,r}function Qi(n){let e,t,r,i,s;return{c(){e=T("div"),t=T("img"),p(t,"class","image svelte-1ctsvpv"),Cn(t.src,r=Vr(n[0].token,n[2].image.uuid))||p(t,"src",r),p(t,"data-fit",i=n[2].image.fit),p(t,"alt",s=n[2].text),p(e,"class","image-wrapper svelte-1ctsvpv")},m(a,l){V(a,e,l),_(e,t)},p(a,l){l&5&&!Cn(t.src,r=Vr(a[0].token,a[2].image.uuid))&&p(t,"src",r),l&4&&i!==(i=a[2].image.fit)&&p(t,"data-fit",i),l&4&&s!==(s=a[2].text)&&p(t,"alt",s)},d(a){a&&H(e)}}}function Mu(n){let e,t,r,i,s,a,l,u=n[2].answers,f=[];for(let o=0;o<u.length;o+=1)f[o]=Wi(Bi(n,u,o));return{c(){e=T("div");for(let o=0;o<f.length;o+=1)f[o].c();t=P(),r=T("button"),i=re("Submit"),p(e,"class","answers svelte-1ctsvpv"),p(r,"class","btn submit svelte-1ctsvpv"),r.disabled=s=n[3].length<n[2].min},m(o,h){V(o,e,h);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);V(o,t,h),V(o,r,h),_(r,i),a||(l=ee(r,"click",n[5]),a=!0)},p(o,h){if(h&76){u=o[2].answers;let c;for(c=0;c<u.length;c+=1){const d=Bi(o,u,c);f[c]?f[c].p(d,h):(f[c]=Wi(d),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=u.length}h&12&&s!==(s=o[3].length<o[2].min)&&(r.disabled=s)},d(o){o&&H(e),In(f,o),o&&H(t),o&&H(r),a=!1,l()}}}function Iu(n){let e,t=n[2].answers,r=[];for(let i=0;i<t.length;i+=1)r[i]=Gi(Vi(n,t,i));return{c(){e=T("div");for(let i=0;i<r.length;i+=1)r[i].c();p(e,"class","answers svelte-1ctsvpv")},m(i,s){V(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,s){if(s&20){t=i[2].answers;let a;for(a=0;a<t.length;a+=1){const l=Vi(i,t,a);r[a]?r[a].p(l,s):(r[a]=Gi(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&H(e),In(r,i)}}}function Wi(n){let e,t=n[10].value+"",r,i,s,a,l;function u(){return n[9](n[12])}return{c(){e=T("button"),r=re(t),i=P(),p(e,"class","answer btn svelte-1ctsvpv"),e.disabled=s=n[3].length>=n[2].max&&!n[3].includes(n[12]),pi(e,"answer--checked",n[3].includes(n[12]))},m(f,o){V(f,e,o),_(e,r),_(e,i),a||(l=ee(e,"click",u),a=!0)},p(f,o){n=f,o&4&&t!==(t=n[10].value+"")&&Ie(r,t),o&12&&s!==(s=n[3].length>=n[2].max&&!n[3].includes(n[12]))&&(e.disabled=s),o&8&&pi(e,"answer--checked",n[3].includes(n[12]))},d(f){f&&H(e),a=!1,l()}}}function Gi(n){let e,t=n[10].value+"",r,i,s,a;function l(){return n[8](n[12])}return{c(){e=T("button"),r=re(t),i=P(),p(e,"class","answer btn svelte-1ctsvpv")},m(u,f){V(u,e,f),_(e,r),_(e,i),s||(a=ee(e,"click",l),s=!0)},p(u,f){n=u,f&4&&t!==(t=n[10].value+"")&&Ie(r,t)},d(u){u&&H(e),s=!1,a()}}}function Fu(n){let e,t=dr(n[1])+"",r,i,s,a,l,u,f=n[2].text+"",o,h,c,d=n[2].image!==null&&Qi(n);function m(g,A){if(g[2].ty===at.Single)return Iu;if(g[2].ty===at.Multiple)return Mu}let b=m(n),w=b&&b(n);return{c(){e=T("p"),r=re(t),i=P(),s=T("main"),d&&d.c(),a=P(),l=T("div"),u=T("p"),o=re(f),h=P(),w&&w.c(),p(e,"class","time svelte-1ctsvpv"),p(u,"class","text svelte-1ctsvpv"),p(l,"class","content svelte-1ctsvpv"),p(l,"data-image",c=n[2].image!==null),p(s,"class","main svelte-1ctsvpv")},m(g,A){V(g,e,A),_(e,r),V(g,i,A),V(g,s,A),d&&d.m(s,null),_(s,a),_(s,l),_(l,u),_(u,o),_(l,h),w&&w.m(l,null)},p(g,[A]){A&2&&t!==(t=dr(g[1])+"")&&Ie(r,t),g[2].image!==null?d?d.p(g,A):(d=Qi(g),d.c(),d.m(s,a)):d&&(d.d(1),d=null),A&4&&f!==(f=g[2].text+"")&&Ie(o,f),b===(b=m(g))&&w?w.p(g,A):(w&&w.d(1),w=b&&b(g),w&&(w.c(),w.m(l,null))),A&4&&c!==(c=g[2].image!==null)&&p(l,"data-image",c)},i:G,o:G,d(g){g&&H(e),g&&H(i),g&&H(s),d&&d.d(),w&&w.d()}}}function Uu(n,e,t){let{gameData:r}=e,{timer:i}=e,{question:s}=e,{answered:a}=e,l=[];async function u(d){t(7,a=!0);try{await Yt({ty:Ht.Answer,answer:{ty:Br.Single,answer:d}})}catch(m){console.error("Error while attempting to answer",m)}}async function f(){t(7,a=!0);try{await Yt({ty:Ht.Answer,answer:{ty:Br.Multiple,answers:l}})}catch(d){console.error("Error while attempting to answer",d)}}function o(d){l.includes(d)?t(3,l=l.filter(m=>m!=d)):(l.push(d),t(3,l))}const h=d=>u(d),c=d=>o(d);return n.$$set=d=>{"gameData"in d&&t(0,r=d.gameData),"timer"in d&&t(1,i=d.timer),"question"in d&&t(2,s=d.question),"answered"in d&&t(7,a=d.answered)},[r,i,s,l,u,f,o,a,h,c]}class Nu extends xe{constructor(e){super(),Ae(this,e,Uu,Fu,Ce,{gameData:0,timer:1,question:2,answered:7})}}function Ji(n,e,t){const r=n.slice();return r[10]=e[t],r}function Yi(n){let e;return{c(){e=T("span"),e.textContent="Starting",p(e,"class","starting")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function Xi(n){let e,t=dr(n[0])+"",r;return{c(){e=T("span"),r=re(t),p(e,"class","time svelte-1t27o1x")},m(i,s){V(i,e,s),_(e,r)},p(i,s){s&1&&t!==(t=dr(i[0])+"")&&Ie(r,t)},d(i){i&&H(e)}}}function Ki(n){let e,t,r=n[0].elapsed!==n[0].total&&es(n);function i(l,u){if(l[4]===_t.Starting)return Ou;if(l[2].length>0&&l[4]===_t.Lobby)return Ru}let s=i(n),a=s&&s(n);return{c(){r&&r.c(),e=P(),a&&a.c(),t=Xt()},m(l,u){r&&r.m(l,u),V(l,e,u),a&&a.m(l,u),V(l,t,u)},p(l,u){l[0].elapsed!==l[0].total?r?r.p(l,u):(r=es(l),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s===(s=i(l))&&a?a.p(l,u):(a&&a.d(1),a=s&&s(l),a&&(a.c(),a.m(t.parentNode,t)))},d(l){r&&r.d(l),l&&H(e),a&&a.d(l),l&&H(t)}}}function es(n){let e,t,r;return{c(){e=T("button"),e.textContent="Skip",p(e,"class","btn")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[8]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function Ru(n){let e,t,r;return{c(){e=T("button"),e.textContent="Start",p(e,"class","btn")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[6]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function Ou(n){let e,t,r;return{c(){e=T("button"),e.textContent="Cancel",p(e,"class","btn")},m(i,s){V(i,e,s),t||(r=ee(e,"click",n[7]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function ts(n){let e;return{c(){e=T("th"),e.textContent="Actions",p(e,"class","svelte-1t27o1x")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function ns(n){let e,t,r,i;function s(){return n[9](n[10])}return{c(){e=T("td"),t=T("button"),t.textContent="Kick",p(t,"class","btn"),p(e,"class","player__action svelte-1t27o1x")},m(a,l){V(a,e,l),_(e,t),r||(i=ee(t,"click",s),r=!0)},p(a,l){n=a},d(a){a&&H(e),r=!1,i()}}}function rs(n,e){let t,r,i=e[10].name+"",s,a,l,u,f,o,h,c=G,d;u=new ra({props:{value:e[3][e[10].id]??0}});let m=e[1].host&&ns(e);return{key:n,first:null,c(){t=T("tr"),r=T("td"),s=re(i),a=P(),l=T("td"),oe(u.$$.fragment),f=P(),m&&m.c(),o=P(),p(r,"class","player__name svelte-1t27o1x"),p(l,"class","player_score svelte-1t27o1x"),p(t,"class","player svelte-1t27o1x"),this.first=t},m(b,w){V(b,t,w),_(t,r),_(r,s),_(t,a),_(t,l),ae(u,l,null),_(t,f),m&&m.m(t,null),_(t,o),d=!0},p(b,w){e=b,(!d||w&4)&&i!==(i=e[10].name+"")&&Ie(s,i);const g={};w&12&&(g.value=e[3][e[10].id]??0),u.$set(g),e[1].host?m?m.p(e,w):(m=ns(e),m.c(),m.m(t,o)):m&&(m.d(1),m=null)},r(){h=t.getBoundingClientRect()},f(){kr(t),c()},a(){c(),c=wr(t,h,Mr,{})},i(b){d||(W(u.$$.fragment,b),d=!0)},o(b){J(u.$$.fragment,b),d=!1},d(b){b&&H(t),le(u),m&&m.d()}}}function qu(n){let e,t,r,i,s=n[1].token+"",a,l,u,f,o,h,c=n[1].config.name+"",d,m,b,w=n[1].config.text+"",g,A,x,E,q,S,U,v,y,M,$,F,R,I,O,C=[],k=new Map,j,N,Z,Y,z=n[4]===_t.Starting&&Yi(),B=n[0].elapsed!==n[0].total&&Xi(n),L=n[1].host&&Ki(n),D=n[1].host&&ts(),ie=n[2];const be=ne=>ne[10].id;for(let ne=0;ne<ie.length;ne+=1){let X=Ji(n,ie,ne),ue=be(X);k.set(ue,C[ne]=rs(ue,X))}return{c(){e=T("main"),t=T("div"),r=T("div"),i=T("h1"),a=re(s),l=P(),u=T("p"),z&&z.c(),f=P(),B&&B.c(),o=P(),h=T("h2"),d=re(c),m=P(),b=T("p"),g=re(w),A=P(),x=T("div"),E=T("button"),E.textContent="Leave",q=P(),L&&L.c(),S=P(),U=T("table"),v=T("thead"),y=T("tr"),M=T("th"),M.textContent="Name",$=P(),F=T("th"),F.textContent="Score",R=P(),D&&D.c(),I=P(),O=T("tbody");for(let ne=0;ne<C.length;ne+=1)C[ne].c();p(i,"class","token svelte-1t27o1x"),p(u,"class","timing svelte-1t27o1x"),p(r,"class","head svelte-1t27o1x"),p(h,"class","name"),p(b,"class","desc svelte-1t27o1x"),p(E,"class","btn"),p(x,"class","btn-row btn-row--fill"),p(M,"class","svelte-1t27o1x"),p(F,"class","svelte-1t27o1x"),p(U,"class","players svelte-1t27o1x"),p(t,"class","quiz svelte-1t27o1x"),p(e,"class","main svelte-1t27o1x")},m(ne,X){V(ne,e,X),_(e,t),_(t,r),_(r,i),_(i,a),_(r,l),_(r,u),z&&z.m(u,null),_(u,f),B&&B.m(u,null),_(t,o),_(t,h),_(h,d),_(t,m),_(t,b),_(b,g),_(t,A),_(t,x),_(x,E),_(x,q),L&&L.m(x,null),_(t,S),_(t,U),_(U,v),_(v,y),_(y,M),_(y,$),_(y,F),_(y,R),D&&D.m(y,null),_(U,I),_(U,O);for(let ue=0;ue<C.length;ue+=1)C[ue]&&C[ue].m(O,null);N=!0,Z||(Y=ee(E,"click",n[5]),Z=!0)},p(ne,[X]){if((!N||X&2)&&s!==(s=ne[1].token+"")&&Ie(a,s),ne[4]===_t.Starting?z||(z=Yi(),z.c(),z.m(u,f)):z&&(z.d(1),z=null),ne[0].elapsed!==ne[0].total?B?B.p(ne,X):(B=Xi(ne),B.c(),B.m(u,null)):B&&(B.d(1),B=null),(!N||X&2)&&c!==(c=ne[1].config.name+"")&&Ie(d,c),(!N||X&2)&&w!==(w=ne[1].config.text+"")&&Ie(g,w),ne[1].host?L?L.p(ne,X):(L=Ki(ne),L.c(),L.m(x,null)):L&&(L.d(1),L=null),ne[1].host?D||(D=ts(),D.c(),D.m(y,null)):D&&(D.d(1),D=null),X&14){ie=ne[2],ht();for(let ue=0;ue<C.length;ue+=1)C[ue].r();C=Ar(C,X,be,1,ne,ie,k,O,Cr,rs,null,Ji);for(let ue=0;ue<C.length;ue+=1)C[ue].a();mt()}},i(ne){if(!N){for(let X=0;X<ie.length;X+=1)W(C[X]);it(()=>{N&&(j||(j=He(e,et,{},!0)),j.run(1))}),N=!0}},o(ne){for(let X=0;X<C.length;X+=1)J(C[X]);j||(j=He(e,et,{},!1)),j.run(0),N=!1},d(ne){ne&&H(e),z&&z.d(),B&&B.d(),L&&L.d(),D&&D.d();for(let X=0;X<C.length;X+=1)C[X].d();ne&&j&&j.end(),Z=!1,Y()}}}function ju(n,e,t){let{timer:r}=e,{gameData:i}=e,{players:s}=e,{scores:a}=e,{gameState:l}=e;async function u(){const d=i.host?"Are you sure you want to leave? Leaving will remove all other players from the game":"Are you sure you want to leave?";await $r("Confirm Leave",d)&&(await Gr(i.id),$n())}const f=()=>Kn(Sn.Start),o=()=>Kn(Sn.Cancel),h=()=>Kn(Sn.Skip),c=d=>Gr(d.id);return n.$$set=d=>{"timer"in d&&t(0,r=d.timer),"gameData"in d&&t(1,i=d.gameData),"players"in d&&t(2,s=d.players),"scores"in d&&t(3,a=d.scores),"gameState"in d&&t(4,l=d.gameState)},[r,i,s,a,l,u,f,o,h,c]}class ia extends xe{constructor(e){super(),Ae(this,e,ju,qu,Ce,{timer:0,gameData:1,players:2,scores:3,gameState:4})}}function Du(n){let e,t=n[0].count+"",r,i,s=n[0].total+"",a,l,u,f,o=n[1].toFixed(0)+"",h;return{c(){e=T("p"),r=re(t),i=re(" / "),a=re(s),l=P(),u=T("p"),f=re("+"),h=re(o),p(e,"class","ratio"),p(u,"class","score svelte-1dywswa")},m(c,d){V(c,e,d),_(e,r),_(e,i),_(e,a),V(c,l,d),V(c,u,d),_(u,f),_(u,h)},p(c,d){d&1&&t!==(t=c[0].count+"")&&Ie(r,t),d&1&&s!==(s=c[0].total+"")&&Ie(a,s),d&2&&o!==(o=c[1].toFixed(0)+"")&&Ie(h,o)},d(c){c&&H(e),c&&H(l),c&&H(u)}}}function Pu(n){let e,t,r=n[1].toFixed(0)+"",i;return{c(){e=T("p"),t=re("+"),i=re(r),p(e,"class","score svelte-1dywswa")},m(s,a){V(s,e,a),_(e,t),_(e,i)},p(s,a){a&2&&r!==(r=s[1].toFixed(0)+"")&&Ie(i,r)},d(s){s&&H(e)}}}function Zu(n){let e,t,r=n[0].ty+"",i,s,a,l,u,f,o;function h(m,b){if(m[0].ty===Nt.Correct)return Pu;if(m[0].ty===Nt.Partial)return Du}let c=h(n),d=c&&c(n);return{c(){e=T("main"),t=T("h1"),i=re(r),s=P(),a=T("p"),a.textContent=`${n[2]}`,l=P(),d&&d.c(),p(t,"class","title svelte-1dywswa"),p(a,"class","text svelte-1dywswa"),p(e,"class","main svelte-1dywswa"),p(e,"data-type",u=n[0].ty)},m(m,b){V(m,e,b),_(e,t),_(t,i),_(e,s),_(e,a),_(e,l),d&&d.m(e,null),o=!0},p(m,[b]){(!o||b&1)&&r!==(r=m[0].ty+"")&&Ie(i,r),c===(c=h(m))&&d?d.p(m,b):(d&&d.d(1),d=c&&c(m),d&&(d.c(),d.m(e,null))),(!o||b&1&&u!==(u=m[0].ty))&&p(e,"data-type",u)},i(m){o||(it(()=>{o&&(f||(f=He(e,et,{},!0)),f.run(1))}),o=!0)},o(m){f||(f=He(e,et,{},!1)),f.run(0),o=!1},d(m){m&&H(e),d&&d.d(),m&&f&&f.end()}}}function Lu(n,e,t){let r,{score:i}=e;const s=ta(i.ty),a=na(0,{delay:500});return Tt(n,a,l=>t(1,r=l)),n.$$set=l=>{"score"in l&&t(0,i=l.score)},n.$$.update=()=>{n.$$.dirty&1&&(i.ty===Nt.Correct||i.ty===Nt.Partial)&&a.set(i.value)},[i,r,s,a]}class zu extends xe{constructor(e){super(),Ae(this,e,Lu,Zu,Ce,{score:0})}}function Hu(n){let e,t;return e=new si({props:{text:"..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Bu(n){let e,t,r,i;const s=[Yu,Ju],a=[];function l(u,f){return u[8].elapsed>=u[8].total*.25?0:1}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Xt()},m(u,f){a[e].m(u,f),V(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?a[e].p(u,f):(ht(),J(a[o],1,1,()=>{a[o]=null}),mt(),t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r))},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){a[e].d(u),u&&H(r)}}}function Vu(n){let e,t,r,i;const s=[Ku,Xu],a=[];function l(u,f){return u[7]?u[1].length!==1?1:-1:0}return~(e=l(n))&&(t=a[e]=s[e](n)),{c(){t&&t.c(),r=Xt()},m(u,f){~e&&a[e].m(u,f),V(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?~e&&a[e].p(u,f):(t&&(ht(),J(a[o],1,1,()=>{a[o]=null}),mt()),~e?(t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r)):t=null)},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){~e&&a[e].d(u),u&&H(r)}}}function Qu(n){let e,t;return e=new si({props:{text:"Waiting for other players..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Wu(n){let e,t;return e=new ia({props:{gameData:n[0],gameState:n[2],players:n[1],timer:n[8],scores:n[6]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&4&&(s.gameState=r[2]),i&2&&(s.players=r[1]),i&256&&(s.timer=r[8]),i&64&&(s.scores=r[6]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Gu(n){let e,t;return e=new Su({props:{gameData:n[0],summary:n[3]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&8&&(s.summary=r[3]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Ju(n){let e,t;return e=new zu({props:{score:n[5]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&32&&(s.score=r[5]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Yu(n){let e,t;return e=new ia({props:{gameData:n[0],gameState:n[2],players:n[1],timer:n[8],scores:n[6]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&4&&(s.gameState=r[2]),i&2&&(s.players=r[1]),i&256&&(s.timer=r[8]),i&64&&(s.scores=r[6]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Xu(n){let e,t;return e=new ku({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Ku(n){let e,t,r;function i(a){n[9](a)}let s={question:n[4],gameData:n[0],timer:n[8]};return n[7]!==void 0&&(s.answered=n[7]),e=new Nu({props:s}),Pt.push(()=>sn(e,"answered",i)),{c(){oe(e.$$.fragment)},m(a,l){ae(e,a,l),r=!0},p(a,l){const u={};l&16&&(u.question=a[4]),l&1&&(u.gameData=a[0]),l&256&&(u.timer=a[8]),!t&&l&128&&(t=!0,u.answered=a[7],rn(()=>t=!1)),e.$set(u)},i(a){r||(W(e.$$.fragment,a),r=!0)},o(a){J(e.$$.fragment,a),r=!1},d(a){le(e,a)}}}function ec(n){let e,t,r,i;const s=[Gu,Wu,Qu,Vu,Bu,Hu],a=[];function l(u,f){return u[2]===_t.Finished&&u[3]!=null?0:u[0].host||u[2]===_t.Lobby||u[2]===_t.Starting?1:u[2]===_t.AwaitingReady?2:u[2]===_t.AwaitingAnswers&&u[4]!=null?3:u[2]===_t.Marked?4:5}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Xt()},m(u,f){a[e].m(u,f),V(u,r,f),i=!0},p(u,[f]){let o=e;e=l(u),e===o?a[e].p(u,f):(ht(),J(a[o],1,1,()=>{a[o]=null}),mt(),t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r))},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){a[e].d(u),u&&H(r)}}}function tc(n,e,t){let{gameData:r}=e,i=[],s=_t.Lobby,a=null;r.host||i.push({id:r.id,name:r.name??""});let l=null,u={ty:Nt.Incorrect},f={},o,h={total:0,elapsed:0},c=0;function d(){if(h.elapsed===h.total)return;const b=performance.now(),w=b-c;t(8,h.elapsed+=w,h),c=b,h.elapsed>h.total?t(8,h.elapsed=h.total,h):requestAnimationFrame(d)}Bt($t.PlayerData,b=>{console.debug("Other player message",b),i.push(b),t(1,i)}),Bt($t.GameState,b=>{if(console.debug("Game state message",b),t(2,s=b.state),t(7,o=!1),b.state===_t.Lobby)t(6,f={});else if(b.state===_t.Finished){const w=i.map(g=>({score:f[g.id]??0,...g}));w.sort((g,A)=>A.score-g.score),t(3,a={players:w})}}),Bt($t.TimeSync,b=>{console.debug("Time sync message",b),c=performance.now(),t(8,h={total:b.total,elapsed:b.elapsed}),d()}),Bt($t.Question,async b=>{console.debug("Question message",b),t(4,l=b.question),t(5,u={ty:Nt.Incorrect}),!r.host&&(await ql(r.token,l),await vu(),console.debug("Server acknowledged ready state"))}),Bt($t.Scores,b=>{console.debug("Score message",b),t(6,f=b.scores);let w=g=>f[g]??0;t(1,i=i.sort((g,A)=>w(A.id)-w(g.id)))}),Bt($t.Score,b=>{console.debug("Score message",b),t(5,u=b.score)}),Bt($t.Error,b=>{console.error("Server error",b.error)}),Bt($t.Kicked,b=>{if(console.debug("Kick message",b),t(1,i=i.filter(w=>w.id!==b.id)),b.id===r.id&&($n(),b.reason!==Ms.Disconnected)){const w=Ul[b.reason];Zt("Removed from game",w)}}),_s(()=>{});function m(b){o=b,t(7,o)}return n.$$set=b=>{"gameData"in b&&t(0,r=b.gameData)},[r,i,s,a,l,u,f,o,h,m]}class nc extends xe{constructor(e){super(),Ae(this,e,tc,ec,Ce,{gameData:0})}}function rc(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),p(t,"d","M0 0h24v24H0z"),p(t,"fill","none"),p(r,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 24 24"),p(e,"width","48px"),p(e,"height","48px"),p(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class sa extends xe{constructor(e){super(),Ae(this,e,null,rc,Ce,{})}}function is(n,e,t){const r=n.slice();return r[7]=e[t],r}function ss(n){let e,t=n[0].answers,r=[];for(let i=0;i<t.length;i+=1)r[i]=as(is(n,t,i));return{c(){e=T("ul");for(let i=0;i<r.length;i+=1)r[i].c();p(e,"class","answers svelte-123upp3")},m(i,s){V(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,s){if(s&1){t=i[0].answers;let a;for(a=0;a<t.length;a+=1){const l=is(i,t,a);r[a]?r[a].p(l,s):(r[a]=as(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&H(e),In(r,i)}}}function as(n){let e,t=n[7].value+"",r,i,s;return{c(){e=T("li"),r=re(t),i=P(),p(e,"class","answer svelte-123upp3"),p(e,"data-correct",s=n[7].correct)},m(a,l){V(a,e,l),_(e,r),_(e,i)},p(a,l){l&1&&t!==(t=a[7].value+"")&&Ie(r,t),l&1&&s!==(s=a[7].correct)&&p(e,"data-correct",s)},d(a){a&&H(e)}}}function ic(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,m,b,w,g,A,x,E=n[0].text+"",q,S,U,v,y;i=new Ks({}),u=new Xs({}),c=new sa({}),b=new ea({});let M=(n[0].ty==at.Single||n[0].ty==at.Multiple)&&ss(n);return{c(){e=T("div"),t=T("div"),r=T("button"),oe(i.$$.fragment),a=P(),l=T("button"),oe(u.$$.fragment),o=P(),h=T("button"),oe(c.$$.fragment),d=P(),m=T("button"),oe(b.$$.fragment),g=P(),A=T("div"),x=T("p"),q=re(E),S=P(),M&&M.c(),r.disabled=s=n[1]<=0,p(r,"class","btn btn--icon-only btn--surface"),l.disabled=f=n[2]==1,p(l,"class","btn btn--icon-only btn--surface"),p(h,"class","btn btn--icon-only btn--surface"),m.disabled=w=n[1]+1>=n[2],p(m,"class","btn btn--icon-only btn--surface"),p(t,"class","actions svelte-123upp3"),p(A,"class","body svelte-123upp3"),p(e,"class","question svelte-123upp3")},m($,F){V($,e,F),_(e,t),_(t,r),ae(i,r,null),_(t,a),_(t,l),ae(u,l,null),_(t,o),_(t,h),ae(c,h,null),_(t,d),_(t,m),ae(b,m,null),_(e,g),_(e,A),_(A,x),_(x,q),_(A,S),M&&M.m(A,null),U=!0,v||(y=[ee(r,"click",n[4]),ee(l,"click",n[6]),ee(h,"click",n[3]),ee(m,"click",n[5])],v=!0)},p($,[F]){(!U||F&2&&s!==(s=$[1]<=0))&&(r.disabled=s),(!U||F&4&&f!==(f=$[2]==1))&&(l.disabled=f),(!U||F&6&&w!==(w=$[1]+1>=$[2]))&&(m.disabled=w),(!U||F&1)&&E!==(E=$[0].text+"")&&Ie(q,E),$[0].ty==at.Single||$[0].ty==at.Multiple?M?M.p($,F):(M=ss($),M.c(),M.m(A,null)):M&&(M.d(1),M=null)},i($){U||(W(i.$$.fragment,$),W(u.$$.fragment,$),W(c.$$.fragment,$),W(b.$$.fragment,$),U=!0)},o($){J(i.$$.fragment,$),J(u.$$.fragment,$),J(c.$$.fragment,$),J(b.$$.fragment,$),U=!1},d($){$&&H(e),le(i),le(u),le(c),le(b),M&&M.d(),v=!1,Qe(y)}}}function sc(n,e,t){let{question:r}=e,{index:i}=e,{length:s}=e;function a(){Sa(oo(r))}const l=()=>xi(i,i-1),u=()=>xi(i,i+1),f=()=>co(i);return n.$$set=o=>{"question"in o&&t(0,r=o.question),"index"in o&&t(1,i=o.index),"length"in o&&t(2,s=o.length)},[r,i,s,a,l,u,f]}class ac extends xe{constructor(e){super(),Ae(this,e,sc,ic,Ce,{question:0,index:1,length:2})}}function lc(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),p(t,"d","M0 0h24v24H0z"),p(t,"fill","none"),p(r,"d","M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 24 24"),p(e,"width","48px"),p(e,"height","48px"),p(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class oc extends xe{constructor(e){super(),Ae(this,e,null,lc,Ce,{})}}function uc(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),p(t,"d","M0 0h24v24H0z"),p(t,"fill","none"),p(r,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 24 24"),p(e,"width","48px"),p(e,"height","48px"),p(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class cc extends xe{constructor(e){super(),Ae(this,e,null,uc,Ce,{})}}const fc=_e.object({name:_e.string(),text:_e.string(),max_players:_e.number(),filtering:_e.string(),timing:_e.object({wait_time:_e.number()}),questions:_e.array(Nl).min(1),images:_e.array(_e.object({uuid:_e.string().uuid(),name:_e.string(),size:_e.number(),type:_e.string(),data:_e.array(_e.number())}))});async function dc(n){const e=await n.blob.arrayBuffer();return{uuid:n.uuid,name:n.name,size:n.size,type:n.blob.type,data:Array.from(new Uint8Array(e))}}async function hc(n,e){const t=await Promise.all(e.map(dc)),r={...n,images:t},i=JSON.stringify(r);return new Blob([i],{type:"application/json"})}async function mc(n){const e=new FileReader;await new Promise((s,a)=>{e.onload=s,e.onerror=a,e.onabort=a,e.readAsText(n)});const t=e.result,r=JSON.parse(t),i=fc.parse(r);for(const{data:s,uuid:a,name:l,type:u,size:f}of i.images){const o=new Uint8Array(s),h=new Blob([o.buffer],{type:u});kn.update(c=>(c.push({uuid:a,name:l,size:f,blob:h}),c.filter(d=>d.uuid!==a))),Js(h,a)}return{name:i.name,text:i.text,max_players:i.max_players,filtering:i.filtering,questions:i.questions,timing:i.timing}}function ls(n,e,t){const r=n.slice();return r[11]=e[t],r[12]=e,r[13]=t,r}function os(n,e){let t,r,i,s,a,l=G,u;function f(h){e[9](h,e[11],e[12],e[13])}let o={index:e[13],length:e[0].questions.length};return e[11]!==void 0&&(o.question=e[11]),r=new ac({props:o}),Pt.push(()=>sn(r,"question",f)),{key:n,first:null,c(){t=T("li"),oe(r.$$.fragment),s=P(),this.first=t},m(h,c){V(h,t,c),ae(r,t,null),_(t,s),u=!0},p(h,c){e=h;const d={};c&1&&(d.index=e[13]),c&1&&(d.length=e[0].questions.length),!i&&c&1&&(i=!0,d.question=e[11],rn(()=>i=!1)),r.$set(d)},r(){a=t.getBoundingClientRect()},f(){kr(t),l()},a(){l(),l=wr(t,a,Mr,{duration:500})},i(h){u||(W(r.$$.fragment,h),u=!0)},o(h){J(r.$$.fragment,h),u=!1},d(h){h&&H(t),le(r)}}}function pc(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,m,b,w,g,A,x,E,q,S,U,v,y,M,$,F,R,I,O,C,k,j,N,Z,Y,z,B,L,D,ie,be,ne,X,ue,ke,Se,Be,st,Fe,Pe,we,me,Re,Oe,$e,tt,Ee,Me,Ne,We,kt,je,nt,qe,Ue,Ge,lt,Le,Je,qt,At,jt,rt,ut,ze=[],Ye=new Map,Xe,yt,bt;s=new Ir({}),f=new Ys({}),d=new oc({}),g=new Fr({});function en(de){n[6](de)}let Ve={min:Kl,max:eo};n[0].timing.wait_time!==void 0&&(Ve.value=n[0].timing.wait_time),B=new Wr({props:Ve}),Pt.push(()=>sn(B,"value",en)),Ue=new cc({});let Ke=n[0].questions;const fn=de=>de[11].id;for(let de=0;de<Ke.length;de+=1){let pe=ls(n,Ke,de),Ct=fn(pe);Ye.set(Ct,ze[de]=os(Ct,pe))}return{c(){e=T("main"),t=T("div"),r=T("header"),i=T("button"),oe(s.$$.fragment),a=re(`
        Back`),l=P(),u=T("button"),oe(f.$$.fragment),o=re(`
        Import`),h=P(),c=T("button"),oe(d.$$.fragment),m=re(`
        Export`),b=P(),w=T("button"),oe(g.$$.fragment),A=re(`
        Play`),x=P(),E=T("label"),q=T("span"),q.textContent="Title",S=P(),U=T("p"),U.innerHTML='Give your quiz a title <span class="optional svelte-2jvmi2">Optional</span>',v=P(),y=T("input"),M=P(),$=T("label"),F=T("span"),F.textContent="Description",R=P(),I=T("p"),I.innerHTML='Description of your Quiz <span class="optional svelte-2jvmi2">Optional</span>',O=P(),C=T("textarea"),k=P(),j=T("div"),N=T("span"),N.textContent="Wait Time",Z=P(),Y=T("p"),Y.textContent="Time to wait between each question",z=P(),oe(B.$$.fragment),D=P(),ie=T("label"),be=T("span"),be.textContent="Max Players",ne=P(),X=T("p"),X.textContent="Maximum number of players allowed to join this quiz",ue=P(),ke=T("input"),Se=P(),Be=T("label"),st=T("span"),st.textContent="Name Filtering",Fe=P(),Pe=T("p"),Pe.textContent=`Level of filtering on profane/inappropriate naming. Its recommended that
        you leave this on Medium or High`,we=P(),me=T("select"),Re=T("option"),Oe=re("None: Don't filter names"),$e=T("option"),tt=re("Low: Filter out more severe names"),Ee=T("option"),Me=re(`Medium: Filter out anything thats not mild
        `),Ne=T("option"),We=re("High: Filter out as much as possible"),kt=P(),je=T("div"),nt=T("div"),qe=T("button"),oe(Ue.$$.fragment),Ge=re(`
        Add Question`),Le=P(),Je=T("button"),qt=re("Shuffle"),jt=P(),rt=T("div"),ut=T("ol");for(let de=0;de<ze.length;de+=1)ze[de].c();p(i,"class","btn btn--icon svelte-2jvmi2"),p(u,"class","btn btn--icon svelte-2jvmi2"),p(c,"class","btn btn--icon svelte-2jvmi2"),p(w,"class","btn btn--icon svelte-2jvmi2"),p(r,"class","header svelte-2jvmi2"),p(q,"class","field__name svelte-2jvmi2"),p(U,"class","field__desc svelte-2jvmi2"),p(y,"class","input svelte-2jvmi2"),p(y,"type","text"),p(y,"maxlength",Ll),p(E,"class","field svelte-2jvmi2"),p(F,"class","field__name svelte-2jvmi2"),p(I,"class","field__desc svelte-2jvmi2"),p(C,"class","input input--desc svelte-2jvmi2"),p(C,"name",""),p(C,"id",""),p(C,"cols","30"),p(C,"rows","5"),p(C,"maxlength",zl),p($,"class","field svelte-2jvmi2"),p(N,"class","field__name svelte-2jvmi2"),p(Y,"class","field__desc svelte-2jvmi2"),p(j,"class","field svelte-2jvmi2"),p(be,"class","field__name svelte-2jvmi2"),p(X,"class","field__desc svelte-2jvmi2"),p(ke,"class","input svelte-2jvmi2"),p(ke,"type","number"),p(ke,"min",so),p(ke,"max",Os),p(ie,"class","field svelte-2jvmi2"),p(st,"class","field__name svelte-2jvmi2"),p(Pe,"class","field__desc svelte-2jvmi2"),Re.__value=_n.None,Re.value=Re.__value,$e.__value=_n.Low,$e.value=$e.__value,Ee.__value=_n.Medium,Ee.value=Ee.__value,Ne.__value=_n.High,Ne.value=Ne.__value,p(me,"class","input svelte-2jvmi2"),n[0].filtering===void 0&&it(()=>n[8].call(me)),p(Be,"class","field svelte-2jvmi2"),p(t,"class","details svelte-2jvmi2"),qe.disabled=lt=n[0].questions.length>=ki,p(qe,"class","btn btn--icon svelte-2jvmi2"),Je.disabled=At=n[0].questions.length<=1,p(Je,"class","btn btn--sm svelte-2jvmi2"),p(nt,"class","list__actions svelte-2jvmi2"),p(ut,"class","questions svelte-2jvmi2"),p(rt,"class","list__content svelte-2jvmi2"),p(je,"class","list svelte-2jvmi2"),p(e,"class","main svelte-2jvmi2")},m(de,pe){V(de,e,pe),_(e,t),_(t,r),_(r,i),ae(s,i,null),_(i,a),_(r,l),_(r,u),ae(f,u,null),_(u,o),_(r,h),_(r,c),ae(d,c,null),_(c,m),_(r,b),_(r,w),ae(g,w,null),_(w,A),_(t,x),_(t,E),_(E,q),_(E,S),_(E,U),_(E,v),_(E,y),De(y,n[0].name),_(t,M),_(t,$),_($,F),_($,R),_($,I),_($,O),_($,C),De(C,n[0].text),_(t,k),_(t,j),_(j,N),_(j,Z),_(j,Y),_(j,z),ae(B,j,null),_(t,D),_(t,ie),_(ie,be),_(ie,ne),_(ie,X),_(ie,ue),_(ie,ke),De(ke,n[0].max_players),_(t,Se),_(t,Be),_(Be,st),_(Be,Fe),_(Be,Pe),_(Be,we),_(Be,me),_(me,Re),_(Re,Oe),_(me,$e),_($e,tt),_(me,Ee),_(Ee,Me),_(me,Ne),_(Ne,We),Qt(me,n[0].filtering,!0),_(e,kt),_(e,je),_(je,nt),_(nt,qe),ae(Ue,qe,null),_(qe,Ge),_(nt,Le),_(nt,Je),_(Je,qt),_(je,jt),_(je,rt),_(rt,ut);for(let Ct=0;Ct<ze.length;Ct+=1)ze[Ct]&&ze[Ct].m(ut,null);Xe=!0,yt||(bt=[ee(i,"click",$n),ee(u,"click",n[2]),ee(c,"click",n[1]),ee(w,"click",n[3]),ee(y,"input",n[4]),ee(C,"input",n[5]),ee(ke,"input",n[7]),ee(me,"change",n[8]),ee(qe,"click",uo),ee(Je,"click",fo)],yt=!0)},p(de,[pe]){pe&1&&y.value!==de[0].name&&De(y,de[0].name),pe&1&&De(C,de[0].text);const Ct={};if(!L&&pe&1&&(L=!0,Ct.value=de[0].timing.wait_time,rn(()=>L=!1)),B.$set(Ct),pe&1&&vt(ke.value)!==de[0].max_players&&De(ke,de[0].max_players),pe&1&&Qt(me,de[0].filtering),(!Xe||pe&1&&lt!==(lt=de[0].questions.length>=ki))&&(qe.disabled=lt),(!Xe||pe&1&&At!==(At=de[0].questions.length<=1))&&(Je.disabled=At),pe&1){Ke=de[0].questions,ht();for(let Ft=0;Ft<ze.length;Ft+=1)ze[Ft].r();ze=Ar(ze,pe,fn,1,de,Ke,Ye,ut,Cr,os,null,ls);for(let Ft=0;Ft<ze.length;Ft+=1)ze[Ft].a();mt()}},i(de){if(!Xe){W(s.$$.fragment,de),W(f.$$.fragment,de),W(d.$$.fragment,de),W(g.$$.fragment,de),W(B.$$.fragment,de),W(Ue.$$.fragment,de);for(let pe=0;pe<Ke.length;pe+=1)W(ze[pe]);Xe=!0}},o(de){J(s.$$.fragment,de),J(f.$$.fragment,de),J(d.$$.fragment,de),J(g.$$.fragment,de),J(B.$$.fragment,de),J(Ue.$$.fragment,de);for(let pe=0;pe<ze.length;pe+=1)J(ze[pe]);Xe=!1},d(de){de&&H(e),le(s),le(f),le(d),le(g),le(B),le(Ue);for(let pe=0;pe<ze.length;pe+=1)ze[pe].d();yt=!1,Qe(bt)}}}function _c(n){if(n.lengthComputable){const e=n.loaded/n.total*100;console.debug(`Uploading content: ${e}%`)}}function gc(n,e,t){let r,i;Tt(n,kn,m=>t(10,r=m)),Tt(n,wt,m=>t(0,i=m));async function s(){const m=i,b=r;console.debug("Exporting quiz to file",m.name);const w=await hc(m,b),g=m.name+".quizler";No(g,w)}async function a(){const m=await Fo(".quizler");if(m!==null)try{const b=await mc(m);wt.set(b),console.debug("Imported quiz file",b)}catch(b){console.error("Error while importing quiz file",b),Zt("Failed to import","Quiz file invalid or corrupted")}}function l(){const m=i;m.name=m.name.trim(),m.text=m.text.trim();const b=r;console.debug("Creating quiz"),Rl(m,b,_c).then(w=>Yt({ty:Ht.Initialize,uuid:w})).then(({id:w,token:g,config:A})=>{ys({id:w,token:g,config:A,host:!0})}).catch(w=>{console.error("Failed to create",w),w instanceof Error?Zt("Failed to create",w.message):Zt("Failed to create",ei[w])})}function u(){i.name=this.value,wt.set(i)}function f(){i.text=this.value,wt.set(i)}function o(m){n.$$.not_equal(i.timing.wait_time,m)&&(i.timing.wait_time=m,wt.set(i))}function h(){i.max_players=vt(this.value),wt.set(i)}function c(){i.filtering=br(this),wt.set(i)}function d(m,b,w,g){w[g]=m,wt.set(i)}return[i,s,a,l,u,f,o,h,c,d]}class vc extends xe{constructor(e){super(),Ae(this,e,gc,pc,Ce,{})}}function yc(n){let e,t;return{c(){e=fe("svg"),t=fe("path"),p(t,"d","M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z"),p(e,"fill","#FFFFFF"),p(e,"width","32px"),p(e,"height","31.25px"),p(e,"viewBox","0 0 256 250"),p(e,"version","1.1"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"preserveAspectRatio","xMidYMid")},m(r,i){V(r,e,i),_(e,t)},p:G,i:G,o:G,d(r){r&&H(e)}}}class bc extends xe{constructor(e){super(),Ae(this,e,null,yc,Ce,{})}}function wc(n){let e,t,r,i,s,a,l,u,f;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),i=fe("path"),s=fe("path"),a=fe("path"),l=fe("path"),u=fe("path"),f=fe("path"),p(t,"d","M209.6,119.1v-3.38q0-16.18,2.49-20.42T225.44,83q5.69-4.19,7.9-7.8a16.8,16.8,0,0,0,2.2-9q0-6.59-4.2-10.35a14.58,14.58,0,0,0-10.16-3.76q-15.74,0-17.65,22.29L179.15,71q2.7-20.1,14.65-30.46T223,30.19q17.61,0,29.56,10.07a32.29,32.29,0,0,1,12,25.69q.06,19.3-19.76,32.34-8.61,5.71-10.43,8.92t-1.8,11.84Zm27.48,34.73-27.93.06L209.08,127,237,127Z"),p(t,"transform","translate(-5.67 -30.19)"),p(r,"d","M98.54,268.74a43,43,0,0,1-9.39,1.07q-15.06,0-20.17-6.46t-5.92-16.26a95.28,95.28,0,0,1-10.63.74q-21.31,0-34-16.68T5.67,190.36q0-23.55,12.27-40.71t36.14-17.17q23.55,0,35.9,17.08t12.35,41.05q0,19.26-7,32.06T78.7,241q0,8.65,9.88,8.65,2.88,0,10-.83ZM54,154q-20.72,0-20.71,36.39,0,36.55,20.63,36.55,20.87,0,20.87-36.06Q74.75,154,54,154Z"),p(r,"transform","translate(-5.67 -30.19)"),p(i,"d","M189.43,163.44v83.15H166.71V232.43q-6.42,15.88-24.53,15.89-9.39,0-14.41-3.5a19.32,19.32,0,0,1-7.21-9.55q-2.18-6-2.18-17.5V163.44h23.8v54.33q0,11.21,9.22,11.2a13,13,0,0,0,8.15-2.67,12,12,0,0,0,4.4-5.73q.95-3,1-10.45V163.44Z"),p(i,"transform","translate(-5.67 -30.19)"),p(s,"d","M234.22,163.44v83.15H209.69V163.44Z"),p(s,"transform","translate(-5.67 -30.19)"),p(a,"d","M311.45,163.44v15.31l-37.1,50H313.1v17.87H247.64V228.72l36.68-48.57H250.69V163.44Z"),p(a,"transform","translate(-5.67 -30.19)"),p(l,"d","M326.6,246.59V134.21h24.53V246.59Z"),p(l,"transform","translate(-5.67 -30.19)"),p(u,"d","M446,209.13H392.47q-.09,2.22-.09,3.87,0,8.9,4.74,13.42A15.79,15.79,0,0,0,408.44,231q12.27,0,14.74-13.09l22.23,1.64q-9.32,28.83-37.8,28.82-12.42,0-21.11-5a39.35,39.35,0,0,1-14.33-14.53q-5.64-9.56-5.64-22.89,0-19.84,11.32-32T407,161.71A37.84,37.84,0,0,1,434.5,173Q446,184.34,446,209.13Zm-53.6-14.24h29.56q-1.15-17.13-14.08-17.13Q394,177.76,392.38,194.89Z"),p(u,"transform","translate(-5.67 -30.19)"),p(f,"d","M485.25,246.59H461.46V163.44h22.48v15.47q5.18-17.28,17.94-17.29c1.21,0,2.69.09,4.45.25v24.21q-7.49,0-11.65,2.3t-6.79,8.28q-2.64,6-2.64,16.09Z"),p(f,"transform","translate(-5.67 -30.19)"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 500.66 239.62"),p(e,"fill","#FFFFFF"),p(e,"width","248"),p(e,"height","135")},m(o,h){V(o,e,h),_(e,t),_(e,r),_(e,i),_(e,s),_(e,a),_(e,l),_(e,u),_(e,f)},p:G,i:G,o:G,d(o){o&&H(e)}}}class kc extends xe{constructor(e){super(),Ae(this,e,null,wc,Ce,{})}}function Cc(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,m,b,w,g,A,x,E,q,S,U;return i=new kc({}),l=new bc({}),c=new Fr({}),g=new sa({}),{c(){e=T("main"),t=T("div"),r=T("div"),oe(i.$$.fragment),s=P(),a=T("a"),oe(l.$$.fragment),u=re(`
      View on GitHub`),f=P(),o=T("div"),h=T("button"),oe(c.$$.fragment),d=P(),m=T("div"),m.innerHTML=`<p class="action__name svelte-l0hn24">Join a quiz</p> 
        <p class="action__text svelte-l0hn24">Enter a game code and hop right in</p>`,b=P(),w=T("button"),oe(g.$$.fragment),A=P(),x=T("div"),x.innerHTML=`<p class="action__name svelte-l0hn24">Create a quiz</p> 
        <p class="action__text svelte-l0hn24">Create your own quiz</p>`,p(r,"class","logo svelte-l0hn24"),p(a,"href","https://github.com/jacobtread/Quizler-v2"),p(a,"target","_blank"),p(a,"rel","noreferrer"),p(a,"title","View on Github"),p(a,"class","btn btn--icon github svelte-l0hn24"),p(t,"class","left svelte-l0hn24"),p(m,"class","action__body svelte-l0hn24"),p(h,"class","action svelte-l0hn24"),p(h,"aria-label","Join"),p(x,"class","action__body svelte-l0hn24"),p(w,"class","action svelte-l0hn24"),p(w,"aria-label","Create"),p(o,"class","actions svelte-l0hn24"),p(e,"class","main svelte-l0hn24")},m(v,y){V(v,e,y),_(e,t),_(t,r),ae(i,r,null),_(t,s),_(t,a),ae(l,a,null),_(a,u),_(e,f),_(e,o),_(o,h),ae(c,h,null),_(h,d),_(h,m),_(o,b),_(o,w),ae(g,w,null),_(w,A),_(w,x),q=!0,S||(U=[ee(h,"click",vs),ee(w,"click",Pr)],S=!0)},p:G,i(v){q||(W(i.$$.fragment,v),W(l.$$.fragment,v),W(c.$$.fragment,v),W(g.$$.fragment,v),it(()=>{q&&(E||(E=He(e,et,{},!0)),E.run(1))}),q=!0)},o(v){J(i.$$.fragment,v),J(l.$$.fragment,v),J(c.$$.fragment,v),J(g.$$.fragment,v),E||(E=He(e,et,{},!1)),E.run(0),q=!1},d(v){v&&H(e),le(i),le(l),le(c),le(g),v&&E&&E.end(),S=!1,Qe(U)}}}class Ac extends xe{constructor(e){super(),Ae(this,e,null,Cc,Ce,{})}}function us(n){let e,t,r,i,s,a;return t=new Fr({}),{c(){e=T("button"),oe(t.$$.fragment),p(e,"class","play svelte-gsvo0n")},m(l,u){V(l,e,u),ae(t,e,null),i=!0,s||(a=ee(e,"click",n[4]),s=!0)},p:G,i(l){i||(W(t.$$.fragment,l),it(()=>{i&&(r||(r=He(e,et,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){J(t.$$.fragment,l),r||(r=He(e,et,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&H(e),le(t),l&&r&&r.end(),s=!1,a()}}}function xc(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,m,b,w,g,A;r=new Ir({});let x=!n[2]&&us(n);return{c(){e=T("main"),t=T("button"),oe(r.$$.fragment),i=P(),s=T("p"),a=re(n[0]),l=P(),u=T("h1"),u.textContent="Enter Name",f=P(),o=T("p"),o.textContent="Please enter your desired name",h=P(),c=T("div"),d=T("input"),m=P(),x&&x.c(),p(t,"class","back back--floating"),p(d,"class","input svelte-gsvo0n"),p(d,"type","text"),p(d,"minlength",Ns),p(d,"maxlength",Rs),p(c,"class","form svelte-gsvo0n"),p(e,"class","main svelte-gsvo0n")},m(E,q){V(E,e,q),_(e,t),ae(r,t,null),_(e,i),_(e,s),_(s,a),_(e,l),_(e,u),_(e,f),_(e,o),_(e,h),_(e,c),_(c,d),De(d,n[1]),_(c,m),x&&x.m(c,null),w=!0,g||(A=[ee(t,"click",vs),ee(d,"input",n[5]),ee(d,"input",n[3])],g=!0)},p(E,[q]){(!w||q&1)&&Ie(a,E[0]),q&2&&d.value!==E[1]&&De(d,E[1]),E[2]?x&&(ht(),J(x,1,1,()=>{x=null}),mt()):x?(x.p(E,q),q&4&&W(x,1)):(x=us(E),x.c(),W(x,1),x.m(c,null))},i(E){w||(W(r.$$.fragment,E),W(x),it(()=>{w&&(b||(b=He(e,et,{},!0)),b.run(1))}),w=!0)},o(E){J(r.$$.fragment,E),J(x),b||(b=He(e,et,{},!1)),b.run(0),w=!1},d(E){E&&H(e),le(r),x&&x.d(),E&&b&&b.end(),g=!1,Qe(A)}}}function $c(n,e,t){let{token:r}=e,i="",s=!0;function a(){t(2,s=i.length<Ns||i.length>Rs)}function l(){Yt({ty:Ht.Join,name:i}).then(({id:f,token:o,config:h})=>{ys({id:f,token:o,config:h,host:!1,name:i})}).catch(f=>{console.error("Failed to join",f),Zt("Failed to join",ei[f])})}function u(){i=this.value,t(1,i)}return n.$$set=f=>{"token"in f&&t(0,r=f.token)},[r,i,s,a,l,u]}class Ec extends xe{constructor(e){super(),Ae(this,e,$c,xc,Ce,{token:0})}}function Tc(n){let e,t;return e=new si({props:{text:"Connecting to server..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Sc(n){let e,t,r,i;const s=[Rc,Nc,Uc,Fc,Ic,Mc],a=[];function l(u,f){return u[1].ty==tn.Home?0:u[1].ty===tn.Create?1:u[1].ty===tn.Connect?2:u[1].ty===tn.Join?3:u[1].ty===tn.Editing?4:u[1].ty===tn.Game?5:-1}return~(e=l(n))&&(t=a[e]=s[e](n)),{c(){t&&t.c(),r=Xt()},m(u,f){~e&&a[e].m(u,f),V(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?~e&&a[e].p(u,f):(t&&(ht(),J(a[o],1,1,()=>{a[o]=null}),mt()),~e?(t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r)):t=null)},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){~e&&a[e].d(u),u&&H(r)}}}function Mc(n){let e,t;return e=new nc({props:{gameData:n[1].gameData}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.gameData=r[1].gameData),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Ic(n){let e,t;return e=new uu({props:{question:n[1].question}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.question=r[1].question),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Fc(n){let e,t;return e=new Ec({props:{token:n[1].token}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.token=r[1].token),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Uc(n){let e,t;return e=new gu({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Nc(n){let e,t;return e=new vc({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Rc(n){let e,t;return e=new Ac({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Oc(n){let e,t,r,i,s;const a=[Sc,Tc],l=[];function u(f,o){return f[0]?0:1}return e=u(n),t=l[e]=a[e](n),i=new Na({}),{c(){t.c(),r=P(),oe(i.$$.fragment)},m(f,o){l[e].m(f,o),V(f,r,o),ae(i,f,o),s=!0},p(f,[o]){let h=e;e=u(f),e===h?l[e].p(f,o):(ht(),J(l[h],1,1,()=>{l[h]=null}),mt(),t=l[e],t?t.p(f,o):(t=l[e]=a[e](f),t.c()),W(t,1),t.m(r.parentNode,r))},i(f){s||(W(t),W(i.$$.fragment,f),s=!0)},o(f){J(t),J(i.$$.fragment,f),s=!1},d(f){l[e].d(f),f&&H(r),le(i,f)}}}function qc(n,e,t){let r,i;return Tt(n,ni,s=>t(0,r=s)),Tt(n,cn,s=>t(1,i=s)),[r,i]}class jc extends xe{constructor(e){super(),Ae(this,e,qc,Oc,Ce,{})}}new jc({target:document.getElementById("app")});
