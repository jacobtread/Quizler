(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Y(){}const wr=n=>n;function pi(n,e){for(const t in e)n[t]=e[t];return n}function _s(n){return n()}function mi(){return Object.create(null)}function Ye(n){n.forEach(_s)}function $n(n){return typeof n=="function"}function Ae(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Wn;function nr(n,e){return Wn||(Wn=document.createElement("a")),Wn.href=e,n===Wn.href}function da(n){return Object.keys(n).length===0}function ha(n,...e){if(n==null)return Y;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function xt(n,e,t){n.$$.on_destroy.push(ha(e,t))}function pa(n){return n&&$n(n.destroy)?n.destroy:Y}function ma(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const gs=typeof window<"u";let Jr=gs?()=>window.performance.now():()=>Date.now(),Kr=gs?n=>requestAnimationFrame(n):Y;const bn=new Set;function vs(n){bn.forEach(e=>{e.c(n)||(bn.delete(e),e.f())}),bn.size!==0&&Kr(vs)}function ei(n){let e;return bn.size===0&&Kr(vs),{promise:new Promise(t=>{bn.add(e={c:n,f:t})}),abort(){bn.delete(e)}}}function m(n,e){n.appendChild(e)}function ys(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function _a(n){const e=T("style");return ga(ys(n),e),e.sheet}function ga(n,e){return m(n.head||n,e),e.sheet}function B(n,e,t){n.insertBefore(e,t||null)}function z(n){n.parentNode&&n.parentNode.removeChild(n)}function Un(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function T(n){return document.createElement(n)}function de(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function re(n){return document.createTextNode(n)}function P(){return re(" ")}function Pt(){return re("")}function ee(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function _(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function wt(n){return n===""?null:+n}function va(n){return Array.from(n.childNodes)}function Ue(n,e){e=""+e,n.data!==e&&(n.data=e)}function je(n,e){n.value=e??""}function _i(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Xt(n,e,t){for(let r=0;r<n.options.length;r+=1){const i=n.options[r];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function kr(n){const e=n.querySelector(":checked");return e&&e.__value}function gi(n,e,t){n.classList[t?"add":"remove"](e)}function ya(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,r,e),i}const rr=new Map;let ir=0;function ba(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function wa(n,e){const t={stylesheet:_a(e),rules:{}};return rr.set(n,t),t}function jr(n,e,t,r,i,s,a,l=0){const u=16.666/r;let f=`{
`;for(let y=0;y<=1;y+=u){const g=e+(t-e)*s(y);f+=y*100+`%{${a(g,1-g)}}
`}const o=f+`100% {${a(t,1-t)}}
}`,h=`__svelte_${ba(o)}_${l}`,c=ys(n),{stylesheet:d,rules:p}=rr.get(c)||wa(c,n);p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${o}`,d.cssRules.length));const k=n.style.animation||"";return n.style.animation=`${k?`${k}, `:""}${h} ${r}ms linear ${i}ms 1 both`,ir+=1,h}function bs(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-r.length;i&&(n.style.animation=r.join(", "),ir-=i,ir||ka())}function ka(){Kr(()=>{ir||(rr.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&z(e)}),rr.clear())})}function Cr(n,e,t,r){if(!e)return Y;const i=n.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return Y;const{delay:s=0,duration:a=300,easing:l=wr,start:u=Jr()+s,end:f=u+a,tick:o=Y,css:h}=t(n,{from:e,to:i},r);let c=!0,d=!1,p;function k(){h&&(p=jr(n,0,1,a,s,l,h)),s||(d=!0)}function y(){h&&bs(n,p),c=!1}return ei(g=>{if(!d&&g>=u&&(d=!0),d&&g>=f&&(o(1,0),y()),!c)return!1;if(d){const A=g-u,x=0+1*l(A/a);o(x,1-x)}return!0}),k(),o(0,1),y}function Ar(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,i=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,Ca(n,i)}}function Ca(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),i=r.transform==="none"?"":r.transform;n.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Nn;function In(n){Nn=n}function ws(){if(!Nn)throw new Error("Function called outside component initialization");return Nn}function ks(n){ws().$$.on_mount.push(n)}function Aa(n){ws().$$.on_destroy.push(n)}const pn=[],Lt=[];let wn=[];const Pr=[],xa=Promise.resolve();let Zr=!1;function $a(){Zr||(Zr=!0,xa.then(Cs))}function Xe(n){wn.push(n)}function sn(n){Pr.push(n)}const Nr=new Set;let dn=0;function Cs(){if(dn!==0)return;const n=Nn;do{try{for(;dn<pn.length;){const e=pn[dn];dn++,In(e),Ea(e.$$)}}catch(e){throw pn.length=0,dn=0,e}for(In(null),pn.length=0,dn=0;Lt.length;)Lt.pop()();for(let e=0;e<wn.length;e+=1){const t=wn[e];Nr.has(t)||(Nr.add(t),t())}wn.length=0}while(pn.length);for(;Pr.length;)Pr.pop()();Zr=!1,Nr.clear(),In(n)}function Ea(n){if(n.fragment!==null){n.update(),Ye(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Xe)}}function Ta(n){const e=[],t=[];wn.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),wn=e}let Sn;function Sa(){return Sn||(Sn=Promise.resolve(),Sn.then(()=>{Sn=null})),Sn}function Rr(n,e,t){n.dispatchEvent(ya(`${e?"intro":"outro"}${t}`))}const Yn=new Set;let Dt;function et(){Dt={r:0,c:[],p:Dt}}function tt(){Dt.r||Ye(Dt.c),Dt=Dt.p}function V(n,e){n&&n.i&&(Yn.delete(n),n.i(e))}function G(n,e,t,r){if(n&&n.o){if(Yn.has(n))return;Yn.add(n),Dt.c.push(()=>{Yn.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const Ia={duration:0};function He(n,e,t,r){const i={direction:"both"};let s=e(n,t,i),a=r?0:1,l=null,u=null,f=null;function o(){f&&bs(n,f)}function h(d,p){const k=d.b-a;return p*=Math.abs(k),{a,b:d.b,d:k,duration:p,start:d.start,end:d.start+p,group:d.group}}function c(d){const{delay:p=0,duration:k=300,easing:y=wr,tick:g=Y,css:A}=s||Ia,x={start:Jr()+p,b:d};d||(x.group=Dt,Dt.r+=1),l||u?u=x:(A&&(o(),f=jr(n,a,d,k,p,y,A)),d&&g(0,1),l=h(x,k),Xe(()=>Rr(n,d,"start")),ei(S=>{if(u&&S>u.start&&(l=h(u,k),u=null,Rr(n,l.b,"start"),A&&(o(),f=jr(n,a,l.b,l.duration,0,y,s.css))),l){if(S>=l.end)g(a=l.b,1-a),Rr(n,l.b,"end"),u||(l.b?o():--l.group.r||Ye(l.group.c)),l=null;else if(S>=l.start){const R=S-l.start;a=l.a+l.d*y(R/l.duration),g(a,1-a)}}return!!(l||u)}))}return{run(d){$n(s)?Sa().then(()=>{s=s(i),c(d)}):c(d)},end(){o(),l=u=null}}}function Ma(n,e){G(n,1,1,()=>{e.delete(n.key)})}function xr(n,e){n.f(),Ma(n,e)}function $r(n,e,t,r,i,s,a,l,u,f,o,h){let c=n.length,d=s.length,p=c;const k={};for(;p--;)k[n[p].key]=p;const y=[],g=new Map,A=new Map,x=[];for(p=d;p--;){const U=h(i,s,p),v=t(U);let b=a.get(v);b?r&&x.push(()=>b.p(U,e)):(b=f(v,U),b.c()),g.set(v,y[p]=b),v in k&&A.set(v,Math.abs(p-k[v]))}const S=new Set,R=new Set;function E(U){V(U,1),U.m(l,o),a.set(U.key,U),o=U.first,d--}for(;c&&d;){const U=y[d-1],v=n[c-1],b=U.key,I=v.key;U===v?(o=U.first,c--,d--):g.has(I)?!a.has(b)||S.has(b)?E(U):R.has(I)?c--:A.get(b)>A.get(I)?(R.add(b),E(U)):(S.add(I),c--):(u(v,a),c--)}for(;c--;){const U=n[c];g.has(U.key)||u(U,a)}for(;d;)E(y[d-1]);return Ye(x),y}const Fa=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...Fa];function an(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function oe(n){n&&n.c()}function ae(n,e,t,r){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),r||Xe(()=>{const a=n.$$.on_mount.map(_s).filter($n);n.$$.on_destroy?n.$$.on_destroy.push(...a):Ye(a),n.$$.on_mount=[]}),s.forEach(Xe)}function le(n,e){const t=n.$$;t.fragment!==null&&(Ta(t.after_update),Ye(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ua(n,e){n.$$.dirty[0]===-1&&(pn.push(n),$a(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function xe(n,e,t,r,i,s,a,l=[-1]){const u=Nn;In(n);const f=n.$$={fragment:null,ctx:[],props:s,update:Y,not_equal:i,bound:mi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:mi(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};a&&a(f.root);let o=!1;if(f.ctx=t?t(n,e.props||{},(h,c,...d)=>{const p=d.length?d[0]:c;return f.ctx&&i(f.ctx[h],f.ctx[h]=p)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](p),o&&Ua(n,h)),c}):[],f.update(),o=!0,Ye(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const h=va(e.target);f.fragment&&f.fragment.l(h),h.forEach(z)}else f.fragment&&f.fragment.c();e.intro&&V(n.$$.fragment),ae(n,e.target,e.anchor,e.customElement),Cs()}In(u)}class $e{$destroy(){le(this,1),this.$destroy=Y}$on(e,t){if(!$n(t))return Y;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!da(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const hn=[];function nn(n,e=Y){let t;const r=new Set;function i(l){if(Ae(n,l)&&(n=l,t)){const u=!hn.length;for(const f of r)f[1](),hn.push(f,n);if(u){for(let f=0;f<hn.length;f+=2)hn[f][0](hn[f+1]);hn.length=0}}}function s(l){i(l(n))}function a(l,u=Y){const f=[l,u];return r.add(f),r.size===1&&(t=e(i)||Y),l(n),()=>{r.delete(f),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}var mn=(n=>(n[n.Home=0]="Home",n[n.Connect=1]="Connect",n[n.Create=2]="Create",n[n.Editing=3]="Editing",n[n.Game=4]="Game",n))(mn||{});const En=nn({ty:0});function Tn(){En.set({ty:0})}function Dr(){En.set({ty:2})}function Na(){En.set({ty:1})}function As(n){En.set({ty:4,gameData:n})}function Ra(n){En.set({ty:3,question:n})}function Oa(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}function xs(n){const e=n-1;return e*e*e+1}function vi(n,{delay:e=0,duration:t=400,easing:r=Oa,amount:i=5,opacity:s=0}={}){const a=getComputedStyle(n),l=+a.opacity,u=a.filter==="none"?"":a.filter,f=l*(1-s),[o,h]=ma(i);return{delay:e,duration:t,easing:r,css:(c,d)=>`opacity: ${l-f*d}; filter: ${u} blur(${d*o}${h});`}}function yi(n,{delay:e=0,duration:t=400,easing:r=wr}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*i}`}}function Je(n,{delay:e=0,duration:t=400,easing:r=xs,axis:i="y"}={}){const s=getComputedStyle(n),a=+s.opacity,l=i==="y"?"height":"width",u=parseFloat(s[l]),f=i==="y"?["top","bottom"]:["left","right"],o=f.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),h=parseFloat(s[`padding${o[0]}`]),c=parseFloat(s[`padding${o[1]}`]),d=parseFloat(s[`margin${o[0]}`]),p=parseFloat(s[`margin${o[1]}`]),k=parseFloat(s[`border${o[0]}Width`]),y=parseFloat(s[`border${o[1]}Width`]);return{delay:e,duration:t,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*a};${l}: ${g*u}px;padding-${f[0]}: ${g*h}px;padding-${f[1]}: ${g*c}px;margin-${f[0]}: ${g*d}px;margin-${f[1]}: ${g*p}px;border-${f[0]}-width: ${g*k}px;border-${f[1]}-width: ${g*y}px;`}}var $s=(n=>(n[n.Error=0]="Error",n[n.Confirm=1]="Confirm",n))($s||{});const Er=nn(null);function Or(n){Er.update(e=>(e!==null&&e.ty===1&&e.callback(n),null))}function Tr(n,e){return new Promise(t=>{Er.set({ty:1,title:n,message:e,callback:t})})}function zt(n,e){Er.set({ty:0,title:n,message:e})}function bi(n){let e,t,r,i=n[0].title+"",s,a,l,u=n[0].message+"",f,o,h,c,d,p;function k(A,x){return A[0].ty===$s.Error?ja:qa}let y=k(n),g=y(n);return{c(){e=T("div"),t=T("div"),r=T("h1"),s=re(i),a=P(),l=T("p"),f=re(u),o=P(),h=T("div"),g.c(),_(r,"class","dialog__title svelte-171o5q7"),_(l,"class","dialog__msg svelte-171o5q7"),_(h,"class","btn-row btn-row--fill"),_(t,"class","dialog svelte-171o5q7"),_(e,"class","dialog-wrapper svelte-171o5q7")},m(A,x){B(A,e,x),m(e,t),m(t,r),m(r,s),m(t,a),m(t,l),m(l,f),m(t,o),m(t,h),g.m(h,null),p=!0},p(A,x){(!p||x&1)&&i!==(i=A[0].title+"")&&Ue(s,i),(!p||x&1)&&u!==(u=A[0].message+"")&&Ue(f,u),y===(y=k(A))&&g?g.p(A,x):(g.d(1),g=y(A),g&&(g.c(),g.m(h,null)))},i(A){p||(Xe(()=>{p&&(c||(c=He(t,Je,{duration:200},!0)),c.run(1))}),Xe(()=>{p&&(d||(d=He(e,yi,{duration:200},!0)),d.run(1))}),p=!0)},o(A){c||(c=He(t,Je,{duration:200},!1)),c.run(0),d||(d=He(e,yi,{duration:200},!1)),d.run(0),p=!1},d(A){A&&z(e),g.d(),A&&c&&c.end(),A&&d&&d.end()}}}function qa(n){let e,t,r,i,s;return{c(){e=T("button"),e.textContent="Confirm",t=P(),r=T("button"),r.textContent="Cancel",_(e,"class","btn btn--surface"),_(r,"class","btn btn--surface")},m(a,l){B(a,e,l),B(a,t,l),B(a,r,l),i||(s=[ee(e,"click",n[2]),ee(r,"click",n[3])],i=!0)},p:Y,d(a){a&&z(e),a&&z(t),a&&z(r),i=!1,Ye(s)}}}function ja(n){let e,t,r;return{c(){e=T("button"),e.textContent="Close",_(e,"class","btn btn--surface")},m(i,s){B(i,e,s),t||(r=ee(e,"click",n[1]),t=!0)},p:Y,d(i){i&&z(e),t=!1,r()}}}function Pa(n){let e,t,r=n[0]&&bi(n);return{c(){r&&r.c(),e=Pt()},m(i,s){r&&r.m(i,s),B(i,e,s),t=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&V(r,1)):(r=bi(i),r.c(),V(r,1),r.m(e.parentNode,e)):r&&(et(),G(r,1,1,()=>{r=null}),tt())},i(i){t||(V(r),t=!0)},o(i){G(r),t=!1},d(i){r&&r.d(i),i&&z(e)}}}function Za(n,e,t){let r;return xt(n,Er,l=>t(0,r=l)),[r,()=>Or(!0),()=>Or(!0),()=>Or(!1)]}class Da extends $e{constructor(e){super(),xe(this,e,Za,Pa,Ae,{})}}var Fe;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},n.find=(i,s)=>{for(const a of i)if(s(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Fe||(Fe={}));var Lr;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Lr||(Lr={}));const X=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yt=n=>{switch(typeof n){case"undefined":return X.undefined;case"string":return X.string;case"number":return isNaN(n)?X.nan:X.number;case"boolean":return X.boolean;case"function":return X.function;case"bigint":return X.bigint;case"symbol":return X.symbol;case"object":return Array.isArray(n)?X.array:n===null?X.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?X.promise:typeof Map<"u"&&n instanceof Map?X.map:typeof Set<"u"&&n instanceof Set?X.set:typeof Date<"u"&&n instanceof Date?X.date:X.object;default:return X.unknown}},W=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),La=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class It extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let l=r,u=0;for(;u<a.path.length;){const f=a.path[u];u===a.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(t(a))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}It.create=n=>new It(n);const Rn=(n,e)=>{let t;switch(n.code){case W.invalid_type:n.received===X.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case W.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Fe.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:t=`Unrecognized key(s) in object: ${Fe.joinValues(n.keys,", ")}`;break;case W.invalid_union:t="Invalid input";break;case W.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Fe.joinValues(n.options)}`;break;case W.invalid_enum_value:t=`Invalid enum value. Expected ${Fe.joinValues(n.options)}, received '${n.received}'`;break;case W.invalid_arguments:t="Invalid function arguments";break;case W.invalid_return_type:t="Invalid function return type";break;case W.invalid_date:t="Invalid date";break;case W.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Fe.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case W.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case W.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case W.custom:t="Invalid input";break;case W.invalid_intersection_types:t="Intersection results could not be merged";break;case W.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case W.not_finite:t="Number must be finite";break;default:t=e.defaultError,Fe.assertNever(n)}return{message:t}};let Es=Rn;function za(n){Es=n}function sr(){return Es}const ar=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],a={...i,path:s};let l="";const u=r.filter(f=>!!f).slice().reverse();for(const f of u)l=f(a,{data:e,defaultError:l}).message;return{...i,path:s,message:i.message||l}},Ha=[];function ne(n,e){const t=ar({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sr(),Rn].filter(r=>!!r)});n.common.issues.push(t)}class ct{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return he;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t)r.push({key:await i.key,value:await i.value});return ct.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return he;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const he=Object.freeze({status:"aborted"}),Ts=n=>({status:"dirty",value:n}),mt=n=>({status:"valid",value:n}),zr=n=>n.status==="aborted",Hr=n=>n.status==="dirty",lr=n=>n.status==="valid",or=n=>typeof Promise<"u"&&n instanceof Promise;var se;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class qt{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wi=(n,e)=>{if(lr(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new It(n.common.issues);return this._error=t,this._error}}};function _e(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,l)=>a.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:t??l.defaultError},description:i}}class ye{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Yt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Yt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ct,ctx:{common:e.parent.common,data:e.data,parsedType:Yt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(or(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return wi(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yt(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(or(i)?i:Promise.resolve(i));return wi(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const a=e(i),l=()=>s.addIssue({code:W.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Ft({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ht.create(this,this._def)}nullable(){return cn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mt.create(this,this._def)}promise(){return xn.create(this,this._def)}or(e){return Pn.create([this,e],this._def)}and(e){return Zn.create(this,e,this._def)}transform(e){return new Ft({..._e(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Bn({..._e(this._def),innerType:this,defaultValue:t,typeName:fe.ZodDefault})}brand(){return new Is({typeName:fe.ZodBranded,type:this,..._e(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new dr({..._e(this._def),innerType:this,catchValue:t,typeName:fe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Qn.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ba=/^c[^\s-]{8,}$/i,Va=/^[a-z][a-z0-9]*$/,Qa=/[0-9A-HJKMNP-TV-Z]{26}/,Wa=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Ga=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Ya=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Xa=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ja=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ka=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function el(n,e){return!!((e==="v4"||!e)&&Xa.test(n)||(e==="v6"||!e)&&Ja.test(n))}class St extends ye{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(i=>e.test(i),{validation:t,code:W.invalid_string,...se.errToObj(r)}),this.nonempty=e=>this.min(1,se.errToObj(e)),this.trim=()=>new St({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new St({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new St({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==X.string){const s=this._getOrReturnCtx(e);return ne(s,{code:W.invalid_type,expected:X.string,received:s.parsedType}),he}const r=new ct;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?ne(i,{code:W.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&ne(i,{code:W.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Ga.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"email",code:W.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Ya.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"emoji",code:W.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Wa.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"uuid",code:W.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Ba.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid",code:W.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Va.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid2",code:W.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Qa.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ulid",code:W.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ne(i,{validation:"url",code:W.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"regex",code:W.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ne(i,{code:W.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:W.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:W.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Ka(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:W.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?el(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ip",code:W.invalid_string,message:s.message}),r.dirty()):Fe.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new St({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...se.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...se.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...se.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}St.create=n=>{var e;return new St({checks:[],typeName:fe.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,..._e(n)})};function tl(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class Jt extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==X.number){const s=this._getOrReturnCtx(e);return ne(s,{code:W.invalid_type,expected:X.number,received:s.parsedType}),he}let r;const i=new ct;for(const s of this._def.checks)s.kind==="int"?Fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:W.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?tl(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:W.not_finite,message:s.message}),i.dirty()):Fe.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,i){return new Jt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Jt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Jt.create=n=>new Jt({checks:[],typeName:fe.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,..._e(n)});class Kt extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==X.bigint){const s=this._getOrReturnCtx(e);return ne(s,{code:W.invalid_type,expected:X.bigint,received:s.parsedType}),he}let r;const i=new ct;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Fe.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,i){return new Kt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Kt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Kt.create=n=>{var e;return new Kt({checks:[],typeName:fe.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,..._e(n)})};class On extends ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==X.boolean){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:X.boolean,received:r.parsedType}),he}return mt(e.data)}}On.create=n=>new On({typeName:fe.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,..._e(n)});class on extends ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==X.date){const s=this._getOrReturnCtx(e);return ne(s,{code:W.invalid_type,expected:X.date,received:s.parsedType}),he}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ne(s,{code:W.invalid_date}),he}const r=new ct;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Fe.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new on({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}on.create=n=>new on({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:fe.ZodDate,..._e(n)});class ur extends ye{_parse(e){if(this._getType(e)!==X.symbol){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:X.symbol,received:r.parsedType}),he}return mt(e.data)}}ur.create=n=>new ur({typeName:fe.ZodSymbol,..._e(n)});class qn extends ye{_parse(e){if(this._getType(e)!==X.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:X.undefined,received:r.parsedType}),he}return mt(e.data)}}qn.create=n=>new qn({typeName:fe.ZodUndefined,..._e(n)});class jn extends ye{_parse(e){if(this._getType(e)!==X.null){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:X.null,received:r.parsedType}),he}return mt(e.data)}}jn.create=n=>new jn({typeName:fe.ZodNull,..._e(n)});class An extends ye{constructor(){super(...arguments),this._any=!0}_parse(e){return mt(e.data)}}An.create=n=>new An({typeName:fe.ZodAny,..._e(n)});class ln extends ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mt(e.data)}}ln.create=n=>new ln({typeName:fe.ZodUnknown,..._e(n)});class Bt extends ye{_parse(e){const t=this._getOrReturnCtx(e);return ne(t,{code:W.invalid_type,expected:X.never,received:t.parsedType}),he}}Bt.create=n=>new Bt({typeName:fe.ZodNever,..._e(n)});class cr extends ye{_parse(e){if(this._getType(e)!==X.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:X.void,received:r.parsedType}),he}return mt(e.data)}}cr.create=n=>new cr({typeName:fe.ZodVoid,..._e(n)});class Mt extends ye{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==X.array)return ne(t,{code:W.invalid_type,expected:X.array,received:t.parsedType}),he;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,l=t.data.length<i.exactLength.value;(a||l)&&(ne(t,{code:a?W.too_big:W.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(ne(t,{code:W.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(ne(t,{code:W.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,l)=>i.type._parseAsync(new qt(t,a,t.path,l)))).then(a=>ct.mergeArray(r,a));const s=[...t.data].map((a,l)=>i.type._parseSync(new qt(t,a,t.path,l)));return ct.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new Mt({...this._def,minLength:{value:e,message:se.toString(t)}})}max(e,t){return new Mt({...this._def,maxLength:{value:e,message:se.toString(t)}})}length(e,t){return new Mt({...this._def,exactLength:{value:e,message:se.toString(t)}})}nonempty(e){return this.min(1,e)}}Mt.create=(n,e)=>new Mt({type:n,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,..._e(e)});function _n(n){if(n instanceof Ve){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Ht.create(_n(r))}return new Ve({...n._def,shape:()=>e})}else return n instanceof Mt?new Mt({...n._def,type:_n(n.element)}):n instanceof Ht?Ht.create(_n(n.unwrap())):n instanceof cn?cn.create(_n(n.unwrap())):n instanceof jt?jt.create(n.items.map(e=>_n(e))):n}class Ve extends ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Fe.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==X.object){const f=this._getOrReturnCtx(e);return ne(f,{code:W.invalid_type,expected:X.object,received:f.parsedType}),he}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bt&&this._def.unknownKeys==="strip"))for(const f in i.data)a.includes(f)||l.push(f);const u=[];for(const f of a){const o=s[f],h=i.data[f];u.push({key:{status:"valid",value:f},value:o._parse(new qt(i,h,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Bt){const f=this._def.unknownKeys;if(f==="passthrough")for(const o of l)u.push({key:{status:"valid",value:o},value:{status:"valid",value:i.data[o]}});else if(f==="strict")l.length>0&&(ne(i,{code:W.unrecognized_keys,keys:l}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const o of l){const h=i.data[o];u.push({key:{status:"valid",value:o},value:f._parse(new qt(i,h,i.path,o)),alwaysSet:o in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const o of u){const h=await o.key;f.push({key:h,value:await o.value,alwaysSet:o.alwaysSet})}return f}).then(f=>ct.mergeObjectSync(r,f)):ct.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new Ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,a,l;const u=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(l=se.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new Ve({...this._def,unknownKeys:"strip"})}passthrough(){return new Ve({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ve({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ve({...this._def,catchall:e})}pick(e){const t={};return Fe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new Ve({...this._def,shape:()=>t})}omit(e){const t={};return Fe.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new Ve({...this._def,shape:()=>t})}deepPartial(){return _n(this)}partial(e){const t={};return Fe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new Ve({...this._def,shape:()=>t})}required(e){const t={};return Fe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ht;)s=s._def.innerType;t[r]=s}}),new Ve({...this._def,shape:()=>t})}keyof(){return Ss(Fe.objectKeys(this.shape))}}Ve.create=(n,e)=>new Ve({shape:()=>n,unknownKeys:"strip",catchall:Bt.create(),typeName:fe.ZodObject,..._e(e)});Ve.strictCreate=(n,e)=>new Ve({shape:()=>n,unknownKeys:"strict",catchall:Bt.create(),typeName:fe.ZodObject,..._e(e)});Ve.lazycreate=(n,e)=>new Ve({shape:n,unknownKeys:"strip",catchall:Bt.create(),typeName:fe.ZodObject,..._e(e)});class Pn extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new It(l.ctx.common.issues));return ne(t,{code:W.invalid_union,unionErrors:a}),he}if(t.common.async)return Promise.all(r.map(async s=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const f={...t,common:{...t.common,issues:[]},parent:null},o=u._parseSync({data:t.data,path:t.path,parent:f});if(o.status==="valid")return o;o.status==="dirty"&&!s&&(s={result:o,ctx:f}),f.common.issues.length&&a.push(f.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(u=>new It(u));return ne(t,{code:W.invalid_union,unionErrors:l}),he}}get options(){return this._def.options}}Pn.create=(n,e)=>new Pn({options:n,typeName:fe.ZodUnion,..._e(e)});const Xn=n=>n instanceof Ln?Xn(n.schema):n instanceof Ft?Xn(n.innerType()):n instanceof zn?[n.value]:n instanceof en?n.options:n instanceof Hn?Object.keys(n.enum):n instanceof Bn?Xn(n._def.innerType):n instanceof qn?[void 0]:n instanceof jn?[null]:null;class Sr extends ye{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==X.object)return ne(t,{code:W.invalid_type,expected:X.object,received:t.parsedType}),he;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(ne(t,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),he)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const a=Xn(s.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Sr({typeName:fe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,..._e(r)})}}function Br(n,e){const t=Yt(n),r=Yt(e);if(n===e)return{valid:!0,data:n};if(t===X.object&&r===X.object){const i=Fe.objectKeys(e),s=Fe.objectKeys(n).filter(l=>i.indexOf(l)!==-1),a={...n,...e};for(const l of s){const u=Br(n[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(t===X.array&&r===X.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const a=n[s],l=e[s],u=Br(a,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===X.date&&r===X.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Zn extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(zr(s)||zr(a))return he;const l=Br(s.value,a.value);return l.valid?((Hr(s)||Hr(a))&&t.dirty(),{status:t.value,value:l.data}):(ne(r,{code:W.invalid_intersection_types}),he)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zn.create=(n,e,t)=>new Zn({left:n,right:e,typeName:fe.ZodIntersection,..._e(t)});class jt extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==X.array)return ne(r,{code:W.invalid_type,expected:X.array,received:r.parsedType}),he;if(r.data.length<this._def.items.length)return ne(r,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&r.data.length>this._def.items.length&&(ne(r,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new qt(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>ct.mergeArray(t,a)):ct.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new jt({...this._def,rest:e})}}jt.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jt({items:n,typeName:fe.ZodTuple,rest:null,..._e(e)})};class Dn extends ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==X.object)return ne(r,{code:W.invalid_type,expected:X.object,received:r.parsedType}),he;const i=[],s=this._def.keyType,a=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new qt(r,l,r.path,l)),value:a._parse(new qt(r,r.data[l],r.path,l))});return r.common.async?ct.mergeObjectAsync(t,i):ct.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof ye?new Dn({keyType:e,valueType:t,typeName:fe.ZodRecord,..._e(r)}):new Dn({keyType:St.create(),valueType:e,typeName:fe.ZodRecord,..._e(t)})}}class fr extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==X.map)return ne(r,{code:W.invalid_type,expected:X.map,received:r.parsedType}),he;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([l,u],f)=>({key:i._parse(new qt(r,l,r.path,[f,"key"])),value:s._parse(new qt(r,u,r.path,[f,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const f=await u.key,o=await u.value;if(f.status==="aborted"||o.status==="aborted")return he;(f.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(f.value,o.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const u of a){const f=u.key,o=u.value;if(f.status==="aborted"||o.status==="aborted")return he;(f.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(f.value,o.value)}return{status:t.value,value:l}}}}fr.create=(n,e,t)=>new fr({valueType:e,keyType:n,typeName:fe.ZodMap,..._e(t)});class un extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==X.set)return ne(r,{code:W.invalid_type,expected:X.set,received:r.parsedType}),he;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ne(r,{code:W.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ne(r,{code:W.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function a(u){const f=new Set;for(const o of u){if(o.status==="aborted")return he;o.status==="dirty"&&t.dirty(),f.add(o.value)}return{status:t.value,value:f}}const l=[...r.data.values()].map((u,f)=>s._parse(new qt(r,u,r.path,f)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,t){return new un({...this._def,minSize:{value:e,message:se.toString(t)}})}max(e,t){return new un({...this._def,maxSize:{value:e,message:se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}un.create=(n,e)=>new un({valueType:n,minSize:null,maxSize:null,typeName:fe.ZodSet,..._e(e)});class kn extends ye{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==X.function)return ne(t,{code:W.invalid_type,expected:X.function,received:t.parsedType}),he;function r(l,u){return ar({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,sr(),Rn].filter(f=>!!f),issueData:{code:W.invalid_arguments,argumentsError:u}})}function i(l,u){return ar({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,sr(),Rn].filter(f=>!!f),issueData:{code:W.invalid_return_type,returnTypeError:u}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;return this._def.returns instanceof xn?mt(async(...l)=>{const u=new It([]),f=await this._def.args.parseAsync(l,s).catch(c=>{throw u.addIssue(r(l,c)),u}),o=await a(...f);return await this._def.returns._def.type.parseAsync(o,s).catch(c=>{throw u.addIssue(i(o,c)),u})}):mt((...l)=>{const u=this._def.args.safeParse(l,s);if(!u.success)throw new It([r(l,u.error)]);const f=a(...u.data),o=this._def.returns.safeParse(f,s);if(!o.success)throw new It([i(f,o.error)]);return o.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new kn({...this._def,args:jt.create(e).rest(ln.create())})}returns(e){return new kn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new kn({args:e||jt.create([]).rest(ln.create()),returns:t||ln.create(),typeName:fe.ZodFunction,..._e(r)})}}class Ln extends ye{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ln.create=(n,e)=>new Ln({getter:n,typeName:fe.ZodLazy,..._e(e)});class zn extends ye{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ne(t,{received:t.data,code:W.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:e.data}}get value(){return this._def.value}}zn.create=(n,e)=>new zn({value:n,typeName:fe.ZodLiteral,..._e(e)});function Ss(n,e){return new en({values:n,typeName:fe.ZodEnum,..._e(e)})}class en extends ye{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return ne(t,{expected:Fe.joinValues(r),received:t.parsedType,code:W.invalid_type}),he}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),r=this._def.values;return ne(t,{received:t.data,code:W.invalid_enum_value,options:r}),he}return mt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return en.create(e)}exclude(e){return en.create(this.options.filter(t=>!e.includes(t)))}}en.create=Ss;class Hn extends ye{_parse(e){const t=Fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==X.string&&r.parsedType!==X.number){const i=Fe.objectValues(t);return ne(r,{expected:Fe.joinValues(i),received:r.parsedType,code:W.invalid_type}),he}if(t.indexOf(e.data)===-1){const i=Fe.objectValues(t);return ne(r,{received:r.data,code:W.invalid_enum_value,options:i}),he}return mt(e.data)}get enum(){return this._def.values}}Hn.create=(n,e)=>new Hn({values:n,typeName:fe.ZodNativeEnum,..._e(e)});class xn extends ye{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==X.promise&&t.common.async===!1)return ne(t,{code:W.invalid_type,expected:X.promise,received:t.parsedType}),he;const r=t.parsedType===X.promise?t.data:Promise.resolve(t.data);return mt(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}xn.create=(n,e)=>new xn({type:n,typeName:fe.ZodPromise,..._e(e)});class Ft extends ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const a=i.transform(r.data);return r.common.async?Promise.resolve(a).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}const s={addIssue:a=>{ne(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const a=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?he:(l.status==="dirty"&&t.dirty(),a(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?he:(l.status==="dirty"&&t.dirty(),a(l.value).then(()=>({status:t.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!lr(a))return a;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>lr(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:t.value,value:l})):a);Fe.assertNever(i)}}Ft.create=(n,e,t)=>new Ft({schema:n,typeName:fe.ZodEffects,effect:e,..._e(t)});Ft.createWithPreprocess=(n,e,t)=>new Ft({schema:e,effect:{type:"preprocess",transform:n},typeName:fe.ZodEffects,..._e(t)});class Ht extends ye{_parse(e){return this._getType(e)===X.undefined?mt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ht.create=(n,e)=>new Ht({innerType:n,typeName:fe.ZodOptional,..._e(e)});class cn extends ye{_parse(e){return this._getType(e)===X.null?mt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cn.create=(n,e)=>new cn({innerType:n,typeName:fe.ZodNullable,..._e(e)});class Bn extends ye{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===X.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Bn.create=(n,e)=>new Bn({innerType:n,typeName:fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class dr extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return or(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new It(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new It(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}dr.create=(n,e)=>new dr({innerType:n,typeName:fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class hr extends ye{_parse(e){if(this._getType(e)!==X.nan){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:X.nan,received:r.parsedType}),he}return{status:"valid",value:e.data}}}hr.create=n=>new hr({typeName:fe.ZodNaN,..._e(n)});const nl=Symbol("zod_brand");class Is extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Qn extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?he:s.status==="dirty"?(t.dirty(),Ts(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?he:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new Qn({in:e,out:t,typeName:fe.ZodPipeline})}}const Ms=(n,e={},t)=>n?An.create().superRefine((r,i)=>{var s,a;if(!n(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(s=l.fatal)!==null&&s!==void 0?s:t)!==null&&a!==void 0?a:!0,f=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...f,fatal:u})}}):An.create(),rl={object:Ve.lazycreate};var fe;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline"})(fe||(fe={}));const il=(n,e={message:`Input not instance of ${n.name}`})=>Ms(t=>t instanceof n,e),Fs=St.create,Us=Jt.create,sl=hr.create,al=Kt.create,Ns=On.create,ll=on.create,ol=ur.create,ul=qn.create,cl=jn.create,fl=An.create,dl=ln.create,hl=Bt.create,pl=cr.create,ml=Mt.create,_l=Ve.create,gl=Ve.strictCreate,vl=Pn.create,yl=Sr.create,bl=Zn.create,wl=jt.create,kl=Dn.create,Cl=fr.create,Al=un.create,xl=kn.create,$l=Ln.create,El=zn.create,Tl=en.create,Sl=Hn.create,Il=xn.create,ki=Ft.create,Ml=Ht.create,Fl=cn.create,Ul=Ft.createWithPreprocess,Nl=Qn.create,Rl=()=>Fs().optional(),Ol=()=>Us().optional(),ql=()=>Ns().optional(),jl={string:n=>St.create({...n,coerce:!0}),number:n=>Jt.create({...n,coerce:!0}),boolean:n=>On.create({...n,coerce:!0}),bigint:n=>Kt.create({...n,coerce:!0}),date:n=>on.create({...n,coerce:!0})},Pl=he;var me=Object.freeze({__proto__:null,defaultErrorMap:Rn,setErrorMap:za,getErrorMap:sr,makeIssue:ar,EMPTY_PATH:Ha,addIssueToContext:ne,ParseStatus:ct,INVALID:he,DIRTY:Ts,OK:mt,isAborted:zr,isDirty:Hr,isValid:lr,isAsync:or,get util(){return Fe},get objectUtil(){return Lr},ZodParsedType:X,getParsedType:Yt,ZodType:ye,ZodString:St,ZodNumber:Jt,ZodBigInt:Kt,ZodBoolean:On,ZodDate:on,ZodSymbol:ur,ZodUndefined:qn,ZodNull:jn,ZodAny:An,ZodUnknown:ln,ZodNever:Bt,ZodVoid:cr,ZodArray:Mt,ZodObject:Ve,ZodUnion:Pn,ZodDiscriminatedUnion:Sr,ZodIntersection:Zn,ZodTuple:jt,ZodRecord:Dn,ZodMap:fr,ZodSet:un,ZodFunction:kn,ZodLazy:Ln,ZodLiteral:zn,ZodEnum:en,ZodNativeEnum:Hn,ZodPromise:xn,ZodEffects:Ft,ZodTransformer:Ft,ZodOptional:Ht,ZodNullable:cn,ZodDefault:Bn,ZodCatch:dr,ZodNaN:hr,BRAND:nl,ZodBranded:Is,ZodPipeline:Qn,custom:Ms,Schema:ye,ZodSchema:ye,late:rl,get ZodFirstPartyTypeKind(){return fe},coerce:jl,any:fl,array:ml,bigint:al,boolean:Ns,date:ll,discriminatedUnion:yl,effect:ki,enum:Tl,function:xl,instanceof:il,intersection:bl,lazy:$l,literal:El,map:Cl,nan:sl,nativeEnum:Sl,never:hl,null:cl,nullable:Fl,number:Us,object:_l,oboolean:ql,onumber:Ol,optional:Ml,ostring:Rl,pipeline:Nl,preprocess:Ul,promise:Il,record:kl,set:Al,strictObject:gl,string:Fs,symbol:ol,transformer:ki,tuple:wl,undefined:ul,union:vl,unknown:dl,void:pl,NEVER:Pl,ZodIssueCode:W,quotelessJson:La,ZodError:It});const Vr={MalformedMessage:"Unknown client sent invalid message",InvalidToken:"Invalid token provided",UsernameTaken:"Username already in use",InappropriateName:"That name is not allowed/inappropriate choose another name",NotJoinable:"Quiz is not joinable",CapacityReached:"Quiz is full",UnknownPlayer:"Target player not found",Unexpected:"Unexpected error occurred",InvalidPermission:"You don't have permission to do that",UnexpectedMessage:"Client and server out of sync",InvalidAnswer:"Invalid answer type"};var gn=(n=>(n.None="None",n.Low="Low",n.Medium="Medium",n.High="High",n))(gn||{}),yt=(n=>(n.Lobby="Lobby",n.Starting="Starting",n.AwaitingReady="AwaitingReady",n.AwaitingAnswers="AwaitingAnswers",n.Marked="Marked",n.Finished="Finished",n))(yt||{}),Mn=(n=>(n.Start="Start",n.Cancel="Cancel",n.Skip="Skip",n.Reset="Reset",n))(Mn||{}),Rs=(n=>(n.RemovedByHost="RemovedByHost",n.HostDisconnect="HostDisconnect",n.LostConnection="LostConnection",n.Disconnected="Disconnected",n))(Rs||{});const Zl={RemovedByHost:"Removed by host",HostDisconnect:"Quiz host left",LostConnection:"Connection lost",Disconnected:"Disconnected"};var nt=(n=>(n.Single="Single",n.Multiple="Multiple",n))(nt||{});const Ci=me.object({id:me.number(),value:me.string(),correct:me.boolean()});var vn=(n=>(n.Contain="Contain",n.Cover="Cover",n.Width="Width",n.Height="Height",n))(vn||{});const Dl=me.object({id:me.number(),text:me.string(),image:me.object({uuid:me.string().uuid(),fit:me.enum(["Contain","Cover","Width","Height"])}).nullable(),answer_time:me.number(),bonus_score_time:me.number(),scoring:me.object({min_score:me.number(),max_score:me.number(),bonus_score:me.number()})}).and(me.discriminatedUnion("ty",[me.object({ty:me.literal("Single"),answers:me.array(Ci)}),me.object({ty:me.literal("Multiple"),answers:me.array(Ci),min:me.number(),max:me.number()})]));var Qr=(n=>(n.Single="Single",n.Multiple="Multiple",n))(Qr||{}),Ot=(n=>(n.Correct="Correct",n.Incorrect="Incorrect",n.Partial="Partial",n))(Ot||{}),Vt=(n=>(n.Initialize="Initialize",n.Connect="Connect",n.Join="Join",n.Ready="Ready",n.HostAction="HostAction",n.Answer="Answer",n.Kick="Kick",n))(Vt||{}),Tt=(n=>(n.Joined="Joined",n.Ok="Ok",n.PlayerData="PlayerData",n.GameState="GameState",n.TimeSync="TimeSync",n.Question="Question",n.Scores="Scores",n.Score="Score",n.Error="Error",n.Kicked="Kicked",n))(Tt||{});function ti(n){return new URL(n,window.location.origin)}function Ai(n,e){return ti(`/api/quiz/${n}/${e}`).toString()}function Ll(n,e,t){return new Promise((r,i)=>{const s=zl(n,e),a=new XMLHttpRequest;a.upload.onprogress=t,a.responseType="json",a.onload=()=>{if(Math.floor(a.status/100)!==2)return console.error("Failed invalid request",a),i(new Error("Invalid request try reloading the page or updating Quizler"));const f=a.response;r(f.uuid)},a.onerror=a.ontimeout=a.onabort=()=>i(new Error("Failed to connect"));const l=ti("/api/quiz");a.open("POST",l),a.send(s)})}function zl(n,e){const t=new FormData;t.append("config",JSON.stringify(n));for(const r of e)n.questions.find(s=>{var a;return((a=s.image)==null?void 0:a.uuid)===r.uuid})!==void 0&&t.append(r.uuid,r.blob);return t}async function Hl(n,e){const t=e.image;if(t===null)return null;const r=6;let i=0,s=Ai(n,t.uuid),a=null;for(;i<r;)try{await new Promise((l,u)=>{a=new Image,a.src=s,a.onload=l,a.onerror=u}),console.debug("Preloaded question image",s);break}catch(l){console.error("Failed to preload image trying again",s,l),i+=1,a=null,s=Ai(n,t.uuid)+`?attempt=${i}`}return a}let Os=0,pr={},Vn=[],qs=js();const Wr={},ni=nn(!1);function Gt(n,e){ks(()=>{Wr[n]=e,console.log("Added handler for",n),Vn=Vn.filter(t=>t.ty===n?(e(t),!1):!0)}),Aa(()=>{delete Wr[n]})}function Bl(){for(const n of Vn)console.warn("Message was not handled",n);Vn=[]}function js(){const n=ti("/api/quiz/socket");n.protocol=n.protocol.includes("https")?"wss":"ws",console.debug("Connecting to socket server "+n);const e=new WebSocket(n);return e.onmessage=Wl,e.onopen=()=>{e.readyState==WebSocket.OPEN?(console.debug("Connected to socket"),ni.set(!0)):console.log(e.readyState)},e.onclose=t=>{console.error("WebSocket connetion closed",t),Vl()},e.onerror=t=>{console.error("WebSocket error",t)},e}function Vl(){Os=0,pr={},Bl(),Tn(),Ql()}function Ql(){console.debug("Socket connection lost (Reconnecting in 1000ms)"),ni.set(!1),setTimeout(()=>{qs=js()},1e3)}function tn(n){return new Promise((e,t)=>{console.debug("Sending message to server",n),n.rid=Os++,pr[n.rid]={resolve:e,reject:t};const r=JSON.stringify(n);try{qs.send(r)}catch(i){console.error("Failed to send message",i),delete pr[n.rid],t({ty:Tt.Error,error:"Unexpected"})}})}function Wl({data:n}){const e=JSON.parse(n);if(e.ty===void 0){console.error("Packet missing message type",n);return}const t=e.rid;if(t!==void 0){const i=pr[t];if(i===void 0){console.error(`Missing return handle ${t} for message`,e);return}e.ty===Tt.Error?i.reject(e.error):i.resolve(e)}const r=Wr[e.ty];if(r!==void 0){r(e);return}Vn.push(e)}const Jn=5,Ps=1,Zs=30,Gl=70,Yl=300,Xl="Example Quiz",Jl="Small description about your quiz",Kl=10,eo=100,to=150,xi=8,$i=50,no=1e3*15,ro=1e3,io=1e3*60*30,so=1e3*10,ao=1e3,lo=1e3*60*30,oo=150,uo=1e3*3,co=1e3,fo=1e3*60*30,ho=1,Ds=50,po=1024*1024*15;function mo(){return{name:Xl,text:Jl,max_players:Ds,filtering:gn.High,timing:{wait_time:so},questions:[Ls()]}}function Ls(){return{id:0,ty:nt.Single,text:"This is an example question, you should replace this with your first question",image:null,answer_time:no,bonus_score_time:uo,scoring:{min_score:Kl,max_score:eo,bonus_score:oo},answers:[{id:0,value:"Example A",correct:!0},{id:1,value:"Example B",correct:!1},{id:2,value:"Example C",correct:!1},{id:3,value:"Example D",correct:!1}]}}function mr(n){return((n.total-n.elapsed)/1e3).toFixed(0)}function Kn(n,e){const t=Math.round(Math.random()*(e-n)+n);return t>e?e:t<n?n:t}function _o(n){return JSON.parse(JSON.stringify(n))}function Ei(n){const e=["th","st","nd","rd"],t=n%100;return n+(e[(t-20)%10]||e[t]||e[0])}function zs(n){const e=Kn(1,n.length/2);let t=0;for(;t<e;){const r=Kn(0,n.length-1),i=Kn(0,n.length-1);r!==i&&(_r(n,r,i),t++)}return n}function _r(n,e,t){const r=n[e],i=n[t];return(r!==void 0||i!==void 0)&&(n[e]=i,n[t]=r),n}const kt=nn(mo());let Ti=1;function go(){kt.update(n=>{const e=Ls();return e.id=Ti,Ti++,n.questions.push(e),n})}function Si(n,e){kt.update(t=>(_r(t.questions,n,e),t))}function vo(n){kt.update(e=>(e.questions.splice(n,1),e))}function yo(){kt.update(n=>(zs(n.questions),n))}function bo(n){kt.update(e=>{const t=e.questions.findIndex(r=>r.id===n.id);return t===-1?e.questions.push(n):e.questions[t]=n,e})}function wo(n){return n.answers=n.answers??[],n.ty===nt.Multiple&&(n.min=n.min??1,n.max=n.max??n.answers.length),n}function ko(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}function Hs(n,e){return new Promise(function(t,r){let i;return Co(n).then(function(s){try{return i=s,t(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const Co=n=>new Promise((e,t)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return t("not a valid JPEG");for(a+=2;;){const l=s.getUint16(a);if(l===65498)break;const u=s.getUint16(a+2);if(l===65505&&s.getUint32(a+4)===1165519206){const f=a+10;let o;switch(s.getUint16(f)){case 18761:o=!0;break;case 19789:o=!1;break;default:return t("TIFF header contains invalid endian")}if(s.getUint16(f+2,o)!==42)return t("TIFF header contains invalid version");const h=s.getUint32(f+4,o),c=f+h+2+12*s.getUint16(f+h,o);for(let d=f+h+2;d<c;d+=12)if(s.getUint16(d,o)==274){if(s.getUint16(d+2,o)!==3)return t("Orientation data type is invalid");if(s.getUint32(d+4,o)!==1)return t("Orientation data count is invalid");s.setUint16(d+8,1,o);break}return e(i.slice(a,a+2+u))}a+=2+u}return e(new Blob)}),r.readAsArrayBuffer(n)});var gr={},Ao={get exports(){return gr},set exports(n){gr=n}};(function(n){var e,t,r={};Ao.exports=r,r.parse=function(i,s){for(var a=r.bin.readUshort,l=r.bin.readUint,u=0,f={},o=new Uint8Array(i),h=o.length-4;l(o,h)!=101010256;)h--;u=h,u+=4;var c=a(o,u+=4);a(o,u+=2);var d=l(o,u+=2),p=l(o,u+=4);u+=4,u=p;for(var k=0;k<c;k++){l(o,u),u+=4,u+=4,u+=4,l(o,u+=4),d=l(o,u+=4);var y=l(o,u+=4),g=a(o,u+=4),A=a(o,u+2),x=a(o,u+4);u+=6;var S=l(o,u+=8);u+=4,u+=g+A+x,r._readLocal(o,S,f,d,y,s)}return f},r._readLocal=function(i,s,a,l,u,f){var o=r.bin.readUshort,h=r.bin.readUint;h(i,s),o(i,s+=4),o(i,s+=2);var c=o(i,s+=2);h(i,s+=2),h(i,s+=4),s+=4;var d=o(i,s+=8),p=o(i,s+=2);s+=2;var k=r.bin.readUTF8(i,s,d);if(s+=d,s+=p,f)a[k]={size:u,csize:l};else{var y=new Uint8Array(i.buffer,s);if(c==0)a[k]=new Uint8Array(y.buffer.slice(s,s+l));else{if(c!=8)throw"unknown compression method: "+c;var g=new Uint8Array(u);r.inflateRaw(y,g),a[k]=g}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*i.length));l[a]=120,l[a+1]=156,a+=2,a=r.F.deflateRaw(i,l,a,s.level);var u=r.adler(i,0,i.length);return l[a+0]=u>>>24&255,l[a+1]=u>>>16&255,l[a+2]=u>>>8&255,l[a+3]=u>>>0&255,new Uint8Array(l.buffer,0,a+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),l=r.F.deflateRaw(i,a,l,s.level);return new Uint8Array(a.buffer,0,l)},r.encode=function(i,s){s==null&&(s=!1);var a=0,l=r.bin.writeUint,u=r.bin.writeUshort,f={};for(var o in i){var h=!r._noNeed(o)&&!s,c=i[o],d=r.crc.crc(c,0,c.length);f[o]={cpr:h,usize:c.length,crc:d,file:h?r.deflateRaw(c):c}}for(var o in f)a+=f[o].file.length+30+46+2*r.bin.sizeUTF8(o);a+=22;var p=new Uint8Array(a),k=0,y=[];for(var o in f){var g=f[o];y.push(k),k=r._writeHeader(p,k,o,g,0)}var A=0,x=k;for(var o in f)g=f[o],y.push(k),k=r._writeHeader(p,k,o,g,1,y[A++]);var S=k-x;return l(p,k,101010256),k+=4,u(p,k+=4,A),u(p,k+=2,A),l(p,k+=2,S),l(p,k+=4,x),k+=4,k+=2,p.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,a,l,u,f){var o=r.bin.writeUint,h=r.bin.writeUshort,c=l.file;return o(i,s,u==0?67324752:33639248),s+=4,u==1&&(s+=2),h(i,s,20),h(i,s+=2,0),h(i,s+=2,l.cpr?8:0),o(i,s+=2,0),o(i,s+=4,l.crc),o(i,s+=4,c.length),o(i,s+=4,l.usize),h(i,s+=4,r.bin.sizeUTF8(a)),h(i,s+=2,0),s+=2,u==1&&(s+=2,s+=2,o(i,s+=6,f),s+=4),s+=r.bin.writeUTF8(i,s,a),u==0&&(i.set(c,s),s+=c.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,l){for(var u=0;u<l;u++)i=r.crc.table[255&(i^s[a+u])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^r.crc.update(4294967295,i,s,a)}},r.adler=function(i,s,a){for(var l=1,u=0,f=s,o=s+a;f<o;){for(var h=Math.min(f+5552,o);f<h;)u+=l+=i[f++];l%=65521,u%=65521}return u<<16|l},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var l="",u=0;u<a;u++)l+=String.fromCharCode(i[s+u]);return l},writeASCII:function(i,s,a){for(var l=0;l<a.length;l++)i[s+l]=a.charCodeAt(l)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var l,u="",f=0;f<a;f++)u+="%"+r.bin.pad(i[s+f].toString(16));try{l=decodeURIComponent(u)}catch{return r.bin.readASCII(i,s,a)}return l},writeUTF8:function(i,s,a){for(var l=a.length,u=0,f=0;f<l;f++){var o=a.charCodeAt(f);if(!(4294967168&o))i[s+u]=o,u++;else if(!(4294965248&o))i[s+u]=192|o>>6,i[s+u+1]=128|o>>0&63,u+=2;else if(!(4294901760&o))i[s+u]=224|o>>12,i[s+u+1]=128|o>>6&63,i[s+u+2]=128|o>>0&63,u+=3;else{if(4292870144&o)throw"e";i[s+u]=240|o>>18,i[s+u+1]=128|o>>12&63,i[s+u+2]=128|o>>6&63,i[s+u+3]=128|o>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var s=i.length,a=0,l=0;l<s;l++){var u=i.charCodeAt(l);if(!(4294967168&u))a++;else if(!(4294965248&u))a+=2;else if(!(4294901760&u))a+=3;else{if(4292870144&u)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(i,s,a,l){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],f=r.F.U,o=r.F._goodIndex;r.F._hash;var h=r.F._putsE,c=0,d=a<<3,p=0,k=i.length;if(l==0){for(;c<k;)h(s,d,c+($=Math.min(65535,k-c))==k?1:0),d=r.F._copyExact(i,c,$,s,d+8),c+=$;return d>>>3}var y=f.lits,g=f.strt,A=f.prev,x=0,S=0,R=0,E=0,U=0,v=0;for(k>2&&(g[v=r.F._hash(i,0)]=0),c=0;c<k;c++){if(U=v,c+1<k-2){v=r.F._hash(i,c+1);var b=c+1&32767;A[b]=g[v],g[v]=b}if(p<=c){(x>14e3||S>26697)&&k-c>100&&(p<c&&(y[x]=c-p,x+=2,p=c),d=r.F._writeBlock(c==k-1||p==k?1:0,y,x,E,i,R,c-R,s,d),x=S=E=0,R=c);var I=0;c<k-2&&(I=r.F._bestMatch(i,c,A,U,Math.min(u[2],k-c),u[3]));var $=I>>>16,M=65535&I;if(I!=0){M=65535&I;var O=o($=I>>>16,f.of0);f.lhst[257+O]++;var F=o(M,f.df0);f.dhst[F]++,E+=f.exb[O]+f.dxb[F],y[x]=$<<23|c-p,y[x+1]=M<<16|O<<8|F,x+=2,p=c+$}else f.lhst[i[c]]++;S++}}for(R==c&&i.length!=0||(p<c&&(y[x]=c-p,x+=2,p=c),d=r.F._writeBlock(1,y,x,E,i,R,c-R,s,d),x=0,S=0,x=S=E=0,R=c);7&d;)d++;return d>>>3},r.F._bestMatch=function(i,s,a,l,u,f){var o=32767&s,h=a[o],c=o-h+32768&32767;if(h==o||l!=r.F._hash(i,s-c))return 0;for(var d=0,p=0,k=Math.min(32767,s);c<=k&&--f!=0&&h!=o;){if(d==0||i[s+d]==i[s+d-c]){var y=r.F._howLong(i,s,c);if(y>d){if(p=c,(d=y)>=u)break;c+2<y&&(y=c+2);for(var g=0,A=0;A<y-2;A++){var x=s-c+A+32768&32767,S=x-a[x]+32768&32767;S>g&&(g=S,h=x)}}}c+=(o=h)-(h=a[o])+32768&32767}return d<<16|p},r.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var l=s,u=Math.min(i.length,s+258);for(s+=3;s<u&&i[s]==i[s-a];)s++;return s-l},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,a,l,u,f,o,h,c){var d,p,k,y,g,A,x,S,R,E=r.F.U,U=r.F._putsF,v=r.F._putsE;E.lhst[256]++,p=(d=r.F.getTrees())[0],k=d[1],y=d[2],g=d[3],A=d[4],x=d[5],S=d[6],R=d[7];var b=32+(c+3&7?8-(c+3&7):0)+(o<<3),I=l+r.F.contSize(E.fltree,E.lhst)+r.F.contSize(E.fdtree,E.dhst),$=l+r.F.contSize(E.ltree,E.lhst)+r.F.contSize(E.dtree,E.dhst);$+=14+3*x+r.F.contSize(E.itree,E.ihst)+(2*E.ihst[16]+3*E.ihst[17]+7*E.ihst[18]);for(var M=0;M<286;M++)E.lhst[M]=0;for(M=0;M<30;M++)E.dhst[M]=0;for(M=0;M<19;M++)E.ihst[M]=0;var O=b<I&&b<$?0:I<$?1:2;if(U(h,c,i),U(h,c+1,O),c+=3,O==0){for(;7&c;)c++;c=r.F._copyExact(u,f,o,h,c)}else{var F,q;if(O==1&&(F=E.fltree,q=E.fdtree),O==2){r.F.makeCodes(E.ltree,p),r.F.revCodes(E.ltree,p),r.F.makeCodes(E.dtree,k),r.F.revCodes(E.dtree,k),r.F.makeCodes(E.itree,y),r.F.revCodes(E.itree,y),F=E.ltree,q=E.dtree,v(h,c,g-257),v(h,c+=5,A-1),v(h,c+=5,x-4),c+=4;for(var C=0;C<x;C++)v(h,c+3*C,E.itree[1+(E.ordr[C]<<1)]);c+=3*x,c=r.F._codeTiny(S,E.itree,h,c),c=r.F._codeTiny(R,E.itree,h,c)}for(var w=f,j=0;j<a;j+=2){for(var N=s[j],D=N>>>23,J=w+(8388607&N);w<J;)c=r.F._writeLit(u[w++],F,h,c);if(D!=0){var H=s[j+1],Q=H>>16,L=H>>8&255,Z=255&H;v(h,c=r.F._writeLit(257+L,F,h,c),D-E.of0[L]),c+=E.exb[L],U(h,c=r.F._writeLit(Z,q,h,c),Q-E.df0[Z]),c+=E.dxb[Z],w+=D}}c=r.F._writeLit(256,F,h,c)}return c},r.F._copyExact=function(i,s,a,l,u){var f=u>>>3;return l[f]=a,l[f+1]=a>>>8,l[f+2]=255-l[f],l[f+3]=255-l[f+1],f+=4,l.set(new Uint8Array(i.buffer,s,a),f),u+(a+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),a=r.F._hufTree(i.dhst,i.dtree,15),l=[],u=r.F._lenCodes(i.ltree,l),f=[],o=r.F._lenCodes(i.dtree,f),h=0;h<l.length;h+=2)i.ihst[l[h]]++;for(h=0;h<f.length;h+=2)i.ihst[f[h]]++;for(var c=r.F._hufTree(i.ihst,i.itree,7),d=19;d>4&&i.itree[1+(i.ordr[d-1]<<1)]==0;)d--;return[s,a,c,u,o,d,l,f]},r.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},r.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},r.F.contSize=function(i,s){for(var a=0,l=0;l<s.length;l++)a+=s[l]*i[1+(l<<1)];return a},r.F._codeTiny=function(i,s,a,l){for(var u=0;u<i.length;u+=2){var f=i[u],o=i[u+1];l=r.F._writeLit(f,s,a,l);var h=f==16?2:f==17?3:7;f>15&&(r.F._putsE(a,l,o,h),l+=h)}return l},r.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var u=i[l+1],f=l+3<a?i[l+3]:-1,o=l+5<a?i[l+5]:-1,h=l==0?-1:i[l-1];if(u==0&&f==u&&o==u){for(var c=l+5;c+2<a&&i[c+2]==u;)c+=2;(d=Math.min(c+1-l>>>1,138))<11?s.push(17,d-3):s.push(18,d-11),l+=2*d-2}else if(u==h&&f==u&&o==u){for(c=l+5;c+2<a&&i[c+2]==u;)c+=2;var d=Math.min(c+1-l>>>1,6);s.push(16,d-3),l+=2*d-2}else s.push(u,0)}return a>>>1},r.F._hufTree=function(i,s,a){var l=[],u=i.length,f=s.length,o=0;for(o=0;o<f;o+=2)s[o]=0,s[o+1]=0;for(o=0;o<u;o++)i[o]!=0&&l.push({lit:o,f:i[o]});var h=l.length,c=l.slice(0);if(h==0)return 0;if(h==1){var d=l[0].lit;return c=d==0?1:0,s[1+(d<<1)]=1,s[1+(c<<1)]=1,1}l.sort(function(S,R){return S.f-R.f});var p=l[0],k=l[1],y=0,g=1,A=2;for(l[0]={lit:-1,f:p.f+k.f,l:p,r:k,d:0};g!=h-1;)p=y!=g&&(A==h||l[y].f<l[A].f)?l[y++]:l[A++],k=y!=g&&(A==h||l[y].f<l[A].f)?l[y++]:l[A++],l[g++]={lit:-1,f:p.f+k.f,l:p,r:k};var x=r.F.setDepth(l[g-1],0);for(x>a&&(r.F.restrictDepth(c,a,x),x=a),o=0;o<h;o++)s[1+(c[o].lit<<1)]=c[o].d;return x},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,a){var l=0,u=1<<a-s,f=0;for(i.sort(function(h,c){return c.d==h.d?h.f-c.f:c.d-h.d}),l=0;l<i.length&&i[l].d>s;l++){var o=i[l].d;i[l].d=s,f+=u-(1<<a-o)}for(f>>>=a-s;f>0;)(o=i[l].d)<s?(i[l].d++,f-=1<<s-o-1):l++;for(;l>=0;l--)i[l].d==s&&f<0&&(i[l].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},r.F._writeLit=function(i,s,a,l){return r.F._putsF(a,l,s[i<<1]),l+s[1+(i<<1)]},r.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var l=r.F,u=l._bitsF,f=l._bitsE,o=l._decodeTiny,h=l.makeCodes,c=l.codes2map,d=l._get17,p=l.U,k=s==null;k&&(s=new a(i.length>>>2<<3));for(var y,g,A=0,x=0,S=0,R=0,E=0,U=0,v=0,b=0,I=0;A==0;)if(A=u(i,I,1),x=u(i,I+1,2),I+=3,x!=0){if(k&&(s=r.F._check(s,b+(1<<17))),x==1&&(y=p.flmap,g=p.fdmap,U=511,v=31),x==2){S=f(i,I,5)+257,R=f(i,I+5,5)+1,E=f(i,I+10,4)+4,I+=14;for(var $=0;$<38;$+=2)p.itree[$]=0,p.itree[$+1]=0;var M=1;for($=0;$<E;$++){var O=f(i,I+3*$,3);p.itree[1+(p.ordr[$]<<1)]=O,O>M&&(M=O)}I+=3*E,h(p.itree,M),c(p.itree,M,p.imap),y=p.lmap,g=p.dmap,I=o(p.imap,(1<<M)-1,S+R,i,I,p.ttree);var F=l._copyOut(p.ttree,0,S,p.ltree);U=(1<<F)-1;var q=l._copyOut(p.ttree,S,R,p.dtree);v=(1<<q)-1,h(p.ltree,F),c(p.ltree,F,y),h(p.dtree,q),c(p.dtree,q,g)}for(;;){var C=y[d(i,I)&U];I+=15&C;var w=C>>>4;if(!(w>>>8))s[b++]=w;else{if(w==256)break;var j=b+w-254;if(w>264){var N=p.ldef[w-257];j=b+(N>>>3)+f(i,I,7&N),I+=7&N}var D=g[d(i,I)&v];I+=15&D;var J=D>>>4,H=p.ddef[J],Q=(H>>>4)+u(i,I,15&H);for(I+=15&H,k&&(s=r.F._check(s,b+(1<<17)));b<j;)s[b]=s[b++-Q],s[b]=s[b++-Q],s[b]=s[b++-Q],s[b]=s[b++-Q];b=j}}}else{7&I&&(I+=8-(7&I));var L=4+(I>>>3),Z=i[L-4]|i[L-3]<<8;k&&(s=r.F._check(s,b+Z)),s.set(new a(i.buffer,i.byteOffset+L,Z),b),I=L+Z<<3,b+=Z}return s.length==b?s:s.slice(0,b)},r.F._check=function(i,s){var a=i.length;if(s<=a)return i;var l=new Uint8Array(Math.max(a<<1,s));return l.set(i,0),l},r.F._decodeTiny=function(i,s,a,l,u,f){for(var o=r.F._bitsE,h=r.F._get17,c=0;c<a;){var d=i[h(l,u)&s];u+=15&d;var p=d>>>4;if(p<=15)f[c]=p,c++;else{var k=0,y=0;p==16?(y=3+o(l,u,2),u+=2,k=f[c-1]):p==17?(y=3+o(l,u,3),u+=3):p==18&&(y=11+o(l,u,7),u+=7);for(var g=c+y;c<g;)f[c]=k,c++}}return u},r.F._copyOut=function(i,s,a,l){for(var u=0,f=0,o=l.length>>>1;f<a;){var h=i[f+s];l[f<<1]=0,l[1+(f<<1)]=h,h>u&&(u=h),f++}for(;f<o;)l[f<<1]=0,l[1+(f<<1)]=0,f++;return u},r.F.makeCodes=function(i,s){for(var a,l,u,f,o=r.F.U,h=i.length,c=o.bl_count,d=0;d<=s;d++)c[d]=0;for(d=1;d<h;d+=2)c[i[d]]++;var p=o.next_code;for(a=0,c[0]=0,l=1;l<=s;l++)a=a+c[l-1]<<1,p[l]=a;for(u=0;u<h;u+=2)(f=i[u+1])!=0&&(i[u]=p[f],p[f]++)},r.F.codes2map=function(i,s,a){for(var l=i.length,u=r.F.U.rev15,f=0;f<l;f+=2)if(i[f+1]!=0)for(var o=f>>1,h=i[f+1],c=o<<4|h,d=s-h,p=i[f]<<d,k=p+(1<<d);p!=k;)a[u[p]>>>15-s]=c,p++},r.F.revCodes=function(i,s){for(var a=r.F.U.rev15,l=15-s,u=0;u<i.length;u+=2){var f=i[u]<<s-i[u+1];i[u]=a[f]>>>l}},r.F._putsE=function(i,s,a){a<<=7&s;var l=s>>>3;i[l]|=a,i[l+1]|=a>>>8},r.F._putsF=function(i,s,a){a<<=7&s;var l=s>>>3;i[l]|=a,i[l+1]|=a>>>8,i[l+2]|=a>>>16},r.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},r.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function l(u,f,o){for(;f--!=0;)u.push(0,o)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];l(i.fltree,144,8),l(i.fltree,112,9),l(i.fltree,24,7),l(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),l(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),l(i.itree,19,0),l(i.ltree,286,0),l(i.dtree,30,0),l(i.ttree,320,0)}()})();var xo=ko({__proto__:null,default:gr},[gr]);const Et=function(){var n={nextZero(o,h){for(;o[h]!=0;)h++;return h},readUshort:(o,h)=>o[h]<<8|o[h+1],writeUshort(o,h,c){o[h]=c>>8&255,o[h+1]=255&c},readUint:(o,h)=>16777216*o[h]+(o[h+1]<<16|o[h+2]<<8|o[h+3]),writeUint(o,h,c){o[h]=c>>24&255,o[h+1]=c>>16&255,o[h+2]=c>>8&255,o[h+3]=255&c},readASCII(o,h,c){let d="";for(let p=0;p<c;p++)d+=String.fromCharCode(o[h+p]);return d},writeASCII(o,h,c){for(let d=0;d<c.length;d++)o[h+d]=c.charCodeAt(d)},readBytes(o,h,c){const d=[];for(let p=0;p<c;p++)d.push(o[h+p]);return d},pad:o=>o.length<2?`0${o}`:o,readUTF8(o,h,c){let d,p="";for(let k=0;k<c;k++)p+=`%${n.pad(o[h+k].toString(16))}`;try{d=decodeURIComponent(p)}catch{return n.readASCII(o,h,c)}return d}};function e(o,h,c,d){const p=h*c,k=s(d),y=Math.ceil(h*k/8),g=new Uint8Array(4*p),A=new Uint32Array(g.buffer),{ctype:x}=d,{depth:S}=d,R=n.readUshort;if(x==6){const N=p<<2;if(S==8)for(var E=0;E<N;E+=4)g[E]=o[E],g[E+1]=o[E+1],g[E+2]=o[E+2],g[E+3]=o[E+3];if(S==16)for(E=0;E<N;E++)g[E]=o[E<<1]}else if(x==2){const N=d.tabs.tRNS;if(N==null){if(S==8)for(E=0;E<p;E++){var U=3*E;A[E]=255<<24|o[U+2]<<16|o[U+1]<<8|o[U]}if(S==16)for(E=0;E<p;E++)U=6*E,A[E]=255<<24|o[U+4]<<16|o[U+2]<<8|o[U]}else{var v=N[0];const D=N[1],J=N[2];if(S==8)for(E=0;E<p;E++){var b=E<<2;U=3*E,A[E]=255<<24|o[U+2]<<16|o[U+1]<<8|o[U],o[U]==v&&o[U+1]==D&&o[U+2]==J&&(g[b+3]=0)}if(S==16)for(E=0;E<p;E++)b=E<<2,U=6*E,A[E]=255<<24|o[U+4]<<16|o[U+2]<<8|o[U],R(o,U)==v&&R(o,U+2)==D&&R(o,U+4)==J&&(g[b+3]=0)}}else if(x==3){const N=d.tabs.PLTE,D=d.tabs.tRNS,J=D?D.length:0;if(S==1)for(var I=0;I<c;I++){var $=I*y,M=I*h;for(E=0;E<h;E++){b=M+E<<2;var O=3*(F=o[$+(E>>3)]>>7-((7&E)<<0)&1);g[b]=N[O],g[b+1]=N[O+1],g[b+2]=N[O+2],g[b+3]=F<J?D[F]:255}}if(S==2)for(I=0;I<c;I++)for($=I*y,M=I*h,E=0;E<h;E++)b=M+E<<2,O=3*(F=o[$+(E>>2)]>>6-((3&E)<<1)&3),g[b]=N[O],g[b+1]=N[O+1],g[b+2]=N[O+2],g[b+3]=F<J?D[F]:255;if(S==4)for(I=0;I<c;I++)for($=I*y,M=I*h,E=0;E<h;E++)b=M+E<<2,O=3*(F=o[$+(E>>1)]>>4-((1&E)<<2)&15),g[b]=N[O],g[b+1]=N[O+1],g[b+2]=N[O+2],g[b+3]=F<J?D[F]:255;if(S==8)for(E=0;E<p;E++){var F;b=E<<2,O=3*(F=o[E]),g[b]=N[O],g[b+1]=N[O+1],g[b+2]=N[O+2],g[b+3]=F<J?D[F]:255}}else if(x==4){if(S==8)for(E=0;E<p;E++){b=E<<2;var q=o[C=E<<1];g[b]=q,g[b+1]=q,g[b+2]=q,g[b+3]=o[C+1]}if(S==16)for(E=0;E<p;E++){var C;b=E<<2,q=o[C=E<<2],g[b]=q,g[b+1]=q,g[b+2]=q,g[b+3]=o[C+2]}}else if(x==0)for(v=d.tabs.tRNS?d.tabs.tRNS:-1,I=0;I<c;I++){const N=I*y,D=I*h;if(S==1)for(var w=0;w<h;w++){var j=(q=255*(o[N+(w>>>3)]>>>7-(7&w)&1))==255*v?0:255;A[D+w]=j<<24|q<<16|q<<8|q}else if(S==2)for(w=0;w<h;w++)j=(q=85*(o[N+(w>>>2)]>>>6-((3&w)<<1)&3))==85*v?0:255,A[D+w]=j<<24|q<<16|q<<8|q;else if(S==4)for(w=0;w<h;w++)j=(q=17*(o[N+(w>>>1)]>>>4-((1&w)<<2)&15))==17*v?0:255,A[D+w]=j<<24|q<<16|q<<8|q;else if(S==8)for(w=0;w<h;w++)j=(q=o[N+w])==v?0:255,A[D+w]=j<<24|q<<16|q<<8|q;else if(S==16)for(w=0;w<h;w++)q=o[N+(w<<1)],j=R(o,N+(w<<1))==v?0:255,A[D+w]=j<<24|q<<16|q<<8|q}return g}function t(o,h,c,d){const p=s(o),k=Math.ceil(c*p/8),y=new Uint8Array((k+1+o.interlace)*d);return h=o.tabs.CgBI?i(h,y):r(h,y),o.interlace==0?h=a(h,o,0,c,d):o.interlace==1&&(h=function(A,x){const S=x.width,R=x.height,E=s(x),U=E>>3,v=Math.ceil(S*E/8),b=new Uint8Array(R*v);let I=0;const $=[0,0,4,0,2,0,1],M=[0,4,0,2,0,1,0],O=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let q=0;for(;q<7;){const w=O[q],j=F[q];let N=0,D=0,J=$[q];for(;J<R;)J+=w,D++;let H=M[q];for(;H<S;)H+=j,N++;const Q=Math.ceil(N*E/8);a(A,x,I,N,D);let L=0,Z=$[q];for(;Z<R;){let ie=M[q],pe=I+L*Q<<3;for(;ie<S;){var C;if(E==1&&(C=(C=A[pe>>3])>>7-(7&pe)&1,b[Z*v+(ie>>3)]|=C<<7-((7&ie)<<0)),E==2&&(C=(C=A[pe>>3])>>6-(7&pe)&3,b[Z*v+(ie>>2)]|=C<<6-((3&ie)<<1)),E==4&&(C=(C=A[pe>>3])>>4-(7&pe)&15,b[Z*v+(ie>>1)]|=C<<4-((1&ie)<<2)),E>=8){const K=Z*v+ie*U;for(let te=0;te<U;te++)b[K+te]=A[(pe>>3)+te]}pe+=E,ie+=j}L++,Z+=w}N*D!=0&&(I+=D*(1+Q)),q+=1}return b}(h,o)),h}function r(o,h){return i(new Uint8Array(o.buffer,2,o.length-6),h)}var i=function(){const o={H:{}};return o.H.N=function(h,c){const d=Uint8Array;let p,k,y=0,g=0,A=0,x=0,S=0,R=0,E=0,U=0,v=0;if(h[0]==3&&h[1]==0)return c||new d(0);const b=o.H,I=b.b,$=b.e,M=b.R,O=b.n,F=b.A,q=b.Z,C=b.m,w=c==null;for(w&&(c=new d(h.length>>>2<<5));y==0;)if(y=I(h,v,1),g=I(h,v+1,2),v+=3,g!=0){if(w&&(c=o.H.W(c,U+(1<<17))),g==1&&(p=C.J,k=C.h,R=511,E=31),g==2){A=$(h,v,5)+257,x=$(h,v+5,5)+1,S=$(h,v+10,4)+4,v+=14;let N=1;for(var j=0;j<38;j+=2)C.Q[j]=0,C.Q[j+1]=0;for(j=0;j<S;j++){const H=$(h,v+3*j,3);C.Q[1+(C.X[j]<<1)]=H,H>N&&(N=H)}v+=3*S,O(C.Q,N),F(C.Q,N,C.u),p=C.w,k=C.d,v=M(C.u,(1<<N)-1,A+x,h,v,C.v);const D=b.V(C.v,0,A,C.C);R=(1<<D)-1;const J=b.V(C.v,A,x,C.D);E=(1<<J)-1,O(C.C,D),F(C.C,D,p),O(C.D,J),F(C.D,J,k)}for(;;){const N=p[q(h,v)&R];v+=15&N;const D=N>>>4;if(!(D>>>8))c[U++]=D;else{if(D==256)break;{let J=U+D-254;if(D>264){const ie=C.q[D-257];J=U+(ie>>>3)+$(h,v,7&ie),v+=7&ie}const H=k[q(h,v)&E];v+=15&H;const Q=H>>>4,L=C.c[Q],Z=(L>>>4)+I(h,v,15&L);for(v+=15&L;U<J;)c[U]=c[U++-Z],c[U]=c[U++-Z],c[U]=c[U++-Z],c[U]=c[U++-Z];U=J}}}}else{7&v&&(v+=8-(7&v));const N=4+(v>>>3),D=h[N-4]|h[N-3]<<8;w&&(c=o.H.W(c,U+D)),c.set(new d(h.buffer,h.byteOffset+N,D),U),v=N+D<<3,U+=D}return c.length==U?c:c.slice(0,U)},o.H.W=function(h,c){const d=h.length;if(c<=d)return h;const p=new Uint8Array(d<<1);return p.set(h,0),p},o.H.R=function(h,c,d,p,k,y){const g=o.H.e,A=o.H.Z;let x=0;for(;x<d;){const S=h[A(p,k)&c];k+=15&S;const R=S>>>4;if(R<=15)y[x]=R,x++;else{let E=0,U=0;R==16?(U=3+g(p,k,2),k+=2,E=y[x-1]):R==17?(U=3+g(p,k,3),k+=3):R==18&&(U=11+g(p,k,7),k+=7);const v=x+U;for(;x<v;)y[x]=E,x++}}return k},o.H.V=function(h,c,d,p){let k=0,y=0;const g=p.length>>>1;for(;y<d;){const A=h[y+c];p[y<<1]=0,p[1+(y<<1)]=A,A>k&&(k=A),y++}for(;y<g;)p[y<<1]=0,p[1+(y<<1)]=0,y++;return k},o.H.n=function(h,c){const d=o.H.m,p=h.length;let k,y,g,A;const x=d.j;for(var S=0;S<=c;S++)x[S]=0;for(S=1;S<p;S+=2)x[h[S]]++;const R=d.K;for(k=0,x[0]=0,y=1;y<=c;y++)k=k+x[y-1]<<1,R[y]=k;for(g=0;g<p;g+=2)A=h[g+1],A!=0&&(h[g]=R[A],R[A]++)},o.H.A=function(h,c,d){const p=h.length,k=o.H.m.r;for(let y=0;y<p;y+=2)if(h[y+1]!=0){const g=y>>1,A=h[y+1],x=g<<4|A,S=c-A;let R=h[y]<<S;const E=R+(1<<S);for(;R!=E;)d[k[R]>>>15-c]=x,R++}},o.H.l=function(h,c){const d=o.H.m.r,p=15-c;for(let k=0;k<h.length;k+=2){const y=h[k]<<c-h[k+1];h[k]=d[y]>>>p}},o.H.M=function(h,c,d){d<<=7&c;const p=c>>>3;h[p]|=d,h[p+1]|=d>>>8},o.H.I=function(h,c,d){d<<=7&c;const p=c>>>3;h[p]|=d,h[p+1]|=d>>>8,h[p+2]|=d>>>16},o.H.e=function(h,c,d){return(h[c>>>3]|h[1+(c>>>3)]<<8)>>>(7&c)&(1<<d)-1},o.H.b=function(h,c,d){return(h[c>>>3]|h[1+(c>>>3)]<<8|h[2+(c>>>3)]<<16)>>>(7&c)&(1<<d)-1},o.H.Z=function(h,c){return(h[c>>>3]|h[1+(c>>>3)]<<8|h[2+(c>>>3)]<<16)>>>(7&c)},o.H.i=function(h,c){return(h[c>>>3]|h[1+(c>>>3)]<<8|h[2+(c>>>3)]<<16|h[3+(c>>>3)]<<24)>>>(7&c)},o.H.m=function(){const h=Uint16Array,c=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=o.H.m;for(var c=0;c<32768;c++){let p=c;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,h.r[c]=(p>>>16|p<<16)>>>17}function d(p,k,y){for(;k--!=0;)p.push(0,y)}for(c=0;c<32;c++)h.q[c]=h.S[c]<<3|h.T[c],h.c[c]=h.p[c]<<4|h.z[c];d(h._,144,8),d(h._,112,9),d(h._,24,7),d(h._,8,8),o.H.n(h._,9),o.H.A(h._,9,h.J),o.H.l(h._,9),d(h.$,32,5),o.H.n(h.$,5),o.H.A(h.$,5,h.h),o.H.l(h.$,5),d(h.Q,19,0),d(h.C,286,0),d(h.D,30,0),d(h.v,320,0)}(),o.H.N}();function s(o){return[1,null,3,1,2,null,4][o.ctype]*o.depth}function a(o,h,c,d,p){let k=s(h);const y=Math.ceil(d*k/8);let g,A;k=Math.ceil(k/8);let x=o[c],S=0;if(x>1&&(o[c]=[0,0,1][x-2]),x==3)for(S=k;S<y;S++)o[S+1]=o[S+1]+(o[S+1-k]>>>1)&255;for(let R=0;R<p;R++)if(g=c+R*y,A=g+R+1,x=o[A-1],S=0,x==0)for(;S<y;S++)o[g+S]=o[A+S];else if(x==1){for(;S<k;S++)o[g+S]=o[A+S];for(;S<y;S++)o[g+S]=o[A+S]+o[g+S-k]}else if(x==2)for(;S<y;S++)o[g+S]=o[A+S]+o[g+S-y];else if(x==3){for(;S<k;S++)o[g+S]=o[A+S]+(o[g+S-y]>>>1);for(;S<y;S++)o[g+S]=o[A+S]+(o[g+S-y]+o[g+S-k]>>>1)}else{for(;S<k;S++)o[g+S]=o[A+S]+l(0,o[g+S-y],0);for(;S<y;S++)o[g+S]=o[A+S]+l(o[g+S-k],o[g+S-y],o[g+S-k-y])}return o}function l(o,h,c){const d=o+h-c,p=d-o,k=d-h,y=d-c;return p*p<=k*k&&p*p<=y*y?o:k*k<=y*y?h:c}function u(o,h,c){c.width=n.readUint(o,h),h+=4,c.height=n.readUint(o,h),h+=4,c.depth=o[h],h++,c.ctype=o[h],h++,c.compress=o[h],h++,c.filter=o[h],h++,c.interlace=o[h],h++}function f(o,h,c,d,p,k,y,g,A){const x=Math.min(h,p),S=Math.min(c,k);let R=0,E=0;for(let q=0;q<S;q++)for(let C=0;C<x;C++)if(y>=0&&g>=0?(R=q*h+C<<2,E=(g+q)*p+y+C<<2):(R=(-g+q)*h-y+C<<2,E=q*p+C<<2),A==0)d[E]=o[R],d[E+1]=o[R+1],d[E+2]=o[R+2],d[E+3]=o[R+3];else if(A==1){var U=o[R+3]*.00392156862745098,v=o[R]*U,b=o[R+1]*U,I=o[R+2]*U,$=d[E+3]*(1/255),M=d[E]*$,O=d[E+1]*$,F=d[E+2]*$;const w=1-U,j=U+$*w,N=j==0?0:1/j;d[E+3]=255*j,d[E+0]=(v+M*w)*N,d[E+1]=(b+O*w)*N,d[E+2]=(I+F*w)*N}else if(A==2)U=o[R+3],v=o[R],b=o[R+1],I=o[R+2],$=d[E+3],M=d[E],O=d[E+1],F=d[E+2],U==$&&v==M&&b==O&&I==F?(d[E]=0,d[E+1]=0,d[E+2]=0,d[E+3]=0):(d[E]=v,d[E+1]=b,d[E+2]=I,d[E+3]=U);else if(A==3){if(U=o[R+3],v=o[R],b=o[R+1],I=o[R+2],$=d[E+3],M=d[E],O=d[E+1],F=d[E+2],U==$&&v==M&&b==O&&I==F)continue;if(U<220&&$>20)return!1}return!0}return{decode:function(h){const c=new Uint8Array(h);let d=8;const p=n,k=p.readUshort,y=p.readUint,g={tabs:{},frames:[]},A=new Uint8Array(c.length);let x,S=0,R=0;const E=[137,80,78,71,13,10,26,10];for(var U=0;U<8;U++)if(c[U]!=E[U])throw"The input is not a PNG file!";for(;d<c.length;){const q=p.readUint(c,d);d+=4;const C=p.readASCII(c,d,4);if(d+=4,C=="IHDR")u(c,d,g);else if(C=="iCCP"){for(var v=d;c[v]!=0;)v++;p.readASCII(c,d,v-d),c[v+1];const w=c.slice(v+2,d+q);let j=null;try{j=r(w)}catch{j=i(w)}g.tabs[C]=j}else if(C=="CgBI")g.tabs[C]=c.slice(d,d+4);else if(C=="IDAT"){for(U=0;U<q;U++)A[S+U]=c[d+U];S+=q}else if(C=="acTL")g.tabs[C]={num_frames:y(c,d),num_plays:y(c,d+4)},x=new Uint8Array(c.length);else if(C=="fcTL"){R!=0&&((F=g.frames[g.frames.length-1]).data=t(g,x.slice(0,R),F.rect.width,F.rect.height),R=0);const w={x:y(c,d+12),y:y(c,d+16),width:y(c,d+4),height:y(c,d+8)};let j=k(c,d+22);j=k(c,d+20)/(j==0?100:j);const N={rect:w,delay:Math.round(1e3*j),dispose:c[d+24],blend:c[d+25]};g.frames.push(N)}else if(C=="fdAT"){for(U=0;U<q-4;U++)x[R+U]=c[d+U+4];R+=q-4}else if(C=="pHYs")g.tabs[C]=[p.readUint(c,d),p.readUint(c,d+4),c[d+8]];else if(C=="cHRM")for(g.tabs[C]=[],U=0;U<8;U++)g.tabs[C].push(p.readUint(c,d+4*U));else if(C=="tEXt"||C=="zTXt"){g.tabs[C]==null&&(g.tabs[C]={});var b=p.nextZero(c,d),I=p.readASCII(c,d,b-d),$=d+q-b-1;if(C=="tEXt")O=p.readASCII(c,b+1,$);else{var M=r(c.slice(b+2,b+2+$));O=p.readUTF8(M,0,M.length)}g.tabs[C][I]=O}else if(C=="iTXt"){g.tabs[C]==null&&(g.tabs[C]={}),b=0,v=d,b=p.nextZero(c,v),I=p.readASCII(c,v,b-v);const w=c[v=b+1];var O;c[v+1],v+=2,b=p.nextZero(c,v),p.readASCII(c,v,b-v),v=b+1,b=p.nextZero(c,v),p.readUTF8(c,v,b-v),$=q-((v=b+1)-d),w==0?O=p.readUTF8(c,v,$):(M=r(c.slice(v,v+$)),O=p.readUTF8(M,0,M.length)),g.tabs[C][I]=O}else if(C=="PLTE")g.tabs[C]=p.readBytes(c,d,q);else if(C=="hIST"){const w=g.tabs.PLTE.length/3;for(g.tabs[C]=[],U=0;U<w;U++)g.tabs[C].push(k(c,d+2*U))}else if(C=="tRNS")g.ctype==3?g.tabs[C]=p.readBytes(c,d,q):g.ctype==0?g.tabs[C]=k(c,d):g.ctype==2&&(g.tabs[C]=[k(c,d),k(c,d+2),k(c,d+4)]);else if(C=="gAMA")g.tabs[C]=p.readUint(c,d)/1e5;else if(C=="sRGB")g.tabs[C]=c[d];else if(C=="bKGD")g.ctype==0||g.ctype==4?g.tabs[C]=[k(c,d)]:g.ctype==2||g.ctype==6?g.tabs[C]=[k(c,d),k(c,d+2),k(c,d+4)]:g.ctype==3&&(g.tabs[C]=c[d]);else if(C=="IEND")break;d+=q,p.readUint(c,d),d+=4}var F;return R!=0&&((F=g.frames[g.frames.length-1]).data=t(g,x.slice(0,R),F.rect.width,F.rect.height)),g.data=t(g,A,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(h){const c=h.width,d=h.height;if(h.tabs.acTL==null)return[e(h.data,c,d,h).buffer];const p=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const k=c*d*4,y=new Uint8Array(k),g=new Uint8Array(k),A=new Uint8Array(k);for(let S=0;S<h.frames.length;S++){const R=h.frames[S],E=R.rect.x,U=R.rect.y,v=R.rect.width,b=R.rect.height,I=e(R.data,v,b,h);if(S!=0)for(var x=0;x<k;x++)A[x]=y[x];if(R.blend==0?f(I,v,b,y,c,d,E,U,0):R.blend==1&&f(I,v,b,y,c,d,E,U,1),p.push(y.buffer.slice(0)),R.dispose!=0){if(R.dispose==1)f(g,v,b,y,c,d,E,U,0);else if(R.dispose==2)for(x=0;x<k;x++)y[x]=A[x]}}return p},_paeth:l,_copyTile:f,_bin:n}}();(function(){const{_copyTile:n}=Et,{_bin:e}=Et,t=Et._paeth;var r={table:function(){const v=new Uint32Array(256);for(let b=0;b<256;b++){let I=b;for(let $=0;$<8;$++)1&I?I=3988292384^I>>>1:I>>>=1;v[b]=I}return v}(),update(v,b,I,$){for(let M=0;M<$;M++)v=r.table[255&(v^b[I+M])]^v>>>8;return v},crc:(v,b,I)=>4294967295^r.update(4294967295,v,b,I)};function i(v,b,I,$){b[I]+=v[0]*$>>4,b[I+1]+=v[1]*$>>4,b[I+2]+=v[2]*$>>4,b[I+3]+=v[3]*$>>4}function s(v){return Math.max(0,Math.min(255,v))}function a(v,b){const I=v[0]-b[0],$=v[1]-b[1],M=v[2]-b[2],O=v[3]-b[3];return I*I+$*$+M*M+O*O}function l(v,b,I,$,M,O,F){F==null&&(F=1);const q=$.length,C=[];for(var w=0;w<q;w++){const Z=$[w];C.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(w=0;w<q;w++){let Z=4294967295;for(var j=0,N=0;N<q;N++){var D=a(C[w],C[N]);N!=w&&D<Z&&(Z=D,j=N)}}const J=new Uint32Array(M.buffer),H=new Int16Array(b*I*4),Q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(w=0;w<Q.length;w++)Q[w]=255*((Q[w]+.5)/16-.5);for(let Z=0;Z<I;Z++)for(let ie=0;ie<b;ie++){var L;w=4*(Z*b+ie),F!=2?L=[s(v[w]+H[w]),s(v[w+1]+H[w+1]),s(v[w+2]+H[w+2]),s(v[w+3]+H[w+3])]:(D=Q[4*(3&Z)+(3&ie)],L=[s(v[w]+D),s(v[w+1]+D),s(v[w+2]+D),s(v[w+3]+D)]),j=0;let pe=16777215;for(N=0;N<q;N++){const ce=a(L,C[N]);ce<pe&&(pe=ce,j=N)}const K=C[j],te=[L[0]-K[0],L[1]-K[1],L[2]-K[2],L[3]-K[3]];F==1&&(ie!=b-1&&i(te,H,w+4,7),Z!=I-1&&(ie!=0&&i(te,H,w+4*b-4,3),i(te,H,w+4*b,5),ie!=b-1&&i(te,H,w+4*b+4,1))),O[w>>2]=j,J[w>>2]=$[j]}}function u(v,b,I,$,M){M==null&&(M={});const{crc:O}=r,F=e.writeUint,q=e.writeUshort,C=e.writeASCII;let w=8;const j=v.frames.length>1;let N,D=!1,J=33+(j?20:0);if(M.sRGB!=null&&(J+=13),M.pHYs!=null&&(J+=21),M.iCCP!=null&&(N=pako.deflate(M.iCCP),J+=21+N.length+4),v.ctype==3){for(var H=v.plte.length,Q=0;Q<H;Q++)v.plte[Q]>>>24!=255&&(D=!0);J+=8+3*H+4+(D?8+1*H+4:0)}for(var L=0;L<v.frames.length;L++)j&&(J+=38),J+=(K=v.frames[L]).cimg.length+12,L!=0&&(J+=4);J+=12;const Z=new Uint8Array(J),ie=[137,80,78,71,13,10,26,10];for(Q=0;Q<8;Q++)Z[Q]=ie[Q];if(F(Z,w,13),w+=4,C(Z,w,"IHDR"),w+=4,F(Z,w,b),w+=4,F(Z,w,I),w+=4,Z[w]=v.depth,w++,Z[w]=v.ctype,w++,Z[w]=0,w++,Z[w]=0,w++,Z[w]=0,w++,F(Z,w,O(Z,w-17,17)),w+=4,M.sRGB!=null&&(F(Z,w,1),w+=4,C(Z,w,"sRGB"),w+=4,Z[w]=M.sRGB,w++,F(Z,w,O(Z,w-5,5)),w+=4),M.iCCP!=null){const te=13+N.length;F(Z,w,te),w+=4,C(Z,w,"iCCP"),w+=4,C(Z,w,"ICC profile"),w+=11,w+=2,Z.set(N,w),w+=N.length,F(Z,w,O(Z,w-(te+4),te+4)),w+=4}if(M.pHYs!=null&&(F(Z,w,9),w+=4,C(Z,w,"pHYs"),w+=4,F(Z,w,M.pHYs[0]),w+=4,F(Z,w,M.pHYs[1]),w+=4,Z[w]=M.pHYs[2],w++,F(Z,w,O(Z,w-13,13)),w+=4),j&&(F(Z,w,8),w+=4,C(Z,w,"acTL"),w+=4,F(Z,w,v.frames.length),w+=4,F(Z,w,M.loop!=null?M.loop:0),w+=4,F(Z,w,O(Z,w-12,12)),w+=4),v.ctype==3){for(F(Z,w,3*(H=v.plte.length)),w+=4,C(Z,w,"PLTE"),w+=4,Q=0;Q<H;Q++){const te=3*Q,ce=v.plte[Q],qe=255&ce,ge=ce>>>8&255,ft=ce>>>16&255;Z[w+te+0]=qe,Z[w+te+1]=ge,Z[w+te+2]=ft}if(w+=3*H,F(Z,w,O(Z,w-3*H-4,3*H+4)),w+=4,D){for(F(Z,w,H),w+=4,C(Z,w,"tRNS"),w+=4,Q=0;Q<H;Q++)Z[w+Q]=v.plte[Q]>>>24&255;w+=H,F(Z,w,O(Z,w-H-4,H+4)),w+=4}}let pe=0;for(L=0;L<v.frames.length;L++){var K=v.frames[L];j&&(F(Z,w,26),w+=4,C(Z,w,"fcTL"),w+=4,F(Z,w,pe++),w+=4,F(Z,w,K.rect.width),w+=4,F(Z,w,K.rect.height),w+=4,F(Z,w,K.rect.x),w+=4,F(Z,w,K.rect.y),w+=4,q(Z,w,$[L]),w+=2,q(Z,w,1e3),w+=2,Z[w]=K.dispose,w++,Z[w]=K.blend,w++,F(Z,w,O(Z,w-30,30)),w+=4);const te=K.cimg;F(Z,w,(H=te.length)+(L==0?0:4)),w+=4;const ce=w;C(Z,w,L==0?"IDAT":"fdAT"),w+=4,L!=0&&(F(Z,w,pe++),w+=4),Z.set(te,w),w+=H,F(Z,w,O(Z,ce,w-ce)),w+=4}return F(Z,w,0),w+=4,C(Z,w,"IEND"),w+=4,F(Z,w,O(Z,w-4,4)),w+=4,Z.buffer}function f(v,b,I){for(let $=0;$<v.frames.length;$++){const M=v.frames[$];M.rect.width;const O=M.rect.height,F=new Uint8Array(O*M.bpl+O);M.cimg=d(M.img,O,M.bpp,M.bpl,F,b,I)}}function o(v,b,I,$,M){const O=M[0],F=M[1],q=M[2],C=M[3],w=M[4],j=M[5];let N=6,D=8,J=255;for(var H=0;H<v.length;H++){const We=new Uint8Array(v[H]);for(var Q=We.length,L=0;L<Q;L+=4)J&=We[L+3]}const Z=J!=255,ie=function(be,Se,Ie,Ne,Re,Be){const Oe=[];for(var ke=0;ke<be.length;ke++){const Ze=new Uint8Array(be[ke]),Me=new Uint32Array(Ze.buffer);var Pe;let Le=0,dt=0,ze=Se,ht=Ie,_t=Ne?1:0;if(ke!=0){const Zt=Be||Ne||ke==1||Oe[ke-2].dispose!=0?1:2;let $t=0,rt=1e9;for(let pt=0;pt<Zt;pt++){var De=new Uint8Array(be[ke-1-pt]);const Ut=new Uint32Array(be[ke-1-pt]);let Ce=Se,at=Ie,lt=-1,gt=-1;for(let we=0;we<Ie;we++)for(let ot=0;ot<Se;ot++)Me[Ge=we*Se+ot]!=Ut[Ge]&&(ot<Ce&&(Ce=ot),ot>lt&&(lt=ot),we<at&&(at=we),we>gt&&(gt=we));lt==-1&&(Ce=at=lt=gt=0),Re&&((1&Ce)==1&&Ce--,(1&at)==1&&at--);const Qt=(lt-Ce+1)*(gt-at+1);Qt<rt&&(rt=Qt,$t=pt,Le=Ce,dt=at,ze=lt-Ce+1,ht=gt-at+1)}De=new Uint8Array(be[ke-1-$t]),$t==1&&(Oe[ke-1].dispose=2),Pe=new Uint8Array(ze*ht*4),n(De,Se,Ie,Pe,ze,ht,-Le,-dt,0),_t=n(Ze,Se,Ie,Pe,ze,ht,-Le,-dt,3)?1:0,_t==1?c(Ze,Se,Ie,Pe,{x:Le,y:dt,width:ze,height:ht}):n(Ze,Se,Ie,Pe,ze,ht,-Le,-dt,0)}else Pe=Ze.slice(0);Oe.push({rect:{x:Le,y:dt,width:ze,height:ht},img:Pe,blend:_t,dispose:0})}if(Ne)for(ke=0;ke<Oe.length;ke++){if((Ke=Oe[ke]).blend==1)continue;const Ze=Ke.rect,Me=Oe[ke-1].rect,Le=Math.min(Ze.x,Me.x),dt=Math.min(Ze.y,Me.y),ze={x:Le,y:dt,width:Math.max(Ze.x+Ze.width,Me.x+Me.width)-Le,height:Math.max(Ze.y+Ze.height,Me.y+Me.height)-dt};Oe[ke-1].dispose=1,ke-1!=0&&h(be,Se,Ie,Oe,ke-1,ze,Re),h(be,Se,Ie,Oe,ke,ze,Re)}let Ct=0;if(be.length!=1)for(var Ge=0;Ge<Oe.length;Ge++){var Ke;Ct+=(Ke=Oe[Ge]).rect.width*Ke.rect.height}return Oe}(v,b,I,O,F,q),pe={},K=[],te=[];if($!=0){const We=[];for(L=0;L<ie.length;L++)We.push(ie[L].img.buffer);const be=function(Re){let Be=0;for(var Oe=0;Oe<Re.length;Oe++)Be+=Re[Oe].byteLength;const ke=new Uint8Array(Be);let Pe=0;for(Oe=0;Oe<Re.length;Oe++){const De=new Uint8Array(Re[Oe]),Ct=De.length;for(let Ge=0;Ge<Ct;Ge+=4){let Ke=De[Ge],Ze=De[Ge+1],Me=De[Ge+2];const Le=De[Ge+3];Le==0&&(Ke=Ze=Me=0),ke[Pe+Ge]=Ke,ke[Pe+Ge+1]=Ze,ke[Pe+Ge+2]=Me,ke[Pe+Ge+3]=Le}Pe+=Ct}return ke.buffer}(We),Se=k(be,$);for(L=0;L<Se.plte.length;L++)K.push(Se.plte[L].est.rgba);let Ie=0;for(L=0;L<ie.length;L++){const Ne=(qe=ie[L]).img.length;var ce=new Uint8Array(Se.inds.buffer,Ie>>2,Ne>>2);te.push(ce);const Re=new Uint8Array(Se.abuf,Ie,Ne);j&&l(qe.img,qe.rect.width,qe.rect.height,K,Re,ce),qe.img.set(Re),Ie+=Ne}}else for(H=0;H<ie.length;H++){var qe=ie[H];const We=new Uint32Array(qe.img.buffer);var ge=qe.rect.width;for(Q=We.length,ce=new Uint8Array(Q),te.push(ce),L=0;L<Q;L++){const be=We[L];if(L!=0&&be==We[L-1])ce[L]=ce[L-1];else if(L>ge&&be==We[L-ge])ce[L]=ce[L-ge];else{let Se=pe[be];if(Se==null&&(pe[be]=Se=K.length,K.push(be),K.length>=300))break;ce[L]=Se}}}const ft=K.length;for(ft<=256&&w==0&&(D=ft<=2?1:ft<=4?2:ft<=16?4:8,D=Math.max(D,C)),H=0;H<ie.length;H++){(qe=ie[H]).rect.x,qe.rect.y,ge=qe.rect.width;const We=qe.rect.height;let be=qe.img;new Uint32Array(be.buffer);let Se=4*ge,Ie=4;if(ft<=256&&w==0){Se=Math.ceil(D*ge/8);var Qe=new Uint8Array(Se*We);const Ne=te[H];for(let Re=0;Re<We;Re++){L=Re*Se;const Be=Re*ge;if(D==8)for(var Te=0;Te<ge;Te++)Qe[L+Te]=Ne[Be+Te];else if(D==4)for(Te=0;Te<ge;Te++)Qe[L+(Te>>1)]|=Ne[Be+Te]<<4-4*(1&Te);else if(D==2)for(Te=0;Te<ge;Te++)Qe[L+(Te>>2)]|=Ne[Be+Te]<<6-2*(3&Te);else if(D==1)for(Te=0;Te<ge;Te++)Qe[L+(Te>>3)]|=Ne[Be+Te]<<7-1*(7&Te)}be=Qe,N=3,Ie=1}else if(Z==0&&ie.length==1){Qe=new Uint8Array(ge*We*3);const Ne=ge*We;for(L=0;L<Ne;L++){const Re=3*L,Be=4*L;Qe[Re]=be[Be],Qe[Re+1]=be[Be+1],Qe[Re+2]=be[Be+2]}be=Qe,N=2,Ie=3,Se=3*ge}qe.img=be,qe.bpl=Se,qe.bpp=Ie}return{ctype:N,depth:D,plte:K,frames:ie}}function h(v,b,I,$,M,O,F){const q=Uint8Array,C=Uint32Array,w=new q(v[M-1]),j=new C(v[M-1]),N=M+1<v.length?new q(v[M+1]):null,D=new q(v[M]),J=new C(D.buffer);let H=b,Q=I,L=-1,Z=-1;for(let pe=0;pe<O.height;pe++)for(let K=0;K<O.width;K++){const te=O.x+K,ce=O.y+pe,qe=ce*b+te,ge=J[qe];ge==0||$[M-1].dispose==0&&j[qe]==ge&&(N==null||N[4*qe+3]!=0)||(te<H&&(H=te),te>L&&(L=te),ce<Q&&(Q=ce),ce>Z&&(Z=ce))}L==-1&&(H=Q=L=Z=0),F&&((1&H)==1&&H--,(1&Q)==1&&Q--),O={x:H,y:Q,width:L-H+1,height:Z-Q+1};const ie=$[M];ie.rect=O,ie.blend=1,ie.img=new Uint8Array(O.width*O.height*4),$[M-1].dispose==0?(n(w,b,I,ie.img,O.width,O.height,-O.x,-O.y,0),c(D,b,I,ie.img,O)):n(D,b,I,ie.img,O.width,O.height,-O.x,-O.y,0)}function c(v,b,I,$,M){n(v,b,I,$,M.width,M.height,-M.x,-M.y,2)}function d(v,b,I,$,M,O,F){const q=[];let C,w=[0,1,2,3,4];O!=-1?w=[O]:(b*$>5e5||I==1)&&(w=[0]),F&&(C={level:0});const j=xo;for(var N=0;N<w.length;N++){for(let H=0;H<b;H++)p(M,v,H,$,I,w[N]);q.push(j.deflate(M,C))}let D,J=1e9;for(N=0;N<q.length;N++)q[N].length<J&&(D=N,J=q[N].length);return q[D]}function p(v,b,I,$,M,O){const F=I*$;let q=F+I;if(v[q]=O,q++,O==0)if($<500)for(var C=0;C<$;C++)v[q+C]=b[F+C];else v.set(new Uint8Array(b.buffer,F,$),q);else if(O==1){for(C=0;C<M;C++)v[q+C]=b[F+C];for(C=M;C<$;C++)v[q+C]=b[F+C]-b[F+C-M]+256&255}else if(I==0){for(C=0;C<M;C++)v[q+C]=b[F+C];if(O==2)for(C=M;C<$;C++)v[q+C]=b[F+C];if(O==3)for(C=M;C<$;C++)v[q+C]=b[F+C]-(b[F+C-M]>>1)+256&255;if(O==4)for(C=M;C<$;C++)v[q+C]=b[F+C]-t(b[F+C-M],0,0)+256&255}else{if(O==2)for(C=0;C<$;C++)v[q+C]=b[F+C]+256-b[F+C-$]&255;if(O==3){for(C=0;C<M;C++)v[q+C]=b[F+C]+256-(b[F+C-$]>>1)&255;for(C=M;C<$;C++)v[q+C]=b[F+C]+256-(b[F+C-$]+b[F+C-M]>>1)&255}if(O==4){for(C=0;C<M;C++)v[q+C]=b[F+C]+256-t(0,b[F+C-$],0)&255;for(C=M;C<$;C++)v[q+C]=b[F+C]+256-t(b[F+C-M],b[F+C-$],b[F+C-M-$])&255}}}function k(v,b){const I=new Uint8Array(v),$=I.slice(0),M=new Uint32Array($.buffer),O=y($,b),F=O[0],q=O[1],C=I.length,w=new Uint8Array(C>>2);let j;if(I.length<2e7)for(var N=0;N<C;N+=4)j=g(F,D=I[N]*(1/255),J=I[N+1]*(1/255),H=I[N+2]*(1/255),Q=I[N+3]*(1/255)),w[N>>2]=j.ind,M[N>>2]=j.est.rgba;else for(N=0;N<C;N+=4){var D=I[N]*.00392156862745098,J=I[N+1]*(1/255),H=I[N+2]*(1/255),Q=I[N+3]*(1/255);for(j=F;j.left;)j=A(j.est,D,J,H,Q)<=0?j.left:j.right;w[N>>2]=j.ind,M[N>>2]=j.est.rgba}return{abuf:$.buffer,inds:w,plte:q}}function y(v,b,I){I==null&&(I=1e-4);const $=new Uint32Array(v.buffer),M={i0:0,i1:v.length,bst:null,est:null,tdst:0,left:null,right:null};M.bst=R(v,M.i0,M.i1),M.est=E(M.bst);const O=[M];for(;O.length<b;){let q=0,C=0;for(var F=0;F<O.length;F++)O[F].est.L>q&&(q=O[F].est.L,C=F);if(q<I)break;const w=O[C],j=x(v,$,w.i0,w.i1,w.est.e,w.est.eMq255);if(w.i0>=j||w.i1<=j){w.est.L=0;continue}const N={i0:w.i0,i1:j,bst:null,est:null,tdst:0,left:null,right:null};N.bst=R(v,N.i0,N.i1),N.est=E(N.bst);const D={i0:j,i1:w.i1,bst:null,est:null,tdst:0,left:null,right:null};for(D.bst={R:[],m:[],N:w.bst.N-N.bst.N},F=0;F<16;F++)D.bst.R[F]=w.bst.R[F]-N.bst.R[F];for(F=0;F<4;F++)D.bst.m[F]=w.bst.m[F]-N.bst.m[F];D.est=E(D.bst),w.left=N,w.right=D,O[C]=N,O.push(D)}for(O.sort((q,C)=>C.bst.N-q.bst.N),F=0;F<O.length;F++)O[F].ind=F;return[M,O]}function g(v,b,I,$,M){if(v.left==null)return v.tdst=function(N,D,J,H,Q){const L=D-N[0],Z=J-N[1],ie=H-N[2],pe=Q-N[3];return L*L+Z*Z+ie*ie+pe*pe}(v.est.q,b,I,$,M),v;const O=A(v.est,b,I,$,M);let F=v.left,q=v.right;O>0&&(F=v.right,q=v.left);const C=g(F,b,I,$,M);if(C.tdst<=O*O)return C;const w=g(q,b,I,$,M);return w.tdst<C.tdst?w:C}function A(v,b,I,$,M){const{e:O}=v;return O[0]*b+O[1]*I+O[2]*$+O[3]*M-v.eMq}function x(v,b,I,$,M,O){for($-=4;I<$;){for(;S(v,I,M)<=O;)I+=4;for(;S(v,$,M)>O;)$-=4;if(I>=$)break;const F=b[I>>2];b[I>>2]=b[$>>2],b[$>>2]=F,I+=4,$-=4}for(;S(v,I,M)>O;)I-=4;return I+4}function S(v,b,I){return v[b]*I[0]+v[b+1]*I[1]+v[b+2]*I[2]+v[b+3]*I[3]}function R(v,b,I){const $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=[0,0,0,0],O=I-b>>2;for(let F=b;F<I;F+=4){const q=v[F]*.00392156862745098,C=v[F+1]*(1/255),w=v[F+2]*(1/255),j=v[F+3]*(1/255);M[0]+=q,M[1]+=C,M[2]+=w,M[3]+=j,$[0]+=q*q,$[1]+=q*C,$[2]+=q*w,$[3]+=q*j,$[5]+=C*C,$[6]+=C*w,$[7]+=C*j,$[10]+=w*w,$[11]+=w*j,$[15]+=j*j}return $[4]=$[1],$[8]=$[2],$[9]=$[6],$[12]=$[3],$[13]=$[7],$[14]=$[11],{R:$,m:M,N:O}}function E(v){const{R:b}=v,{m:I}=v,{N:$}=v,M=I[0],O=I[1],F=I[2],q=I[3],C=$==0?0:1/$,w=[b[0]-M*M*C,b[1]-M*O*C,b[2]-M*F*C,b[3]-M*q*C,b[4]-O*M*C,b[5]-O*O*C,b[6]-O*F*C,b[7]-O*q*C,b[8]-F*M*C,b[9]-F*O*C,b[10]-F*F*C,b[11]-F*q*C,b[12]-q*M*C,b[13]-q*O*C,b[14]-q*F*C,b[15]-q*q*C],j=w,N=U;let D=[Math.random(),Math.random(),Math.random(),Math.random()],J=0,H=0;if($!=0)for(let L=0;L<16&&(D=N.multVec(j,D),H=Math.sqrt(N.dot(D,D)),D=N.sml(1/H,D),!(L!=0&&Math.abs(H-J)<1e-9));L++)J=H;const Q=[M*C,O*C,F*C,q*C];return{Cov:w,q:Q,e:D,L:J,eMq255:N.dot(N.sml(255,Q),D),eMq:N.dot(D,Q),rgba:(Math.round(255*Q[3])<<24|Math.round(255*Q[2])<<16|Math.round(255*Q[1])<<8|Math.round(255*Q[0])<<0)>>>0}}var U={multVec:(v,b)=>[v[0]*b[0]+v[1]*b[1]+v[2]*b[2]+v[3]*b[3],v[4]*b[0]+v[5]*b[1]+v[6]*b[2]+v[7]*b[3],v[8]*b[0]+v[9]*b[1]+v[10]*b[2]+v[11]*b[3],v[12]*b[0]+v[13]*b[1]+v[14]*b[2]+v[15]*b[3]],dot:(v,b)=>v[0]*b[0]+v[1]*b[1]+v[2]*b[2]+v[3]*b[3],sml:(v,b)=>[v*b[0],v*b[1],v*b[2],v*b[3]]};Et.encode=function(b,I,$,M,O,F,q){M==null&&(M=0),q==null&&(q=!1);const C=o(b,I,$,M,[!1,!1,!1,0,q,!1]);return f(C,-1),u(C,I,$,O,F)},Et.encodeLL=function(b,I,$,M,O,F,q,C){const w={ctype:0+(M==1?0:2)+(O==0?0:4),depth:F,frames:[]},j=(M+O)*F,N=j*I;for(let D=0;D<b.length;D++)w.frames.push({rect:{x:0,y:0,width:I,height:$},img:new Uint8Array(b[D]),blend:0,dispose:1,bpp:Math.ceil(j/8),bpl:Math.ceil(N/8)});return f(w,0,!0),u(w,I,$,q,C)},Et.encode.compress=o,Et.encode.dither=l,Et.quantize=k,Et.quantize.getKDtree=y,Et.quantize.getNearest=g})();const Bs={toArrayBuffer(n,e){const t=n.width,r=n.height,i=t<<2,s=n.getContext("2d").getImageData(0,0,t,r),a=new Uint32Array(s.data.buffer),l=(32*t+31)/32<<2,u=l*r,f=122+u,o=new ArrayBuffer(f),h=new DataView(o),c=1<<20;let d,p,k,y,g=c,A=0,x=0,S=0;function R(v){h.setUint16(x,v,!0),x+=2}function E(v){h.setUint32(x,v,!0),x+=4}function U(v){x+=v}R(19778),E(f),U(4),E(122),E(108),E(t),E(-r>>>0),R(1),R(32),E(3),E(u),E(2835),E(2835),U(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function v(){for(;A<r&&g>0;){for(y=122+A*l,d=0;d<i;)g--,p=a[S++],k=p>>>24,h.setUint32(y+d,p<<8|k),d+=4;A++}S<a.length?(g=c,setTimeout(v,Bs._dly)):e(o)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var bt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},$o={[bt.CHROME]:16384,[bt.FIREFOX]:11180,[bt.DESKTOP_SAFARI]:16384,[bt.IE]:8192,[bt.IOS]:4096,[bt.ETC]:8192};const ri=typeof window<"u",Vs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,vr=ri&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Eo=(ri||Vs)&&(vr&&vr.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Qs=(ri||Vs)&&(vr&&vr.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ii(n,e,t=Date.now()){return new Promise(r=>{const i=n.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let l=a.length;const u=new Uint8Array(l);for(;l--;)u[l]=a.charCodeAt(l);const f=new Blob([u],{type:s});f.name=e,f.lastModified=t,r(f)})}function Ws(n){return new Promise((e,t)=>{const r=new Qs;r.onload=()=>e(r.result),r.onerror=i=>t(i),r.readAsDataURL(n)})}function Gs(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>t(i),r.src=n})}function rn(){if(rn.cachedResult!==void 0)return rn.cachedResult;let n=bt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=bt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=bt.IOS:/Safari/i.test(e)?n=bt.DESKTOP_SAFARI:/Firefox/i.test(e)?n=bt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=bt.IE),rn.cachedResult=n,rn.cachedResult}function Ys(n,e){const t=rn(),r=$o[t];let i=n,s=e,a=i*s;const l=i>s?s/i:i/s;for(;a>r*r;){const u=(r+i)/2,f=(r+s)/2;u<f?(s=f,i=f*l):(s=u*l,i=u),a=i*s}return{width:i,height:s}}function Ir(n,e){let t,r;try{if(t=new OffscreenCanvas(n,e),r=t.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),r=t.getContext("2d")}return t.width=n,t.height=e,[t,r]}function Xs(n,e){const{width:t,height:r}=Ys(n.width,n.height),[i,s]=Ir(t,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(n,0,0,i.width,i.height),i}function er(){return er.cachedResult!==void 0||(er.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),er.cachedResult}function yr(n,e={}){return new Promise(function(t,r){let i,s;var a=function(){try{return s=Xs(i,e.fileType||n.type),t([i,s])}catch(u){return r(u)}},l=function(u){try{var f=function(o){try{throw o}catch(h){return r(h)}};try{let o;return Ws(n).then(function(h){try{return o=h,Gs(o).then(function(c){try{return i=c,function(){try{return a()}catch(d){return r(d)}}()}catch(d){return f(d)}},f)}catch(c){return f(c)}},f)}catch(o){f(o)}}catch(o){return r(o)}};try{if(er()||[bt.DESKTOP_SAFARI,bt.MOBILE_SAFARI].includes(rn()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(u){try{return i=u,a()}catch{return l()}},l)}catch{l()}})}function br(n,e,t,r,i=1){return new Promise(function(s,a){let l;if(e==="image/png"){let h,c,d;return h=n.getContext("2d"),{data:c}=h.getImageData(0,0,n.width,n.height),d=Et.encode([c.buffer],n.width,n.height,4096*i),l=new Blob([d],{type:e}),l.name=t,l.lastModified=r,u.call(this)}{let h=function(){return u.call(this)};var f=h;if(e==="image/bmp")return new Promise(c=>Bs.toBlob(n,c)).then(function(c){try{return l=c,l.name=t,l.lastModified=r,h.call(this)}catch(d){return a(d)}}.bind(this),a);{let c=function(){return h.call(this)};var o=c;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:i}).then(function(d){try{return l=d,l.name=t,l.lastModified=r,c.call(this)}catch(p){return a(p)}}.bind(this),a);{let d;return d=n.toDataURL(e,i),ii(d,t,r).then(function(p){try{return l=p,c.call(this)}catch(k){return a(k)}}.bind(this),a)}}}function u(){return s(l)}})}function Rt(n){n.width=0,n.height=0}function yn(){return new Promise(function(n,e){let t,r,i,s;return yn.cachedResult!==void 0?n(yn.cachedResult):ii("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return t=a,yr(t).then(function(l){try{return r=l[1],br(r,t.type,t.name,t.lastModified).then(function(u){try{return i=u,Rt(r),yr(i).then(function(f){try{return s=f[0],yn.cachedResult=s.width===1&&s.height===2,n(yn.cachedResult)}catch(o){return e(o)}},e)}catch(f){return e(f)}},e)}catch(u){return e(u)}},e)}catch(l){return e(l)}},e)})}function Js(n){return new Promise((e,t)=>{const r=new Qs;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let l=2;for(;l<a;){if(s.getUint16(l+2,!1)<=8)return e(-1);const u=s.getUint16(l,!1);if(l+=2,u==65505){if(s.getUint32(l+=2,!1)!=1165519206)return e(-1);const f=s.getUint16(l+=6,!1)==18761;l+=s.getUint32(l+4,f);const o=s.getUint16(l,f);l+=2;for(let h=0;h<o;h++)if(s.getUint16(l+12*h,f)==274)return e(s.getUint16(l+12*h+8,f))}else{if((65280&u)!=65280)break;l+=s.getUint16(l,!1)}}return e(-1)},r.onerror=i=>t(i),r.readAsArrayBuffer(n)})}function Ks(n,e){const{width:t}=n,{height:r}=n,{maxWidthOrHeight:i}=e;let s,a=n;return isFinite(i)&&(t>i||r>i)&&([a,s]=Ir(t,r),t>r?(a.width=i,a.height=r/t*i):(a.width=t/r*i,a.height=i),s.drawImage(n,0,0,a.width,a.height),Rt(n)),a}function ea(n,e){const{width:t}=n,{height:r}=n,[i,s]=Ir(t,r);switch(e>4&&e<9?(i.width=r,i.height=t):(i.width=t,i.height=r),e){case 2:s.transform(-1,0,0,1,t,0);break;case 3:s.transform(-1,0,0,-1,t,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,t);break;case 8:s.transform(0,-1,1,0,0,t)}return s.drawImage(n,0,0,t,r),Rt(n),i}function Ii(n,e,t=0){return new Promise(function(r,i){let s,a,l,u,f,o,h,c,d,p,k,y,g,A,x,S,R,E,U,v;function b($=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=$,e.onProgress(Math.min(s,100))}function I($){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max($,s),100),e.onProgress(s)}return s=t,a=e.maxIteration||10,l=1024*e.maxSizeMB*1024,b(),yr(n,e).then(function($){try{return[,u]=$,b(),f=Ks(u,e),b(),new Promise(function(M,O){var F;if(!(F=e.exifOrientation))return Js(n).then(function(C){try{return F=C,q.call(this)}catch(w){return O(w)}}.bind(this),O);function q(){return M(F)}return q.call(this)}).then(function(M){try{return o=M,b(),yn().then(function(O){try{return h=O?f:ea(f,o),b(),c=e.initialQuality||1,d=e.fileType||n.type,br(h,d,n.name,n.lastModified,c).then(function(F){try{{let j=function(){if(a--&&(x>l||x>g)){let D,J;return D=v?.95*U.width:U.width,J=v?.95*U.height:U.height,[R,E]=Ir(D,J),E.drawImage(U,0,0,D,J),c*=d==="image/png"?.85:.95,br(R,d,n.name,n.lastModified,c).then(function(H){try{return S=H,Rt(U),U=R,x=S.size,I(Math.min(99,Math.floor((A-x)/(A-l)*100))),j}catch(Q){return i(Q)}},i)}return[1]},N=function(){return Rt(U),Rt(R),Rt(f),Rt(h),Rt(u),I(100),r(S)};var C=j,w=N;if(p=F,b(),k=p.size>l,y=p.size>n.size,!k&&!y)return I(100),r(p);var q;return g=n.size,A=p.size,x=A,U=h,v=!e.alwaysKeepResolution&&k,(q=function(D){for(;D;){if(D.then)return void D.then(q,i);try{if(D.pop){if(D.length)return D.pop()?N.call(this):D;D=j}else D=D.call(this)}catch(J){return i(J)}}}.bind(this))(j)}}catch(j){return i(j)}}.bind(this),i)}catch(F){return i(F)}}.bind(this),i)}catch(O){return i(O)}}.bind(this),i)}catch(M){return i(M)}}.bind(this),i)})}const To=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let qr;function So(n,e){return new Promise((t,r)=>{qr||(qr=function(a){const l=[];return typeof a=="function"?l.push(`(${a})()`):l.push(a),URL.createObjectURL(new Blob(l))}(To));const i=new Worker(qr);i.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void i.terminate();t(a.data.file),i.terminate()}else e.onProgress(a.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function ut(n,e){return new Promise(function(t,r){let i,s,a,l,u,f;if(i={...e},a=0,{onProgress:l}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=d=>{a=d,typeof l=="function"&&l(a)},!(n instanceof Blob||n instanceof Eo))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||f)return Ii(n,i).then(function(d){try{return s=d,c.call(this)}catch(p){return r(p)}}.bind(this),r);var o=function(){try{return c.call(this)}catch(d){return r(d)}}.bind(this),h=function(d){try{return Ii(n,i).then(function(p){try{return s=p,o()}catch(k){return r(k)}},r)}catch(p){return r(p)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",So(n,i).then(function(d){try{return s=d,o()}catch{return h()}},h)}catch{h()}function c(){try{s.name=n.name,s.lastModified=n.lastModified}catch{}try{i.preserveExif&&n.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===n.type)&&(s=Hs(n,s))}catch{}return t(s)}})}ut.getDataUrlFromFile=Ws,ut.getFilefromDataUrl=ii,ut.loadImage=Gs,ut.drawImageInCanvas=Xs,ut.drawFileInCanvas=yr,ut.canvasToFile=br,ut.getExifOrientation=Js,ut.handleMaxWidthOrHeight=Ks,ut.followExifOrientation=ea,ut.cleanupCanvasMemory=Rt,ut.isAutoOrientationInBrowser=yn,ut.approximateBelowMaximumCanvasSizeOfBrowser=Ys,ut.copyExifWithoutOrientation=Hs,ut.getBrowserName=rn,ut.version="2.0.2";let Gn;const Io=new Uint8Array(16);function Mo(){if(!Gn&&(Gn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Gn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gn(Io)}const st=[];for(let n=0;n<256;++n)st.push((n+256).toString(16).slice(1));function Fo(n,e=0){return(st[n[e+0]]+st[n[e+1]]+st[n[e+2]]+st[n[e+3]]+"-"+st[n[e+4]]+st[n[e+5]]+"-"+st[n[e+6]]+st[n[e+7]]+"-"+st[n[e+8]]+st[n[e+9]]+"-"+st[n[e+10]]+st[n[e+11]]+st[n[e+12]]+st[n[e+13]]+st[n[e+14]]+st[n[e+15]]).toLowerCase()}const Uo=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Mi={randomUUID:Uo};function No(n,e,t){if(Mi.randomUUID&&!e&&!n)return Mi.randomUUID();n=n||{};const r=n.random||(n.rng||Mo)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return Fo(r)}const Fn=nn({}),Cn=nn([]),Mr=nn(null);function Ro(){return new Promise(n=>{Mr.set(n)})}function Oo(){Mr.update(n=>(n!==null&&n(null),null))}function qo(n){Mr.update(e=>(e!==null&&e(n),null))}async function jo(n,e){const t=No(),r=await ut(n,{maxSizeMB:.8,onProgress:e});if(r.size>=po)throw Error("File is too large (max 15mb)");Cn.update(i=>(i.push({uuid:t,name:n.name,size:n.size,blob:r}),i)),ta(r,t)}async function ta(n,e){const t=new FileReader;await new Promise((i,s)=>{t.onload=i,t.onerror=s,t.onabort=s,t.readAsDataURL(n)});const r=t.result;Fn.update(i=>(i[e]=r,i))}function Po(n=void 0){const e=document.createElement("input");return e.type="file",e.hidden=!0,n!==void 0&&(e.accept=n),document.body.appendChild(e),new Promise((t,r)=>{e.onchange=()=>{if(e.files===null)return r();const i=e.files.item(0);t(i)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function Zo(n=void 0){const e=document.createElement("input");return e.type="file",e.multiple=!0,e.hidden=!0,n!==void 0&&(e.accept=n),new Promise((t,r)=>{document.body.appendChild(e),e.onchange=()=>{if(e.files===null)return r();t(e.files)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function Do(n,e){const t=document.createElement("a");t.download=n.replace(/[ ^/]/g,"_"),t.href=URL.createObjectURL(e),t.dataset.downloadurl=["application/json",t.download,t.href].join(":"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function Lo(n){let e,t,r;return{c(){e=de("svg"),t=de("path"),r=de("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){B(i,e,s),m(e,t),m(e,r)},p:Y,i:Y,o:Y,d(i){i&&z(e)}}}class na extends $e{constructor(e){super(),xe(this,e,null,Lo,Ae,{})}}function Fi(n,e,t){const r=n.slice();return r[14]=e[t],r}function Ui(n,e,t){const r=n.slice();return r[17]=e[t],r}function Ni(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,p,k,y,g,A,x,S=n[2].length<1&&n[0].length<1&&Ri(),R=n[2],E=[];for(let b=0;b<R.length;b+=1)E[b]=Oi(Ui(n,R,b));let U=n[0],v=[];for(let b=0;b<U.length;b+=1)v[b]=qi(Fi(n,U,b));return h=new na({}),{c(){e=T("div"),t=T("div"),r=T("div"),S&&S.c(),i=P();for(let b=0;b<E.length;b+=1)E[b].c();s=P();for(let b=0;b<v.length;b+=1)v[b].c();a=P(),l=T("div"),u=T("button"),u.textContent="Close",f=P(),o=T("button"),oe(h.$$.fragment),c=re(`
          Upload Images`),d=P(),p=T("button"),k=re("Delete All Images"),_(r,"class","images svelte-jdx2r3"),_(u,"class","btn btn--surface"),_(o,"class","btn btn--icon btn--surface"),_(p,"class","btn btn--surface"),p.disabled=y=n[2].length===0,_(l,"class","actions btn-row btn-row--fill svelte-jdx2r3"),_(t,"class","dialog svelte-jdx2r3"),_(e,"class","wrapper svelte-jdx2r3")},m(b,I){B(b,e,I),m(e,t),m(t,r),S&&S.m(r,null),m(r,i);for(let $=0;$<E.length;$+=1)E[$]&&E[$].m(r,null);m(r,s);for(let $=0;$<v.length;$+=1)v[$]&&v[$].m(r,null);m(t,a),m(t,l),m(l,u),m(l,f),m(l,o),ae(h,o,null),m(o,c),m(l,d),m(l,p),m(p,k),g=!0,A||(x=[ee(u,"click",Oo),ee(o,"click",n[4]),ee(p,"click",n[7]),ee(t,"drop",n[5]),ee(t,"dragover",Wo)],A=!0)},p(b,I){if(b[2].length<1&&b[0].length<1?S||(S=Ri(),S.c(),S.m(r,i)):S&&(S.d(1),S=null),I&76){R=b[2];let $;for($=0;$<R.length;$+=1){const M=Ui(b,R,$);E[$]?E[$].p(M,I):(E[$]=Oi(M),E[$].c(),E[$].m(r,s))}for(;$<E.length;$+=1)E[$].d(1);E.length=R.length}if(I&1){U=b[0];let $;for($=0;$<U.length;$+=1){const M=Fi(b,U,$);v[$]?v[$].p(M,I):(v[$]=qi(M),v[$].c(),v[$].m(r,null))}for(;$<v.length;$+=1)v[$].d(1);v.length=U.length}(!g||I&4&&y!==(y=b[2].length===0))&&(p.disabled=y)},i(b){g||(V(h.$$.fragment,b),g=!0)},o(b){G(h.$$.fragment,b),g=!1},d(b){b&&z(e),S&&S.d(),Un(E,b),Un(v,b),le(h),A=!1,Ye(x)}}}function Ri(n){let e;return{c(){e=T("p"),e.textContent="Click upload or drag and drop files here to upload",_(e,"class","images__text svelte-jdx2r3")},m(t,r){B(t,e,r)},d(t){t&&z(e)}}}function zo(n){let e;return{c(){e=T("span"),e.textContent="Preview loading.."},m(t,r){B(t,e,r)},p:Y,d(t){t&&z(e)}}}function Ho(n){let e,t;return{c(){e=T("img"),_(e,"class","image svelte-jdx2r3"),nr(e.src,t=n[3][n[17].uuid])||_(e,"src",t),_(e,"alt","Preview")},m(r,i){B(r,e,i)},p(r,i){i&12&&!nr(e.src,t=r[3][r[17].uuid])&&_(e,"src",t)},d(r){r&&z(e)}}}function Oi(n){let e,t,r=n[17].name+"",i,s,a,l,u,f=n[17].size+"",o,h,c,d,p,k,y,g,A;function x(v,b){return v[3][v[17].uuid]!==void 0?Ho:zo}let S=x(n),R=S(n);function E(){return n[8](n[17])}function U(){return n[9](n[17])}return{c(){e=T("div"),t=T("p"),i=re(r),s=P(),a=T("div"),R.c(),l=P(),u=T("p"),o=re(f),h=re(" bytes"),c=P(),d=T("div"),p=T("button"),p.textContent="Select",k=P(),y=T("button"),y.textContent="Delete",_(t,"class","file__name svelte-jdx2r3"),_(a,"class","image-wrapper svelte-jdx2r3"),_(p,"class","btn btn--small"),_(y,"class","btn btn--small"),_(d,"class","file__actions svelte-jdx2r3"),_(e,"class","file svelte-jdx2r3")},m(v,b){B(v,e,b),m(e,t),m(t,i),m(e,s),m(e,a),R.m(a,null),m(e,l),m(e,u),m(u,o),m(u,h),m(e,c),m(e,d),m(d,p),m(d,k),m(d,y),g||(A=[ee(p,"click",E),ee(y,"click",U)],g=!0)},p(v,b){n=v,b&4&&r!==(r=n[17].name+"")&&Ue(i,r),S===(S=x(n))&&R?R.p(n,b):(R.d(1),R=S(n),R&&(R.c(),R.m(a,null))),b&4&&f!==(f=n[17].size+"")&&Ue(o,f)},d(v){v&&z(e),R.d(),g=!1,Ye(A)}}}function Bo(n){let e,t,r=n[14].progress+"",i;return{c(){e=T("p"),t=re("Progress: "),i=re(r)},m(s,a){B(s,e,a),m(e,t),m(e,i)},p(s,a){a&1&&r!==(r=s[14].progress+"")&&Ue(i,r)},d(s){s&&z(e)}}}function Vo(n){let e,t=n[14].error+"",r;return{c(){e=T("p"),r=re(t),_(e,"class","error svelte-jdx2r3")},m(i,s){B(i,e,s),m(e,r)},p(i,s){s&1&&t!==(t=i[14].error+"")&&Ue(r,t)},d(i){i&&z(e)}}}function qi(n){let e,t,r=n[14].name+"",i,s,a;function l(o,h){return o[14].error?Vo:Bo}let u=l(n),f=u(n);return{c(){e=T("div"),t=T("p"),i=re(r),s=P(),f.c(),a=P(),_(e,"class","file svelte-jdx2r3")},m(o,h){B(o,e,h),m(e,t),m(t,i),m(e,s),f.m(e,null),m(e,a)},p(o,h){h&1&&r!==(r=o[14].name+"")&&Ue(i,r),u===(u=l(o))&&f?f.p(o,h):(f.d(1),f=u(o),f&&(f.c(),f.m(e,a)))},d(o){o&&z(e),f.d()}}}function Qo(n){let e,t,r=n[1]&&Ni(n);return{c(){r&&r.c(),e=Pt()},m(i,s){r&&r.m(i,s),B(i,e,s),t=!0},p(i,[s]){i[1]?r?(r.p(i,s),s&2&&V(r,1)):(r=Ni(i),r.c(),V(r,1),r.m(e.parentNode,e)):r&&(et(),G(r,1,1,()=>{r=null}),tt())},i(i){t||(V(r),t=!0)},o(i){G(r),t=!1},d(i){r&&r.d(i),i&&z(e)}}}function Wo(n){n.stopPropagation(),n.preventDefault()}function Go(n,e,t){let r,i,s;xt(n,Mr,g=>t(1,r=g)),xt(n,Cn,g=>t(2,i=g)),xt(n,Fn,g=>t(3,s=g));let a=[];async function l(){const g=await Zo("image/*");g!==null&&f(g)}function u(g){g.stopPropagation(),g.preventDefault();const A=g.dataTransfer;if(A===null)return;const x=A.files;x!==null&&f(x)}function f(g){for(const A of g)a.push({name:A.name,progress:0,error:null}),t(0,a),jo(A,x=>{c(A.name,x)}).then(()=>o(A)).catch(x=>h(A,x))}function o(g){t(0,a=a.filter(A=>A.name!==g.name))}function h(g,A){t(0,a=a.map(x=>(x.name===g.name&&(x.error=A.message),x)))}function c(g,A){t(0,a=a.map(x=>(x.name===g&&(x.progress=A),x)))}function d(g){Cn.update(A=>A.filter(x=>x.uuid!==g.uuid)),Fn.update(A=>(delete A[g.uuid],A))}async function p(){await Tr("Confirm Deletion","Are you sure you want to delete all the uploaded files?")&&(Cn.set([]),Fn.set({}),t(0,a=[]))}return[a,r,i,s,l,u,d,p,g=>qo(g),g=>d(g)]}class Yo extends $e{constructor(e){super(),xe(this,e,Go,Qo,Ae,{})}}function Xo(n){let e;return{c(){e=T("p"),e.textContent="Pick Image"},m(t,r){B(t,e,r)},p:Y,d(t){t&&z(e)}}}function Jo(n){let e,t,r,i,s,a,l;return{c(){e=T("img"),i=P(),s=T("button"),s.textContent="Click to remove",_(e,"class","image svelte-8u6k8r"),_(e,"data-fit",t=n[0].image.fit),nr(e.src,r=n[1])||_(e,"src",r),_(e,"alt","Uploaded Content"),_(s,"class","overlay svelte-8u6k8r")},m(u,f){B(u,e,f),B(u,i,f),B(u,s,f),a||(l=ee(s,"click",n[3]),a=!0)},p(u,f){f&1&&t!==(t=u[0].image.fit)&&_(e,"data-fit",t),f&2&&!nr(e.src,r=u[1])&&_(e,"src",r)},d(u){u&&z(e),u&&z(i),u&&z(s),a=!1,l()}}}function ji(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,p,k,y;return{c(){e=T("label"),t=T("span"),t.textContent="Image Fit",r=P(),i=T("p"),i.textContent=`Decide how the image should be best fit for the player screens, It's
      recommended that you use "Contain" if the full image content is important
      to be visible`,s=P(),a=T("select"),l=T("option"),u=re("Contain: Fit the entire image"),f=T("option"),o=re("Cover: Fill the available space"),h=T("option"),c=re("Fill Width: Fill available width "),d=T("option"),p=re("Fill Height: Fill available height"),_(t,"class","field__name svelte-8u6k8r"),_(i,"class","field__desc svelte-8u6k8r"),l.__value=vn.Contain,l.value=l.__value,f.__value=vn.Cover,f.value=f.__value,h.__value=vn.Width,h.value=h.__value,d.__value=vn.Height,d.value=d.__value,_(a,"class","input svelte-8u6k8r"),n[0].image.fit===void 0&&Xe(()=>n[6].call(a)),_(e,"class","field svelte-8u6k8r")},m(g,A){B(g,e,A),m(e,t),m(e,r),m(e,i),m(e,s),m(e,a),m(a,l),m(l,u),m(a,f),m(f,o),m(a,h),m(h,c),m(a,d),m(d,p),Xt(a,n[0].image.fit,!0),k||(y=ee(a,"change",n[6]),k=!0)},p(g,A){A&1&&Xt(a,g[0].image.fit)},d(g){g&&z(e),k=!1,y()}}}function Ko(n){let e,t,r,i,s,a,l;function u(c,d){return c[0].image!==null&&c[1]?Jo:Xo}let f=u(n),o=f(n),h=n[0].image!==null&&ji(n);return i=new Yo({}),{c(){e=T("div"),o.c(),t=P(),h&&h.c(),r=P(),oe(i.$$.fragment),_(e,"tabindex","0"),_(e,"role","button"),_(e,"class","wrapper svelte-8u6k8r")},m(c,d){B(c,e,d),o.m(e,null),B(c,t,d),h&&h.m(c,d),B(c,r,d),ae(i,c,d),s=!0,a||(l=[ee(e,"click",n[2]),ee(e,"keypress",n[4])],a=!0)},p(c,[d]){f===(f=u(c))&&o?o.p(c,d):(o.d(1),o=f(c),o&&(o.c(),o.m(e,null))),c[0].image!==null?h?h.p(c,d):(h=ji(c),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null)},i(c){s||(V(i.$$.fragment,c),s=!0)},o(c){G(i.$$.fragment,c),s=!1},d(c){c&&z(e),o.d(),c&&z(t),h&&h.d(c),c&&z(r),le(i,c),a=!1,Ye(l)}}}function eu(n,e,t){let r;xt(n,Fn,o=>t(5,r=o));let{question:i}=e,s=null;async function a(){let o=await Ro();o!==null&&t(0,i.image={uuid:o.uuid,fit:vn.Contain},i)}function l(o){o.stopPropagation(),t(0,i.image=null,i),t(1,s=null)}function u(o){(o.key==="Enter"||o.key==="NumpadEnter")&&a()}function f(){i.image.fit=kr(this),t(0,i)}return n.$$set=o=>{"question"in o&&t(0,i=o.question)},n.$$.update=()=>{if(n.$$.dirty&33&&i.image!==null){let o=r[i.image.uuid];o!==void 0?t(1,s=o):t(1,s=null)}},[i,s,a,l,u,r,f]}class tu extends $e{constructor(e){super(),xe(this,e,eu,Ko,Ae,{question:0})}}function Fr(n,{from:e,to:t},r={}){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform,[a,l]=i.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/t.width-(t.left+a),f=e.top+e.height*l/t.height-(t.top+l),{delay:o=0,duration:h=d=>Math.sqrt(d)*120,easing:c=xs}=r;return{delay:o,duration:$n(h)?h(Math.sqrt(u*u+f*f)):h,easing:c,css:(d,p)=>{const k=p*u,y=p*f,g=d+p*e.width/t.width,A=d+p*e.height/t.height;return`transform: ${s} translate(${k}px, ${y}px) scale(${g}, ${A});`}}}function nu(n){let e,t,r,i,s,a,l;return{c(){e=T("label"),t=T("input"),r=P(),i=de("svg"),s=de("path"),_(t,"class","input svelte-1sqhokz"),_(t,"type","checkbox"),_(s,"d","M4.575 8.977s-.404-.007-.536-.165L.057 5.64l.829-1.227L4.47 7.268 10.921.086l.923 1.103-6.863 7.64c-.134-.003-.406.148-.406.148z"),_(s,"fill","#FFF"),_(s,"fill-rule","evenodd"),_(i,"width","16"),_(i,"height","16"),_(i,"viewBox","0 0 12 9"),_(i,"xmlns","http://www.w3.org/2000/svg"),_(i,"class","mark svelte-1sqhokz"),_(e,"class","wrapper svelte-1sqhokz")},m(u,f){B(u,e,f),m(e,t),t.checked=n[0],m(e,r),m(e,i),m(i,s),a||(l=ee(t,"change",n[1]),a=!0)},p(u,[f]){f&1&&(t.checked=u[0])},i:Y,o:Y,d(u){u&&z(e),a=!1,l()}}}function ru(n,e,t){let{value:r}=e;function i(){r=this.checked,t(0,r)}return n.$$set=s=>{"value"in s&&t(0,r=s.value)},[r,i]}class iu extends $e{constructor(e){super(),xe(this,e,ru,nu,Ae,{value:0})}}function su(n){let e,t,r;return{c(){e=de("svg"),t=de("path"),r=de("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){B(i,e,s),m(e,t),m(e,r)},p:Y,i:Y,o:Y,d(i){i&&z(e)}}}class ra extends $e{constructor(e){super(),xe(this,e,null,su,Ae,{})}}function au(n){let e,t;return{c(){e=de("svg"),t=de("path"),_(t,"d","m283 699-43-43 240-240 240 240-43 43-197-197-197 197Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 96 960 960"),_(e,"width","48"),_(e,"height","48"),_(e,"fill","#FFFFFF")},m(r,i){B(r,e,i),m(e,t)},p:Y,i:Y,o:Y,d(r){r&&z(e)}}}class ia extends $e{constructor(e){super(),xe(this,e,null,au,Ae,{})}}function lu(n){let e,t;return{c(){e=de("svg"),t=de("path"),_(t,"d","M480 712 240 472l43-43 197 197 197-197 43 43-240 240Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 96 960 960"),_(e,"width","48"),_(e,"height","48"),_(e,"fill","#FFFFFF")},m(r,i){B(r,e,i),m(e,t)},p:Y,i:Y,o:Y,d(r){r&&z(e)}}}class sa extends $e{constructor(e){super(),xe(this,e,null,lu,Ae,{})}}function Pi(n,e,t){const r=n.slice();return r[11]=e[t],r[12]=e,r[13]=t,r}function Zi(n){let e,t=[],r=new Map,i,s,a,l,u,f,o,h,c,d,p,k,y=n[0].answers;const g=A=>A[11].id;for(let A=0;A<y.length;A+=1){let x=Pi(n,y,A),S=g(x);r.set(S,t[A]=Di(S,x))}return{c(){e=T("div");for(let A=0;A<t.length;A+=1)t[A].c();i=P(),s=T("div"),a=T("button"),l=re("Add Answer"),f=P(),o=T("button"),h=re("Shuffle"),_(a,"class","btn"),a.disabled=u=n[0].answers.length>=xi,_(o,"class","btn"),o.disabled=c=n[0].answers.length<=1,_(s,"class","field-group"),_(e,"class","answers svelte-9k2gpx")},m(A,x){B(A,e,x);for(let S=0;S<t.length;S+=1)t[S]&&t[S].m(e,null);m(e,i),m(e,s),m(s,a),m(a,l),m(s,f),m(s,o),m(o,h),d=!0,p||(k=[ee(a,"click",n[1]),ee(o,"click",n[5])],p=!0)},p(A,x){if(x&29){y=A[0].answers,et();for(let S=0;S<t.length;S+=1)t[S].r();t=$r(t,x,g,1,A,y,r,e,xr,Di,i,Pi);for(let S=0;S<t.length;S+=1)t[S].a();tt()}(!d||x&1&&u!==(u=A[0].answers.length>=xi))&&(a.disabled=u),(!d||x&1&&c!==(c=A[0].answers.length<=1))&&(o.disabled=c)},i(A){if(!d){for(let x=0;x<y.length;x+=1)V(t[x]);d=!0}},o(A){for(let x=0;x<t.length;x+=1)G(t[x]);d=!1},d(A){A&&z(e);for(let x=0;x<t.length;x+=1)t[x].d();p=!1,Ye(k)}}}function Di(n,e){let t,r,i,s,a,l,u,f,o,h,c,d,p,k,y,g,A,x,S,R,E=Y,U,v,b;function I(C){e[6](C,e[11])}let $={};e[11].correct!==void 0&&($.value=e[11].correct),i=new iu({props:$}),Lt.push(()=>an(i,"value",I)),f=new ia({});function M(){return e[7](e[13])}d=new sa({});function O(){return e[8](e[13])}function F(){e[9].call(y,e[12],e[13])}x=new ra({});function q(){return e[10](e[13])}return{key:n,first:null,c(){t=T("div"),r=T("div"),oe(i.$$.fragment),a=P(),l=T("div"),u=T("button"),oe(f.$$.fragment),h=P(),c=T("button"),oe(d.$$.fragment),k=P(),y=T("input"),g=P(),A=T("button"),oe(x.$$.fragment),_(r,"class","answer__check svelte-9k2gpx"),u.disabled=o=e[13]<=0,_(u,"class","btn btn--icon-only btn--surface btn-small arrow"),c.disabled=p=e[13]+1>=e[0].answers.length,_(c,"class","btn btn--icon-only btn--surface btn-small arrow"),_(l,"class","answer__actions svelte-9k2gpx"),_(y,"class","answer__question input svelte-9k2gpx"),_(y,"type","text"),_(y,"maxlength",to),A.disabled=S=e[0].answers.length==1,_(A,"class","btn btn--icon-only"),_(t,"class","answer svelte-9k2gpx"),this.first=t},m(C,w){B(C,t,w),m(t,r),ae(i,r,null),m(t,a),m(t,l),m(l,u),ae(f,u,null),m(l,h),m(l,c),ae(d,c,null),m(t,k),m(t,y),je(y,e[11].value),m(t,g),m(t,A),ae(x,A,null),U=!0,v||(b=[ee(u,"click",M),ee(c,"click",O),ee(y,"input",F),ee(A,"click",q)],v=!0)},p(C,w){e=C;const j={};!s&&w&1&&(s=!0,j.value=e[11].correct,sn(()=>s=!1)),i.$set(j),(!U||w&1&&o!==(o=e[13]<=0))&&(u.disabled=o),(!U||w&1&&p!==(p=e[13]+1>=e[0].answers.length))&&(c.disabled=p),w&1&&y.value!==e[11].value&&je(y,e[11].value),(!U||w&1&&S!==(S=e[0].answers.length==1))&&(A.disabled=S)},r(){R=t.getBoundingClientRect()},f(){Ar(t),E()},a(){E(),E=Cr(t,R,Fr,{duration:500})},i(C){U||(V(i.$$.fragment,C),V(f.$$.fragment,C),V(d.$$.fragment,C),V(x.$$.fragment,C),U=!0)},o(C){G(i.$$.fragment,C),G(f.$$.fragment,C),G(d.$$.fragment,C),G(x.$$.fragment,C),U=!1},d(C){C&&z(t),le(i),le(f),le(d),le(x),v=!1,Ye(b)}}}function ou(n){let e,t,r=(n[0].ty==nt.Single||n[0].ty==nt.Multiple)&&Zi(n);return{c(){r&&r.c(),e=Pt()},m(i,s){r&&r.m(i,s),B(i,e,s),t=!0},p(i,[s]){i[0].ty==nt.Single||i[0].ty==nt.Multiple?r?(r.p(i,s),s&1&&V(r,1)):(r=Zi(i),r.c(),V(r,1),r.m(e.parentNode,e)):r&&(et(),G(r,1,1,()=>{r=null}),tt())},i(i){t||(V(r),t=!0)},o(i){G(r),t=!1},d(i){r&&r.d(i),i&&z(e)}}}function uu(n,e,t){let{question:r}=e;function i(){let p=0;for(const k of r.answers)k.id>=p&&(p=k.id+1);r.answers.push({id:p,value:"",correct:!1}),t(0,r)}const s=p=>{t(0,r.answers=_r(r.answers,p,p-1),r)},a=p=>{t(0,r.answers=_r(r.answers,p,p+1),r)};function l(p){t(0,r.answers=r.answers.filter((k,y)=>y!=p),r)}function u(){t(0,r.answers=zs(r.answers),r)}function f(p,k){n.$$.not_equal(k.correct,p)&&(k.correct=p,t(0,r))}const o=p=>s(p),h=p=>a(p);function c(p,k){p[k].value=this.value,t(0,r)}const d=p=>l(p);return n.$$set=p=>{"question"in p&&t(0,r=p.question)},[r,i,s,a,l,u,f,o,h,c,d]}class cu extends $e{constructor(e){super(),xe(this,e,uu,ou,Ae,{question:0})}}function fu(n){let e,t,r,i,s,a,l,u,f,o,h,c;return{c(){e=T("div"),t=T("input"),s=P(),a=T("select"),l=T("option"),u=re("Minutes"),f=T("option"),o=re("Seconds"),_(t,"class","input svelte-t6875b"),_(t,"type","number"),_(t,"min",r=n[5](n[0])),_(t,"max",i=n[5](n[1])),l.__value=n[4].Minutes,l.value=l.__value,f.__value=n[4].Seconds,f.value=f.__value,_(a,"class","select svelte-t6875b"),n[2]===void 0&&Xe(()=>n[9].call(a))},m(d,p){B(d,e,p),m(e,t),je(t,n[3]),m(e,s),m(e,a),m(a,l),m(l,u),m(a,f),m(f,o),Xt(a,n[2],!0),h||(c=[ee(t,"input",n[8]),ee(t,"change",n[6]),ee(a,"change",n[9]),ee(a,"change",n[6])],h=!0)},p(d,[p]){p&1&&r!==(r=d[5](d[0]))&&_(t,"min",r),p&2&&i!==(i=d[5](d[1]))&&_(t,"max",i),p&8&&wt(t.value)!==d[3]&&je(t,d[3]),p&20&&Xt(a,d[2])},i:Y,o:Y,d(d){d&&z(e),h=!1,Ye(c)}}}function du(n,e,t){let{value:r}=e,{min:i}=e,{max:s}=e;var a=(p=>(p[p.Seconds=0]="Seconds",p[p.Minutes=1]="Minutes",p))(a||{});let l=0,u=o(r);function f(p){return l==0?p*1e3:l==1?p*1e3*60:p}function o(p){return l==0?p/1e3:l==1?p/60/1e3:p}function h(){if(u<1)t(3,u=1);else{let p=f(u);p>s?p=s:p<i&&(p=i),t(3,u=o(p)),t(7,r=p)}}function c(){u=wt(this.value),t(3,u)}function d(){l=kr(this),t(2,l),t(4,a)}return n.$$set=p=>{"value"in p&&t(7,r=p.value),"min"in p&&t(0,i=p.min),"max"in p&&t(1,s=p.max)},[i,s,l,u,a,o,h,r,c,d]}class Gr extends $e{constructor(e){super(),xe(this,e,du,fu,Ae,{value:7,min:0,max:1})}}function hu(n){let e,t,r;return{c(){e=de("svg"),t=de("path"),r=de("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){B(i,e,s),m(e,t),m(e,r)},p:Y,i:Y,o:Y,d(i){i&&z(e)}}}class si extends $e{constructor(e){super(),xe(this,e,null,hu,Ae,{})}}function Li(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,p,k,y,g,A;return{c(){e=T("label"),t=T("span"),t.textContent="Min Choices",r=P(),i=T("p"),i.textContent="The minimum number of answers that must be selected to get a pass",s=P(),a=T("input"),u=P(),f=T("label"),o=T("span"),o.textContent="Desired Choices",h=P(),c=T("p"),c.textContent=`The total number of answers the player must choose to get a full
          score. Can be the same as the minimum choices`,d=P(),p=T("input"),_(t,"class","field__name svelte-160lkeg"),_(i,"class","field__desc svelte-160lkeg"),_(a,"class","input svelte-160lkeg"),_(a,"type","number"),_(a,"min",1),_(a,"max",l=n[0].answers.length),_(e,"class","field svelte-160lkeg"),_(o,"class","field__name svelte-160lkeg"),_(c,"class","field__desc svelte-160lkeg"),_(p,"class","input svelte-160lkeg"),_(p,"type","number"),_(p,"min",k=n[0].min),_(p,"max",y=n[0].answers.length),_(f,"class","field svelte-160lkeg")},m(x,S){B(x,e,S),m(e,t),m(e,r),m(e,i),m(e,s),m(e,a),je(a,n[0].min),B(x,u,S),B(x,f,S),m(f,o),m(f,h),m(f,c),m(f,d),m(f,p),je(p,n[0].max),g||(A=[ee(a,"input",n[6]),ee(p,"input",n[7])],g=!0)},p(x,S){S&1&&l!==(l=x[0].answers.length)&&_(a,"max",l),S&1&&wt(a.value)!==x[0].min&&je(a,x[0].min),S&1&&k!==(k=x[0].min)&&_(p,"min",k),S&1&&y!==(y=x[0].answers.length)&&_(p,"max",y),S&1&&wt(p.value)!==x[0].max&&je(p,x[0].max)},d(x){x&&z(e),x&&z(u),x&&z(f),g=!1,Ye(A)}}}function pu(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,p,k,y,g,A,x,S,R,E,U,v,b,I,$,M,O,F,q,C,w,j,N,D,J,H,Q,L,Z,ie,pe,K,te,ce,qe,ge,ft,Qe,Te,We,be,Se,Ie,Ne,Re,Be,Oe,ke,Pe,De,Ct,Ge,Ke,Ze,Me,Le,dt,ze,ht,_t,Zt,$t,rt,pt,Ut,Ce,at,lt,gt,Qt,we,ot,fn,Wt;i=new si({}),f=new tu({props:{question:n[0]}});let it=n[0].ty==nt.Multiple&&Li(n);function ue(ve){n[8](ve)}let Ee={};n[0]!==void 0&&(Ee.question=n[0]),q=new cu({props:Ee}),Lt.push(()=>an(q,"question",ue));function At(ve){n[9](ve)}let Nt={min:ro,max:io};n[0].answer_time!==void 0&&(Nt.value=n[0].answer_time),te=new Gr({props:Nt}),Lt.push(()=>an(te,"value",At));function fa(ve){n[10](ve)}let ui={min:co,max:fo};return n[0].bonus_score_time!==void 0&&(ui.value=n[0].bonus_score_time),be=new Gr({props:ui}),Lt.push(()=>an(be,"value",fa)),{c(){e=T("main"),t=T("header"),r=T("button"),oe(i.$$.fragment),s=re(`
      Back`),a=P(),l=T("button"),l.textContent="Save",u=P(),oe(f.$$.fragment),o=P(),h=T("div"),c=T("p"),c.textContent="Question",d=P(),p=T("p"),p.textContent="Enter the question to ask the players",k=P(),y=T("textarea"),g=P(),A=T("div"),x=T("div"),S=T("p"),S.textContent="Question Type",R=P(),E=T("p"),E.textContent="The type of question to present",U=P(),v=T("select"),b=T("option"),I=re("Single Choice"),$=T("option"),M=re("Multiple Choice"),O=P(),it&&it.c(),F=P(),oe(q.$$.fragment),w=P(),j=T("div"),N=T("h2"),N.textContent="Timing",D=P(),J=T("p"),J.textContent="Below you can configuring the timing for different events",H=P(),Q=T("div"),L=T("div"),Z=T("span"),Z.textContent="Answer Time",ie=P(),pe=T("p"),pe.textContent="Time the players have to answer the question",K=P(),oe(te.$$.fragment),qe=P(),ge=T("div"),ft=T("span"),ft.textContent="Bonus Score Time",Qe=P(),Te=T("p"),Te.textContent="Time the players must answer within for bonus scores",We=P(),oe(be.$$.fragment),Ie=P(),Ne=T("div"),Re=T("h2"),Re.textContent="Scoring",Be=P(),Oe=T("p"),Oe.textContent=`Score is awarded to players based on how quickly the player answers the
      question. You can configure the minimum and maximum values for this below`,ke=P(),Pe=T("div"),De=T("label"),Ct=T("span"),Ct.textContent="Min Score",Ge=P(),Ke=T("p"),Ke.textContent="The minimum amount of score to award for this question",Ze=P(),Me=T("input"),dt=P(),ze=T("label"),ht=T("span"),ht.textContent="Max Score",_t=P(),Zt=T("p"),Zt.textContent="The maximum amount of score to award for this question",$t=P(),rt=T("input"),Ut=P(),Ce=T("label"),at=T("span"),at.textContent="Bonus Score",lt=P(),gt=T("p"),gt.textContent="The amount of score to add for being within the bonus time",Qt=P(),we=T("input"),_(r,"class","btn btn--icon"),_(l,"class","btn"),_(t,"class","header btn-row svelte-160lkeg"),_(c,"class","field__name svelte-160lkeg"),_(p,"class","field__desc svelte-160lkeg"),_(y,"class","question__text input svelte-160lkeg"),_(y,"cols","30"),_(y,"rows","10"),_(h,"class","field svelte-160lkeg"),_(S,"class","field__name svelte-160lkeg"),_(E,"class","field__desc svelte-160lkeg"),b.__value=nt.Single,b.value=b.__value,$.__value=nt.Multiple,$.value=$.__value,_(v,"class","input svelte-160lkeg"),n[0].ty===void 0&&Xe(()=>n[5].call(v)),_(x,"class","field svelte-160lkeg"),_(A,"class","field-group svelte-160lkeg"),_(N,"class","group__title svelte-160lkeg"),_(J,"class","group__desc svelte-160lkeg"),_(Z,"class","field__name svelte-160lkeg"),_(pe,"class","field__desc svelte-160lkeg"),_(L,"class","field svelte-160lkeg"),_(ft,"class","field__name svelte-160lkeg"),_(Te,"class","field__desc svelte-160lkeg"),_(ge,"class","field svelte-160lkeg"),_(Q,"class","group__value field-group svelte-160lkeg"),_(j,"class","group"),_(Re,"class","group__title svelte-160lkeg"),_(Oe,"class","group__desc svelte-160lkeg"),_(Ct,"class","field__name svelte-160lkeg"),_(Ke,"class","field__desc svelte-160lkeg"),_(Me,"class","input svelte-160lkeg"),_(Me,"type","number"),_(Me,"min",0),_(Me,"max",Le=n[0].scoring.max_score),_(De,"class","field svelte-160lkeg"),_(ht,"class","field__name svelte-160lkeg"),_(Zt,"class","field__desc svelte-160lkeg"),_(rt,"class","input svelte-160lkeg"),_(rt,"type","number"),_(rt,"min",pt=n[0].scoring.min_score),_(rt,"max",1e3),_(ze,"class","field svelte-160lkeg"),_(at,"class","field__name svelte-160lkeg"),_(gt,"class","field__desc svelte-160lkeg"),_(we,"class","input svelte-160lkeg"),_(we,"type","number"),_(we,"min",0),_(we,"max",1e3),_(Ce,"class","field svelte-160lkeg"),_(Pe,"class","group__value field-group svelte-160lkeg"),_(Ne,"class","group"),_(e,"class","main svelte-160lkeg")},m(ve,vt){B(ve,e,vt),m(e,t),m(t,r),ae(i,r,null),m(r,s),m(t,a),m(t,l),m(e,u),ae(f,e,null),m(e,o),m(e,h),m(h,c),m(h,d),m(h,p),m(h,k),m(h,y),je(y,n[0].text),m(e,g),m(e,A),m(A,x),m(x,S),m(x,R),m(x,E),m(x,U),m(x,v),m(v,b),m(b,I),m(v,$),m($,M),Xt(v,n[0].ty,!0),m(A,O),it&&it.m(A,null),m(e,F),ae(q,e,null),m(e,w),m(e,j),m(j,N),m(j,D),m(j,J),m(j,H),m(j,Q),m(Q,L),m(L,Z),m(L,ie),m(L,pe),m(L,K),ae(te,L,null),m(Q,qe),m(Q,ge),m(ge,ft),m(ge,Qe),m(ge,Te),m(ge,We),ae(be,ge,null),m(e,Ie),m(e,Ne),m(Ne,Re),m(Ne,Be),m(Ne,Oe),m(Ne,ke),m(Ne,Pe),m(Pe,De),m(De,Ct),m(De,Ge),m(De,Ke),m(De,Ze),m(De,Me),je(Me,n[0].scoring.min_score),m(Pe,dt),m(Pe,ze),m(ze,ht),m(ze,_t),m(ze,Zt),m(ze,$t),m(ze,rt),je(rt,n[0].scoring.max_score),m(Pe,Ut),m(Pe,Ce),m(Ce,at),m(Ce,lt),m(Ce,gt),m(Ce,Qt),m(Ce,we),je(we,n[0].scoring.bonus_score),ot=!0,fn||(Wt=[ee(r,"click",n[1]),ee(l,"click",n[3]),ee(y,"input",n[4]),ee(v,"change",n[5]),ee(v,"change",n[2]),ee(Me,"input",n[11]),ee(rt,"input",n[12]),ee(we,"input",n[13])],fn=!0)},p(ve,[vt]){const ci={};vt&1&&(ci.question=ve[0]),f.$set(ci),vt&1&&je(y,ve[0].text),vt&1&&Xt(v,ve[0].ty),ve[0].ty==nt.Multiple?it?it.p(ve,vt):(it=Li(ve),it.c(),it.m(A,null)):it&&(it.d(1),it=null);const fi={};!C&&vt&1&&(C=!0,fi.question=ve[0],sn(()=>C=!1)),q.$set(fi);const di={};!ce&&vt&1&&(ce=!0,di.value=ve[0].answer_time,sn(()=>ce=!1)),te.$set(di);const hi={};!Se&&vt&1&&(Se=!0,hi.value=ve[0].bonus_score_time,sn(()=>Se=!1)),be.$set(hi),(!ot||vt&1&&Le!==(Le=ve[0].scoring.max_score))&&_(Me,"max",Le),vt&1&&wt(Me.value)!==ve[0].scoring.min_score&&je(Me,ve[0].scoring.min_score),(!ot||vt&1&&pt!==(pt=ve[0].scoring.min_score))&&_(rt,"min",pt),vt&1&&wt(rt.value)!==ve[0].scoring.max_score&&je(rt,ve[0].scoring.max_score),vt&1&&wt(we.value)!==ve[0].scoring.bonus_score&&je(we,ve[0].scoring.bonus_score)},i(ve){ot||(V(i.$$.fragment,ve),V(f.$$.fragment,ve),V(q.$$.fragment,ve),V(te.$$.fragment,ve),V(be.$$.fragment,ve),ot=!0)},o(ve){G(i.$$.fragment,ve),G(f.$$.fragment,ve),G(q.$$.fragment,ve),G(te.$$.fragment,ve),G(be.$$.fragment,ve),ot=!1},d(ve){ve&&z(e),le(i),le(f),it&&it.d(),le(q),le(te),le(be),fn=!1,Ye(Wt)}}}function mu(n,e,t){let{question:r}=e;async function i(){await Tr("Confirm Back","Are you sure you want to go back? You will loose any unsaved progress")&&Dr()}function s(){t(0,r=wo(r))}function a(){let A=0;for(const x of r.answers)x.correct&&(A+=1);return A}function l(){if(a()<1){zt("No answers","You must select atleast 1 answer as a correct answer");return}if(t(0,r.text=r.text.trim(),r),r.text.length<1){zt("Empty quesiton","The question text must not be empty");return}for(let A=0;A<r.answers.length;A++){const x=r.answers[A];if(x.value=x.value.trim(),x.value.length<1){zt("Empty answer",`Answer number ${A+1} must not be blank`);return}}bo(r),Dr()}function u(){r.text=this.value,t(0,r)}function f(){r.ty=kr(this),t(0,r)}function o(){r.min=wt(this.value),t(0,r)}function h(){r.max=wt(this.value),t(0,r)}function c(A){r=A,t(0,r)}function d(A){n.$$.not_equal(r.answer_time,A)&&(r.answer_time=A,t(0,r))}function p(A){n.$$.not_equal(r.bonus_score_time,A)&&(r.bonus_score_time=A,t(0,r))}function k(){r.scoring.min_score=wt(this.value),t(0,r)}function y(){r.scoring.max_score=wt(this.value),t(0,r)}function g(){r.scoring.bonus_score=wt(this.value),t(0,r)}return n.$$set=A=>{"question"in A&&t(0,r=A.question)},n.$$.update=()=>{if(n.$$.dirty&1&&r.ty===nt.Multiple){let A=a();r.max>A&&t(0,r.max=A,r),r.max<r.min&&t(0,r.max=r.min,r)}},[r,i,s,l,u,f,o,h,c,d,p,k,y,g]}class _u extends $e{constructor(e){super(),xe(this,e,mu,pu,Ae,{question:0})}}function gu(n){let e;return{c(){e=T("div"),_(e,"class","spin svelte-1ku7j7d")},m(t,r){B(t,e,r)},p:Y,i:Y,o:Y,d(t){t&&z(e)}}}class aa extends $e{constructor(e){super(),xe(this,e,null,gu,Ae,{})}}function vu(n){let e,t,r,i,s,a;return t=new aa({}),{c(){e=T("main"),oe(t.$$.fragment),r=P(),i=T("p"),s=re(n[0]),_(i,"class","text svelte-1n3hv6a"),_(e,"class","main svelte-1n3hv6a")},m(l,u){B(l,e,u),ae(t,e,null),m(e,r),m(e,i),m(i,s),a=!0},p(l,[u]){(!a||u&1)&&Ue(s,l[0])},i(l){a||(V(t.$$.fragment,l),a=!0)},o(l){G(t.$$.fragment,l),a=!1},d(l){l&&z(e),le(t)}}}function yu(n,e,t){let{text:r}=e;return n.$$set=i=>{"text"in i&&t(0,r=i.text)},[r]}class ai extends $e{constructor(e){super(),xe(this,e,yu,vu,Ae,{text:0})}}function bu(n){let e,t,r,i,s,a,l;return t=new aa({}),{c(){e=T("main"),oe(t.$$.fragment),r=P(),i=T("p"),s=re(n[0]),_(i,"class","text svelte-1cn2ffa"),_(e,"class","main svelte-1cn2ffa")},m(u,f){B(u,e,f),ae(t,e,null),m(e,r),m(e,i),m(i,s),l=!0},p(u,[f]){(!l||f&1)&&Ue(s,u[0])},i(u){l||(V(t.$$.fragment,u),Xe(()=>{l&&(a||(a=He(e,vi,{},!0)),a.run(1))}),l=!0)},o(u){G(t.$$.fragment,u),a||(a=He(e,vi,{},!1)),a.run(0),l=!1},d(u){u&&z(e),le(t),u&&a&&a.end()}}}function wu(n,e,t){let{text:r=""}=e;return n.$$set=i=>{"text"in i&&t(0,r=i.text)},[r]}class li extends $e{constructor(e){super(),xe(this,e,wu,bu,Ae,{text:0})}}function ku(n){let e,t,r;return{c(){e=de("svg"),t=de("path"),r=de("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M8 5v14l11-7z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){B(i,e,s),m(e,t),m(e,r)},p:Y,i:Y,o:Y,d(i){i&&z(e)}}}class Ur extends $e{constructor(e){super(),xe(this,e,null,ku,Ae,{})}}function zi(n){let e,t;return e=new li({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Cu(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,p,k,y=n[4]&&Hi(n);return{c(){e=T("main"),t=T("p"),r=re(n[1]),i=P(),s=T("h1"),s.textContent="Enter Name",a=P(),l=T("p"),l.textContent="Please enter your desired name",u=P(),f=T("div"),o=T("input"),h=P(),y&&y.c(),_(o,"class","input input--small svelte-1bfozqn"),_(o,"type","text"),_(o,"minlength",Ps),_(o,"maxlength",Zs),_(f,"class","form svelte-1bfozqn"),_(e,"class","main svelte-1bfozqn")},m(g,A){B(g,e,A),m(e,t),m(t,r),m(e,i),m(e,s),m(e,a),m(e,l),m(e,u),m(e,f),m(f,o),je(o,n[2]),m(f,h),y&&y.m(f,null),d=!0,p||(k=[ee(o,"input",n[13]),ee(o,"input",n[8])],p=!0)},p(g,A){(!d||A&2)&&Ue(r,g[1]),A&4&&o.value!==g[2]&&je(o,g[2]),g[4]?y?(y.p(g,A),A&16&&V(y,1)):(y=Hi(g),y.c(),V(y,1),y.m(f,null)):y&&(et(),G(y,1,1,()=>{y=null}),tt())},i(g){d||(V(y),Xe(()=>{d&&(c||(c=He(e,Je,{},!0)),c.run(1))}),d=!0)},o(g){G(y),c||(c=He(e,Je,{},!1)),c.run(0),d=!1},d(g){g&&z(e),y&&y.d(),g&&c&&c.end(),p=!1,Ye(k)}}}function Au(n){let e,t,r,i,s,a,l,u,f,o,h,c,d=n[3]&&Bi(n);return{c(){e=T("main"),t=T("h1"),t.textContent="Enter Code",r=P(),i=T("p"),i.textContent="Please enter your quiz code below",s=P(),a=T("div"),l=T("input"),u=P(),d&&d.c(),_(l,"class","input svelte-1bfozqn"),_(l,"type","text"),_(l,"minlength",Jn),_(l,"maxlength",Jn),_(l,"placeholder","X".repeat(Jn)),_(a,"class","form svelte-1bfozqn"),_(e,"class","main svelte-1bfozqn")},m(p,k){B(p,e,k),m(e,t),m(e,r),m(e,i),m(e,s),m(e,a),m(a,l),je(l,n[1]),m(a,u),d&&d.m(a,null),o=!0,h||(c=[ee(l,"input",n[12]),ee(l,"input",n[7])],h=!0)},p(p,k){k&2&&l.value!==p[1]&&je(l,p[1]),p[3]?d?(d.p(p,k),k&8&&V(d,1)):(d=Bi(p),d.c(),V(d,1),d.m(a,null)):d&&(et(),G(d,1,1,()=>{d=null}),tt())},i(p){o||(V(d),Xe(()=>{o&&(f||(f=He(e,Je,{},!0)),f.run(1))}),o=!0)},o(p){G(d),f||(f=He(e,Je,{},!1)),f.run(0),o=!1},d(p){p&&z(e),d&&d.d(),p&&f&&f.end(),h=!1,Ye(c)}}}function Hi(n){let e,t,r,i,s,a;return t=new Ur({}),{c(){e=T("button"),oe(t.$$.fragment),_(e,"class","play play--small svelte-1bfozqn")},m(l,u){B(l,e,u),ae(t,e,null),i=!0,s||(a=ee(e,"click",n[10]),s=!0)},p:Y,i(l){i||(V(t.$$.fragment,l),Xe(()=>{i&&(r||(r=He(e,Je,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){G(t.$$.fragment,l),r||(r=He(e,Je,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&z(e),le(t),l&&r&&r.end(),s=!1,a()}}}function Bi(n){let e,t,r,i,s,a;return t=new Ur({}),{c(){e=T("button"),oe(t.$$.fragment),_(e,"class","play svelte-1bfozqn")},m(l,u){B(l,e,u),ae(t,e,null),i=!0,s||(a=ee(e,"click",n[9]),s=!0)},p:Y,i(l){i||(V(t.$$.fragment,l),Xe(()=>{i&&(r||(r=He(e,Je,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){G(t.$$.fragment,l),r||(r=He(e,Je,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&z(e),le(t),l&&r&&r.end(),s=!1,a()}}}function xu(n){let e,t,r,i,s,a,l,u,f,o,h=n[5]&&zi();r=new si({});const c=[Au,Cu],d=[];function p(k,y){return k[0]===k[6].Connect?0:1}return s=p(n),a=d[s]=c[s](n),{c(){h&&h.c(),e=P(),t=T("button"),oe(r.$$.fragment),i=P(),a.c(),l=Pt(),_(t,"class","back back--floating")},m(k,y){h&&h.m(k,y),B(k,e,y),B(k,t,y),ae(r,t,null),B(k,i,y),d[s].m(k,y),B(k,l,y),u=!0,f||(o=ee(t,"click",n[11]),f=!0)},p(k,[y]){k[5]?h?y&32&&V(h,1):(h=zi(),h.c(),V(h,1),h.m(e.parentNode,e)):h&&(et(),G(h,1,1,()=>{h=null}),tt());let g=s;s=p(k),s===g?d[s].p(k,y):(et(),G(d[g],1,1,()=>{d[g]=null}),tt(),a=d[s],a?a.p(k,y):(a=d[s]=c[s](k),a.c()),V(a,1),a.m(l.parentNode,l))},i(k){u||(V(h),V(r.$$.fragment,k),V(a),u=!0)},o(k){G(h),G(r.$$.fragment,k),G(a),u=!1},d(k){h&&h.d(k),k&&z(e),k&&z(t),le(r),k&&z(i),d[s].d(k),k&&z(l),f=!1,o()}}}function $u(n,e,t){var r=(g=>(g[g.Connect=0]="Connect",g[g.Join=1]="Join",g))(r||{});let i=0,s="",a="",l=!1,u=!1,f=!1;function o(){t(1,s=s.toUpperCase().replace(/[^A-Z0-9]/,"")),t(3,l=s.length===Jn)}function h(){t(4,u=a.length>=Ps&&a.length<=Zs)}function c(){t(5,f=!0),tn({ty:Vt.Connect,token:s}).then(()=>{t(0,i=1)}).catch(g=>{console.error("Failed to connect",g),zt("Failed to connect",Vr[g])}).finally(()=>t(5,f=!1))}function d(){t(5,f=!0),tn({ty:Vt.Join,name:a}).then(({id:g,token:A,config:x})=>{As({id:g,token:A,config:x,host:!1,name:a})}).catch(g=>{console.error("Failed to join",g),zt("Failed to join",Vr[g])}).finally(()=>t(5,f=!1))}function p(){i===0?Tn():t(0,i=0)}function k(){s=this.value,t(1,s)}function y(){a=this.value,t(2,a)}return[i,s,a,l,u,f,r,o,h,c,d,p,k,y]}class Eu extends $e{constructor(e){super(),xe(this,e,$u,xu,Ae,{})}}async function Yr(n){try{await tn({ty:Vt.Kick,id:n})}catch(e){console.error("Error while attempting to kick",e)}}async function tr(n){try{await tn({ty:Vt.HostAction,action:n})}catch(e){console.error("Error while attempting host action",n,e)}}async function Tu(){try{await tn({ty:Vt.Ready})}catch(n){console.error("Error while attempting to ready",n)}}const Su={Answered:["Hmm I wonder if you got it right....","It definitely had to be that one! 👌","Yeah it was probably that one... 😬","0_0 good luck i guess..","Are you sure it was that one..?","😅 Probbably right","It gotta be that one!","If you say so 🫠","1 + 1 = 5?","Was definitely that one! 😎","🤫 don't tell them the answer","Made it in time 😮‍💨","Nice answer 🥳","Mastermind 🧠"],[Ot.Correct]:["You did it!","That one was right!","Good job!","Yup that was it!","Nicely done 👍","Brainy 🧠","Smarty pants 🤓"],[Ot.Incorrect]:["Ooops..","Yeah not that one... 🤨","Better luck next time 🤧","Noooo your other left","Uh oh.... 😨","Yeah nope.... ","😤 Maybe next time"],[Ot.Partial]:["Almost there...","Not quite there","Just about...","Yeah not that one... 🤨","Better luck next time 🤧","Noooo your other left","Uh oh.... 😨","Yeah nope.... ","😤 Maybe next time"]};function la(n){const e=Su[n];return e[Kn(0,e.length-1)]}function Iu(n){let e,t,r,i,s,a;return{c(){e=T("main"),t=T("h1"),t.textContent="Waiting...",r=P(),i=T("p"),i.textContent=`${n[0]}`,_(t,"class","title svelte-1p2ou5x"),_(i,"class","text svelte-1p2ou5x"),_(e,"class","main svelte-1p2ou5x")},m(l,u){B(l,e,u),m(e,t),m(e,r),m(e,i),a=!0},p:Y,i(l){a||(Xe(()=>{a&&(s||(s=He(e,Je,{},!0)),s.run(1))}),a=!0)},o(l){s||(s=He(e,Je,{},!1)),s.run(0),a=!1},d(l){l&&z(e),l&&s&&s.end()}}}function Mu(n){return[la("Answered")]}class Fu extends $e{constructor(e){super(),xe(this,e,Mu,Iu,Ae,{})}}function Vi(n){return Object.prototype.toString.call(n)==="[object Date]"}function Xr(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((i,s)=>Xr(n[s],i));return i=>r.map(s=>s(i))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Vi(n)&&Vi(e)){n=n.getTime(),e=e.getTime();const s=e-n;return a=>new Date(n+a*s)}const r=Object.keys(e),i={};return r.forEach(s=>{i[s]=Xr(n[s],e[s])}),s=>{const a={};return r.forEach(l=>{a[l]=i[l](s)}),a}}if(t==="number"){const r=e-n;return i=>n+i*r}throw new Error(`Cannot interpolate ${t} values`)}function oi(n,e={}){const t=nn(n);let r,i=n;function s(a,l){if(n==null)return t.set(n=a),Promise.resolve();i=a;let u=r,f=!1,{delay:o=0,duration:h=400,easing:c=wr,interpolate:d=Xr}=pi(pi({},e),l);if(h===0)return u&&(u.abort(),u=null),t.set(n=i),Promise.resolve();const p=Jr()+o;let k;return r=ei(y=>{if(y<p)return!0;f||(k=d(n,a),typeof h=="function"&&(h=h(n,a)),f=!0),u&&(u.abort(),u=null);const g=y-p;return g>h?(t.set(n=a),!1):(t.set(n=k(c(g/h))),!0)}),r.promise}return{set:s,update:(a,l)=>s(a(i,n),l),subscribe:t.subscribe}}function Uu(n){let e=n[0].toFixed(0)+"",t;return{c(){t=re(e)},m(r,i){B(r,t,i)},p(r,[i]){i&1&&e!==(e=r[0].toFixed(0)+"")&&Ue(t,e)},i:Y,o:Y,d(r){r&&z(t)}}}function Nu(n,e,t){let r,{value:i}=e;const s=oi(0,{delay:500});return xt(n,s,a=>t(0,r=a)),n.$$set=a=>{"value"in a&&t(2,i=a.value)},n.$$.update=()=>{n.$$.dirty&4&&s.set(i)},[r,s,i]}class oa extends $e{constructor(e){super(),xe(this,e,Nu,Uu,Ae,{value:2})}}function Ru(n){let e,t,r,i,s,a,l,u,f;return{c(){e=de("svg"),t=de("g"),r=de("polygon"),i=de("polygon"),s=de("polygon"),a=de("g"),l=de("circle"),u=de("circle"),f=de("path"),_i(r,"fill","#FFD102"),_(r,"points","371.342,210.903 469.209,150.675 379.787,95.648 281.922,155.874 	"),_i(i,"fill","#FFD102"),_(i,"points","127.994,210.903 225.863,150.675 136.44,95.648 38.576,155.874 	"),_(s,"fill","#FFE368"),_(s,"points",`383.997,197.691 255.992,118.921 127.994,197.691 0,118.921 22.505,382.593 489.495,382.593 
	512,118.921 `),_(l,"fill","#FFAA0E"),_(l,"cx","99.947"),_(l,"cy","320.636"),_(l,"r","8.44"),_(u,"fill","#FFAA0E"),_(u,"cx","66.184"),_(u,"cy","286.878"),_(u,"r","8.44"),_(f,"fill","#FFAA0E"),_(f,"d",`M489.495,371.341H22.505C10.076,371.341,0,381.416,0,393.846c0,12.43,10.076,22.505,22.505,22.505
		h466.989c12.43,0,22.505-10.076,22.505-22.505C512,381.416,501.924,371.341,489.495,371.341z`),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"viewBox","0 0 512 512"),_(e,"xml:space","preserve")},m(o,h){B(o,e,h),m(e,t),m(t,r),m(t,i),m(e,s),m(e,a),m(a,l),m(a,u),m(a,f)},p:Y,i:Y,o:Y,d(o){o&&z(e)}}}class Ou extends $e{constructor(e){super(),xe(this,e,null,Ru,Ae,{})}}function Qi(n,e,t){const r=n.slice();return r[4]=e[t],r[6]=t,r}function Wi(n){let e,t,r;return{c(){e=T("button"),e.textContent="Restart",_(e,"class","btn")},m(i,s){B(i,e,s),t||(r=ee(e,"click",n[3]),t=!0)},p:Y,d(i){i&&z(e),t=!1,r()}}}function Gi(n){let e,t,r;return t=new Ou({}),{c(){e=T("div"),oe(t.$$.fragment),_(e,"class","crown svelte-1x6mh6t")},m(i,s){B(i,e,s),ae(t,e,null),r=!0},i(i){r||(V(t.$$.fragment,i),r=!0)},o(i){G(t.$$.fragment,i),r=!1},d(i){i&&z(e),le(t)}}}function Yi(n,e){let t,r,i,s=Ei(e[6]+1)+"",a,l,u,f=e[4].name+"",o,h,c,d,p,k,y=Y,g,A=e[6]==0&&Gi();return d=new oa({props:{value:e[4].score}}),{key:n,first:null,c(){t=T("tr"),r=T("td"),A&&A.c(),i=P(),a=re(s),l=P(),u=T("td"),o=re(f),h=P(),c=T("td"),oe(d.$$.fragment),p=P(),_(r,"class","player__place svelte-1x6mh6t"),_(u,"class","player__name svelte-1x6mh6t"),_(c,"class","player_score svelte-1x6mh6t"),_(t,"class","player svelte-1x6mh6t"),this.first=t},m(x,S){B(x,t,S),m(t,r),A&&A.m(r,null),m(r,i),m(r,a),m(t,l),m(t,u),m(u,o),m(t,h),m(t,c),ae(d,c,null),m(t,p),g=!0},p(x,S){e=x,e[6]==0?A?S&1&&V(A,1):(A=Gi(),A.c(),V(A,1),A.m(r,i)):A&&(et(),G(A,1,1,()=>{A=null}),tt()),(!g||S&1)&&s!==(s=Ei(e[6]+1)+"")&&Ue(a,s),(!g||S&1)&&f!==(f=e[4].name+"")&&Ue(o,f);const R={};S&1&&(R.value=e[4].score),d.$set(R)},r(){k=t.getBoundingClientRect()},f(){Ar(t),y()},a(){y(),y=Cr(t,k,Fr,{})},i(x){g||(V(A),V(d.$$.fragment,x),g=!0)},o(x){G(A),G(d.$$.fragment,x),g=!1},d(x){x&&z(t),A&&A.d(),le(d)}}}function qu(n){let e,t,r,i,s=n[1].token+"",a,l,u,f=n[1].config.name+"",o,h,c,d=n[1].config.text+"",p,k,y,g,A,x,S,R,E,U,v=[],b=new Map,I,$,M,O,F=n[1].host&&Wi(n),q=n[0].players;const C=w=>w[4].id;for(let w=0;w<q.length;w+=1){let j=Qi(n,q,w),N=C(j);b.set(N,v[w]=Yi(N,j))}return{c(){e=T("main"),t=T("div"),r=T("div"),i=T("h1"),a=re(s),l=P(),u=T("h2"),o=re(f),h=P(),c=T("p"),p=re(d),k=P(),y=T("div"),g=T("button"),g.textContent="Leave",A=P(),F&&F.c(),x=P(),S=T("table"),R=T("thead"),R.innerHTML=`<tr><th class="svelte-1x6mh6t">Place</th> 
          <th class="svelte-1x6mh6t">Name</th> 
          <th class="svelte-1x6mh6t">Score</th></tr>`,E=P(),U=T("tbody");for(let w=0;w<v.length;w+=1)v[w].c();_(i,"class","token svelte-1x6mh6t"),_(r,"class","head svelte-1x6mh6t"),_(u,"class","name"),_(c,"class","desc svelte-1x6mh6t"),_(g,"class","btn"),_(y,"class","btn-row btn-row--fill"),_(S,"class","players svelte-1x6mh6t"),_(t,"class","quiz svelte-1x6mh6t"),_(e,"class","main svelte-1x6mh6t")},m(w,j){B(w,e,j),m(e,t),m(t,r),m(r,i),m(i,a),m(t,l),m(t,u),m(u,o),m(t,h),m(t,c),m(c,p),m(t,k),m(t,y),m(y,g),m(y,A),F&&F.m(y,null),m(t,x),m(t,S),m(S,R),m(S,E),m(S,U);for(let N=0;N<v.length;N+=1)v[N]&&v[N].m(U,null);$=!0,M||(O=ee(g,"click",n[2]),M=!0)},p(w,[j]){if((!$||j&2)&&s!==(s=w[1].token+"")&&Ue(a,s),(!$||j&2)&&f!==(f=w[1].config.name+"")&&Ue(o,f),(!$||j&2)&&d!==(d=w[1].config.text+"")&&Ue(p,d),w[1].host?F?F.p(w,j):(F=Wi(w),F.c(),F.m(y,null)):F&&(F.d(1),F=null),j&1){q=w[0].players,et();for(let N=0;N<v.length;N+=1)v[N].r();v=$r(v,j,C,1,w,q,b,U,xr,Yi,null,Qi);for(let N=0;N<v.length;N+=1)v[N].a();tt()}},i(w){if(!$){for(let j=0;j<q.length;j+=1)V(v[j]);Xe(()=>{$&&(I||(I=He(e,Je,{},!0)),I.run(1))}),$=!0}},o(w){for(let j=0;j<v.length;j+=1)G(v[j]);I||(I=He(e,Je,{},!1)),I.run(0),$=!1},d(w){w&&z(e),F&&F.d();for(let j=0;j<v.length;j+=1)v[j].d();w&&I&&I.end(),M=!1,O()}}}function ju(n,e,t){let{summary:r}=e,{gameData:i}=e;async function s(){i.host&&!await Tr("Confirm Leave","Are you sure you want to leave? Leaving will remove all other players from the game")||(await Yr(i.id),Tn())}const a=()=>tr(Mn.Reset);return n.$$set=l=>{"summary"in l&&t(0,r=l.summary),"gameData"in l&&t(1,i=l.gameData)},[r,i,s,a]}class Pu extends $e{constructor(e){super(),xe(this,e,ju,qu,Ae,{summary:0,gameData:1})}}function Xi(n,e,t){const r=n.slice();return r[10]=e[t],r[12]=t,r}function Ji(n,e,t){const r=n.slice();return r[10]=e[t],r[12]=t,r}function Ki(n){let e,t,r,i;return{c(){e=T("div"),_(e,"class","image-wrapper svelte-h41osy")},m(s,a){B(s,e,a),r||(i=pa(t=zu.call(null,e,n[2])),r=!0)},p(s,a){t&&$n(t.update)&&a&4&&t.update.call(null,s[2])},d(s){s&&z(e),r=!1,i()}}}function Zu(n){let e,t,r,i,s,a,l,u=n[1].answers,f=[];for(let o=0;o<u.length;o+=1)f[o]=es(Xi(n,u,o));return{c(){e=T("div");for(let o=0;o<f.length;o+=1)f[o].c();t=P(),r=T("button"),i=re("Submit"),_(e,"class","answers svelte-h41osy"),_(r,"class","btn submit svelte-h41osy"),r.disabled=s=n[3].length<n[1].min},m(o,h){B(o,e,h);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);B(o,t,h),B(o,r,h),m(r,i),a||(l=ee(r,"click",n[5]),a=!0)},p(o,h){if(h&74){u=o[1].answers;let c;for(c=0;c<u.length;c+=1){const d=Xi(o,u,c);f[c]?f[c].p(d,h):(f[c]=es(d),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=u.length}h&10&&s!==(s=o[3].length<o[1].min)&&(r.disabled=s)},d(o){o&&z(e),Un(f,o),o&&z(t),o&&z(r),a=!1,l()}}}function Du(n){let e,t=n[1].answers,r=[];for(let i=0;i<t.length;i+=1)r[i]=ts(Ji(n,t,i));return{c(){e=T("div");for(let i=0;i<r.length;i+=1)r[i].c();_(e,"class","answers svelte-h41osy")},m(i,s){B(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,s){if(s&18){t=i[1].answers;let a;for(a=0;a<t.length;a+=1){const l=Ji(i,t,a);r[a]?r[a].p(l,s):(r[a]=ts(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&z(e),Un(r,i)}}}function es(n){let e,t=n[10].value+"",r,i,s,a,l;function u(){return n[9](n[12])}return{c(){e=T("button"),r=re(t),i=P(),_(e,"class","answer btn svelte-h41osy"),e.disabled=s=n[3].length>=n[1].max&&!n[3].includes(n[12]),gi(e,"answer--checked",n[3].includes(n[12]))},m(f,o){B(f,e,o),m(e,r),m(e,i),a||(l=ee(e,"click",u),a=!0)},p(f,o){n=f,o&2&&t!==(t=n[10].value+"")&&Ue(r,t),o&10&&s!==(s=n[3].length>=n[1].max&&!n[3].includes(n[12]))&&(e.disabled=s),o&8&&gi(e,"answer--checked",n[3].includes(n[12]))},d(f){f&&z(e),a=!1,l()}}}function ts(n){let e,t=n[10].value+"",r,i,s,a;function l(){return n[8](n[12])}return{c(){e=T("button"),r=re(t),i=P(),_(e,"class","answer btn svelte-h41osy")},m(u,f){B(u,e,f),m(e,r),m(e,i),s||(a=ee(e,"click",l),s=!0)},p(u,f){n=u,f&2&&t!==(t=n[10].value+"")&&Ue(r,t)},d(u){u&&z(e),s=!1,a()}}}function Lu(n){let e,t=mr(n[0])+"",r,i,s,a,l,u,f=n[1].text+"",o,h,c=n[2]!==null&&Ki(n);function d(y,g){if(y[1].ty===nt.Single)return Du;if(y[1].ty===nt.Multiple)return Zu}let p=d(n),k=p&&p(n);return{c(){e=T("p"),r=re(t),i=P(),s=T("main"),c&&c.c(),a=P(),l=T("div"),u=T("p"),o=re(f),h=P(),k&&k.c(),_(e,"class","time svelte-h41osy"),_(u,"class","text svelte-h41osy"),_(l,"class","content svelte-h41osy"),_(s,"class","main svelte-h41osy")},m(y,g){B(y,e,g),m(e,r),B(y,i,g),B(y,s,g),c&&c.m(s,null),m(s,a),m(s,l),m(l,u),m(u,o),m(l,h),k&&k.m(l,null)},p(y,[g]){g&1&&t!==(t=mr(y[0])+"")&&Ue(r,t),y[2]!==null?c?c.p(y,g):(c=Ki(y),c.c(),c.m(s,a)):c&&(c.d(1),c=null),g&2&&f!==(f=y[1].text+"")&&Ue(o,f),p===(p=d(y))&&k?k.p(y,g):(k&&k.d(1),k=p&&p(y),k&&(k.c(),k.m(l,null)))},i:Y,o:Y,d(y){y&&z(e),y&&z(i),y&&z(s),c&&c.d(),k&&k.d()}}}function zu(n,e){n.appendChild(e)}function Hu(n,e,t){let{timer:r}=e,{question:i}=e,{answered:s}=e,{preloadedImage:a}=e,l=[];async function u(d){t(7,s=!0);try{await tn({ty:Vt.Answer,answer:{ty:Qr.Single,answer:d}})}catch(p){console.error("Error while attempting to answer",p)}}async function f(){t(7,s=!0);try{await tn({ty:Vt.Answer,answer:{ty:Qr.Multiple,answers:l}})}catch(d){console.error("Error while attempting to answer",d)}}function o(d){l.includes(d)?t(3,l=l.filter(p=>p!=d)):(l.push(d),t(3,l))}const h=d=>u(d),c=d=>o(d);return n.$$set=d=>{"timer"in d&&t(0,r=d.timer),"question"in d&&t(1,i=d.question),"answered"in d&&t(7,s=d.answered),"preloadedImage"in d&&t(2,a=d.preloadedImage)},[r,i,a,l,u,f,o,s,h,c]}class Bu extends $e{constructor(e){super(),xe(this,e,Hu,Lu,Ae,{timer:0,question:1,answered:7,preloadedImage:2})}}function ns(n,e,t){const r=n.slice();return r[10]=e[t],r}function rs(n){let e;return{c(){e=T("span"),e.textContent="Starting",_(e,"class","starting")},m(t,r){B(t,e,r)},d(t){t&&z(e)}}}function is(n){let e,t=mr(n[0])+"",r;return{c(){e=T("span"),r=re(t),_(e,"class","time svelte-1t27o1x")},m(i,s){B(i,e,s),m(e,r)},p(i,s){s&1&&t!==(t=mr(i[0])+"")&&Ue(r,t)},d(i){i&&z(e)}}}function ss(n){let e,t,r=n[0].elapsed!==n[0].total&&as(n);function i(l,u){if(l[4]===yt.Starting)return Qu;if(l[2].length>0&&l[4]===yt.Lobby)return Vu}let s=i(n),a=s&&s(n);return{c(){r&&r.c(),e=P(),a&&a.c(),t=Pt()},m(l,u){r&&r.m(l,u),B(l,e,u),a&&a.m(l,u),B(l,t,u)},p(l,u){l[0].elapsed!==l[0].total?r?r.p(l,u):(r=as(l),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s===(s=i(l))&&a?a.p(l,u):(a&&a.d(1),a=s&&s(l),a&&(a.c(),a.m(t.parentNode,t)))},d(l){r&&r.d(l),l&&z(e),a&&a.d(l),l&&z(t)}}}function as(n){let e,t,r;return{c(){e=T("button"),e.textContent="Skip",_(e,"class","btn")},m(i,s){B(i,e,s),t||(r=ee(e,"click",n[8]),t=!0)},p:Y,d(i){i&&z(e),t=!1,r()}}}function Vu(n){let e,t,r;return{c(){e=T("button"),e.textContent="Start",_(e,"class","btn")},m(i,s){B(i,e,s),t||(r=ee(e,"click",n[6]),t=!0)},p:Y,d(i){i&&z(e),t=!1,r()}}}function Qu(n){let e,t,r;return{c(){e=T("button"),e.textContent="Cancel",_(e,"class","btn")},m(i,s){B(i,e,s),t||(r=ee(e,"click",n[7]),t=!0)},p:Y,d(i){i&&z(e),t=!1,r()}}}function ls(n){let e;return{c(){e=T("th"),e.textContent="Actions",_(e,"class","svelte-1t27o1x")},m(t,r){B(t,e,r)},d(t){t&&z(e)}}}function os(n){let e,t,r,i;function s(){return n[9](n[10])}return{c(){e=T("td"),t=T("button"),t.textContent="Kick",_(t,"class","btn"),_(e,"class","player__action svelte-1t27o1x")},m(a,l){B(a,e,l),m(e,t),r||(i=ee(t,"click",s),r=!0)},p(a,l){n=a},d(a){a&&z(e),r=!1,i()}}}function us(n,e){let t,r,i=e[10].name+"",s,a,l,u,f,o,h,c=Y,d;u=new oa({props:{value:e[3][e[10].id]??0}});let p=e[1].host&&os(e);return{key:n,first:null,c(){t=T("tr"),r=T("td"),s=re(i),a=P(),l=T("td"),oe(u.$$.fragment),f=P(),p&&p.c(),o=P(),_(r,"class","player__name svelte-1t27o1x"),_(l,"class","player_score svelte-1t27o1x"),_(t,"class","player svelte-1t27o1x"),this.first=t},m(k,y){B(k,t,y),m(t,r),m(r,s),m(t,a),m(t,l),ae(u,l,null),m(t,f),p&&p.m(t,null),m(t,o),d=!0},p(k,y){e=k,(!d||y&4)&&i!==(i=e[10].name+"")&&Ue(s,i);const g={};y&12&&(g.value=e[3][e[10].id]??0),u.$set(g),e[1].host?p?p.p(e,y):(p=os(e),p.c(),p.m(t,o)):p&&(p.d(1),p=null)},r(){h=t.getBoundingClientRect()},f(){Ar(t),c()},a(){c(),c=Cr(t,h,Fr,{})},i(k){d||(V(u.$$.fragment,k),d=!0)},o(k){G(u.$$.fragment,k),d=!1},d(k){k&&z(t),le(u),p&&p.d()}}}function Wu(n){let e,t,r,i,s=n[1].token+"",a,l,u,f,o,h,c=n[1].config.name+"",d,p,k,y=n[1].config.text+"",g,A,x,S,R,E,U,v,b,I,$,M,O,F,q,C=[],w=new Map,j,N,D,J,H=n[4]===yt.Starting&&rs(),Q=n[0].elapsed!==n[0].total&&is(n),L=n[1].host&&ss(n),Z=n[1].host&&ls(),ie=n[2];const pe=K=>K[10].id;for(let K=0;K<ie.length;K+=1){let te=ns(n,ie,K),ce=pe(te);w.set(ce,C[K]=us(ce,te))}return{c(){e=T("main"),t=T("div"),r=T("div"),i=T("h1"),a=re(s),l=P(),u=T("p"),H&&H.c(),f=P(),Q&&Q.c(),o=P(),h=T("h2"),d=re(c),p=P(),k=T("p"),g=re(y),A=P(),x=T("div"),S=T("button"),S.textContent="Leave",R=P(),L&&L.c(),E=P(),U=T("table"),v=T("thead"),b=T("tr"),I=T("th"),I.textContent="Name",$=P(),M=T("th"),M.textContent="Score",O=P(),Z&&Z.c(),F=P(),q=T("tbody");for(let K=0;K<C.length;K+=1)C[K].c();_(i,"class","token svelte-1t27o1x"),_(u,"class","timing svelte-1t27o1x"),_(r,"class","head svelte-1t27o1x"),_(h,"class","name"),_(k,"class","desc svelte-1t27o1x"),_(S,"class","btn"),_(x,"class","btn-row btn-row--fill"),_(I,"class","svelte-1t27o1x"),_(M,"class","svelte-1t27o1x"),_(U,"class","players svelte-1t27o1x"),_(t,"class","quiz svelte-1t27o1x"),_(e,"class","main svelte-1t27o1x")},m(K,te){B(K,e,te),m(e,t),m(t,r),m(r,i),m(i,a),m(r,l),m(r,u),H&&H.m(u,null),m(u,f),Q&&Q.m(u,null),m(t,o),m(t,h),m(h,d),m(t,p),m(t,k),m(k,g),m(t,A),m(t,x),m(x,S),m(x,R),L&&L.m(x,null),m(t,E),m(t,U),m(U,v),m(v,b),m(b,I),m(b,$),m(b,M),m(b,O),Z&&Z.m(b,null),m(U,F),m(U,q);for(let ce=0;ce<C.length;ce+=1)C[ce]&&C[ce].m(q,null);N=!0,D||(J=ee(S,"click",n[5]),D=!0)},p(K,[te]){if((!N||te&2)&&s!==(s=K[1].token+"")&&Ue(a,s),K[4]===yt.Starting?H||(H=rs(),H.c(),H.m(u,f)):H&&(H.d(1),H=null),K[0].elapsed!==K[0].total?Q?Q.p(K,te):(Q=is(K),Q.c(),Q.m(u,null)):Q&&(Q.d(1),Q=null),(!N||te&2)&&c!==(c=K[1].config.name+"")&&Ue(d,c),(!N||te&2)&&y!==(y=K[1].config.text+"")&&Ue(g,y),K[1].host?L?L.p(K,te):(L=ss(K),L.c(),L.m(x,null)):L&&(L.d(1),L=null),K[1].host?Z||(Z=ls(),Z.c(),Z.m(b,null)):Z&&(Z.d(1),Z=null),te&14){ie=K[2],et();for(let ce=0;ce<C.length;ce+=1)C[ce].r();C=$r(C,te,pe,1,K,ie,w,q,xr,us,null,ns);for(let ce=0;ce<C.length;ce+=1)C[ce].a();tt()}},i(K){if(!N){for(let te=0;te<ie.length;te+=1)V(C[te]);Xe(()=>{N&&(j||(j=He(e,Je,{},!0)),j.run(1))}),N=!0}},o(K){for(let te=0;te<C.length;te+=1)G(C[te]);j||(j=He(e,Je,{},!1)),j.run(0),N=!1},d(K){K&&z(e),H&&H.d(),Q&&Q.d(),L&&L.d(),Z&&Z.d();for(let te=0;te<C.length;te+=1)C[te].d();K&&j&&j.end(),D=!1,J()}}}function Gu(n,e,t){let{timer:r}=e,{gameData:i}=e,{players:s}=e,{scores:a}=e,{gameState:l}=e;async function u(){const d=i.host?"Are you sure you want to leave? Leaving will remove all other players from the game":"Are you sure you want to leave?";await Tr("Confirm Leave",d)&&(await Yr(i.id),Tn())}const f=()=>tr(Mn.Start),o=()=>tr(Mn.Cancel),h=()=>tr(Mn.Skip),c=d=>Yr(d.id);return n.$$set=d=>{"timer"in d&&t(0,r=d.timer),"gameData"in d&&t(1,i=d.gameData),"players"in d&&t(2,s=d.players),"scores"in d&&t(3,a=d.scores),"gameState"in d&&t(4,l=d.gameState)},[r,i,s,a,l,u,f,o,h,c]}class ua extends $e{constructor(e){super(),xe(this,e,Gu,Wu,Ae,{timer:0,gameData:1,players:2,scores:3,gameState:4})}}function Yu(n){let e,t=n[0].count+"",r,i,s=n[0].total+"",a,l,u,f,o=n[1].toFixed(0)+"",h;return{c(){e=T("p"),r=re(t),i=re(" / "),a=re(s),l=P(),u=T("p"),f=re("+"),h=re(o),_(e,"class","ratio"),_(u,"class","score svelte-1dywswa")},m(c,d){B(c,e,d),m(e,r),m(e,i),m(e,a),B(c,l,d),B(c,u,d),m(u,f),m(u,h)},p(c,d){d&1&&t!==(t=c[0].count+"")&&Ue(r,t),d&1&&s!==(s=c[0].total+"")&&Ue(a,s),d&2&&o!==(o=c[1].toFixed(0)+"")&&Ue(h,o)},d(c){c&&z(e),c&&z(l),c&&z(u)}}}function Xu(n){let e,t,r=n[1].toFixed(0)+"",i;return{c(){e=T("p"),t=re("+"),i=re(r),_(e,"class","score svelte-1dywswa")},m(s,a){B(s,e,a),m(e,t),m(e,i)},p(s,a){a&2&&r!==(r=s[1].toFixed(0)+"")&&Ue(i,r)},d(s){s&&z(e)}}}function Ju(n){let e,t,r=n[0].ty+"",i,s,a,l,u,f,o;function h(p,k){if(p[0].ty===Ot.Correct)return Xu;if(p[0].ty===Ot.Partial)return Yu}let c=h(n),d=c&&c(n);return{c(){e=T("main"),t=T("h1"),i=re(r),s=P(),a=T("p"),a.textContent=`${n[2]}`,l=P(),d&&d.c(),_(t,"class","title svelte-1dywswa"),_(a,"class","text svelte-1dywswa"),_(e,"class","main svelte-1dywswa"),_(e,"data-type",u=n[0].ty)},m(p,k){B(p,e,k),m(e,t),m(t,i),m(e,s),m(e,a),m(e,l),d&&d.m(e,null),o=!0},p(p,[k]){(!o||k&1)&&r!==(r=p[0].ty+"")&&Ue(i,r),c===(c=h(p))&&d?d.p(p,k):(d&&d.d(1),d=c&&c(p),d&&(d.c(),d.m(e,null))),(!o||k&1&&u!==(u=p[0].ty))&&_(e,"data-type",u)},i(p){o||(Xe(()=>{o&&(f||(f=He(e,Je,{},!0)),f.run(1))}),o=!0)},o(p){f||(f=He(e,Je,{},!1)),f.run(0),o=!1},d(p){p&&z(e),d&&d.d(),p&&f&&f.end()}}}function Ku(n,e,t){let r,{score:i}=e;const s=la(i.ty),a=oi(0,{delay:500});return xt(n,a,l=>t(1,r=l)),n.$$set=l=>{"score"in l&&t(0,i=l.score)},n.$$.update=()=>{n.$$.dirty&1&&(i.ty===Ot.Correct||i.ty===Ot.Partial)&&a.set(i.value)},[i,r,s,a]}class ec extends $e{constructor(e){super(),xe(this,e,Ku,Ju,Ae,{score:0})}}function tc(n){let e,t;return e=new ai({props:{text:"..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:Y,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function nc(n){let e,t,r,i;const s=[oc,lc],a=[];function l(u,f){return u[9].elapsed>=u[9].total*.25?0:1}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Pt()},m(u,f){a[e].m(u,f),B(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?a[e].p(u,f):(et(),G(a[o],1,1,()=>{a[o]=null}),tt(),t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),V(t,1),t.m(r.parentNode,r))},i(u){i||(V(t),i=!0)},o(u){G(t),i=!1},d(u){a[e].d(u),u&&z(r)}}}function rc(n){let e,t,r,i;const s=[cc,uc],a=[];function l(u,f){return u[8]?u[2].length!==1?1:-1:0}return~(e=l(n))&&(t=a[e]=s[e](n)),{c(){t&&t.c(),r=Pt()},m(u,f){~e&&a[e].m(u,f),B(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?~e&&a[e].p(u,f):(t&&(et(),G(a[o],1,1,()=>{a[o]=null}),tt()),~e?(t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),V(t,1),t.m(r.parentNode,r)):t=null)},i(u){i||(V(t),i=!0)},o(u){G(t),i=!1},d(u){~e&&a[e].d(u),u&&z(r)}}}function ic(n){let e,t;return e=new ai({props:{text:"Waiting for other players..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:Y,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function sc(n){let e,t;return e=new ua({props:{gameData:n[0],gameState:n[3],players:n[2],timer:n[9],scores:n[7]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&8&&(s.gameState=r[3]),i&4&&(s.players=r[2]),i&512&&(s.timer=r[9]),i&128&&(s.scores=r[7]),e.$set(s)},i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function ac(n){let e,t;return e=new Pu({props:{gameData:n[0],summary:n[4]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&16&&(s.summary=r[4]),e.$set(s)},i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function lc(n){let e,t;return e=new ec({props:{score:n[6]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&64&&(s.score=r[6]),e.$set(s)},i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function oc(n){let e,t;return e=new ua({props:{gameData:n[0],gameState:n[3],players:n[2],timer:n[9],scores:n[7]}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&8&&(s.gameState=r[3]),i&4&&(s.players=r[2]),i&512&&(s.timer=r[9]),i&128&&(s.scores=r[7]),e.$set(s)},i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function uc(n){let e,t;return e=new Fu({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:Y,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function cc(n){let e,t,r;function i(a){n[10](a)}let s={question:n[5],timer:n[9],preloadedImage:n[1]};return n[8]!==void 0&&(s.answered=n[8]),e=new Bu({props:s}),Lt.push(()=>an(e,"answered",i)),{c(){oe(e.$$.fragment)},m(a,l){ae(e,a,l),r=!0},p(a,l){const u={};l&32&&(u.question=a[5]),l&512&&(u.timer=a[9]),l&2&&(u.preloadedImage=a[1]),!t&&l&256&&(t=!0,u.answered=a[8],sn(()=>t=!1)),e.$set(u)},i(a){r||(V(e.$$.fragment,a),r=!0)},o(a){G(e.$$.fragment,a),r=!1},d(a){le(e,a)}}}function fc(n){let e,t,r,i;const s=[ac,sc,ic,rc,nc,tc],a=[];function l(u,f){return u[3]===yt.Finished&&u[4]!=null?0:u[0].host||u[3]===yt.Lobby||u[3]===yt.Starting?1:u[3]===yt.AwaitingReady?2:u[3]===yt.AwaitingAnswers&&u[5]!=null?3:u[3]===yt.Marked?4:5}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Pt()},m(u,f){a[e].m(u,f),B(u,r,f),i=!0},p(u,[f]){let o=e;e=l(u),e===o?a[e].p(u,f):(et(),G(a[o],1,1,()=>{a[o]=null}),tt(),t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),V(t,1),t.m(r.parentNode,r))},i(u){i||(V(t),i=!0)},o(u){G(t),i=!1},d(u){a[e].d(u),u&&z(r)}}}function dc(n,e,t){let{gameData:r}=e,i=null,s=[],a=yt.Lobby,l=null;r.host||s.push({id:r.id,name:r.name??""});let u=null,f={ty:Ot.Incorrect},o={},h,c={total:0,elapsed:0},d=0;function p(){if(c.elapsed===c.total)return;const y=performance.now(),g=y-d;t(9,c.elapsed+=g,c),d=y,c.elapsed>c.total?t(9,c.elapsed=c.total,c):requestAnimationFrame(p)}Gt(Tt.PlayerData,y=>{console.debug("Other player message",y),s.push(y),t(2,s)}),Gt(Tt.GameState,y=>{if(console.debug("Game state message",y),t(3,a=y.state),t(8,h=!1),y.state===yt.Lobby)t(7,o={});else if(y.state===yt.Finished){const g=s.map(A=>({score:o[A.id]??0,...A}));g.sort((A,x)=>x.score-A.score),t(4,l={players:g})}}),Gt(Tt.TimeSync,y=>{console.debug("Time sync message",y),d=performance.now(),t(9,c={total:y.total,elapsed:y.elapsed}),p()}),Gt(Tt.Question,async y=>{console.debug("Question message",y),t(5,u=y.question),t(6,f={ty:Ot.Incorrect}),!r.host&&(t(1,i=await Hl(r.token,u)),i!==null&&u.image!==null&&(i.classList.add("question-image"),i.setAttribute("data-fit",u.image.fit),t(1,i.alt=u.text,i),i.decode!==void 0&&await i.decode()),await Tu(),console.debug("Server acknowledged ready state"))}),Gt(Tt.Scores,y=>{console.debug("Score message",y),t(7,o=y.scores);let g=A=>o[A]??0;t(2,s=s.sort((A,x)=>g(x.id)-g(A.id)))}),Gt(Tt.Score,y=>{console.debug("Score message",y),t(6,f=y.score)}),Gt(Tt.Error,y=>{console.error("Server error",y.error)}),Gt(Tt.Kicked,y=>{if(console.debug("Kick message",y),t(2,s=s.filter(g=>g.id!==y.id)),y.id===r.id&&(Tn(),y.reason!==Rs.Disconnected)){const g=Zl[y.reason];zt("Removed from game",g)}}),ks(()=>{window.scrollTo(0,1)});function k(y){h=y,t(8,h)}return n.$$set=y=>{"gameData"in y&&t(0,r=y.gameData)},[r,i,s,a,l,u,f,o,h,c,k]}class hc extends $e{constructor(e){super(),xe(this,e,dc,fc,Ae,{gameData:0})}}function pc(n){let e,t,r;return{c(){e=de("svg"),t=de("path"),r=de("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){B(i,e,s),m(e,t),m(e,r)},p:Y,i:Y,o:Y,d(i){i&&z(e)}}}class ca extends $e{constructor(e){super(),xe(this,e,null,pc,Ae,{})}}function cs(n,e,t){const r=n.slice();return r[7]=e[t],r}function fs(n){let e,t=n[0].answers,r=[];for(let i=0;i<t.length;i+=1)r[i]=ds(cs(n,t,i));return{c(){e=T("ul");for(let i=0;i<r.length;i+=1)r[i].c();_(e,"class","answers svelte-123upp3")},m(i,s){B(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,s){if(s&1){t=i[0].answers;let a;for(a=0;a<t.length;a+=1){const l=cs(i,t,a);r[a]?r[a].p(l,s):(r[a]=ds(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&z(e),Un(r,i)}}}function ds(n){let e,t=n[7].value+"",r,i,s;return{c(){e=T("li"),r=re(t),i=P(),_(e,"class","answer svelte-123upp3"),_(e,"data-correct",s=n[7].correct)},m(a,l){B(a,e,l),m(e,r),m(e,i)},p(a,l){l&1&&t!==(t=a[7].value+"")&&Ue(r,t),l&1&&s!==(s=a[7].correct)&&_(e,"data-correct",s)},d(a){a&&z(e)}}}function mc(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,p,k,y,g,A,x,S=n[0].text+"",R,E,U,v,b;i=new ia({}),u=new ra({}),c=new ca({}),k=new sa({});let I=(n[0].ty==nt.Single||n[0].ty==nt.Multiple)&&fs(n);return{c(){e=T("div"),t=T("div"),r=T("button"),oe(i.$$.fragment),a=P(),l=T("button"),oe(u.$$.fragment),o=P(),h=T("button"),oe(c.$$.fragment),d=P(),p=T("button"),oe(k.$$.fragment),g=P(),A=T("div"),x=T("p"),R=re(S),E=P(),I&&I.c(),r.disabled=s=n[1]<=0,_(r,"class","btn btn--icon-only btn--surface"),l.disabled=f=n[2]==1,_(l,"class","btn btn--icon-only btn--surface"),_(h,"class","btn btn--icon-only btn--surface"),p.disabled=y=n[1]+1>=n[2],_(p,"class","btn btn--icon-only btn--surface"),_(t,"class","actions svelte-123upp3"),_(A,"class","body svelte-123upp3"),_(e,"class","question svelte-123upp3")},m($,M){B($,e,M),m(e,t),m(t,r),ae(i,r,null),m(t,a),m(t,l),ae(u,l,null),m(t,o),m(t,h),ae(c,h,null),m(t,d),m(t,p),ae(k,p,null),m(e,g),m(e,A),m(A,x),m(x,R),m(A,E),I&&I.m(A,null),U=!0,v||(b=[ee(r,"click",n[4]),ee(l,"click",n[6]),ee(h,"click",n[3]),ee(p,"click",n[5])],v=!0)},p($,[M]){(!U||M&2&&s!==(s=$[1]<=0))&&(r.disabled=s),(!U||M&4&&f!==(f=$[2]==1))&&(l.disabled=f),(!U||M&6&&y!==(y=$[1]+1>=$[2]))&&(p.disabled=y),(!U||M&1)&&S!==(S=$[0].text+"")&&Ue(R,S),$[0].ty==nt.Single||$[0].ty==nt.Multiple?I?I.p($,M):(I=fs($),I.c(),I.m(A,null)):I&&(I.d(1),I=null)},i($){U||(V(i.$$.fragment,$),V(u.$$.fragment,$),V(c.$$.fragment,$),V(k.$$.fragment,$),U=!0)},o($){G(i.$$.fragment,$),G(u.$$.fragment,$),G(c.$$.fragment,$),G(k.$$.fragment,$),U=!1},d($){$&&z(e),le(i),le(u),le(c),le(k),I&&I.d(),v=!1,Ye(b)}}}function _c(n,e,t){let{question:r}=e,{index:i}=e,{length:s}=e;function a(){Ra(_o(r))}const l=()=>Si(i,i-1),u=()=>Si(i,i+1),f=()=>vo(i);return n.$$set=o=>{"question"in o&&t(0,r=o.question),"index"in o&&t(1,i=o.index),"length"in o&&t(2,s=o.length)},[r,i,s,a,l,u,f]}class gc extends $e{constructor(e){super(),xe(this,e,_c,mc,Ae,{question:0,index:1,length:2})}}function vc(n){let e,t,r;return{c(){e=de("svg"),t=de("path"),r=de("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){B(i,e,s),m(e,t),m(e,r)},p:Y,i:Y,o:Y,d(i){i&&z(e)}}}class yc extends $e{constructor(e){super(),xe(this,e,null,vc,Ae,{})}}function bc(n){let e,t,r;return{c(){e=de("svg"),t=de("path"),r=de("path"),_(t,"d","M0 0h24v24H0z"),_(t,"fill","none"),_(r,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"width","48px"),_(e,"height","48px"),_(e,"fill","#FFFFFF")},m(i,s){B(i,e,s),m(e,t),m(e,r)},p:Y,i:Y,o:Y,d(i){i&&z(e)}}}class wc extends $e{constructor(e){super(),xe(this,e,null,bc,Ae,{})}}const kc=me.object({name:me.string(),text:me.string(),max_players:me.number(),filtering:me.string(),timing:me.object({wait_time:me.number()}),questions:me.array(Dl).min(1),images:me.array(me.object({uuid:me.string().uuid(),name:me.string(),size:me.number(),type:me.string(),data:me.array(me.number())}))});async function Cc(n){const e=await n.blob.arrayBuffer();return{uuid:n.uuid,name:n.name,size:n.size,type:n.blob.type,data:Array.from(new Uint8Array(e))}}async function Ac(n,e){const t=await Promise.all(e.map(Cc)),r={...n,images:t},i=JSON.stringify(r);return new Blob([i],{type:"application/json"})}async function xc(n){const e=new FileReader;await new Promise((s,a)=>{e.onload=s,e.onerror=a,e.onabort=a,e.readAsText(n)});const t=e.result,r=JSON.parse(t),i=kc.parse(r);for(const{data:s,uuid:a,name:l,type:u,size:f}of i.images){const o=new Uint8Array(s),h=new Blob([o.buffer],{type:u});Cn.update(c=>(c.push({uuid:a,name:l,size:f,blob:h}),c.filter(d=>d.uuid!==a))),ta(h,a)}return{name:i.name,text:i.text,max_players:i.max_players,filtering:i.filtering,questions:i.questions,timing:i.timing}}function hs(n,e,t){const r=n.slice();return r[16]=e[t],r[17]=e,r[18]=t,r}function ps(n){let e,t,r,i;const s=[Ec,$c],a=[];function l(u,f){return u[1]==="Uploading"?0:1}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Pt()},m(u,f){a[e].m(u,f),B(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?a[e].p(u,f):(et(),G(a[o],1,1,()=>{a[o]=null}),tt(),t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),V(t,1),t.m(r.parentNode,r))},i(u){i||(V(t),i=!0)},o(u){G(t),i=!1},d(u){a[e].d(u),u&&z(r)}}}function $c(n){let e,t;return e=new li({props:{text:"Connecting..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:Y,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Ec(n){let e,t;return e=new li({props:{text:`Uploading ${n[3].toFixed(0)}%`}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&8&&(s.text=`Uploading ${r[3].toFixed(0)}%`),e.$set(s)},i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function ms(n,e){let t,r,i,s,a,l=Y,u;function f(h){e[13](h,e[16],e[17],e[18])}let o={index:e[18],length:e[2].questions.length};return e[16]!==void 0&&(o.question=e[16]),r=new gc({props:o}),Lt.push(()=>an(r,"question",f)),{key:n,first:null,c(){t=T("li"),oe(r.$$.fragment),s=P(),this.first=t},m(h,c){B(h,t,c),ae(r,t,null),m(t,s),u=!0},p(h,c){e=h;const d={};c&4&&(d.index=e[18]),c&4&&(d.length=e[2].questions.length),!i&&c&4&&(i=!0,d.question=e[16],sn(()=>i=!1)),r.$set(d)},r(){a=t.getBoundingClientRect()},f(){Ar(t),l()},a(){l(),l=Cr(t,a,Fr,{duration:500})},i(h){u||(V(r.$$.fragment,h),u=!0)},o(h){G(r.$$.fragment,h),u=!1},d(h){h&&z(t),le(r)}}}function Tc(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,p,k,y,g,A,x,S,R,E,U,v,b,I,$,M,O,F,q,C,w,j,N,D,J,H,Q,L,Z,ie,pe,K,te,ce,qe,ge,ft,Qe,Te,We,be,Se,Ie,Ne,Re,Be,Oe,ke,Pe,De,Ct,Ge,Ke,Ze,Me,Le,dt,ze,ht,_t,Zt,$t,rt,pt,Ut,Ce=[],at=new Map,lt,gt,Qt,we=n[0]&&ps(n);a=new si({}),o=new na({}),p=new yc({}),A=new Ur({});function ot(ue){n[10](ue)}let fn={min:ao,max:lo};n[2].timing.wait_time!==void 0&&(fn.value=n[2].timing.wait_time),L=new Gr({props:fn}),Lt.push(()=>an(L,"value",ot)),Le=new wc({});let Wt=n[2].questions;const it=ue=>ue[16].id;for(let ue=0;ue<Wt.length;ue+=1){let Ee=hs(n,Wt,ue),At=it(Ee);at.set(At,Ce[ue]=ms(At,Ee))}return{c(){we&&we.c(),e=P(),t=T("main"),r=T("div"),i=T("header"),s=T("button"),oe(a.$$.fragment),l=re(`
        Back`),u=P(),f=T("button"),oe(o.$$.fragment),h=re(`
        Import`),c=P(),d=T("button"),oe(p.$$.fragment),k=re(`
        Export`),y=P(),g=T("button"),oe(A.$$.fragment),x=re(`
        Play`),S=P(),R=T("label"),E=T("span"),E.textContent="Title",U=P(),v=T("p"),v.innerHTML='Give your quiz a title <span class="optional svelte-2jvmi2">Optional</span>',b=P(),I=T("input"),$=P(),M=T("label"),O=T("span"),O.textContent="Description",F=P(),q=T("p"),q.innerHTML='Description of your Quiz <span class="optional svelte-2jvmi2">Optional</span>',C=P(),w=T("textarea"),j=P(),N=T("div"),D=T("span"),D.textContent="Wait Time",J=P(),H=T("p"),H.textContent="Time to wait between each question",Q=P(),oe(L.$$.fragment),ie=P(),pe=T("label"),K=T("span"),K.textContent="Max Players",te=P(),ce=T("p"),ce.textContent="Maximum number of players allowed to join this quiz",qe=P(),ge=T("input"),ft=P(),Qe=T("label"),Te=T("span"),Te.textContent="Name Filtering",We=P(),be=T("p"),be.textContent=`Level of filtering on profane/inappropriate naming. Its recommended that
        you leave this on Medium or High`,Se=P(),Ie=T("select"),Ne=T("option"),Re=re("None: Don't filter names"),Be=T("option"),Oe=re("Low: Filter out more severe names"),ke=T("option"),Pe=re(`Medium: Filter out anything thats not mild
        `),De=T("option"),Ct=re("High: Filter out as much as possible"),Ge=P(),Ke=T("div"),Ze=T("div"),Me=T("button"),oe(Le.$$.fragment),dt=re(`
        Add Question`),ht=P(),_t=T("button"),Zt=re("Shuffle"),rt=P(),pt=T("div"),Ut=T("ol");for(let ue=0;ue<Ce.length;ue+=1)Ce[ue].c();_(s,"class","btn btn--icon svelte-2jvmi2"),_(f,"class","btn btn--icon svelte-2jvmi2"),_(d,"class","btn btn--icon svelte-2jvmi2"),_(g,"class","btn btn--icon svelte-2jvmi2"),_(i,"class","header svelte-2jvmi2"),_(E,"class","field__name svelte-2jvmi2"),_(v,"class","field__desc svelte-2jvmi2"),_(I,"class","input svelte-2jvmi2"),_(I,"type","text"),_(I,"maxlength",Gl),_(R,"class","field svelte-2jvmi2"),_(O,"class","field__name svelte-2jvmi2"),_(q,"class","field__desc svelte-2jvmi2"),_(w,"class","input input--desc svelte-2jvmi2"),_(w,"name",""),_(w,"id",""),_(w,"cols","30"),_(w,"rows","5"),_(w,"maxlength",Yl),_(M,"class","field svelte-2jvmi2"),_(D,"class","field__name svelte-2jvmi2"),_(H,"class","field__desc svelte-2jvmi2"),_(N,"class","field svelte-2jvmi2"),_(K,"class","field__name svelte-2jvmi2"),_(ce,"class","field__desc svelte-2jvmi2"),_(ge,"class","input svelte-2jvmi2"),_(ge,"type","number"),_(ge,"min",ho),_(ge,"max",Ds),_(pe,"class","field svelte-2jvmi2"),_(Te,"class","field__name svelte-2jvmi2"),_(be,"class","field__desc svelte-2jvmi2"),Ne.__value=gn.None,Ne.value=Ne.__value,Be.__value=gn.Low,Be.value=Be.__value,ke.__value=gn.Medium,ke.value=ke.__value,De.__value=gn.High,De.value=De.__value,_(Ie,"class","input svelte-2jvmi2"),n[2].filtering===void 0&&Xe(()=>n[12].call(Ie)),_(Qe,"class","field svelte-2jvmi2"),_(r,"class","details svelte-2jvmi2"),Me.disabled=ze=n[2].questions.length>=$i,_(Me,"class","btn btn--icon svelte-2jvmi2"),_t.disabled=$t=n[2].questions.length<=1,_(_t,"class","btn btn--sm svelte-2jvmi2"),_(Ze,"class","list__actions svelte-2jvmi2"),_(Ut,"class","questions svelte-2jvmi2"),_(pt,"class","list__content svelte-2jvmi2"),_(Ke,"class","list svelte-2jvmi2"),_(t,"class","main svelte-2jvmi2")},m(ue,Ee){we&&we.m(ue,Ee),B(ue,e,Ee),B(ue,t,Ee),m(t,r),m(r,i),m(i,s),ae(a,s,null),m(s,l),m(i,u),m(i,f),ae(o,f,null),m(f,h),m(i,c),m(i,d),ae(p,d,null),m(d,k),m(i,y),m(i,g),ae(A,g,null),m(g,x),m(r,S),m(r,R),m(R,E),m(R,U),m(R,v),m(R,b),m(R,I),je(I,n[2].name),m(r,$),m(r,M),m(M,O),m(M,F),m(M,q),m(M,C),m(M,w),je(w,n[2].text),m(r,j),m(r,N),m(N,D),m(N,J),m(N,H),m(N,Q),ae(L,N,null),m(r,ie),m(r,pe),m(pe,K),m(pe,te),m(pe,ce),m(pe,qe),m(pe,ge),je(ge,n[2].max_players),m(r,ft),m(r,Qe),m(Qe,Te),m(Qe,We),m(Qe,be),m(Qe,Se),m(Qe,Ie),m(Ie,Ne),m(Ne,Re),m(Ie,Be),m(Be,Oe),m(Ie,ke),m(ke,Pe),m(Ie,De),m(De,Ct),Xt(Ie,n[2].filtering,!0),m(t,Ge),m(t,Ke),m(Ke,Ze),m(Ze,Me),ae(Le,Me,null),m(Me,dt),m(Ze,ht),m(Ze,_t),m(_t,Zt),m(Ke,rt),m(Ke,pt),m(pt,Ut);for(let At=0;At<Ce.length;At+=1)Ce[At]&&Ce[At].m(Ut,null);lt=!0,gt||(Qt=[ee(s,"click",Tn),ee(f,"click",n[6]),ee(d,"click",n[5]),ee(g,"click",n[7]),ee(I,"input",n[8]),ee(w,"input",n[9]),ee(ge,"input",n[11]),ee(Ie,"change",n[12]),ee(Me,"click",go),ee(_t,"click",yo)],gt=!0)},p(ue,[Ee]){ue[0]?we?(we.p(ue,Ee),Ee&1&&V(we,1)):(we=ps(ue),we.c(),V(we,1),we.m(e.parentNode,e)):we&&(et(),G(we,1,1,()=>{we=null}),tt()),Ee&4&&I.value!==ue[2].name&&je(I,ue[2].name),Ee&4&&je(w,ue[2].text);const At={};if(!Z&&Ee&4&&(Z=!0,At.value=ue[2].timing.wait_time,sn(()=>Z=!1)),L.$set(At),Ee&4&&wt(ge.value)!==ue[2].max_players&&je(ge,ue[2].max_players),Ee&4&&Xt(Ie,ue[2].filtering),(!lt||Ee&4&&ze!==(ze=ue[2].questions.length>=$i))&&(Me.disabled=ze),(!lt||Ee&4&&$t!==($t=ue[2].questions.length<=1))&&(_t.disabled=$t),Ee&4){Wt=ue[2].questions,et();for(let Nt=0;Nt<Ce.length;Nt+=1)Ce[Nt].r();Ce=$r(Ce,Ee,it,1,ue,Wt,at,Ut,xr,ms,null,hs);for(let Nt=0;Nt<Ce.length;Nt+=1)Ce[Nt].a();tt()}},i(ue){if(!lt){V(we),V(a.$$.fragment,ue),V(o.$$.fragment,ue),V(p.$$.fragment,ue),V(A.$$.fragment,ue),V(L.$$.fragment,ue),V(Le.$$.fragment,ue);for(let Ee=0;Ee<Wt.length;Ee+=1)V(Ce[Ee]);lt=!0}},o(ue){G(we),G(a.$$.fragment,ue),G(o.$$.fragment,ue),G(p.$$.fragment,ue),G(A.$$.fragment,ue),G(L.$$.fragment,ue),G(Le.$$.fragment,ue);for(let Ee=0;Ee<Ce.length;Ee+=1)G(Ce[Ee]);lt=!1},d(ue){we&&we.d(ue),ue&&z(e),ue&&z(t),le(a),le(o),le(p),le(A),le(L),le(Le);for(let Ee=0;Ee<Ce.length;Ee+=1)Ce[Ee].d();gt=!1,Ye(Qt)}}}function Sc(n,e,t){let r,i,s;xt(n,Cn,x=>t(14,r=x)),xt(n,kt,x=>t(2,i=x));let a=!1,l="",u=oi(0);xt(n,u,x=>t(3,s=x));async function f(){const x=i,S=r;console.debug("Exporting quiz to file",x.name);const R=await Ac(x,S),E=x.name+".quizler";Do(E,R)}async function o(){const x=await Po(".quizler");if(x!==null)try{const S=await xc(x);kt.set(S),console.debug("Imported quiz file",S)}catch(S){console.error("Error while importing quiz file",S),zt("Failed to import","Quiz file invalid or corrupted")}}function h(x){if(x.lengthComputable){const S=x.loaded/x.total*100;console.debug(`Uploading content: ${S.toFixed(0)}%`),u.set(S)}}function c(){t(0,a=!0),t(1,l="Uploading");const x=i;x.name=x.name.trim(),x.text=x.text.trim();const S=r;console.debug("Creating quiz"),Ll(x,S,h).then(R=>(t(1,l="Initializing"),console.debug("Initializing game",R),tn({ty:Vt.Initialize,uuid:R}))).then(({id:R,token:E,config:U})=>{As({id:R,token:E,config:U,host:!0})}).catch(R=>{console.error("Failed to create",R),R instanceof Error?zt("Failed to create",R.message):zt("Failed to create",Vr[R])}).finally(()=>t(0,a=!1))}function d(){i.name=this.value,kt.set(i)}function p(){i.text=this.value,kt.set(i)}function k(x){n.$$.not_equal(i.timing.wait_time,x)&&(i.timing.wait_time=x,kt.set(i))}function y(){i.max_players=wt(this.value),kt.set(i)}function g(){i.filtering=kr(this),kt.set(i)}function A(x,S,R,E){R[E]=x,kt.set(i)}return[a,l,i,s,u,f,o,c,d,p,k,y,g,A]}class Ic extends $e{constructor(e){super(),xe(this,e,Sc,Tc,Ae,{})}}function Mc(n){let e,t;return{c(){e=de("svg"),t=de("path"),_(t,"d","M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z"),_(e,"fill","#FFFFFF"),_(e,"width","32px"),_(e,"height","31.25px"),_(e,"viewBox","0 0 256 250"),_(e,"version","1.1"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"preserveAspectRatio","xMidYMid")},m(r,i){B(r,e,i),m(e,t)},p:Y,i:Y,o:Y,d(r){r&&z(e)}}}class Fc extends $e{constructor(e){super(),xe(this,e,null,Mc,Ae,{})}}function Uc(n){let e,t,r,i,s,a,l,u,f;return{c(){e=de("svg"),t=de("path"),r=de("path"),i=de("path"),s=de("path"),a=de("path"),l=de("path"),u=de("path"),f=de("path"),_(t,"d","M209.6,119.1v-3.38q0-16.18,2.49-20.42T225.44,83q5.69-4.19,7.9-7.8a16.8,16.8,0,0,0,2.2-9q0-6.59-4.2-10.35a14.58,14.58,0,0,0-10.16-3.76q-15.74,0-17.65,22.29L179.15,71q2.7-20.1,14.65-30.46T223,30.19q17.61,0,29.56,10.07a32.29,32.29,0,0,1,12,25.69q.06,19.3-19.76,32.34-8.61,5.71-10.43,8.92t-1.8,11.84Zm27.48,34.73-27.93.06L209.08,127,237,127Z"),_(t,"transform","translate(-5.67 -30.19)"),_(r,"d","M98.54,268.74a43,43,0,0,1-9.39,1.07q-15.06,0-20.17-6.46t-5.92-16.26a95.28,95.28,0,0,1-10.63.74q-21.31,0-34-16.68T5.67,190.36q0-23.55,12.27-40.71t36.14-17.17q23.55,0,35.9,17.08t12.35,41.05q0,19.26-7,32.06T78.7,241q0,8.65,9.88,8.65,2.88,0,10-.83ZM54,154q-20.72,0-20.71,36.39,0,36.55,20.63,36.55,20.87,0,20.87-36.06Q74.75,154,54,154Z"),_(r,"transform","translate(-5.67 -30.19)"),_(i,"d","M189.43,163.44v83.15H166.71V232.43q-6.42,15.88-24.53,15.89-9.39,0-14.41-3.5a19.32,19.32,0,0,1-7.21-9.55q-2.18-6-2.18-17.5V163.44h23.8v54.33q0,11.21,9.22,11.2a13,13,0,0,0,8.15-2.67,12,12,0,0,0,4.4-5.73q.95-3,1-10.45V163.44Z"),_(i,"transform","translate(-5.67 -30.19)"),_(s,"d","M234.22,163.44v83.15H209.69V163.44Z"),_(s,"transform","translate(-5.67 -30.19)"),_(a,"d","M311.45,163.44v15.31l-37.1,50H313.1v17.87H247.64V228.72l36.68-48.57H250.69V163.44Z"),_(a,"transform","translate(-5.67 -30.19)"),_(l,"d","M326.6,246.59V134.21h24.53V246.59Z"),_(l,"transform","translate(-5.67 -30.19)"),_(u,"d","M446,209.13H392.47q-.09,2.22-.09,3.87,0,8.9,4.74,13.42A15.79,15.79,0,0,0,408.44,231q12.27,0,14.74-13.09l22.23,1.64q-9.32,28.83-37.8,28.82-12.42,0-21.11-5a39.35,39.35,0,0,1-14.33-14.53q-5.64-9.56-5.64-22.89,0-19.84,11.32-32T407,161.71A37.84,37.84,0,0,1,434.5,173Q446,184.34,446,209.13Zm-53.6-14.24h29.56q-1.15-17.13-14.08-17.13Q394,177.76,392.38,194.89Z"),_(u,"transform","translate(-5.67 -30.19)"),_(f,"d","M485.25,246.59H461.46V163.44h22.48v15.47q5.18-17.28,17.94-17.29c1.21,0,2.69.09,4.45.25v24.21q-7.49,0-11.65,2.3t-6.79,8.28q-2.64,6-2.64,16.09Z"),_(f,"transform","translate(-5.67 -30.19)"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 500.66 239.62"),_(e,"fill","#FFFFFF"),_(e,"width","248"),_(e,"height","135")},m(o,h){B(o,e,h),m(e,t),m(e,r),m(e,i),m(e,s),m(e,a),m(e,l),m(e,u),m(e,f)},p:Y,i:Y,o:Y,d(o){o&&z(e)}}}class Nc extends $e{constructor(e){super(),xe(this,e,null,Uc,Ae,{})}}function Rc(n){let e,t,r,i,s,a,l,u,f,o,h,c,d,p,k,y,g,A,x,S,R,E,U;return i=new Nc({}),l=new Fc({}),c=new Ur({}),g=new ca({}),{c(){e=T("main"),t=T("div"),r=T("div"),oe(i.$$.fragment),s=P(),a=T("a"),oe(l.$$.fragment),u=re(`
      View on GitHub`),f=P(),o=T("div"),h=T("button"),oe(c.$$.fragment),d=P(),p=T("div"),p.innerHTML=`<p class="action__name svelte-l0hn24">Join a quiz</p> 
        <p class="action__text svelte-l0hn24">Enter a game code and hop right in</p>`,k=P(),y=T("button"),oe(g.$$.fragment),A=P(),x=T("div"),x.innerHTML=`<p class="action__name svelte-l0hn24">Create a quiz</p> 
        <p class="action__text svelte-l0hn24">Create your own quiz</p>`,_(r,"class","logo svelte-l0hn24"),_(a,"href","https://github.com/jacobtread/Quizler-v2"),_(a,"target","_blank"),_(a,"rel","noreferrer"),_(a,"title","View on Github"),_(a,"class","btn btn--icon github svelte-l0hn24"),_(t,"class","left svelte-l0hn24"),_(p,"class","action__body svelte-l0hn24"),_(h,"class","action svelte-l0hn24"),_(h,"aria-label","Join"),_(x,"class","action__body svelte-l0hn24"),_(y,"class","action svelte-l0hn24"),_(y,"aria-label","Create"),_(o,"class","actions svelte-l0hn24"),_(e,"class","main svelte-l0hn24")},m(v,b){B(v,e,b),m(e,t),m(t,r),ae(i,r,null),m(t,s),m(t,a),ae(l,a,null),m(a,u),m(e,f),m(e,o),m(o,h),ae(c,h,null),m(h,d),m(h,p),m(o,k),m(o,y),ae(g,y,null),m(y,A),m(y,x),R=!0,E||(U=[ee(h,"click",Na),ee(y,"click",Dr)],E=!0)},p:Y,i(v){R||(V(i.$$.fragment,v),V(l.$$.fragment,v),V(c.$$.fragment,v),V(g.$$.fragment,v),Xe(()=>{R&&(S||(S=He(e,Je,{},!0)),S.run(1))}),R=!0)},o(v){G(i.$$.fragment,v),G(l.$$.fragment,v),G(c.$$.fragment,v),G(g.$$.fragment,v),S||(S=He(e,Je,{},!1)),S.run(0),R=!1},d(v){v&&z(e),le(i),le(l),le(c),le(g),v&&S&&S.end(),E=!1,Ye(U)}}}class Oc extends $e{constructor(e){super(),xe(this,e,null,Rc,Ae,{})}}function qc(n){let e,t;return e=new ai({props:{text:"Connecting to server..."}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:Y,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function jc(n){let e,t,r,i;const s=[zc,Lc,Dc,Zc,Pc],a=[];function l(u,f){return u[1].ty==mn.Home?0:u[1].ty===mn.Create?1:u[1].ty===mn.Connect?2:u[1].ty===mn.Editing?3:u[1].ty===mn.Game?4:-1}return~(e=l(n))&&(t=a[e]=s[e](n)),{c(){t&&t.c(),r=Pt()},m(u,f){~e&&a[e].m(u,f),B(u,r,f),i=!0},p(u,f){let o=e;e=l(u),e===o?~e&&a[e].p(u,f):(t&&(et(),G(a[o],1,1,()=>{a[o]=null}),tt()),~e?(t=a[e],t?t.p(u,f):(t=a[e]=s[e](u),t.c()),V(t,1),t.m(r.parentNode,r)):t=null)},i(u){i||(V(t),i=!0)},o(u){G(t),i=!1},d(u){~e&&a[e].d(u),u&&z(r)}}}function Pc(n){let e,t;return e=new hc({props:{gameData:n[1].gameData}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.gameData=r[1].gameData),e.$set(s)},i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Zc(n){let e,t;return e=new _u({props:{question:n[1].question}}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.question=r[1].question),e.$set(s)},i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Dc(n){let e,t;return e=new Eu({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:Y,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Lc(n){let e,t;return e=new Ic({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:Y,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function zc(n){let e,t;return e=new Oc({}),{c(){oe(e.$$.fragment)},m(r,i){ae(e,r,i),t=!0},p:Y,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Hc(n){let e,t,r,i,s;const a=[jc,qc],l=[];function u(f,o){return f[0]?0:1}return e=u(n),t=l[e]=a[e](n),i=new Da({}),{c(){t.c(),r=P(),oe(i.$$.fragment)},m(f,o){l[e].m(f,o),B(f,r,o),ae(i,f,o),s=!0},p(f,[o]){let h=e;e=u(f),e===h?l[e].p(f,o):(et(),G(l[h],1,1,()=>{l[h]=null}),tt(),t=l[e],t?t.p(f,o):(t=l[e]=a[e](f),t.c()),V(t,1),t.m(r.parentNode,r))},i(f){s||(V(t),V(i.$$.fragment,f),s=!0)},o(f){G(t),G(i.$$.fragment,f),s=!1},d(f){l[e].d(f),f&&z(r),le(i,f)}}}function Bc(n,e,t){let r,i;return xt(n,ni,s=>t(0,r=s)),xt(n,En,s=>t(1,i=s)),[r,i]}class Vc extends $e{constructor(e){super(),xe(this,e,Bc,Hc,Ae,{})}}new Vc({target:document.getElementById("app")});
