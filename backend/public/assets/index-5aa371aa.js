(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function G(){}const gr=n=>n;function fi(n,e){for(const t in e)n[t]=e[t];return n}function ss(n){return n()}function di(){return Object.create(null)}function Xe(n){n.forEach(ss)}function vr(n){return typeof n=="function"}function xe(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Qn;function kn(n,e){return Qn||(Qn=document.createElement("a")),Qn.href=e,n===Qn.href}function ia(n){return Object.keys(n).length===0}function as(n,...e){if(n==null)return G;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Nr(n){let e;return as(n,t=>e=t)(),e}function Nt(n,e,t){n.$$.on_destroy.push(as(e,t))}const ls=typeof window<"u";let Kr=ls?()=>window.performance.now():()=>Date.now(),Xr=ls?n=>requestAnimationFrame(n):G;const vn=new Set;function os(n){vn.forEach(e=>{e.c(n)||(vn.delete(e),e.f())}),vn.size!==0&&Xr(os)}function ei(n){let e;return vn.size===0&&Xr(os),{promise:new Promise(t=>{vn.add(e={c:n,f:t})}),abort(){vn.delete(e)}}}function _(n,e){n.appendChild(e)}function us(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function sa(n){const e=M("style");return aa(us(n),e),e.sheet}function aa(n,e){return _(n.head||n,e),e.sheet}function V(n,e,t){n.insertBefore(e,t||null)}function H(n){n.parentNode&&n.parentNode.removeChild(n)}function qn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function M(n){return document.createElement(n)}function fe(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ie(n){return document.createTextNode(n)}function Z(){return ie(" ")}function un(){return ie("")}function te(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function la(n,e,t){const r=new Set;for(let i=0;i<n.length;i+=1)n[i].checked&&r.add(n[i].__value);return t||r.delete(e),Array.from(r)}function oa(n){let e;return{p(...t){e=t,e.forEach(r=>n.push(r))},r(){e.forEach(t=>n.splice(n.indexOf(t),1))}}}function At(n){return n===""?null:+n}function ua(n){return Array.from(n.childNodes)}function Me(n,e){e=""+e,n.data!==e&&(n.data=e)}function Oe(n,e){n.value=e??""}function hi(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Xn(n,e,t){for(let r=0;r<n.options.length;r+=1){const i=n.options[r];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function cs(n){const e=n.querySelector(":checked");return e&&e.__value}function ca(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,r,e),i}const er=new Map;let tr=0;function fa(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function da(n,e){const t={stylesheet:sa(e),rules:{}};return er.set(n,t),t}function Or(n,e,t,r,i,s,a,l=0){const u=16.666/r;let d=`{
`;for(let k=0;k<=1;k+=u){const g=e+(t-e)*s(k);d+=k*100+`%{${a(g,1-g)}}
`}const o=d+`100% {${a(t,1-t)}}
}`,f=`__svelte_${fa(o)}_${l}`,c=us(n),{stylesheet:h,rules:p}=er.get(c)||da(c,n);p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${o}`,h.cssRules.length));const w=n.style.animation||"";return n.style.animation=`${w?`${w}, `:""}${f} ${r}ms linear ${i}ms 1 both`,tr+=1,f}function fs(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-r.length;i&&(n.style.animation=r.join(", "),tr-=i,tr||ha())}function ha(){Xr(()=>{tr||(er.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&H(e)}),er.clear())})}function yr(n,e,t,r){if(!e)return G;const i=n.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return G;const{delay:s=0,duration:a=300,easing:l=gr,start:u=Kr()+s,end:d=u+a,tick:o=G,css:f}=t(n,{from:e,to:i},r);let c=!0,h=!1,p;function w(){f&&(p=Or(n,0,1,a,s,l,f)),s||(h=!0)}function k(){f&&fs(n,p),c=!1}return ei(g=>{if(!h&&g>=u&&(h=!0),h&&g>=d&&(o(1,0),k()),!c)return!1;if(h){const $=g-u,E=0+1*l($/a);o(E,1-E)}return!0}),w(),o(0,1),k}function br(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,i=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,pa(n,i)}}function pa(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),i=r.transform==="none"?"":r.transform;n.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let In;function Tn(n){In=n}function ds(){if(!In)throw new Error("Function called outside component initialization");return In}function hs(n){ds().$$.on_mount.push(n)}function ma(n){ds().$$.on_destroy.push(n)}const pn=[],Wt=[];let yn=[];const jr=[],_a=Promise.resolve();let Pr=!1;function ga(){Pr||(Pr=!0,_a.then(ps))}function ct(n){yn.push(n)}function Cn(n){jr.push(n)}const Ir=new Set;let dn=0;function ps(){if(dn!==0)return;const n=In;do{try{for(;dn<pn.length;){const e=pn[dn];dn++,Tn(e),va(e.$$)}}catch(e){throw pn.length=0,dn=0,e}for(Tn(null),pn.length=0,dn=0;Wt.length;)Wt.pop()();for(let e=0;e<yn.length;e+=1){const t=yn[e];Ir.has(t)||(Ir.add(t),t())}yn.length=0}while(pn.length);for(;jr.length;)jr.pop()();Pr=!1,Ir.clear(),Tn(n)}function va(n){if(n.fragment!==null){n.update(),Xe(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ct)}}function ya(n){const e=[],t=[];yn.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),yn=e}let Sn;function ba(){return Sn||(Sn=Promise.resolve(),Sn.then(()=>{Sn=null})),Sn}function Fr(n,e,t){n.dispatchEvent(ca(`${e?"intro":"outro"}${t}`))}const Gn=new Set;let Dt;function gt(){Dt={r:0,c:[],p:Dt}}function vt(){Dt.r||Xe(Dt.c),Dt=Dt.p}function W(n,e){n&&n.i&&(Gn.delete(n),n.i(e))}function J(n,e,t,r){if(n&&n.o){if(Gn.has(n))return;Gn.add(n),Dt.c.push(()=>{Gn.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const wa={duration:0};function He(n,e,t,r){const i={direction:"both"};let s=e(n,t,i),a=r?0:1,l=null,u=null,d=null;function o(){d&&fs(n,d)}function f(h,p){const w=h.b-a;return p*=Math.abs(w),{a,b:h.b,d:w,duration:p,start:h.start,end:h.start+p,group:h.group}}function c(h){const{delay:p=0,duration:w=300,easing:k=gr,tick:g=G,css:$}=s||wa,E={start:Kr()+p,b:h};h||(E.group=Dt,Dt.r+=1),l||u?u=E:($&&(o(),d=Or(n,a,h,w,p,k,$)),h&&g(0,1),l=f(E,w),ct(()=>Fr(n,h,"start")),ei(x=>{if(u&&x>u.start&&(l=f(u,w),u=null,Fr(n,l.b,"start"),$&&(o(),d=Or(n,a,l.b,l.duration,0,k,s.css))),l){if(x>=l.end)g(a=l.b,1-a),Fr(n,l.b,"end"),u||(l.b?o():--l.group.r||Xe(l.group.c)),l=null;else if(x>=l.start){const O=x-l.start;a=l.a+l.d*k(O/l.duration),g(a,1-a)}}return!!(l||u)}))}return{run(h){vr(s)?ba().then(()=>{s=s(i),c(h)}):c(h)},end(){o(),l=u=null}}}function ka(n,e){J(n,1,1,()=>{e.delete(n.key)})}function wr(n,e){n.f(),ka(n,e)}function kr(n,e,t,r,i,s,a,l,u,d,o,f){let c=n.length,h=s.length,p=c;const w={};for(;p--;)w[n[p].key]=p;const k=[],g=new Map,$=new Map,E=[];for(p=h;p--;){const U=f(i,s,p),y=t(U);let v=a.get(y);v?r&&E.push(()=>v.p(U,e)):(v=d(y,U),v.c()),g.set(y,k[p]=v),y in w&&$.set(y,Math.abs(p-w[y]))}const x=new Set,O=new Set;function T(U){W(U,1),U.m(l,o),a.set(U.key,U),o=U.first,h--}for(;c&&h;){const U=k[h-1],y=n[c-1],v=U.key,q=y.key;U===y?(o=U.first,c--,h--):g.has(q)?!a.has(v)||x.has(v)?T(U):O.has(q)?c--:$.get(v)>$.get(q)?(O.add(v),T(U)):(x.add(q),c--):(u(y,a),c--)}for(;c--;){const U=n[c];g.has(U.key)||u(U,a)}for(;h;)T(k[h-1]);return Xe(E),k}const Ca=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...Ca];function An(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function ue(n){n&&n.c()}function le(n,e,t,r){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),r||ct(()=>{const a=n.$$.on_mount.map(ss).filter(vr);n.$$.on_destroy?n.$$.on_destroy.push(...a):Xe(a),n.$$.on_mount=[]}),s.forEach(ct)}function oe(n,e){const t=n.$$;t.fragment!==null&&(ya(t.after_update),Xe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Aa(n,e){n.$$.dirty[0]===-1&&(pn.push(n),ga(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Se(n,e,t,r,i,s,a,l=[-1]){const u=In;Tn(n);const d=n.$$={fragment:null,ctx:[],props:s,update:G,not_equal:i,bound:di(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:di(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};a&&a(d.root);let o=!1;if(d.ctx=t?t(n,e.props||{},(f,c,...h)=>{const p=h.length?h[0]:c;return d.ctx&&i(d.ctx[f],d.ctx[f]=p)&&(!d.skip_bound&&d.bound[f]&&d.bound[f](p),o&&Aa(n,f)),c}):[],d.update(),o=!0,Xe(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){const f=ua(e.target);d.fragment&&d.fragment.l(f),f.forEach(H)}else d.fragment&&d.fragment.c();e.intro&&W(n.$$.fragment),le(n,e.target,e.anchor,e.customElement),ps()}Tn(u)}class Te{$destroy(){oe(this,1),this.$destroy=G}$on(e,t){if(!vr(t))return G;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ia(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ms(n){const e=n-1;return e*e*e+1}function pi(n,{delay:e=0,duration:t=400,easing:r=gr}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*i}`}}function Ke(n,{delay:e=0,duration:t=400,easing:r=ms,axis:i="y"}={}){const s=getComputedStyle(n),a=+s.opacity,l=i==="y"?"height":"width",u=parseFloat(s[l]),d=i==="y"?["top","bottom"]:["left","right"],o=d.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),f=parseFloat(s[`padding${o[0]}`]),c=parseFloat(s[`padding${o[1]}`]),h=parseFloat(s[`margin${o[0]}`]),p=parseFloat(s[`margin${o[1]}`]),w=parseFloat(s[`border${o[0]}Width`]),k=parseFloat(s[`border${o[1]}Width`]);return{delay:e,duration:t,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*a};${l}: ${g*u}px;padding-${d[0]}: ${g*f}px;padding-${d[1]}: ${g*c}px;margin-${d[0]}: ${g*h}px;margin-${d[1]}: ${g*p}px;border-${d[0]}-width: ${g*w}px;border-${d[1]}-width: ${g*k}px;`}}const hn=[];function Xt(n,e=G){let t;const r=new Set;function i(l){if(xe(n,l)&&(n=l,t)){const u=!hn.length;for(const d of r)d[1](),hn.push(d,n);if(u){for(let d=0;d<hn.length;d+=2)hn[d][0](hn[d+1]);hn.length=0}}}function s(l){i(l(n))}function a(l,u=G){const d=[l,u];return r.add(d),r.size===1&&(t=e(i)||G),l(n),()=>{r.delete(d),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}var _s=(n=>(n[n.Error=0]="Error",n[n.Confirm=1]="Confirm",n))(_s||{});const Cr=Xt(null);function Ur(n){Cr.update(e=>(e!==null&&e.ty===1&&e.callback(n),null))}function Ar(n,e){return new Promise(t=>{Cr.set({ty:1,title:n,message:e,callback:t})})}function bn(n,e){Cr.set({ty:0,title:n,message:e})}function mi(n){let e,t,r,i=n[0].title+"",s,a,l,u=n[0].message+"",d,o,f,c,h,p;function w($,E){return $[0].ty===_s.Error?$a:xa}let k=w(n),g=k(n);return{c(){e=M("div"),t=M("div"),r=M("h1"),s=ie(i),a=Z(),l=M("p"),d=ie(u),o=Z(),f=M("div"),g.c(),m(r,"class","dialog__title svelte-171o5q7"),m(l,"class","dialog__msg svelte-171o5q7"),m(f,"class","btn-row btn-row--fill"),m(t,"class","dialog svelte-171o5q7"),m(e,"class","dialog-wrapper svelte-171o5q7")},m($,E){V($,e,E),_(e,t),_(t,r),_(r,s),_(t,a),_(t,l),_(l,d),_(t,o),_(t,f),g.m(f,null),p=!0},p($,E){(!p||E&1)&&i!==(i=$[0].title+"")&&Me(s,i),(!p||E&1)&&u!==(u=$[0].message+"")&&Me(d,u),k===(k=w($))&&g?g.p($,E):(g.d(1),g=k($),g&&(g.c(),g.m(f,null)))},i($){p||(ct(()=>{p&&(c||(c=He(t,Ke,{duration:200},!0)),c.run(1))}),ct(()=>{p&&(h||(h=He(e,pi,{duration:200},!0)),h.run(1))}),p=!0)},o($){c||(c=He(t,Ke,{duration:200},!1)),c.run(0),h||(h=He(e,pi,{duration:200},!1)),h.run(0),p=!1},d($){$&&H(e),g.d(),$&&c&&c.end(),$&&h&&h.end()}}}function xa(n){let e,t,r,i,s;return{c(){e=M("button"),e.textContent="Confirm",t=Z(),r=M("button"),r.textContent="Cancel",m(e,"class","btn btn--surface"),m(r,"class","btn btn--surface")},m(a,l){V(a,e,l),V(a,t,l),V(a,r,l),i||(s=[te(e,"click",n[2]),te(r,"click",n[3])],i=!0)},p:G,d(a){a&&H(e),a&&H(t),a&&H(r),i=!1,Xe(s)}}}function $a(n){let e,t,r;return{c(){e=M("button"),e.textContent="Close",m(e,"class","btn btn--surface")},m(i,s){V(i,e,s),t||(r=te(e,"click",n[1]),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function Ea(n){let e,t,r=n[0]&&mi(n);return{c(){r&&r.c(),e=un()},m(i,s){r&&r.m(i,s),V(i,e,s),t=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&W(r,1)):(r=mi(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(gt(),J(r,1,1,()=>{r=null}),vt())},i(i){t||(W(r),t=!0)},o(i){J(r),t=!1},d(i){r&&r.d(i),i&&H(e)}}}function Sa(n,e,t){let r;return Nt(n,Cr,l=>t(0,r=l)),[r,()=>Ur(!0),()=>Ur(!0),()=>Ur(!1)]}class Ta extends Te{constructor(e){super(),Se(this,e,Sa,Ea,xe,{})}}function Ma(n){let e;return{c(){e=M("div"),m(e,"class","spin svelte-1ku7j7d")},m(t,r){V(t,e,r)},p:G,i:G,o:G,d(t){t&&H(e)}}}class qa extends Te{constructor(e){super(),Se(this,e,null,Ma,xe,{})}}function Ia(n){let e,t,r,i,s,a;return t=new qa({}),{c(){e=M("main"),ue(t.$$.fragment),r=Z(),i=M("p"),s=ie(n[0]),m(i,"class","text svelte-1n3hv6a"),m(e,"class","main svelte-1n3hv6a")},m(l,u){V(l,e,u),le(t,e,null),_(e,r),_(e,i),_(i,s),a=!0},p(l,[u]){(!a||u&1)&&Me(s,l[0])},i(l){a||(W(t.$$.fragment,l),a=!0)},o(l){J(t.$$.fragment,l),a=!1},d(l){l&&H(e),oe(t)}}}function Fa(n,e,t){let{text:r}=e;return n.$$set=i=>{"text"in i&&t(0,r=i.text)},[r]}class ti extends Te{constructor(e){super(),Se(this,e,Fa,Ia,xe,{text:0})}}var Ee;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},n.find=(i,s)=>{for(const a of i)if(s(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ee||(Ee={}));var Zr;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Zr||(Zr={}));const ee=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qt=n=>{switch(typeof n){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(n)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(n)?ee.array:n===null?ee.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ee.promise:typeof Map<"u"&&n instanceof Map?ee.map:typeof Set<"u"&&n instanceof Set?ee.set:typeof Date<"u"&&n instanceof Date?ee.date:ee.object;default:return ee.unknown}},Q=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ua=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class qt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let l=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(a))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}qt.create=n=>new qt(n);const Fn=(n,e)=>{let t;switch(n.code){case Q.invalid_type:n.received===ee.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Q.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Ee.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ee.joinValues(n.keys,", ")}`;break;case Q.invalid_union:t="Invalid input";break;case Q.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ee.joinValues(n.options)}`;break;case Q.invalid_enum_value:t=`Invalid enum value. Expected ${Ee.joinValues(n.options)}, received '${n.received}'`;break;case Q.invalid_arguments:t="Invalid function arguments";break;case Q.invalid_return_type:t="Invalid function return type";break;case Q.invalid_date:t="Invalid date";break;case Q.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Ee.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Q.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Q.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Q.custom:t="Invalid input";break;case Q.invalid_intersection_types:t="Intersection results could not be merged";break;case Q.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Q.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ee.assertNever(n)}return{message:t}};let gs=Fn;function Ra(n){gs=n}function nr(){return gs}const rr=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],a={...i,path:s};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(a,{data:e,defaultError:l}).message;return{...i,path:s,message:i.message||l}},Na=[];function ne(n,e){const t=rr({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,nr(),Fn].filter(r=>!!r)});n.common.issues.push(t)}class pt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return me;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t)r.push({key:await i.key,value:await i.value});return pt.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return me;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),vs=n=>({status:"dirty",value:n}),_t=n=>({status:"valid",value:n}),Dr=n=>n.status==="aborted",Lr=n=>n.status==="dirty",ir=n=>n.status==="valid",sr=n=>typeof Promise<"u"&&n instanceof Promise;var se;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class jt{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _i=(n,e)=>{if(ir(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new qt(n.common.issues);return this._error=t,this._error}}};function ve(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,l)=>a.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:t??l.defaultError},description:i}}class we{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Qt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Qt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pt,ctx:{common:e.parent.common,data:e.data,parsedType:Qt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(sr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return _i(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qt(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(sr(i)?i:Promise.resolve(i));return _i(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const a=e(i),l=()=>s.addIssue({code:Q.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Ft({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Lt.create(this,this._def)}nullable(){return on.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return It.create(this,this._def)}promise(){return $n.create(this,this._def)}or(e){return On.create([this,e],this._def)}and(e){return jn.create(this,e,this._def)}transform(e){return new Ft({...ve(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new zn({...ve(this._def),innerType:this,defaultValue:t,typeName:ce.ZodDefault})}brand(){return new bs({typeName:ce.ZodBranded,type:this,...ve(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new ur({...ve(this._def),innerType:this,catchValue:t,typeName:ce.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Bn.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Oa=/^c[^\s-]{8,}$/i,ja=/^[a-z][a-z0-9]*$/,Pa=/[0-9A-HJKMNP-TV-Z]{26}/,Za=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Da=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,La=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,za=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ha=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ba=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Va(n,e){return!!((e==="v4"||!e)&&za.test(n)||(e==="v6"||!e)&&Ha.test(n))}class Mt extends we{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(i=>e.test(i),{validation:t,code:Q.invalid_string,...se.errToObj(r)}),this.nonempty=e=>this.min(1,se.errToObj(e)),this.trim=()=>new Mt({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Mt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Mt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const s=this._getOrReturnCtx(e);return ne(s,{code:Q.invalid_type,expected:ee.string,received:s.parsedType}),me}const r=new pt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?ne(i,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&ne(i,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Da.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"email",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")La.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"emoji",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Za.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"uuid",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Oa.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")ja.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid2",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Pa.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ulid",code:Q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ne(i,{validation:"url",code:Q.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"regex",code:Q.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Ba(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Va(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ip",code:Q.invalid_string,message:s.message}),r.dirty()):Ee.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new Mt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...se.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...se.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...se.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Mt.create=n=>{var e;return new Mt({checks:[],typeName:ce.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ve(n)})};function Qa(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class Gt extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const s=this._getOrReturnCtx(e);return ne(s,{code:Q.invalid_type,expected:ee.number,received:s.parsedType}),me}let r;const i=new pt;for(const s of this._def.checks)s.kind==="int"?Ee.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Qa(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_finite,message:s.message}),i.dirty()):Ee.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,i){return new Gt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Gt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ee.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Gt.create=n=>new Gt({checks:[],typeName:ce.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ve(n)});class Jt extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ee.bigint){const s=this._getOrReturnCtx(e);return ne(s,{code:Q.invalid_type,expected:ee.bigint,received:s.parsedType}),me}let r;const i=new pt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ee.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,r,i){return new Jt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Jt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Jt.create=n=>{var e;return new Jt({checks:[],typeName:ce.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ve(n)})};class Un extends we{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ee.boolean,received:r.parsedType}),me}return _t(e.data)}}Un.create=n=>new Un({typeName:ce.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ve(n)});class an extends we{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const s=this._getOrReturnCtx(e);return ne(s,{code:Q.invalid_type,expected:ee.date,received:s.parsedType}),me}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ne(s,{code:Q.invalid_date}),me}const r=new pt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ee.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new an({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}an.create=n=>new an({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ce.ZodDate,...ve(n)});class ar extends we{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ee.symbol,received:r.parsedType}),me}return _t(e.data)}}ar.create=n=>new ar({typeName:ce.ZodSymbol,...ve(n)});class Rn extends we{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ee.undefined,received:r.parsedType}),me}return _t(e.data)}}Rn.create=n=>new Rn({typeName:ce.ZodUndefined,...ve(n)});class Nn extends we{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ee.null,received:r.parsedType}),me}return _t(e.data)}}Nn.create=n=>new Nn({typeName:ce.ZodNull,...ve(n)});class xn extends we{constructor(){super(...arguments),this._any=!0}_parse(e){return _t(e.data)}}xn.create=n=>new xn({typeName:ce.ZodAny,...ve(n)});class nn extends we{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _t(e.data)}}nn.create=n=>new nn({typeName:ce.ZodUnknown,...ve(n)});class zt extends we{_parse(e){const t=this._getOrReturnCtx(e);return ne(t,{code:Q.invalid_type,expected:ee.never,received:t.parsedType}),me}}zt.create=n=>new zt({typeName:ce.ZodNever,...ve(n)});class lr extends we{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ee.void,received:r.parsedType}),me}return _t(e.data)}}lr.create=n=>new lr({typeName:ce.ZodVoid,...ve(n)});class It extends we{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==ee.array)return ne(t,{code:Q.invalid_type,expected:ee.array,received:t.parsedType}),me;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,l=t.data.length<i.exactLength.value;(a||l)&&(ne(t,{code:a?Q.too_big:Q.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(ne(t,{code:Q.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(ne(t,{code:Q.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,l)=>i.type._parseAsync(new jt(t,a,t.path,l)))).then(a=>pt.mergeArray(r,a));const s=[...t.data].map((a,l)=>i.type._parseSync(new jt(t,a,t.path,l)));return pt.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new It({...this._def,minLength:{value:e,message:se.toString(t)}})}max(e,t){return new It({...this._def,maxLength:{value:e,message:se.toString(t)}})}length(e,t){return new It({...this._def,exactLength:{value:e,message:se.toString(t)}})}nonempty(e){return this.min(1,e)}}It.create=(n,e)=>new It({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...ve(e)});function mn(n){if(n instanceof ze){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Lt.create(mn(r))}return new ze({...n._def,shape:()=>e})}else return n instanceof It?new It({...n._def,type:mn(n.element)}):n instanceof Lt?Lt.create(mn(n.unwrap())):n instanceof on?on.create(mn(n.unwrap())):n instanceof Pt?Pt.create(n.items.map(e=>mn(e))):n}class ze extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ee.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ee.object){const d=this._getOrReturnCtx(e);return ne(d,{code:Q.invalid_type,expected:ee.object,received:d.parsedType}),me}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof zt&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||l.push(d);const u=[];for(const d of a){const o=s[d],f=i.data[d];u.push({key:{status:"valid",value:d},value:o._parse(new jt(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof zt){const d=this._def.unknownKeys;if(d==="passthrough")for(const o of l)u.push({key:{status:"valid",value:o},value:{status:"valid",value:i.data[o]}});else if(d==="strict")l.length>0&&(ne(i,{code:Q.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const o of l){const f=i.data[o];u.push({key:{status:"valid",value:o},value:d._parse(new jt(i,f,i.path,o)),alwaysSet:o in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const o of u){const f=await o.key;d.push({key:f,value:await o.value,alwaysSet:o.alwaysSet})}return d}).then(d=>pt.mergeObjectSync(r,d)):pt.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new ze({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,a,l;const u=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(l=se.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new ze({...this._def,unknownKeys:"strip"})}passthrough(){return new ze({...this._def,unknownKeys:"passthrough"})}extend(e){return new ze({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ze({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ce.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ze({...this._def,catchall:e})}pick(e){const t={};return Ee.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new ze({...this._def,shape:()=>t})}omit(e){const t={};return Ee.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new ze({...this._def,shape:()=>t})}deepPartial(){return mn(this)}partial(e){const t={};return Ee.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new ze({...this._def,shape:()=>t})}required(e){const t={};return Ee.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Lt;)s=s._def.innerType;t[r]=s}}),new ze({...this._def,shape:()=>t})}keyof(){return ys(Ee.objectKeys(this.shape))}}ze.create=(n,e)=>new ze({shape:()=>n,unknownKeys:"strip",catchall:zt.create(),typeName:ce.ZodObject,...ve(e)});ze.strictCreate=(n,e)=>new ze({shape:()=>n,unknownKeys:"strict",catchall:zt.create(),typeName:ce.ZodObject,...ve(e)});ze.lazycreate=(n,e)=>new ze({shape:n,unknownKeys:"strip",catchall:zt.create(),typeName:ce.ZodObject,...ve(e)});class On extends we{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new qt(l.ctx.common.issues));return ne(t,{code:Q.invalid_union,unionErrors:a}),me}if(t.common.async)return Promise.all(r.map(async s=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const d={...t,common:{...t.common,issues:[]},parent:null},o=u._parseSync({data:t.data,path:t.path,parent:d});if(o.status==="valid")return o;o.status==="dirty"&&!s&&(s={result:o,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(u=>new qt(u));return ne(t,{code:Q.invalid_union,unionErrors:l}),me}}get options(){return this._def.options}}On.create=(n,e)=>new On({options:n,typeName:ce.ZodUnion,...ve(e)});const Jn=n=>n instanceof Zn?Jn(n.schema):n instanceof Ft?Jn(n.innerType()):n instanceof Dn?[n.value]:n instanceof Yt?n.options:n instanceof Ln?Object.keys(n.enum):n instanceof zn?Jn(n._def.innerType):n instanceof Rn?[void 0]:n instanceof Nn?[null]:null;class xr extends we{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ee.object)return ne(t,{code:Q.invalid_type,expected:ee.object,received:t.parsedType}),me;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(ne(t,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const a=Jn(s.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new xr({typeName:ce.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...ve(r)})}}function zr(n,e){const t=Qt(n),r=Qt(e);if(n===e)return{valid:!0,data:n};if(t===ee.object&&r===ee.object){const i=Ee.objectKeys(e),s=Ee.objectKeys(n).filter(l=>i.indexOf(l)!==-1),a={...n,...e};for(const l of s){const u=zr(n[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(t===ee.array&&r===ee.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const a=n[s],l=e[s],u=zr(a,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===ee.date&&r===ee.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class jn extends we{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Dr(s)||Dr(a))return me;const l=zr(s.value,a.value);return l.valid?((Lr(s)||Lr(a))&&t.dirty(),{status:t.value,value:l.data}):(ne(r,{code:Q.invalid_intersection_types}),me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}jn.create=(n,e,t)=>new jn({left:n,right:e,typeName:ce.ZodIntersection,...ve(t)});class Pt extends we{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return ne(r,{code:Q.invalid_type,expected:ee.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return ne(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(ne(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new jt(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>pt.mergeArray(t,a)):pt.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Pt({...this._def,rest:e})}}Pt.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pt({items:n,typeName:ce.ZodTuple,rest:null,...ve(e)})};class Pn extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.object)return ne(r,{code:Q.invalid_type,expected:ee.object,received:r.parsedType}),me;const i=[],s=this._def.keyType,a=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new jt(r,l,r.path,l)),value:a._parse(new jt(r,r.data[l],r.path,l))});return r.common.async?pt.mergeObjectAsync(t,i):pt.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof we?new Pn({keyType:e,valueType:t,typeName:ce.ZodRecord,...ve(r)}):new Pn({keyType:Mt.create(),valueType:e,typeName:ce.ZodRecord,...ve(t)})}}class or extends we{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return ne(r,{code:Q.invalid_type,expected:ee.map,received:r.parsedType}),me;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([l,u],d)=>({key:i._parse(new jt(r,l,r.path,[d,"key"])),value:s._parse(new jt(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,o=await u.value;if(d.status==="aborted"||o.status==="aborted")return me;(d.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(d.value,o.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const u of a){const d=u.key,o=u.value;if(d.status==="aborted"||o.status==="aborted")return me;(d.status==="dirty"||o.status==="dirty")&&t.dirty(),l.set(d.value,o.value)}return{status:t.value,value:l}}}}or.create=(n,e,t)=>new or({valueType:e,keyType:n,typeName:ce.ZodMap,...ve(t)});class ln extends we{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return ne(r,{code:Q.invalid_type,expected:ee.set,received:r.parsedType}),me;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ne(r,{code:Q.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ne(r,{code:Q.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function a(u){const d=new Set;for(const o of u){if(o.status==="aborted")return me;o.status==="dirty"&&t.dirty(),d.add(o.value)}return{status:t.value,value:d}}const l=[...r.data.values()].map((u,d)=>s._parse(new jt(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,t){return new ln({...this._def,minSize:{value:e,message:se.toString(t)}})}max(e,t){return new ln({...this._def,maxSize:{value:e,message:se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ln.create=(n,e)=>new ln({valueType:n,minSize:null,maxSize:null,typeName:ce.ZodSet,...ve(e)});class wn extends we{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ee.function)return ne(t,{code:Q.invalid_type,expected:ee.function,received:t.parsedType}),me;function r(l,u){return rr({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,nr(),Fn].filter(d=>!!d),issueData:{code:Q.invalid_arguments,argumentsError:u}})}function i(l,u){return rr({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,nr(),Fn].filter(d=>!!d),issueData:{code:Q.invalid_return_type,returnTypeError:u}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;return this._def.returns instanceof $n?_t(async(...l)=>{const u=new qt([]),d=await this._def.args.parseAsync(l,s).catch(c=>{throw u.addIssue(r(l,c)),u}),o=await a(...d);return await this._def.returns._def.type.parseAsync(o,s).catch(c=>{throw u.addIssue(i(o,c)),u})}):_t((...l)=>{const u=this._def.args.safeParse(l,s);if(!u.success)throw new qt([r(l,u.error)]);const d=a(...u.data),o=this._def.returns.safeParse(d,s);if(!o.success)throw new qt([i(d,o.error)]);return o.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new wn({...this._def,args:Pt.create(e).rest(nn.create())})}returns(e){return new wn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new wn({args:e||Pt.create([]).rest(nn.create()),returns:t||nn.create(),typeName:ce.ZodFunction,...ve(r)})}}class Zn extends we{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Zn.create=(n,e)=>new Zn({getter:n,typeName:ce.ZodLazy,...ve(e)});class Dn extends we{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ne(t,{received:t.data,code:Q.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}Dn.create=(n,e)=>new Dn({value:n,typeName:ce.ZodLiteral,...ve(e)});function ys(n,e){return new Yt({values:n,typeName:ce.ZodEnum,...ve(e)})}class Yt extends we{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return ne(t,{expected:Ee.joinValues(r),received:t.parsedType,code:Q.invalid_type}),me}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),r=this._def.values;return ne(t,{received:t.data,code:Q.invalid_enum_value,options:r}),me}return _t(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Yt.create(e)}exclude(e){return Yt.create(this.options.filter(t=>!e.includes(t)))}}Yt.create=ys;class Ln extends we{_parse(e){const t=Ee.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const i=Ee.objectValues(t);return ne(r,{expected:Ee.joinValues(i),received:r.parsedType,code:Q.invalid_type}),me}if(t.indexOf(e.data)===-1){const i=Ee.objectValues(t);return ne(r,{received:r.data,code:Q.invalid_enum_value,options:i}),me}return _t(e.data)}get enum(){return this._def.values}}Ln.create=(n,e)=>new Ln({values:n,typeName:ce.ZodNativeEnum,...ve(e)});class $n extends we{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ee.promise&&t.common.async===!1)return ne(t,{code:Q.invalid_type,expected:ee.promise,received:t.parsedType}),me;const r=t.parsedType===ee.promise?t.data:Promise.resolve(t.data);return _t(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}$n.create=(n,e)=>new $n({type:n,typeName:ce.ZodPromise,...ve(e)});class Ft extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const a=i.transform(r.data);return r.common.async?Promise.resolve(a).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}const s={addIssue:a=>{ne(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const a=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?me:(l.status==="dirty"&&t.dirty(),a(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?me:(l.status==="dirty"&&t.dirty(),a(l.value).then(()=>({status:t.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ir(a))return a;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>ir(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:t.value,value:l})):a);Ee.assertNever(i)}}Ft.create=(n,e,t)=>new Ft({schema:n,typeName:ce.ZodEffects,effect:e,...ve(t)});Ft.createWithPreprocess=(n,e,t)=>new Ft({schema:e,effect:{type:"preprocess",transform:n},typeName:ce.ZodEffects,...ve(t)});class Lt extends we{_parse(e){return this._getType(e)===ee.undefined?_t(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lt.create=(n,e)=>new Lt({innerType:n,typeName:ce.ZodOptional,...ve(e)});class on extends we{_parse(e){return this._getType(e)===ee.null?_t(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}on.create=(n,e)=>new on({innerType:n,typeName:ce.ZodNullable,...ve(e)});class zn extends we{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}zn.create=(n,e)=>new zn({innerType:n,typeName:ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ve(e)});class ur extends we{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return sr(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ur.create=(n,e)=>new ur({innerType:n,typeName:ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ve(e)});class cr extends we{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ee.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}cr.create=n=>new cr({typeName:ce.ZodNaN,...ve(n)});const Wa=Symbol("zod_brand");class bs extends we{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Bn extends we{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?me:s.status==="dirty"?(t.dirty(),vs(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new Bn({in:e,out:t,typeName:ce.ZodPipeline})}}const ws=(n,e={},t)=>n?xn.create().superRefine((r,i)=>{var s,a;if(!n(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(s=l.fatal)!==null&&s!==void 0?s:t)!==null&&a!==void 0?a:!0,d=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...d,fatal:u})}}):xn.create(),Ga={object:ze.lazycreate};var ce;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline"})(ce||(ce={}));const Ja=(n,e={message:`Input not instance of ${n.name}`})=>ws(t=>t instanceof n,e),ks=Mt.create,Cs=Gt.create,Ya=cr.create,Ka=Jt.create,As=Un.create,Xa=an.create,el=ar.create,tl=Rn.create,nl=Nn.create,rl=xn.create,il=nn.create,sl=zt.create,al=lr.create,ll=It.create,ol=ze.create,ul=ze.strictCreate,cl=On.create,fl=xr.create,dl=jn.create,hl=Pt.create,pl=Pn.create,ml=or.create,_l=ln.create,gl=wn.create,vl=Zn.create,yl=Dn.create,bl=Yt.create,wl=Ln.create,kl=$n.create,gi=Ft.create,Cl=Lt.create,Al=on.create,xl=Ft.createWithPreprocess,$l=Bn.create,El=()=>ks().optional(),Sl=()=>Cs().optional(),Tl=()=>As().optional(),Ml={string:n=>Mt.create({...n,coerce:!0}),number:n=>Gt.create({...n,coerce:!0}),boolean:n=>Un.create({...n,coerce:!0}),bigint:n=>Jt.create({...n,coerce:!0}),date:n=>an.create({...n,coerce:!0})},ql=me;var be=Object.freeze({__proto__:null,defaultErrorMap:Fn,setErrorMap:Ra,getErrorMap:nr,makeIssue:rr,EMPTY_PATH:Na,addIssueToContext:ne,ParseStatus:pt,INVALID:me,DIRTY:vs,OK:_t,isAborted:Dr,isDirty:Lr,isValid:ir,isAsync:sr,get util(){return Ee},get objectUtil(){return Zr},ZodParsedType:ee,getParsedType:Qt,ZodType:we,ZodString:Mt,ZodNumber:Gt,ZodBigInt:Jt,ZodBoolean:Un,ZodDate:an,ZodSymbol:ar,ZodUndefined:Rn,ZodNull:Nn,ZodAny:xn,ZodUnknown:nn,ZodNever:zt,ZodVoid:lr,ZodArray:It,ZodObject:ze,ZodUnion:On,ZodDiscriminatedUnion:xr,ZodIntersection:jn,ZodTuple:Pt,ZodRecord:Pn,ZodMap:or,ZodSet:ln,ZodFunction:wn,ZodLazy:Zn,ZodLiteral:Dn,ZodEnum:Yt,ZodNativeEnum:Ln,ZodPromise:$n,ZodEffects:Ft,ZodTransformer:Ft,ZodOptional:Lt,ZodNullable:on,ZodDefault:zn,ZodCatch:ur,ZodNaN:cr,BRAND:Wa,ZodBranded:bs,ZodPipeline:Bn,custom:ws,Schema:we,ZodSchema:we,late:Ga,get ZodFirstPartyTypeKind(){return ce},coerce:Ml,any:rl,array:ll,bigint:Ka,boolean:As,date:Xa,discriminatedUnion:fl,effect:gi,enum:bl,function:gl,instanceof:Ja,intersection:dl,lazy:vl,literal:yl,map:ml,nan:Ya,nativeEnum:wl,never:sl,null:nl,nullable:Al,number:Cs,object:ol,oboolean:Tl,onumber:Sl,optional:Cl,ostring:El,pipeline:$l,preprocess:xl,promise:kl,record:pl,set:_l,strictObject:ul,string:ks,symbol:el,transformer:gi,tuple:hl,undefined:tl,union:cl,unknown:il,void:al,NEVER:ql,ZodIssueCode:Q,quotelessJson:Ua,ZodError:qt});const ni={MalformedMessage:"Unknown client sent invalid message",InvalidToken:"Invalid token provided",UsernameTaken:"Username already in use",InappropriateName:"That name is not allowed/inappropriate choose another name",NotJoinable:"Quiz is not joinable",CapacityReached:"Quiz is full",UnknownPlayer:"Target player not found",Unexpected:"Unexpected error occurred",InvalidPermission:"You don't have permission to do that",UnexpectedMessage:"Client and server out of sync",InvalidAnswer:"Invalid answer type"};var _n=(n=>(n.None="None",n.Low="Low",n.Medium="Medium",n.High="High",n))(_n||{}),ht=(n=>(n.Lobby="Lobby",n.Starting="Starting",n.AwaitingReady="AwaitingReady",n.AwaitingAnswers="AwaitingAnswers",n.Marked="Marked",n.Finished="Finished",n))(ht||{}),Vn=(n=>(n.Start="Start",n.Cancel="Cancel",n.Skip="Skip",n.Reset="Reset",n))(Vn||{}),xs=(n=>(n.RemovedByHost="RemovedByHost",n.HostDisconnect="HostDisconnect",n.LostConnection="LostConnection",n.Disconnected="Disconnected",n))(xs||{});const Il={RemovedByHost:"Removed by host",HostDisconnect:"Quiz host left",LostConnection:"Connection lost",Disconnected:"Disconnected"};var Le=(n=>(n.Single="Single",n.Multiple="Multiple",n))(Le||{});const vi=be.object({id:be.number(),value:be.string(),correct:be.boolean()}),Fl=be.object({id:be.number(),text:be.string(),image:be.string().uuid().nullable(),answer_time:be.number(),bonus_score_time:be.number(),scoring:be.object({min_score:be.number(),max_score:be.number(),bonus_score:be.number()})}).and(be.discriminatedUnion("ty",[be.object({ty:be.literal("Single"),answers:be.array(vi)}),be.object({ty:be.literal("Multiple"),answers:be.array(vi),min:be.number(),max:be.number()})]));var Hr=(n=>(n.Single="Single",n.Multiple="Multiple",n))(Hr||{}),Ot=(n=>(n.Correct="Correct",n.Incorrect="Incorrect",n.Partial="Partial",n))(Ot||{}),Ht=(n=>(n.Initialize="Initialize",n.Connect="Connect",n.Join="Join",n.Ready="Ready",n.HostAction="HostAction",n.Answer="Answer",n.Kick="Kick",n))(Ht||{}),Tt=(n=>(n.Joined="Joined",n.Ok="Ok",n.PlayerData="PlayerData",n.GameState="GameState",n.TimeSync="TimeSync",n.Question="Question",n.Scores="Scores",n.Score="Score",n.Error="Error",n.Kicked="Kicked",n))(Tt||{}),en=(n=>(n[n.Home=0]="Home",n[n.Connect=1]="Connect",n[n.Join=2]="Join",n[n.Create=3]="Create",n[n.Editing=4]="Editing",n[n.Game=5]="Game",n))(en||{});const cn=Xt({ty:0});function En(){cn.set({ty:0})}function Br(){cn.set({ty:3})}function $s(){cn.set({ty:1})}function Ul(n){cn.set({ty:2,token:n})}function Es(n){cn.set({ty:5,gameData:n})}function Rl(n){cn.set({ty:4,question:n})}function fr(n){return((n.total-n.elapsed)/1e3).toFixed(0)}function ri(n){return new URL(n,window.location.origin)}function Vr(n,e){return ri(`/api/quiz/${n}/${e}`).toString()}function rn(n,e){const t=Math.round(Math.random()*(e-n)+n);return t>e?e:t<n?n:t}function Nl(n){return JSON.parse(JSON.stringify(n))}function yi(n){const e=["th","st","nd","rd"],t=n%100;return n+(e[(t-20)%10]||e[t]||e[0])}async function Ol(n,e){const t=e.image;if(t===null)return;const r=6;let i=0;const s=Vr(n,t);for(;i<r;)try{await new Promise((a,l)=>{const u=new Image;u.src=s,u.onload=a,u.onerror=l}),console.debug("Preloaded question image",s);break}catch(a){console.error("Failed to preload image trying again",s,a),i+=1}}let Ss=0,dr={},Hn=[],Ts=Ms();const Qr={},ii=Xt(!1);function Vt(n,e){hs(()=>{Qr[n]=e,console.log("Added handler for",n),Hn=Hn.filter(t=>t.ty===n?(e(t),!1):!0)}),ma(()=>{delete Qr[n]})}function jl(){for(const n of Hn)console.warn("Message was not handled",n);Hn=[]}function Ms(){const n=ri("/api/quiz/socket");n.protocol=n.protocol==="https"?"wss":"ws",console.debug("Connecting to socket server "+n);const e=new WebSocket(n);return e.onmessage=Dl,e.onopen=()=>{e.readyState==WebSocket.OPEN?(console.debug("Connected to socket"),ii.set(!0)):console.log(e.readyState)},e.onclose=t=>{console.error("WebSocket connetion closed",t),Pl()},e.onerror=t=>{console.error("WebSocket error",t)},e}function Pl(){Ss=0,dr={},jl(),En(),Zl()}function Zl(){console.debug("Socket connection lost (Reconnecting in 1000ms)"),ii.set(!1),setTimeout(()=>{Ts=Ms()},1e3)}function Kt(n){return new Promise((e,t)=>{console.debug("Sending message to server",n),n.rid=Ss++,dr[n.rid]={resolve:e,reject:t};const r=JSON.stringify(n);try{Ts.send(r)}catch(i){console.error("Failed to send message",i),delete dr[n.rid],t({ty:Tt.Error,error:"Unexpected"})}})}function Dl({data:n}){const e=JSON.parse(n);if(e.ty===void 0){console.error("Packet missing message type",n);return}const t=e.rid;if(t!==void 0){const i=dr[t];if(i===void 0){console.error(`Missing return handle ${t} for message`,e);return}e.ty===Tt.Error?i.reject(e.error):i.resolve(e)}const r=Qr[e.ty];if(r!==void 0){r(e);return}Hn.push(e)}async function Wr(n){try{await Kt({ty:Ht.Kick,id:n})}catch(e){console.error("Error while attempting to kick",e)}}async function $r(n){try{await Kt({ty:Ht.HostAction,action:n})}catch(e){console.error("Error while attempting host action",n,e)}}function Ll(){return $r(Vn.Start)}function zl(){return $r(Vn.Cancel)}function Hl(){return $r(Vn.Skip)}function Bl(){return $r(Vn.Reset)}async function Vl(){try{await Kt({ty:Ht.Ready})}catch(n){console.error("Error while attempting to ready",n)}}const Ql={Answered:["Hmm I wonder if you got it right....","It definitely had to be that one! ","Yeah it was probably that one... ","0_0 good luck i guess..","Are you sure it was that one..?"," Probbably right","It gotta be that one!","If you say so ","1 + 1 = 5?","Was definitely that one! "," don't tell them the answer","Made it in time ","Nice answer ","Mastermind "],[Ot.Correct]:["You did it!","That one was right!","Good job!","Yup that was it!","Nicely done ","Brainy ","Smarty pants "],[Ot.Incorrect]:["Ooops..","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"],[Ot.Partial]:["Almost there...","Not quite there","Just about...","Yeah not that one... ","Better luck next time ","Noooo your other left","Uh oh.... ","Yeah nope.... "," Maybe next time"]};function qs(n){const e=Ql[n];return e[rn(0,e.length-1)]}function Wl(n){let e,t,r,i,s,a;return{c(){e=M("main"),t=M("h1"),t.textContent="Waiting...",r=Z(),i=M("p"),i.textContent=`${n[0]}`,m(t,"class","title svelte-1p2ou5x"),m(i,"class","text svelte-1p2ou5x"),m(e,"class","main svelte-1p2ou5x")},m(l,u){V(l,e,u),_(e,t),_(e,r),_(e,i),a=!0},p:G,i(l){a||(ct(()=>{a&&(s||(s=He(e,Ke,{},!0)),s.run(1))}),a=!0)},o(l){s||(s=He(e,Ke,{},!1)),s.run(0),a=!1},d(l){l&&H(e),l&&s&&s.end()}}}function Gl(n){return[qs("Answered")]}class Jl extends Te{constructor(e){super(),Se(this,e,Gl,Wl,xe,{})}}function Er(n,{from:e,to:t},r={}){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform,[a,l]=i.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/t.width-(t.left+a),d=e.top+e.height*l/t.height-(t.top+l),{delay:o=0,duration:f=h=>Math.sqrt(h)*120,easing:c=ms}=r;return{delay:o,duration:vr(f)?f(Math.sqrt(u*u+d*d)):f,easing:c,css:(h,p)=>{const w=p*u,k=p*d,g=h+p*e.width/t.width,$=h+p*e.height/t.height;return`transform: ${s} translate(${w}px, ${k}px) scale(${g}, ${$});`}}}function bi(n){return Object.prototype.toString.call(n)==="[object Date]"}function Gr(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((i,s)=>Gr(n[s],i));return i=>r.map(s=>s(i))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(bi(n)&&bi(e)){n=n.getTime(),e=e.getTime();const s=e-n;return a=>new Date(n+a*s)}const r=Object.keys(e),i={};return r.forEach(s=>{i[s]=Gr(n[s],e[s])}),s=>{const a={};return r.forEach(l=>{a[l]=i[l](s)}),a}}if(t==="number"){const r=e-n;return i=>n+i*r}throw new Error(`Cannot interpolate ${t} values`)}function Is(n,e={}){const t=Xt(n);let r,i=n;function s(a,l){if(n==null)return t.set(n=a),Promise.resolve();i=a;let u=r,d=!1,{delay:o=0,duration:f=400,easing:c=gr,interpolate:h=Gr}=fi(fi({},e),l);if(f===0)return u&&(u.abort(),u=null),t.set(n=i),Promise.resolve();const p=Kr()+o;let w;return r=ei(k=>{if(k<p)return!0;d||(w=h(n,a),typeof f=="function"&&(f=f(n,a)),d=!0),u&&(u.abort(),u=null);const g=k-p;return g>f?(t.set(n=a),!1):(t.set(n=w(c(g/f))),!0)}),r.promise}return{set:s,update:(a,l)=>s(a(i,n),l),subscribe:t.subscribe}}function Yl(n){let e=n[0].toFixed(0)+"",t;return{c(){t=ie(e)},m(r,i){V(r,t,i)},p(r,[i]){i&1&&e!==(e=r[0].toFixed(0)+"")&&Me(t,e)},i:G,o:G,d(r){r&&H(t)}}}function Kl(n,e,t){let r,{value:i}=e;const s=Is(0,{delay:500});return Nt(n,s,a=>t(0,r=a)),n.$$set=a=>{"value"in a&&t(2,i=a.value)},n.$$.update=()=>{n.$$.dirty&4&&s.set(i)},[r,s,i]}class Fs extends Te{constructor(e){super(),Se(this,e,Kl,Yl,xe,{value:2})}}function Xl(n){let e,t,r,i,s,a,l,u,d;return{c(){e=fe("svg"),t=fe("g"),r=fe("polygon"),i=fe("polygon"),s=fe("polygon"),a=fe("g"),l=fe("circle"),u=fe("circle"),d=fe("path"),hi(r,"fill","#FFD102"),m(r,"points","371.342,210.903 469.209,150.675 379.787,95.648 281.922,155.874 	"),hi(i,"fill","#FFD102"),m(i,"points","127.994,210.903 225.863,150.675 136.44,95.648 38.576,155.874 	"),m(s,"fill","#FFE368"),m(s,"points",`383.997,197.691 255.992,118.921 127.994,197.691 0,118.921 22.505,382.593 489.495,382.593 
	512,118.921 `),m(l,"fill","#FFAA0E"),m(l,"cx","99.947"),m(l,"cy","320.636"),m(l,"r","8.44"),m(u,"fill","#FFAA0E"),m(u,"cx","66.184"),m(u,"cy","286.878"),m(u,"r","8.44"),m(d,"fill","#FFAA0E"),m(d,"d",`M489.495,371.341H22.505C10.076,371.341,0,381.416,0,393.846c0,12.43,10.076,22.505,22.505,22.505
		h466.989c12.43,0,22.505-10.076,22.505-22.505C512,381.416,501.924,371.341,489.495,371.341z`),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"viewBox","0 0 512 512"),m(e,"xml:space","preserve")},m(o,f){V(o,e,f),_(e,t),_(t,r),_(t,i),_(e,s),_(e,a),_(a,l),_(a,u),_(a,d)},p:G,i:G,o:G,d(o){o&&H(e)}}}class eo extends Te{constructor(e){super(),Se(this,e,null,Xl,xe,{})}}function wi(n,e,t){const r=n.slice();return r[3]=e[t],r[5]=t,r}function ki(n){let e,t,r;return{c(){e=M("button"),e.textContent="Restart",m(e,"class","btn")},m(i,s){V(i,e,s),t||(r=te(e,"click",Bl),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function Ci(n){let e,t,r;return t=new eo({}),{c(){e=M("div"),ue(t.$$.fragment),m(e,"class","crown svelte-1nfu4r3")},m(i,s){V(i,e,s),le(t,e,null),r=!0},i(i){r||(W(t.$$.fragment,i),r=!0)},o(i){J(t.$$.fragment,i),r=!1},d(i){i&&H(e),oe(t)}}}function Ai(n,e){let t,r,i,s=yi(e[5]+1)+"",a,l,u,d=e[3].name+"",o,f,c,h,p,w,k=G,g,$=e[5]==0&&Ci();return h=new Fs({props:{value:e[3].score}}),{key:n,first:null,c(){t=M("tr"),r=M("td"),$&&$.c(),i=Z(),a=ie(s),l=Z(),u=M("td"),o=ie(d),f=Z(),c=M("td"),ue(h.$$.fragment),p=Z(),m(r,"class","player__place svelte-1nfu4r3"),m(u,"class","player__name svelte-1nfu4r3"),m(c,"class","player_score svelte-1nfu4r3"),m(t,"class","player svelte-1nfu4r3"),this.first=t},m(E,x){V(E,t,x),_(t,r),$&&$.m(r,null),_(r,i),_(r,a),_(t,l),_(t,u),_(u,o),_(t,f),_(t,c),le(h,c,null),_(t,p),g=!0},p(E,x){e=E,e[5]==0?$?x&1&&W($,1):($=Ci(),$.c(),W($,1),$.m(r,i)):$&&(gt(),J($,1,1,()=>{$=null}),vt()),(!g||x&1)&&s!==(s=yi(e[5]+1)+"")&&Me(a,s),(!g||x&1)&&d!==(d=e[3].name+"")&&Me(o,d);const O={};x&1&&(O.value=e[3].score),h.$set(O)},r(){w=t.getBoundingClientRect()},f(){br(t),k()},a(){k(),k=yr(t,w,Er,{})},i(E){g||(W($),W(h.$$.fragment,E),g=!0)},o(E){J($),J(h.$$.fragment,E),g=!1},d(E){E&&H(t),$&&$.d(),oe(h)}}}function to(n){let e,t,r,i,s=n[1].token+"",a,l,u,d=n[1].config.name+"",o,f,c,h=n[1].config.text+"",p,w,k,g,$,E,x,O,T,U,y=[],v=new Map,q,A,I,N,S=n[1].host&&ki(),F=n[0].players;const C=b=>b[3].id;for(let b=0;b<F.length;b+=1){let j=wi(n,F,b),R=C(j);v.set(R,y[b]=Ai(R,j))}return{c(){e=M("main"),t=M("div"),r=M("div"),i=M("h1"),a=ie(s),l=Z(),u=M("h2"),o=ie(d),f=Z(),c=M("p"),p=ie(h),w=Z(),k=M("div"),g=M("button"),g.textContent="Leave",$=Z(),S&&S.c(),E=Z(),x=M("table"),O=M("thead"),O.innerHTML=`<tr><th class="svelte-1nfu4r3">Place</th> 
          <th class="svelte-1nfu4r3">Name</th> 
          <th class="svelte-1nfu4r3">Score</th></tr>`,T=Z(),U=M("tbody");for(let b=0;b<y.length;b+=1)y[b].c();m(i,"class","token svelte-1nfu4r3"),m(r,"class","head svelte-1nfu4r3"),m(u,"class","name"),m(c,"class","desc svelte-1nfu4r3"),m(g,"class","btn"),m(k,"class","btn-row btn-row--fill"),m(x,"class","players svelte-1nfu4r3"),m(t,"class","quiz svelte-1nfu4r3"),m(e,"class","main svelte-1nfu4r3")},m(b,j){V(b,e,j),_(e,t),_(t,r),_(r,i),_(i,a),_(t,l),_(t,u),_(u,o),_(t,f),_(t,c),_(c,p),_(t,w),_(t,k),_(k,g),_(k,$),S&&S.m(k,null),_(t,E),_(t,x),_(x,O),_(x,T),_(x,U);for(let R=0;R<y.length;R+=1)y[R]&&y[R].m(U,null);A=!0,I||(N=te(g,"click",n[2]),I=!0)},p(b,[j]){if((!A||j&2)&&s!==(s=b[1].token+"")&&Me(a,s),(!A||j&2)&&d!==(d=b[1].config.name+"")&&Me(o,d),(!A||j&2)&&h!==(h=b[1].config.text+"")&&Me(p,h),b[1].host?S?S.p(b,j):(S=ki(),S.c(),S.m(k,null)):S&&(S.d(1),S=null),j&1){F=b[0].players,gt();for(let R=0;R<y.length;R+=1)y[R].r();y=kr(y,j,C,1,b,F,v,U,wr,Ai,null,wi);for(let R=0;R<y.length;R+=1)y[R].a();vt()}},i(b){if(!A){for(let j=0;j<F.length;j+=1)W(y[j]);ct(()=>{A&&(q||(q=He(e,Ke,{},!0)),q.run(1))}),A=!0}},o(b){for(let j=0;j<y.length;j+=1)J(y[j]);q||(q=He(e,Ke,{},!1)),q.run(0),A=!1},d(b){b&&H(e),S&&S.d();for(let j=0;j<y.length;j+=1)y[j].d();b&&q&&q.end(),I=!1,N()}}}function no(n,e,t){let{summary:r}=e,{gameData:i}=e;async function s(){i.host&&!await Ar("Confirm Leave","Are you sure you want to leave? Leaving will remove all other players from the game")||(await Wr(i.id),En())}return n.$$set=a=>{"summary"in a&&t(0,r=a.summary),"gameData"in a&&t(1,i=a.gameData)},[r,i,s]}class ro extends Te{constructor(e){super(),Se(this,e,no,to,xe,{summary:0,gameData:1})}}function xi(n,e,t){const r=n.slice();return r[10]=e[t],r[12]=t,r}function $i(n,e,t){const r=n.slice();return r[10]=e[t],r[12]=t,r}function Ei(n){let e,t,r,i;return{c(){e=M("div"),t=M("img"),m(t,"class","image svelte-1cdgicv"),kn(t.src,r=Vr(n[0].token,n[2].image))||m(t,"src",r),m(t,"alt",i=n[2].text),m(e,"class","image-wrapper svelte-1cdgicv")},m(s,a){V(s,e,a),_(e,t)},p(s,a){a&5&&!kn(t.src,r=Vr(s[0].token,s[2].image))&&m(t,"src",r),a&4&&i!==(i=s[2].text)&&m(t,"alt",i)},d(s){s&&H(e)}}}function io(n){let e,t,r,i,s,a,l,u=n[2].answers,d=[];for(let o=0;o<u.length;o+=1)d[o]=Si(xi(n,u,o));return{c(){e=M("div");for(let o=0;o<d.length;o+=1)d[o].c();t=Z(),r=M("button"),i=ie("Submit"),m(e,"class","answers svelte-1cdgicv"),m(r,"class","btn submit svelte-1cdgicv"),r.disabled=s=n[3].length<n[2].min},m(o,f){V(o,e,f);for(let c=0;c<d.length;c+=1)d[c]&&d[c].m(e,null);V(o,t,f),V(o,r,f),_(r,i),a||(l=te(r,"click",n[5]),a=!0)},p(o,f){if(f&12){u=o[2].answers;let c;for(c=0;c<u.length;c+=1){const h=xi(o,u,c);d[c]?d[c].p(h,f):(d[c]=Si(h),d[c].c(),d[c].m(e,null))}for(;c<d.length;c+=1)d[c].d(1);d.length=u.length}f&12&&s!==(s=o[3].length<o[2].min)&&(r.disabled=s)},d(o){o&&H(e),qn(d,o),o&&H(t),o&&H(r),a=!1,l()}}}function so(n){let e,t=n[2].answers,r=[];for(let i=0;i<t.length;i+=1)r[i]=Ti($i(n,t,i));return{c(){e=M("div");for(let i=0;i<r.length;i+=1)r[i].c();m(e,"class","answers svelte-1cdgicv")},m(i,s){V(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,s){if(s&20){t=i[2].answers;let a;for(a=0;a<t.length;a+=1){const l=$i(i,t,a);r[a]?r[a].p(l,s):(r[a]=Ti(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&H(e),qn(r,i)}}}function Si(n){let e,t,r,i,s=n[10].value+"",a,l,u,d,o;return u=oa(n[9][0]),{c(){e=M("label"),t=M("input"),i=Z(),a=ie(s),l=Z(),m(t,"type","checkbox"),t.__value=n[12],t.value=t.__value,t.disabled=r=n[3].length>=n[2].max&&!n[3].includes(n[12]),m(e,"class","answer btn svelte-1cdgicv"),u.p(t)},m(f,c){V(f,e,c),_(e,t),t.checked=~(n[3]||[]).indexOf(t.__value),_(e,i),_(e,a),_(e,l),d||(o=te(t,"change",n[8]),d=!0)},p(f,c){c&12&&r!==(r=f[3].length>=f[2].max&&!f[3].includes(f[12]))&&(t.disabled=r),c&12&&(t.checked=~(f[3]||[]).indexOf(t.__value)),c&4&&s!==(s=f[10].value+"")&&Me(a,s)},d(f){f&&H(e),u.r(),d=!1,o()}}}function Ti(n){let e,t=n[10].value+"",r,i,s,a;function l(){return n[7](n[12])}return{c(){e=M("button"),r=ie(t),i=Z(),m(e,"class","answer btn svelte-1cdgicv")},m(u,d){V(u,e,d),_(e,r),_(e,i),s||(a=te(e,"click",l),s=!0)},p(u,d){n=u,d&4&&t!==(t=n[10].value+"")&&Me(r,t)},d(u){u&&H(e),s=!1,a()}}}function ao(n){let e,t=fr(n[1])+"",r,i,s,a,l,u,d=n[2].text+"",o,f,c,h=n[2].image!==null&&Ei(n);function p(g,$){if(g[2].ty===Le.Single)return so;if(g[2].ty===Le.Multiple)return io}let w=p(n),k=w&&w(n);return{c(){e=M("p"),r=ie(t),i=Z(),s=M("main"),h&&h.c(),a=Z(),l=M("div"),u=M("p"),o=ie(d),f=Z(),k&&k.c(),m(e,"class","time svelte-1cdgicv"),m(u,"class","text svelte-1cdgicv"),m(l,"class","content svelte-1cdgicv"),m(l,"data-image",c=n[2].image!==null),m(s,"class","main svelte-1cdgicv")},m(g,$){V(g,e,$),_(e,r),V(g,i,$),V(g,s,$),h&&h.m(s,null),_(s,a),_(s,l),_(l,u),_(u,o),_(l,f),k&&k.m(l,null)},p(g,[$]){$&2&&t!==(t=fr(g[1])+"")&&Me(r,t),g[2].image!==null?h?h.p(g,$):(h=Ei(g),h.c(),h.m(s,a)):h&&(h.d(1),h=null),$&4&&d!==(d=g[2].text+"")&&Me(o,d),w===(w=p(g))&&k?k.p(g,$):(k&&k.d(1),k=w&&w(g),k&&(k.c(),k.m(l,null))),$&4&&c!==(c=g[2].image!==null)&&m(l,"data-image",c)},i:G,o:G,d(g){g&&H(e),g&&H(i),g&&H(s),h&&h.d(),k&&k.d()}}}function lo(n,e,t){let{gameData:r}=e,{timer:i}=e,{question:s}=e,{answered:a}=e,l=[];async function u(h){t(6,a=!0);try{await Kt({ty:Ht.Answer,answer:{ty:Hr.Single,answer:h}})}catch(p){console.error("Error while attempting to answer",p)}}async function d(){t(6,a=!0);try{await Kt({ty:Ht.Answer,answer:{ty:Hr.Multiple,answers:l}})}catch(h){console.error("Error while attempting to answer",h)}}const o=[[]],f=h=>u(h);function c(){l=la(o[0],this.__value,this.checked),t(3,l)}return n.$$set=h=>{"gameData"in h&&t(0,r=h.gameData),"timer"in h&&t(1,i=h.timer),"question"in h&&t(2,s=h.question),"answered"in h&&t(6,a=h.answered)},[r,i,s,l,u,d,a,f,c,o]}class oo extends Te{constructor(e){super(),Se(this,e,lo,ao,xe,{gameData:0,timer:1,question:2,answered:6})}}function Mi(n,e,t){const r=n.slice();return r[7]=e[t],r}function qi(n){let e;return{c(){e=M("span"),e.textContent="Starting",m(e,"class","starting")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function Ii(n){let e,t=fr(n[0])+"",r;return{c(){e=M("span"),r=ie(t),m(e,"class","time svelte-12sfho9")},m(i,s){V(i,e,s),_(e,r)},p(i,s){s&1&&t!==(t=fr(i[0])+"")&&Me(r,t)},d(i){i&&H(e)}}}function Fi(n){let e,t,r=n[0].elapsed!==n[0].total&&Ui();function i(l,u){if(l[4]===ht.Starting)return co;if(l[2].length>0&&l[4]===ht.Lobby)return uo}let s=i(n),a=s&&s(n);return{c(){r&&r.c(),e=Z(),a&&a.c(),t=un()},m(l,u){r&&r.m(l,u),V(l,e,u),a&&a.m(l,u),V(l,t,u)},p(l,u){l[0].elapsed!==l[0].total?r?r.p(l,u):(r=Ui(),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s===(s=i(l))&&a?a.p(l,u):(a&&a.d(1),a=s&&s(l),a&&(a.c(),a.m(t.parentNode,t)))},d(l){r&&r.d(l),l&&H(e),a&&a.d(l),l&&H(t)}}}function Ui(n){let e,t,r;return{c(){e=M("button"),e.textContent="Skip",m(e,"class","btn")},m(i,s){V(i,e,s),t||(r=te(e,"click",Hl),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function uo(n){let e,t,r;return{c(){e=M("button"),e.textContent="Start",m(e,"class","btn")},m(i,s){V(i,e,s),t||(r=te(e,"click",Ll),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function co(n){let e,t,r;return{c(){e=M("button"),e.textContent="Cancel",m(e,"class","btn")},m(i,s){V(i,e,s),t||(r=te(e,"click",zl),t=!0)},p:G,d(i){i&&H(e),t=!1,r()}}}function Ri(n){let e;return{c(){e=M("th"),e.textContent="Place",m(e,"class","svelte-12sfho9")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function Ni(n){let e;return{c(){e=M("th"),e.textContent="Actions",m(e,"class","svelte-12sfho9")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function Oi(n){let e,t,r,i;function s(){return n[6](n[7])}return{c(){e=M("td"),t=M("button"),t.textContent="Kick",m(t,"class","btn"),m(e,"class","player__action svelte-12sfho9")},m(a,l){V(a,e,l),_(e,t),r||(i=te(t,"click",s),r=!0)},p(a,l){n=a},d(a){a&&H(e),r=!1,i()}}}function ji(n,e){let t,r,i=e[7].name+"",s,a,l,u,d,o,f,c=G,h;u=new Fs({props:{value:e[3][e[7].id]??0}});let p=e[1].host&&Oi(e);return{key:n,first:null,c(){t=M("tr"),r=M("td"),s=ie(i),a=Z(),l=M("td"),ue(u.$$.fragment),d=Z(),p&&p.c(),o=Z(),m(r,"class","player__name svelte-12sfho9"),m(l,"class","player_score svelte-12sfho9"),m(t,"class","player svelte-12sfho9"),this.first=t},m(w,k){V(w,t,k),_(t,r),_(r,s),_(t,a),_(t,l),le(u,l,null),_(t,d),p&&p.m(t,null),_(t,o),h=!0},p(w,k){e=w,(!h||k&4)&&i!==(i=e[7].name+"")&&Me(s,i);const g={};k&12&&(g.value=e[3][e[7].id]??0),u.$set(g),e[1].host?p?p.p(e,k):(p=Oi(e),p.c(),p.m(t,o)):p&&(p.d(1),p=null)},r(){f=t.getBoundingClientRect()},f(){br(t),c()},a(){c(),c=yr(t,f,Er,{})},i(w){h||(W(u.$$.fragment,w),h=!0)},o(w){J(u.$$.fragment,w),h=!1},d(w){w&&H(t),oe(u),p&&p.d()}}}function fo(n){let e,t,r,i,s=n[1].token+"",a,l,u,d,o,f,c=n[1].config.name+"",h,p,w,k=n[1].config.text+"",g,$,E,x,O,T,U,y,v,q,A,I,N,S,F,C,b=[],j=new Map,R,D,Y,z,B=n[4]===ht.Starting&&qi(),L=n[0].elapsed!==n[0].total&&Ii(n),P=n[1].host&&Fi(n),X=n[4]===ht.Finished&&Ri(),ae=n[1].host&&Ni(),ye=n[2];const _e=K=>K[7].id;for(let K=0;K<ye.length;K+=1){let re=Mi(n,ye,K),ge=_e(re);j.set(ge,b[K]=ji(ge,re))}return{c(){e=M("main"),t=M("div"),r=M("div"),i=M("h1"),a=ie(s),l=Z(),u=M("p"),B&&B.c(),d=Z(),L&&L.c(),o=Z(),f=M("h2"),h=ie(c),p=Z(),w=M("p"),g=ie(k),$=Z(),E=M("div"),x=M("button"),x.textContent="Leave",O=Z(),P&&P.c(),T=Z(),U=M("table"),y=M("thead"),v=M("tr"),X&&X.c(),q=Z(),A=M("th"),A.textContent="Name",I=Z(),N=M("th"),N.textContent="Score",S=Z(),ae&&ae.c(),F=Z(),C=M("tbody");for(let K=0;K<b.length;K+=1)b[K].c();m(i,"class","token svelte-12sfho9"),m(u,"class","timing svelte-12sfho9"),m(r,"class","head svelte-12sfho9"),m(f,"class","name"),m(w,"class","desc svelte-12sfho9"),m(x,"class","btn"),m(E,"class","btn-row btn-row--fill"),m(A,"class","svelte-12sfho9"),m(N,"class","svelte-12sfho9"),m(U,"class","players svelte-12sfho9"),m(t,"class","quiz svelte-12sfho9"),m(e,"class","main svelte-12sfho9")},m(K,re){V(K,e,re),_(e,t),_(t,r),_(r,i),_(i,a),_(r,l),_(r,u),B&&B.m(u,null),_(u,d),L&&L.m(u,null),_(t,o),_(t,f),_(f,h),_(t,p),_(t,w),_(w,g),_(t,$),_(t,E),_(E,x),_(E,O),P&&P.m(E,null),_(t,T),_(t,U),_(U,y),_(y,v),X&&X.m(v,null),_(v,q),_(v,A),_(v,I),_(v,N),_(v,S),ae&&ae.m(v,null),_(U,F),_(U,C);for(let ge=0;ge<b.length;ge+=1)b[ge]&&b[ge].m(C,null);D=!0,Y||(z=te(x,"click",n[5]),Y=!0)},p(K,[re]){if((!D||re&2)&&s!==(s=K[1].token+"")&&Me(a,s),K[4]===ht.Starting?B||(B=qi(),B.c(),B.m(u,d)):B&&(B.d(1),B=null),K[0].elapsed!==K[0].total?L?L.p(K,re):(L=Ii(K),L.c(),L.m(u,null)):L&&(L.d(1),L=null),(!D||re&2)&&c!==(c=K[1].config.name+"")&&Me(h,c),(!D||re&2)&&k!==(k=K[1].config.text+"")&&Me(g,k),K[1].host?P?P.p(K,re):(P=Fi(K),P.c(),P.m(E,null)):P&&(P.d(1),P=null),K[4]===ht.Finished?X||(X=Ri(),X.c(),X.m(v,q)):X&&(X.d(1),X=null),K[1].host?ae||(ae=Ni(),ae.c(),ae.m(v,null)):ae&&(ae.d(1),ae=null),re&14){ye=K[2],gt();for(let ge=0;ge<b.length;ge+=1)b[ge].r();b=kr(b,re,_e,1,K,ye,j,C,wr,ji,null,Mi);for(let ge=0;ge<b.length;ge+=1)b[ge].a();vt()}},i(K){if(!D){for(let re=0;re<ye.length;re+=1)W(b[re]);ct(()=>{D&&(R||(R=He(e,Ke,{},!0)),R.run(1))}),D=!0}},o(K){for(let re=0;re<b.length;re+=1)J(b[re]);R||(R=He(e,Ke,{},!1)),R.run(0),D=!1},d(K){K&&H(e),B&&B.d(),L&&L.d(),P&&P.d(),X&&X.d(),ae&&ae.d();for(let re=0;re<b.length;re+=1)b[re].d();K&&R&&R.end(),Y=!1,z()}}}function ho(n,e,t){let{timer:r}=e,{gameData:i}=e,{players:s}=e,{scores:a}=e,{gameState:l}=e;async function u(){i.host&&!await Ar("Confirm Leave","Are you sure you want to leave? Leaving will remove all other players from the game")||(await Wr(i.id),En())}const d=o=>Wr(o.id);return n.$$set=o=>{"timer"in o&&t(0,r=o.timer),"gameData"in o&&t(1,i=o.gameData),"players"in o&&t(2,s=o.players),"scores"in o&&t(3,a=o.scores),"gameState"in o&&t(4,l=o.gameState)},[r,i,s,a,l,u,d]}class Us extends Te{constructor(e){super(),Se(this,e,ho,fo,xe,{timer:0,gameData:1,players:2,scores:3,gameState:4})}}function po(n){let e,t=n[0].count+"",r,i,s=n[0].total+"",a,l,u,d,o=n[1].toFixed(0)+"",f;return{c(){e=M("p"),r=ie(t),i=ie(" / "),a=ie(s),l=Z(),u=M("p"),d=ie("+"),f=ie(o),m(e,"class","ratio"),m(u,"class","score svelte-jw8nc2")},m(c,h){V(c,e,h),_(e,r),_(e,i),_(e,a),V(c,l,h),V(c,u,h),_(u,d),_(u,f)},p(c,h){h&1&&t!==(t=c[0].count+"")&&Me(r,t),h&1&&s!==(s=c[0].total+"")&&Me(a,s),h&2&&o!==(o=c[1].toFixed(0)+"")&&Me(f,o)},d(c){c&&H(e),c&&H(l),c&&H(u)}}}function mo(n){let e,t,r=n[1].toFixed(0)+"",i;return{c(){e=M("p"),t=ie("+"),i=ie(r),m(e,"class","score svelte-jw8nc2")},m(s,a){V(s,e,a),_(e,t),_(e,i)},p(s,a){a&2&&r!==(r=s[1].toFixed(0)+"")&&Me(i,r)},d(s){s&&H(e)}}}function _o(n){let e,t,r=n[0].ty+"",i,s,a,l,u,d,o;function f(p,w){if(p[0].ty===Ot.Correct)return mo;if(p[0].ty===Ot.Partial)return po}let c=f(n),h=c&&c(n);return{c(){e=M("main"),t=M("h1"),i=ie(r),s=Z(),a=M("p"),a.textContent=`${n[2]}`,l=Z(),h&&h.c(),m(t,"class","title svelte-jw8nc2"),m(a,"class","text svelte-jw8nc2"),m(e,"class","main svelte-jw8nc2"),m(e,"data-type",u=n[0].ty)},m(p,w){V(p,e,w),_(e,t),_(t,i),_(e,s),_(e,a),_(e,l),h&&h.m(e,null),o=!0},p(p,[w]){(!o||w&1)&&r!==(r=p[0].ty+"")&&Me(i,r),c===(c=f(p))&&h?h.p(p,w):(h&&h.d(1),h=c&&c(p),h&&(h.c(),h.m(e,null))),(!o||w&1&&u!==(u=p[0].ty))&&m(e,"data-type",u)},i(p){o||(ct(()=>{o&&(d||(d=He(e,Ke,{},!0)),d.run(1))}),o=!0)},o(p){d||(d=He(e,Ke,{},!1)),d.run(0),o=!1},d(p){p&&H(e),h&&h.d(),p&&d&&d.end()}}}function go(n,e,t){let r,{score:i}=e;const s=qs(i.ty),a=Is(0,{delay:500});return Nt(n,a,l=>t(1,r=l)),n.$$set=l=>{"score"in l&&t(0,i=l.score)},n.$$.update=()=>{n.$$.dirty&1&&(i.ty===Ot.Correct||i.ty===Ot.Partial)&&a.set(i.value)},[i,r,s,a]}class vo extends Te{constructor(e){super(),Se(this,e,go,_o,xe,{score:0})}}function yo(n){let e,t;return e=new ti({props:{text:"..."}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function bo(n){let e,t,r,i;const s=[$o,xo],a=[];function l(u,d){return u[8].elapsed>=u[8].total*.25?0:1}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=un()},m(u,d){a[e].m(u,d),V(u,r,d),i=!0},p(u,d){let o=e;e=l(u),e===o?a[e].p(u,d):(gt(),J(a[o],1,1,()=>{a[o]=null}),vt(),t=a[e],t?t.p(u,d):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r))},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){a[e].d(u),u&&H(r)}}}function wo(n){let e,t,r,i;const s=[So,Eo],a=[];function l(u,d){return u[7]?u[1].length!==1?1:-1:0}return~(e=l(n))&&(t=a[e]=s[e](n)),{c(){t&&t.c(),r=un()},m(u,d){~e&&a[e].m(u,d),V(u,r,d),i=!0},p(u,d){let o=e;e=l(u),e===o?~e&&a[e].p(u,d):(t&&(gt(),J(a[o],1,1,()=>{a[o]=null}),vt()),~e?(t=a[e],t?t.p(u,d):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r)):t=null)},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){~e&&a[e].d(u),u&&H(r)}}}function ko(n){let e,t;return e=new ti({props:{text:"Waiting for other players..."}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Co(n){let e,t;return e=new Us({props:{gameData:n[0],gameState:n[2],players:n[1],timer:n[8],scores:n[6]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&4&&(s.gameState=r[2]),i&2&&(s.players=r[1]),i&256&&(s.timer=r[8]),i&64&&(s.scores=r[6]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Ao(n){let e,t;return e=new ro({props:{gameData:n[0],summary:n[3]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&8&&(s.summary=r[3]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function xo(n){let e,t;return e=new vo({props:{score:n[5]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){const s={};i&32&&(s.score=r[5]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function $o(n){let e,t;return e=new Us({props:{gameData:n[0],gameState:n[2],players:n[1],timer:n[8],scores:n[6]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.gameData=r[0]),i&4&&(s.gameState=r[2]),i&2&&(s.players=r[1]),i&256&&(s.timer=r[8]),i&64&&(s.scores=r[6]),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Eo(n){let e,t;return e=new Jl({}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function So(n){let e,t,r;function i(a){n[9](a)}let s={question:n[4],gameData:n[0],timer:n[8]};return n[7]!==void 0&&(s.answered=n[7]),e=new oo({props:s}),Wt.push(()=>An(e,"answered",i)),{c(){ue(e.$$.fragment)},m(a,l){le(e,a,l),r=!0},p(a,l){const u={};l&16&&(u.question=a[4]),l&1&&(u.gameData=a[0]),l&256&&(u.timer=a[8]),!t&&l&128&&(t=!0,u.answered=a[7],Cn(()=>t=!1)),e.$set(u)},i(a){r||(W(e.$$.fragment,a),r=!0)},o(a){J(e.$$.fragment,a),r=!1},d(a){oe(e,a)}}}function To(n){let e,t,r,i;const s=[Ao,Co,ko,wo,bo,yo],a=[];function l(u,d){return u[2]===ht.Finished&&u[3]!=null?0:u[0].host||u[2]===ht.Lobby||u[2]===ht.Starting?1:u[2]===ht.AwaitingReady?2:u[2]===ht.AwaitingAnswers&&u[4]!=null?3:u[2]===ht.Marked?4:5}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=un()},m(u,d){a[e].m(u,d),V(u,r,d),i=!0},p(u,[d]){let o=e;e=l(u),e===o?a[e].p(u,d):(gt(),J(a[o],1,1,()=>{a[o]=null}),vt(),t=a[e],t?t.p(u,d):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r))},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){a[e].d(u),u&&H(r)}}}function Mo(n,e,t){let{gameData:r}=e,i=[],s=ht.Lobby,a=null;r.host||i.push({id:r.id,name:r.name??""});let l=null,u={ty:Ot.Incorrect},d={},o,f={total:0,elapsed:0},c=0;function h(){if(f.elapsed===f.total)return;const w=performance.now(),k=w-c;t(8,f.elapsed+=k,f),c=w,f.elapsed>f.total?t(8,f.elapsed=f.total,f):requestAnimationFrame(h)}Vt(Tt.PlayerData,w=>{console.debug("Other player message",w),i.push(w),t(1,i)}),Vt(Tt.GameState,w=>{if(console.debug("Game state message",w),t(2,s=w.state),t(7,o=!1),w.state===ht.Lobby)t(6,d={});else if(w.state===ht.Finished){const k=i.map(g=>({score:d[g.id]??0,...g}));k.sort((g,$)=>$.score-g.score),t(3,a={players:k})}}),Vt(Tt.TimeSync,w=>{console.debug("Time sync message",w),c=performance.now(),t(8,f={total:w.total,elapsed:w.elapsed}),h()}),Vt(Tt.Question,async w=>{console.debug("Question message",w),t(4,l=w.question),t(5,u={ty:Ot.Incorrect}),!r.host&&(await Ol(r.token,l),await Vl(),console.debug("Server acknowledged ready state"))}),Vt(Tt.Scores,w=>{console.debug("Score message",w),t(6,d=w.scores);let k=g=>d[g]??0;t(1,i=i.sort((g,$)=>k($.id)-k(g.id)))}),Vt(Tt.Score,w=>{console.debug("Score message",w),t(5,u=w.score)}),Vt(Tt.Error,w=>{console.error("Server error",w.error)}),Vt(Tt.Kicked,w=>{if(console.debug("Kick message",w),t(1,i=i.filter(k=>k.id!==w.id)),w.id===r.id&&(En(),w.reason!==xs.Disconnected)){const k=Il[w.reason];bn("Removed from game",k)}}),hs(()=>{});function p(w){o=w,t(7,o)}return n.$$set=w=>{"gameData"in w&&t(0,r=w.gameData)},[r,i,s,a,l,u,d,o,f,p]}class qo extends Te{constructor(e){super(),Se(this,e,Mo,To,xe,{gameData:0})}}function Io(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}function Rs(n,e){return new Promise(function(t,r){let i;return Fo(n).then(function(s){try{return i=s,t(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const Fo=n=>new Promise((e,t)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return t("not a valid JPEG");for(a+=2;;){const l=s.getUint16(a);if(l===65498)break;const u=s.getUint16(a+2);if(l===65505&&s.getUint32(a+4)===1165519206){const d=a+10;let o;switch(s.getUint16(d)){case 18761:o=!0;break;case 19789:o=!1;break;default:return t("TIFF header contains invalid endian")}if(s.getUint16(d+2,o)!==42)return t("TIFF header contains invalid version");const f=s.getUint32(d+4,o),c=d+f+2+12*s.getUint16(d+f,o);for(let h=d+f+2;h<c;h+=12)if(s.getUint16(h,o)==274){if(s.getUint16(h+2,o)!==3)return t("Orientation data type is invalid");if(s.getUint32(h+4,o)!==1)return t("Orientation data count is invalid");s.setUint16(h+8,1,o);break}return e(i.slice(a,a+2+u))}a+=2+u}return e(new Blob)}),r.readAsArrayBuffer(n)});var hr={},Uo={get exports(){return hr},set exports(n){hr=n}};(function(n){var e,t,r={};Uo.exports=r,r.parse=function(i,s){for(var a=r.bin.readUshort,l=r.bin.readUint,u=0,d={},o=new Uint8Array(i),f=o.length-4;l(o,f)!=101010256;)f--;u=f,u+=4;var c=a(o,u+=4);a(o,u+=2);var h=l(o,u+=2),p=l(o,u+=4);u+=4,u=p;for(var w=0;w<c;w++){l(o,u),u+=4,u+=4,u+=4,l(o,u+=4),h=l(o,u+=4);var k=l(o,u+=4),g=a(o,u+=4),$=a(o,u+2),E=a(o,u+4);u+=6;var x=l(o,u+=8);u+=4,u+=g+$+E,r._readLocal(o,x,d,h,k,s)}return d},r._readLocal=function(i,s,a,l,u,d){var o=r.bin.readUshort,f=r.bin.readUint;f(i,s),o(i,s+=4),o(i,s+=2);var c=o(i,s+=2);f(i,s+=2),f(i,s+=4),s+=4;var h=o(i,s+=8),p=o(i,s+=2);s+=2;var w=r.bin.readUTF8(i,s,h);if(s+=h,s+=p,d)a[w]={size:u,csize:l};else{var k=new Uint8Array(i.buffer,s);if(c==0)a[w]=new Uint8Array(k.buffer.slice(s,s+l));else{if(c!=8)throw"unknown compression method: "+c;var g=new Uint8Array(u);r.inflateRaw(k,g),a[w]=g}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*i.length));l[a]=120,l[a+1]=156,a+=2,a=r.F.deflateRaw(i,l,a,s.level);var u=r.adler(i,0,i.length);return l[a+0]=u>>>24&255,l[a+1]=u>>>16&255,l[a+2]=u>>>8&255,l[a+3]=u>>>0&255,new Uint8Array(l.buffer,0,a+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),l=r.F.deflateRaw(i,a,l,s.level);return new Uint8Array(a.buffer,0,l)},r.encode=function(i,s){s==null&&(s=!1);var a=0,l=r.bin.writeUint,u=r.bin.writeUshort,d={};for(var o in i){var f=!r._noNeed(o)&&!s,c=i[o],h=r.crc.crc(c,0,c.length);d[o]={cpr:f,usize:c.length,crc:h,file:f?r.deflateRaw(c):c}}for(var o in d)a+=d[o].file.length+30+46+2*r.bin.sizeUTF8(o);a+=22;var p=new Uint8Array(a),w=0,k=[];for(var o in d){var g=d[o];k.push(w),w=r._writeHeader(p,w,o,g,0)}var $=0,E=w;for(var o in d)g=d[o],k.push(w),w=r._writeHeader(p,w,o,g,1,k[$++]);var x=w-E;return l(p,w,101010256),w+=4,u(p,w+=4,$),u(p,w+=2,$),l(p,w+=2,x),l(p,w+=4,E),w+=4,w+=2,p.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,a,l,u,d){var o=r.bin.writeUint,f=r.bin.writeUshort,c=l.file;return o(i,s,u==0?67324752:33639248),s+=4,u==1&&(s+=2),f(i,s,20),f(i,s+=2,0),f(i,s+=2,l.cpr?8:0),o(i,s+=2,0),o(i,s+=4,l.crc),o(i,s+=4,c.length),o(i,s+=4,l.usize),f(i,s+=4,r.bin.sizeUTF8(a)),f(i,s+=2,0),s+=2,u==1&&(s+=2,s+=2,o(i,s+=6,d),s+=4),s+=r.bin.writeUTF8(i,s,a),u==0&&(i.set(c,s),s+=c.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,l){for(var u=0;u<l;u++)i=r.crc.table[255&(i^s[a+u])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^r.crc.update(4294967295,i,s,a)}},r.adler=function(i,s,a){for(var l=1,u=0,d=s,o=s+a;d<o;){for(var f=Math.min(d+5552,o);d<f;)u+=l+=i[d++];l%=65521,u%=65521}return u<<16|l},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var l="",u=0;u<a;u++)l+=String.fromCharCode(i[s+u]);return l},writeASCII:function(i,s,a){for(var l=0;l<a.length;l++)i[s+l]=a.charCodeAt(l)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var l,u="",d=0;d<a;d++)u+="%"+r.bin.pad(i[s+d].toString(16));try{l=decodeURIComponent(u)}catch{return r.bin.readASCII(i,s,a)}return l},writeUTF8:function(i,s,a){for(var l=a.length,u=0,d=0;d<l;d++){var o=a.charCodeAt(d);if(!(4294967168&o))i[s+u]=o,u++;else if(!(4294965248&o))i[s+u]=192|o>>6,i[s+u+1]=128|o>>0&63,u+=2;else if(!(4294901760&o))i[s+u]=224|o>>12,i[s+u+1]=128|o>>6&63,i[s+u+2]=128|o>>0&63,u+=3;else{if(4292870144&o)throw"e";i[s+u]=240|o>>18,i[s+u+1]=128|o>>12&63,i[s+u+2]=128|o>>6&63,i[s+u+3]=128|o>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var s=i.length,a=0,l=0;l<s;l++){var u=i.charCodeAt(l);if(!(4294967168&u))a++;else if(!(4294965248&u))a+=2;else if(!(4294901760&u))a+=3;else{if(4292870144&u)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(i,s,a,l){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],d=r.F.U,o=r.F._goodIndex;r.F._hash;var f=r.F._putsE,c=0,h=a<<3,p=0,w=i.length;if(l==0){for(;c<w;)f(s,h,c+(A=Math.min(65535,w-c))==w?1:0),h=r.F._copyExact(i,c,A,s,h+8),c+=A;return h>>>3}var k=d.lits,g=d.strt,$=d.prev,E=0,x=0,O=0,T=0,U=0,y=0;for(w>2&&(g[y=r.F._hash(i,0)]=0),c=0;c<w;c++){if(U=y,c+1<w-2){y=r.F._hash(i,c+1);var v=c+1&32767;$[v]=g[y],g[y]=v}if(p<=c){(E>14e3||x>26697)&&w-c>100&&(p<c&&(k[E]=c-p,E+=2,p=c),h=r.F._writeBlock(c==w-1||p==w?1:0,k,E,T,i,O,c-O,s,h),E=x=T=0,O=c);var q=0;c<w-2&&(q=r.F._bestMatch(i,c,$,U,Math.min(u[2],w-c),u[3]));var A=q>>>16,I=65535&q;if(q!=0){I=65535&q;var N=o(A=q>>>16,d.of0);d.lhst[257+N]++;var S=o(I,d.df0);d.dhst[S]++,T+=d.exb[N]+d.dxb[S],k[E]=A<<23|c-p,k[E+1]=I<<16|N<<8|S,E+=2,p=c+A}else d.lhst[i[c]]++;x++}}for(O==c&&i.length!=0||(p<c&&(k[E]=c-p,E+=2,p=c),h=r.F._writeBlock(1,k,E,T,i,O,c-O,s,h),E=0,x=0,E=x=T=0,O=c);7&h;)h++;return h>>>3},r.F._bestMatch=function(i,s,a,l,u,d){var o=32767&s,f=a[o],c=o-f+32768&32767;if(f==o||l!=r.F._hash(i,s-c))return 0;for(var h=0,p=0,w=Math.min(32767,s);c<=w&&--d!=0&&f!=o;){if(h==0||i[s+h]==i[s+h-c]){var k=r.F._howLong(i,s,c);if(k>h){if(p=c,(h=k)>=u)break;c+2<k&&(k=c+2);for(var g=0,$=0;$<k-2;$++){var E=s-c+$+32768&32767,x=E-a[E]+32768&32767;x>g&&(g=x,f=E)}}}c+=(o=f)-(f=a[o])+32768&32767}return h<<16|p},r.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var l=s,u=Math.min(i.length,s+258);for(s+=3;s<u&&i[s]==i[s-a];)s++;return s-l},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,a,l,u,d,o,f,c){var h,p,w,k,g,$,E,x,O,T=r.F.U,U=r.F._putsF,y=r.F._putsE;T.lhst[256]++,p=(h=r.F.getTrees())[0],w=h[1],k=h[2],g=h[3],$=h[4],E=h[5],x=h[6],O=h[7];var v=32+(c+3&7?8-(c+3&7):0)+(o<<3),q=l+r.F.contSize(T.fltree,T.lhst)+r.F.contSize(T.fdtree,T.dhst),A=l+r.F.contSize(T.ltree,T.lhst)+r.F.contSize(T.dtree,T.dhst);A+=14+3*E+r.F.contSize(T.itree,T.ihst)+(2*T.ihst[16]+3*T.ihst[17]+7*T.ihst[18]);for(var I=0;I<286;I++)T.lhst[I]=0;for(I=0;I<30;I++)T.dhst[I]=0;for(I=0;I<19;I++)T.ihst[I]=0;var N=v<q&&v<A?0:q<A?1:2;if(U(f,c,i),U(f,c+1,N),c+=3,N==0){for(;7&c;)c++;c=r.F._copyExact(u,d,o,f,c)}else{var S,F;if(N==1&&(S=T.fltree,F=T.fdtree),N==2){r.F.makeCodes(T.ltree,p),r.F.revCodes(T.ltree,p),r.F.makeCodes(T.dtree,w),r.F.revCodes(T.dtree,w),r.F.makeCodes(T.itree,k),r.F.revCodes(T.itree,k),S=T.ltree,F=T.dtree,y(f,c,g-257),y(f,c+=5,$-1),y(f,c+=5,E-4),c+=4;for(var C=0;C<E;C++)y(f,c+3*C,T.itree[1+(T.ordr[C]<<1)]);c+=3*E,c=r.F._codeTiny(x,T.itree,f,c),c=r.F._codeTiny(O,T.itree,f,c)}for(var b=d,j=0;j<a;j+=2){for(var R=s[j],D=R>>>23,Y=b+(8388607&R);b<Y;)c=r.F._writeLit(u[b++],S,f,c);if(D!=0){var z=s[j+1],B=z>>16,L=z>>8&255,P=255&z;y(f,c=r.F._writeLit(257+L,S,f,c),D-T.of0[L]),c+=T.exb[L],U(f,c=r.F._writeLit(P,F,f,c),B-T.df0[P]),c+=T.dxb[P],b+=D}}c=r.F._writeLit(256,S,f,c)}return c},r.F._copyExact=function(i,s,a,l,u){var d=u>>>3;return l[d]=a,l[d+1]=a>>>8,l[d+2]=255-l[d],l[d+3]=255-l[d+1],d+=4,l.set(new Uint8Array(i.buffer,s,a),d),u+(a+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),a=r.F._hufTree(i.dhst,i.dtree,15),l=[],u=r.F._lenCodes(i.ltree,l),d=[],o=r.F._lenCodes(i.dtree,d),f=0;f<l.length;f+=2)i.ihst[l[f]]++;for(f=0;f<d.length;f+=2)i.ihst[d[f]]++;for(var c=r.F._hufTree(i.ihst,i.itree,7),h=19;h>4&&i.itree[1+(i.ordr[h-1]<<1)]==0;)h--;return[s,a,c,u,o,h,l,d]},r.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},r.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},r.F.contSize=function(i,s){for(var a=0,l=0;l<s.length;l++)a+=s[l]*i[1+(l<<1)];return a},r.F._codeTiny=function(i,s,a,l){for(var u=0;u<i.length;u+=2){var d=i[u],o=i[u+1];l=r.F._writeLit(d,s,a,l);var f=d==16?2:d==17?3:7;d>15&&(r.F._putsE(a,l,o,f),l+=f)}return l},r.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var u=i[l+1],d=l+3<a?i[l+3]:-1,o=l+5<a?i[l+5]:-1,f=l==0?-1:i[l-1];if(u==0&&d==u&&o==u){for(var c=l+5;c+2<a&&i[c+2]==u;)c+=2;(h=Math.min(c+1-l>>>1,138))<11?s.push(17,h-3):s.push(18,h-11),l+=2*h-2}else if(u==f&&d==u&&o==u){for(c=l+5;c+2<a&&i[c+2]==u;)c+=2;var h=Math.min(c+1-l>>>1,6);s.push(16,h-3),l+=2*h-2}else s.push(u,0)}return a>>>1},r.F._hufTree=function(i,s,a){var l=[],u=i.length,d=s.length,o=0;for(o=0;o<d;o+=2)s[o]=0,s[o+1]=0;for(o=0;o<u;o++)i[o]!=0&&l.push({lit:o,f:i[o]});var f=l.length,c=l.slice(0);if(f==0)return 0;if(f==1){var h=l[0].lit;return c=h==0?1:0,s[1+(h<<1)]=1,s[1+(c<<1)]=1,1}l.sort(function(x,O){return x.f-O.f});var p=l[0],w=l[1],k=0,g=1,$=2;for(l[0]={lit:-1,f:p.f+w.f,l:p,r:w,d:0};g!=f-1;)p=k!=g&&($==f||l[k].f<l[$].f)?l[k++]:l[$++],w=k!=g&&($==f||l[k].f<l[$].f)?l[k++]:l[$++],l[g++]={lit:-1,f:p.f+w.f,l:p,r:w};var E=r.F.setDepth(l[g-1],0);for(E>a&&(r.F.restrictDepth(c,a,E),E=a),o=0;o<f;o++)s[1+(c[o].lit<<1)]=c[o].d;return E},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,a){var l=0,u=1<<a-s,d=0;for(i.sort(function(f,c){return c.d==f.d?f.f-c.f:c.d-f.d}),l=0;l<i.length&&i[l].d>s;l++){var o=i[l].d;i[l].d=s,d+=u-(1<<a-o)}for(d>>>=a-s;d>0;)(o=i[l].d)<s?(i[l].d++,d-=1<<s-o-1):l++;for(;l>=0;l--)i[l].d==s&&d<0&&(i[l].d--,d++);d!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},r.F._writeLit=function(i,s,a,l){return r.F._putsF(a,l,s[i<<1]),l+s[1+(i<<1)]},r.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var l=r.F,u=l._bitsF,d=l._bitsE,o=l._decodeTiny,f=l.makeCodes,c=l.codes2map,h=l._get17,p=l.U,w=s==null;w&&(s=new a(i.length>>>2<<3));for(var k,g,$=0,E=0,x=0,O=0,T=0,U=0,y=0,v=0,q=0;$==0;)if($=u(i,q,1),E=u(i,q+1,2),q+=3,E!=0){if(w&&(s=r.F._check(s,v+(1<<17))),E==1&&(k=p.flmap,g=p.fdmap,U=511,y=31),E==2){x=d(i,q,5)+257,O=d(i,q+5,5)+1,T=d(i,q+10,4)+4,q+=14;for(var A=0;A<38;A+=2)p.itree[A]=0,p.itree[A+1]=0;var I=1;for(A=0;A<T;A++){var N=d(i,q+3*A,3);p.itree[1+(p.ordr[A]<<1)]=N,N>I&&(I=N)}q+=3*T,f(p.itree,I),c(p.itree,I,p.imap),k=p.lmap,g=p.dmap,q=o(p.imap,(1<<I)-1,x+O,i,q,p.ttree);var S=l._copyOut(p.ttree,0,x,p.ltree);U=(1<<S)-1;var F=l._copyOut(p.ttree,x,O,p.dtree);y=(1<<F)-1,f(p.ltree,S),c(p.ltree,S,k),f(p.dtree,F),c(p.dtree,F,g)}for(;;){var C=k[h(i,q)&U];q+=15&C;var b=C>>>4;if(!(b>>>8))s[v++]=b;else{if(b==256)break;var j=v+b-254;if(b>264){var R=p.ldef[b-257];j=v+(R>>>3)+d(i,q,7&R),q+=7&R}var D=g[h(i,q)&y];q+=15&D;var Y=D>>>4,z=p.ddef[Y],B=(z>>>4)+u(i,q,15&z);for(q+=15&z,w&&(s=r.F._check(s,v+(1<<17)));v<j;)s[v]=s[v++-B],s[v]=s[v++-B],s[v]=s[v++-B],s[v]=s[v++-B];v=j}}}else{7&q&&(q+=8-(7&q));var L=4+(q>>>3),P=i[L-4]|i[L-3]<<8;w&&(s=r.F._check(s,v+P)),s.set(new a(i.buffer,i.byteOffset+L,P),v),q=L+P<<3,v+=P}return s.length==v?s:s.slice(0,v)},r.F._check=function(i,s){var a=i.length;if(s<=a)return i;var l=new Uint8Array(Math.max(a<<1,s));return l.set(i,0),l},r.F._decodeTiny=function(i,s,a,l,u,d){for(var o=r.F._bitsE,f=r.F._get17,c=0;c<a;){var h=i[f(l,u)&s];u+=15&h;var p=h>>>4;if(p<=15)d[c]=p,c++;else{var w=0,k=0;p==16?(k=3+o(l,u,2),u+=2,w=d[c-1]):p==17?(k=3+o(l,u,3),u+=3):p==18&&(k=11+o(l,u,7),u+=7);for(var g=c+k;c<g;)d[c]=w,c++}}return u},r.F._copyOut=function(i,s,a,l){for(var u=0,d=0,o=l.length>>>1;d<a;){var f=i[d+s];l[d<<1]=0,l[1+(d<<1)]=f,f>u&&(u=f),d++}for(;d<o;)l[d<<1]=0,l[1+(d<<1)]=0,d++;return u},r.F.makeCodes=function(i,s){for(var a,l,u,d,o=r.F.U,f=i.length,c=o.bl_count,h=0;h<=s;h++)c[h]=0;for(h=1;h<f;h+=2)c[i[h]]++;var p=o.next_code;for(a=0,c[0]=0,l=1;l<=s;l++)a=a+c[l-1]<<1,p[l]=a;for(u=0;u<f;u+=2)(d=i[u+1])!=0&&(i[u]=p[d],p[d]++)},r.F.codes2map=function(i,s,a){for(var l=i.length,u=r.F.U.rev15,d=0;d<l;d+=2)if(i[d+1]!=0)for(var o=d>>1,f=i[d+1],c=o<<4|f,h=s-f,p=i[d]<<h,w=p+(1<<h);p!=w;)a[u[p]>>>15-s]=c,p++},r.F.revCodes=function(i,s){for(var a=r.F.U.rev15,l=15-s,u=0;u<i.length;u+=2){var d=i[u]<<s-i[u+1];i[u]=a[d]>>>l}},r.F._putsE=function(i,s,a){a<<=7&s;var l=s>>>3;i[l]|=a,i[l+1]|=a>>>8},r.F._putsF=function(i,s,a){a<<=7&s;var l=s>>>3;i[l]|=a,i[l+1]|=a>>>8,i[l+2]|=a>>>16},r.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},r.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function l(u,d,o){for(;d--!=0;)u.push(0,o)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];l(i.fltree,144,8),l(i.fltree,112,9),l(i.fltree,24,7),l(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),l(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),l(i.itree,19,0),l(i.ltree,286,0),l(i.dtree,30,0),l(i.ttree,320,0)}()})();var Ro=Io({__proto__:null,default:hr},[hr]);const St=function(){var n={nextZero(o,f){for(;o[f]!=0;)f++;return f},readUshort:(o,f)=>o[f]<<8|o[f+1],writeUshort(o,f,c){o[f]=c>>8&255,o[f+1]=255&c},readUint:(o,f)=>16777216*o[f]+(o[f+1]<<16|o[f+2]<<8|o[f+3]),writeUint(o,f,c){o[f]=c>>24&255,o[f+1]=c>>16&255,o[f+2]=c>>8&255,o[f+3]=255&c},readASCII(o,f,c){let h="";for(let p=0;p<c;p++)h+=String.fromCharCode(o[f+p]);return h},writeASCII(o,f,c){for(let h=0;h<c.length;h++)o[f+h]=c.charCodeAt(h)},readBytes(o,f,c){const h=[];for(let p=0;p<c;p++)h.push(o[f+p]);return h},pad:o=>o.length<2?`0${o}`:o,readUTF8(o,f,c){let h,p="";for(let w=0;w<c;w++)p+=`%${n.pad(o[f+w].toString(16))}`;try{h=decodeURIComponent(p)}catch{return n.readASCII(o,f,c)}return h}};function e(o,f,c,h){const p=f*c,w=s(h),k=Math.ceil(f*w/8),g=new Uint8Array(4*p),$=new Uint32Array(g.buffer),{ctype:E}=h,{depth:x}=h,O=n.readUshort;if(E==6){const R=p<<2;if(x==8)for(var T=0;T<R;T+=4)g[T]=o[T],g[T+1]=o[T+1],g[T+2]=o[T+2],g[T+3]=o[T+3];if(x==16)for(T=0;T<R;T++)g[T]=o[T<<1]}else if(E==2){const R=h.tabs.tRNS;if(R==null){if(x==8)for(T=0;T<p;T++){var U=3*T;$[T]=255<<24|o[U+2]<<16|o[U+1]<<8|o[U]}if(x==16)for(T=0;T<p;T++)U=6*T,$[T]=255<<24|o[U+4]<<16|o[U+2]<<8|o[U]}else{var y=R[0];const D=R[1],Y=R[2];if(x==8)for(T=0;T<p;T++){var v=T<<2;U=3*T,$[T]=255<<24|o[U+2]<<16|o[U+1]<<8|o[U],o[U]==y&&o[U+1]==D&&o[U+2]==Y&&(g[v+3]=0)}if(x==16)for(T=0;T<p;T++)v=T<<2,U=6*T,$[T]=255<<24|o[U+4]<<16|o[U+2]<<8|o[U],O(o,U)==y&&O(o,U+2)==D&&O(o,U+4)==Y&&(g[v+3]=0)}}else if(E==3){const R=h.tabs.PLTE,D=h.tabs.tRNS,Y=D?D.length:0;if(x==1)for(var q=0;q<c;q++){var A=q*k,I=q*f;for(T=0;T<f;T++){v=I+T<<2;var N=3*(S=o[A+(T>>3)]>>7-((7&T)<<0)&1);g[v]=R[N],g[v+1]=R[N+1],g[v+2]=R[N+2],g[v+3]=S<Y?D[S]:255}}if(x==2)for(q=0;q<c;q++)for(A=q*k,I=q*f,T=0;T<f;T++)v=I+T<<2,N=3*(S=o[A+(T>>2)]>>6-((3&T)<<1)&3),g[v]=R[N],g[v+1]=R[N+1],g[v+2]=R[N+2],g[v+3]=S<Y?D[S]:255;if(x==4)for(q=0;q<c;q++)for(A=q*k,I=q*f,T=0;T<f;T++)v=I+T<<2,N=3*(S=o[A+(T>>1)]>>4-((1&T)<<2)&15),g[v]=R[N],g[v+1]=R[N+1],g[v+2]=R[N+2],g[v+3]=S<Y?D[S]:255;if(x==8)for(T=0;T<p;T++){var S;v=T<<2,N=3*(S=o[T]),g[v]=R[N],g[v+1]=R[N+1],g[v+2]=R[N+2],g[v+3]=S<Y?D[S]:255}}else if(E==4){if(x==8)for(T=0;T<p;T++){v=T<<2;var F=o[C=T<<1];g[v]=F,g[v+1]=F,g[v+2]=F,g[v+3]=o[C+1]}if(x==16)for(T=0;T<p;T++){var C;v=T<<2,F=o[C=T<<2],g[v]=F,g[v+1]=F,g[v+2]=F,g[v+3]=o[C+2]}}else if(E==0)for(y=h.tabs.tRNS?h.tabs.tRNS:-1,q=0;q<c;q++){const R=q*k,D=q*f;if(x==1)for(var b=0;b<f;b++){var j=(F=255*(o[R+(b>>>3)]>>>7-(7&b)&1))==255*y?0:255;$[D+b]=j<<24|F<<16|F<<8|F}else if(x==2)for(b=0;b<f;b++)j=(F=85*(o[R+(b>>>2)]>>>6-((3&b)<<1)&3))==85*y?0:255,$[D+b]=j<<24|F<<16|F<<8|F;else if(x==4)for(b=0;b<f;b++)j=(F=17*(o[R+(b>>>1)]>>>4-((1&b)<<2)&15))==17*y?0:255,$[D+b]=j<<24|F<<16|F<<8|F;else if(x==8)for(b=0;b<f;b++)j=(F=o[R+b])==y?0:255,$[D+b]=j<<24|F<<16|F<<8|F;else if(x==16)for(b=0;b<f;b++)F=o[R+(b<<1)],j=O(o,R+(b<<1))==y?0:255,$[D+b]=j<<24|F<<16|F<<8|F}return g}function t(o,f,c,h){const p=s(o),w=Math.ceil(c*p/8),k=new Uint8Array((w+1+o.interlace)*h);return f=o.tabs.CgBI?i(f,k):r(f,k),o.interlace==0?f=a(f,o,0,c,h):o.interlace==1&&(f=function($,E){const x=E.width,O=E.height,T=s(E),U=T>>3,y=Math.ceil(x*T/8),v=new Uint8Array(O*y);let q=0;const A=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],N=[8,8,8,4,4,2,2],S=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const b=N[F],j=S[F];let R=0,D=0,Y=A[F];for(;Y<O;)Y+=b,D++;let z=I[F];for(;z<x;)z+=j,R++;const B=Math.ceil(R*T/8);a($,E,q,R,D);let L=0,P=A[F];for(;P<O;){let X=I[F],ae=q+L*B<<3;for(;X<x;){var C;if(T==1&&(C=(C=$[ae>>3])>>7-(7&ae)&1,v[P*y+(X>>3)]|=C<<7-((7&X)<<0)),T==2&&(C=(C=$[ae>>3])>>6-(7&ae)&3,v[P*y+(X>>2)]|=C<<6-((3&X)<<1)),T==4&&(C=(C=$[ae>>3])>>4-(7&ae)&15,v[P*y+(X>>1)]|=C<<4-((1&X)<<2)),T>=8){const ye=P*y+X*U;for(let _e=0;_e<U;_e++)v[ye+_e]=$[(ae>>3)+_e]}ae+=T,X+=j}L++,P+=b}R*D!=0&&(q+=D*(1+B)),F+=1}return v}(f,o)),f}function r(o,f){return i(new Uint8Array(o.buffer,2,o.length-6),f)}var i=function(){const o={H:{}};return o.H.N=function(f,c){const h=Uint8Array;let p,w,k=0,g=0,$=0,E=0,x=0,O=0,T=0,U=0,y=0;if(f[0]==3&&f[1]==0)return c||new h(0);const v=o.H,q=v.b,A=v.e,I=v.R,N=v.n,S=v.A,F=v.Z,C=v.m,b=c==null;for(b&&(c=new h(f.length>>>2<<5));k==0;)if(k=q(f,y,1),g=q(f,y+1,2),y+=3,g!=0){if(b&&(c=o.H.W(c,U+(1<<17))),g==1&&(p=C.J,w=C.h,O=511,T=31),g==2){$=A(f,y,5)+257,E=A(f,y+5,5)+1,x=A(f,y+10,4)+4,y+=14;let R=1;for(var j=0;j<38;j+=2)C.Q[j]=0,C.Q[j+1]=0;for(j=0;j<x;j++){const z=A(f,y+3*j,3);C.Q[1+(C.X[j]<<1)]=z,z>R&&(R=z)}y+=3*x,N(C.Q,R),S(C.Q,R,C.u),p=C.w,w=C.d,y=I(C.u,(1<<R)-1,$+E,f,y,C.v);const D=v.V(C.v,0,$,C.C);O=(1<<D)-1;const Y=v.V(C.v,$,E,C.D);T=(1<<Y)-1,N(C.C,D),S(C.C,D,p),N(C.D,Y),S(C.D,Y,w)}for(;;){const R=p[F(f,y)&O];y+=15&R;const D=R>>>4;if(!(D>>>8))c[U++]=D;else{if(D==256)break;{let Y=U+D-254;if(D>264){const X=C.q[D-257];Y=U+(X>>>3)+A(f,y,7&X),y+=7&X}const z=w[F(f,y)&T];y+=15&z;const B=z>>>4,L=C.c[B],P=(L>>>4)+q(f,y,15&L);for(y+=15&L;U<Y;)c[U]=c[U++-P],c[U]=c[U++-P],c[U]=c[U++-P],c[U]=c[U++-P];U=Y}}}}else{7&y&&(y+=8-(7&y));const R=4+(y>>>3),D=f[R-4]|f[R-3]<<8;b&&(c=o.H.W(c,U+D)),c.set(new h(f.buffer,f.byteOffset+R,D),U),y=R+D<<3,U+=D}return c.length==U?c:c.slice(0,U)},o.H.W=function(f,c){const h=f.length;if(c<=h)return f;const p=new Uint8Array(h<<1);return p.set(f,0),p},o.H.R=function(f,c,h,p,w,k){const g=o.H.e,$=o.H.Z;let E=0;for(;E<h;){const x=f[$(p,w)&c];w+=15&x;const O=x>>>4;if(O<=15)k[E]=O,E++;else{let T=0,U=0;O==16?(U=3+g(p,w,2),w+=2,T=k[E-1]):O==17?(U=3+g(p,w,3),w+=3):O==18&&(U=11+g(p,w,7),w+=7);const y=E+U;for(;E<y;)k[E]=T,E++}}return w},o.H.V=function(f,c,h,p){let w=0,k=0;const g=p.length>>>1;for(;k<h;){const $=f[k+c];p[k<<1]=0,p[1+(k<<1)]=$,$>w&&(w=$),k++}for(;k<g;)p[k<<1]=0,p[1+(k<<1)]=0,k++;return w},o.H.n=function(f,c){const h=o.H.m,p=f.length;let w,k,g,$;const E=h.j;for(var x=0;x<=c;x++)E[x]=0;for(x=1;x<p;x+=2)E[f[x]]++;const O=h.K;for(w=0,E[0]=0,k=1;k<=c;k++)w=w+E[k-1]<<1,O[k]=w;for(g=0;g<p;g+=2)$=f[g+1],$!=0&&(f[g]=O[$],O[$]++)},o.H.A=function(f,c,h){const p=f.length,w=o.H.m.r;for(let k=0;k<p;k+=2)if(f[k+1]!=0){const g=k>>1,$=f[k+1],E=g<<4|$,x=c-$;let O=f[k]<<x;const T=O+(1<<x);for(;O!=T;)h[w[O]>>>15-c]=E,O++}},o.H.l=function(f,c){const h=o.H.m.r,p=15-c;for(let w=0;w<f.length;w+=2){const k=f[w]<<c-f[w+1];f[w]=h[k]>>>p}},o.H.M=function(f,c,h){h<<=7&c;const p=c>>>3;f[p]|=h,f[p+1]|=h>>>8},o.H.I=function(f,c,h){h<<=7&c;const p=c>>>3;f[p]|=h,f[p+1]|=h>>>8,f[p+2]|=h>>>16},o.H.e=function(f,c,h){return(f[c>>>3]|f[1+(c>>>3)]<<8)>>>(7&c)&(1<<h)-1},o.H.b=function(f,c,h){return(f[c>>>3]|f[1+(c>>>3)]<<8|f[2+(c>>>3)]<<16)>>>(7&c)&(1<<h)-1},o.H.Z=function(f,c){return(f[c>>>3]|f[1+(c>>>3)]<<8|f[2+(c>>>3)]<<16)>>>(7&c)},o.H.i=function(f,c){return(f[c>>>3]|f[1+(c>>>3)]<<8|f[2+(c>>>3)]<<16|f[3+(c>>>3)]<<24)>>>(7&c)},o.H.m=function(){const f=Uint16Array,c=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=o.H.m;for(var c=0;c<32768;c++){let p=c;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,f.r[c]=(p>>>16|p<<16)>>>17}function h(p,w,k){for(;w--!=0;)p.push(0,k)}for(c=0;c<32;c++)f.q[c]=f.S[c]<<3|f.T[c],f.c[c]=f.p[c]<<4|f.z[c];h(f._,144,8),h(f._,112,9),h(f._,24,7),h(f._,8,8),o.H.n(f._,9),o.H.A(f._,9,f.J),o.H.l(f._,9),h(f.$,32,5),o.H.n(f.$,5),o.H.A(f.$,5,f.h),o.H.l(f.$,5),h(f.Q,19,0),h(f.C,286,0),h(f.D,30,0),h(f.v,320,0)}(),o.H.N}();function s(o){return[1,null,3,1,2,null,4][o.ctype]*o.depth}function a(o,f,c,h,p){let w=s(f);const k=Math.ceil(h*w/8);let g,$;w=Math.ceil(w/8);let E=o[c],x=0;if(E>1&&(o[c]=[0,0,1][E-2]),E==3)for(x=w;x<k;x++)o[x+1]=o[x+1]+(o[x+1-w]>>>1)&255;for(let O=0;O<p;O++)if(g=c+O*k,$=g+O+1,E=o[$-1],x=0,E==0)for(;x<k;x++)o[g+x]=o[$+x];else if(E==1){for(;x<w;x++)o[g+x]=o[$+x];for(;x<k;x++)o[g+x]=o[$+x]+o[g+x-w]}else if(E==2)for(;x<k;x++)o[g+x]=o[$+x]+o[g+x-k];else if(E==3){for(;x<w;x++)o[g+x]=o[$+x]+(o[g+x-k]>>>1);for(;x<k;x++)o[g+x]=o[$+x]+(o[g+x-k]+o[g+x-w]>>>1)}else{for(;x<w;x++)o[g+x]=o[$+x]+l(0,o[g+x-k],0);for(;x<k;x++)o[g+x]=o[$+x]+l(o[g+x-w],o[g+x-k],o[g+x-w-k])}return o}function l(o,f,c){const h=o+f-c,p=h-o,w=h-f,k=h-c;return p*p<=w*w&&p*p<=k*k?o:w*w<=k*k?f:c}function u(o,f,c){c.width=n.readUint(o,f),f+=4,c.height=n.readUint(o,f),f+=4,c.depth=o[f],f++,c.ctype=o[f],f++,c.compress=o[f],f++,c.filter=o[f],f++,c.interlace=o[f],f++}function d(o,f,c,h,p,w,k,g,$){const E=Math.min(f,p),x=Math.min(c,w);let O=0,T=0;for(let F=0;F<x;F++)for(let C=0;C<E;C++)if(k>=0&&g>=0?(O=F*f+C<<2,T=(g+F)*p+k+C<<2):(O=(-g+F)*f-k+C<<2,T=F*p+C<<2),$==0)h[T]=o[O],h[T+1]=o[O+1],h[T+2]=o[O+2],h[T+3]=o[O+3];else if($==1){var U=o[O+3]*.00392156862745098,y=o[O]*U,v=o[O+1]*U,q=o[O+2]*U,A=h[T+3]*(1/255),I=h[T]*A,N=h[T+1]*A,S=h[T+2]*A;const b=1-U,j=U+A*b,R=j==0?0:1/j;h[T+3]=255*j,h[T+0]=(y+I*b)*R,h[T+1]=(v+N*b)*R,h[T+2]=(q+S*b)*R}else if($==2)U=o[O+3],y=o[O],v=o[O+1],q=o[O+2],A=h[T+3],I=h[T],N=h[T+1],S=h[T+2],U==A&&y==I&&v==N&&q==S?(h[T]=0,h[T+1]=0,h[T+2]=0,h[T+3]=0):(h[T]=y,h[T+1]=v,h[T+2]=q,h[T+3]=U);else if($==3){if(U=o[O+3],y=o[O],v=o[O+1],q=o[O+2],A=h[T+3],I=h[T],N=h[T+1],S=h[T+2],U==A&&y==I&&v==N&&q==S)continue;if(U<220&&A>20)return!1}return!0}return{decode:function(f){const c=new Uint8Array(f);let h=8;const p=n,w=p.readUshort,k=p.readUint,g={tabs:{},frames:[]},$=new Uint8Array(c.length);let E,x=0,O=0;const T=[137,80,78,71,13,10,26,10];for(var U=0;U<8;U++)if(c[U]!=T[U])throw"The input is not a PNG file!";for(;h<c.length;){const F=p.readUint(c,h);h+=4;const C=p.readASCII(c,h,4);if(h+=4,C=="IHDR")u(c,h,g);else if(C=="iCCP"){for(var y=h;c[y]!=0;)y++;p.readASCII(c,h,y-h),c[y+1];const b=c.slice(y+2,h+F);let j=null;try{j=r(b)}catch{j=i(b)}g.tabs[C]=j}else if(C=="CgBI")g.tabs[C]=c.slice(h,h+4);else if(C=="IDAT"){for(U=0;U<F;U++)$[x+U]=c[h+U];x+=F}else if(C=="acTL")g.tabs[C]={num_frames:k(c,h),num_plays:k(c,h+4)},E=new Uint8Array(c.length);else if(C=="fcTL"){O!=0&&((S=g.frames[g.frames.length-1]).data=t(g,E.slice(0,O),S.rect.width,S.rect.height),O=0);const b={x:k(c,h+12),y:k(c,h+16),width:k(c,h+4),height:k(c,h+8)};let j=w(c,h+22);j=w(c,h+20)/(j==0?100:j);const R={rect:b,delay:Math.round(1e3*j),dispose:c[h+24],blend:c[h+25]};g.frames.push(R)}else if(C=="fdAT"){for(U=0;U<F-4;U++)E[O+U]=c[h+U+4];O+=F-4}else if(C=="pHYs")g.tabs[C]=[p.readUint(c,h),p.readUint(c,h+4),c[h+8]];else if(C=="cHRM")for(g.tabs[C]=[],U=0;U<8;U++)g.tabs[C].push(p.readUint(c,h+4*U));else if(C=="tEXt"||C=="zTXt"){g.tabs[C]==null&&(g.tabs[C]={});var v=p.nextZero(c,h),q=p.readASCII(c,h,v-h),A=h+F-v-1;if(C=="tEXt")N=p.readASCII(c,v+1,A);else{var I=r(c.slice(v+2,v+2+A));N=p.readUTF8(I,0,I.length)}g.tabs[C][q]=N}else if(C=="iTXt"){g.tabs[C]==null&&(g.tabs[C]={}),v=0,y=h,v=p.nextZero(c,y),q=p.readASCII(c,y,v-y);const b=c[y=v+1];var N;c[y+1],y+=2,v=p.nextZero(c,y),p.readASCII(c,y,v-y),y=v+1,v=p.nextZero(c,y),p.readUTF8(c,y,v-y),A=F-((y=v+1)-h),b==0?N=p.readUTF8(c,y,A):(I=r(c.slice(y,y+A)),N=p.readUTF8(I,0,I.length)),g.tabs[C][q]=N}else if(C=="PLTE")g.tabs[C]=p.readBytes(c,h,F);else if(C=="hIST"){const b=g.tabs.PLTE.length/3;for(g.tabs[C]=[],U=0;U<b;U++)g.tabs[C].push(w(c,h+2*U))}else if(C=="tRNS")g.ctype==3?g.tabs[C]=p.readBytes(c,h,F):g.ctype==0?g.tabs[C]=w(c,h):g.ctype==2&&(g.tabs[C]=[w(c,h),w(c,h+2),w(c,h+4)]);else if(C=="gAMA")g.tabs[C]=p.readUint(c,h)/1e5;else if(C=="sRGB")g.tabs[C]=c[h];else if(C=="bKGD")g.ctype==0||g.ctype==4?g.tabs[C]=[w(c,h)]:g.ctype==2||g.ctype==6?g.tabs[C]=[w(c,h),w(c,h+2),w(c,h+4)]:g.ctype==3&&(g.tabs[C]=c[h]);else if(C=="IEND")break;h+=F,p.readUint(c,h),h+=4}var S;return O!=0&&((S=g.frames[g.frames.length-1]).data=t(g,E.slice(0,O),S.rect.width,S.rect.height)),g.data=t(g,$,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(f){const c=f.width,h=f.height;if(f.tabs.acTL==null)return[e(f.data,c,h,f).buffer];const p=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const w=c*h*4,k=new Uint8Array(w),g=new Uint8Array(w),$=new Uint8Array(w);for(let x=0;x<f.frames.length;x++){const O=f.frames[x],T=O.rect.x,U=O.rect.y,y=O.rect.width,v=O.rect.height,q=e(O.data,y,v,f);if(x!=0)for(var E=0;E<w;E++)$[E]=k[E];if(O.blend==0?d(q,y,v,k,c,h,T,U,0):O.blend==1&&d(q,y,v,k,c,h,T,U,1),p.push(k.buffer.slice(0)),O.dispose!=0){if(O.dispose==1)d(g,y,v,k,c,h,T,U,0);else if(O.dispose==2)for(E=0;E<w;E++)k[E]=$[E]}}return p},_paeth:l,_copyTile:d,_bin:n}}();(function(){const{_copyTile:n}=St,{_bin:e}=St,t=St._paeth;var r={table:function(){const y=new Uint32Array(256);for(let v=0;v<256;v++){let q=v;for(let A=0;A<8;A++)1&q?q=3988292384^q>>>1:q>>>=1;y[v]=q}return y}(),update(y,v,q,A){for(let I=0;I<A;I++)y=r.table[255&(y^v[q+I])]^y>>>8;return y},crc:(y,v,q)=>4294967295^r.update(4294967295,y,v,q)};function i(y,v,q,A){v[q]+=y[0]*A>>4,v[q+1]+=y[1]*A>>4,v[q+2]+=y[2]*A>>4,v[q+3]+=y[3]*A>>4}function s(y){return Math.max(0,Math.min(255,y))}function a(y,v){const q=y[0]-v[0],A=y[1]-v[1],I=y[2]-v[2],N=y[3]-v[3];return q*q+A*A+I*I+N*N}function l(y,v,q,A,I,N,S){S==null&&(S=1);const F=A.length,C=[];for(var b=0;b<F;b++){const P=A[b];C.push([P>>>0&255,P>>>8&255,P>>>16&255,P>>>24&255])}for(b=0;b<F;b++){let P=4294967295;for(var j=0,R=0;R<F;R++){var D=a(C[b],C[R]);R!=b&&D<P&&(P=D,j=R)}}const Y=new Uint32Array(I.buffer),z=new Int16Array(v*q*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(b=0;b<B.length;b++)B[b]=255*((B[b]+.5)/16-.5);for(let P=0;P<q;P++)for(let X=0;X<v;X++){var L;b=4*(P*v+X),S!=2?L=[s(y[b]+z[b]),s(y[b+1]+z[b+1]),s(y[b+2]+z[b+2]),s(y[b+3]+z[b+3])]:(D=B[4*(3&P)+(3&X)],L=[s(y[b]+D),s(y[b+1]+D),s(y[b+2]+D),s(y[b+3]+D)]),j=0;let ae=16777215;for(R=0;R<F;R++){const K=a(L,C[R]);K<ae&&(ae=K,j=R)}const ye=C[j],_e=[L[0]-ye[0],L[1]-ye[1],L[2]-ye[2],L[3]-ye[3]];S==1&&(X!=v-1&&i(_e,z,b+4,7),P!=q-1&&(X!=0&&i(_e,z,b+4*v-4,3),i(_e,z,b+4*v,5),X!=v-1&&i(_e,z,b+4*v+4,1))),N[b>>2]=j,Y[b>>2]=A[j]}}function u(y,v,q,A,I){I==null&&(I={});const{crc:N}=r,S=e.writeUint,F=e.writeUshort,C=e.writeASCII;let b=8;const j=y.frames.length>1;let R,D=!1,Y=33+(j?20:0);if(I.sRGB!=null&&(Y+=13),I.pHYs!=null&&(Y+=21),I.iCCP!=null&&(R=pako.deflate(I.iCCP),Y+=21+R.length+4),y.ctype==3){for(var z=y.plte.length,B=0;B<z;B++)y.plte[B]>>>24!=255&&(D=!0);Y+=8+3*z+4+(D?8+1*z+4:0)}for(var L=0;L<y.frames.length;L++)j&&(Y+=38),Y+=(ye=y.frames[L]).cimg.length+12,L!=0&&(Y+=4);Y+=12;const P=new Uint8Array(Y),X=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)P[B]=X[B];if(S(P,b,13),b+=4,C(P,b,"IHDR"),b+=4,S(P,b,v),b+=4,S(P,b,q),b+=4,P[b]=y.depth,b++,P[b]=y.ctype,b++,P[b]=0,b++,P[b]=0,b++,P[b]=0,b++,S(P,b,N(P,b-17,17)),b+=4,I.sRGB!=null&&(S(P,b,1),b+=4,C(P,b,"sRGB"),b+=4,P[b]=I.sRGB,b++,S(P,b,N(P,b-5,5)),b+=4),I.iCCP!=null){const _e=13+R.length;S(P,b,_e),b+=4,C(P,b,"iCCP"),b+=4,C(P,b,"ICC profile"),b+=11,b+=2,P.set(R,b),b+=R.length,S(P,b,N(P,b-(_e+4),_e+4)),b+=4}if(I.pHYs!=null&&(S(P,b,9),b+=4,C(P,b,"pHYs"),b+=4,S(P,b,I.pHYs[0]),b+=4,S(P,b,I.pHYs[1]),b+=4,P[b]=I.pHYs[2],b++,S(P,b,N(P,b-13,13)),b+=4),j&&(S(P,b,8),b+=4,C(P,b,"acTL"),b+=4,S(P,b,y.frames.length),b+=4,S(P,b,I.loop!=null?I.loop:0),b+=4,S(P,b,N(P,b-12,12)),b+=4),y.ctype==3){for(S(P,b,3*(z=y.plte.length)),b+=4,C(P,b,"PLTE"),b+=4,B=0;B<z;B++){const _e=3*B,K=y.plte[B],re=255&K,ge=K>>>8&255,Be=K>>>16&255;P[b+_e+0]=re,P[b+_e+1]=ge,P[b+_e+2]=Be}if(b+=3*z,S(P,b,N(P,b-3*z-4,3*z+4)),b+=4,D){for(S(P,b,z),b+=4,C(P,b,"tRNS"),b+=4,B=0;B<z;B++)P[b+B]=y.plte[B]>>>24&255;b+=z,S(P,b,N(P,b-z-4,z+4)),b+=4}}let ae=0;for(L=0;L<y.frames.length;L++){var ye=y.frames[L];j&&(S(P,b,26),b+=4,C(P,b,"fcTL"),b+=4,S(P,b,ae++),b+=4,S(P,b,ye.rect.width),b+=4,S(P,b,ye.rect.height),b+=4,S(P,b,ye.rect.x),b+=4,S(P,b,ye.rect.y),b+=4,F(P,b,A[L]),b+=2,F(P,b,1e3),b+=2,P[b]=ye.dispose,b++,P[b]=ye.blend,b++,S(P,b,N(P,b-30,30)),b+=4);const _e=ye.cimg;S(P,b,(z=_e.length)+(L==0?0:4)),b+=4;const K=b;C(P,b,L==0?"IDAT":"fdAT"),b+=4,L!=0&&(S(P,b,ae++),b+=4),P.set(_e,b),b+=z,S(P,b,N(P,K,b-K)),b+=4}return S(P,b,0),b+=4,C(P,b,"IEND"),b+=4,S(P,b,N(P,b-4,4)),b+=4,P.buffer}function d(y,v,q){for(let A=0;A<y.frames.length;A++){const I=y.frames[A];I.rect.width;const N=I.rect.height,S=new Uint8Array(N*I.bpl+N);I.cimg=h(I.img,N,I.bpp,I.bpl,S,v,q)}}function o(y,v,q,A,I){const N=I[0],S=I[1],F=I[2],C=I[3],b=I[4],j=I[5];let R=6,D=8,Y=255;for(var z=0;z<y.length;z++){const je=new Uint8Array(y[z]);for(var B=je.length,L=0;L<B;L+=4)Y&=je[L+3]}const P=Y!=255,X=function(qe,de,Ie,Ve,$e,et){const Ce=[];for(var ke=0;ke<qe.length;ke++){const Fe=new Uint8Array(qe[ke]),Qe=new Uint32Array(Fe.buffer);var Pe;let Ze=0,tt=0,ft=de,We=Ie,Zt=Ve?1:0;if(ke!=0){const it=et||Ve||ke==1||Ce[ke-2].dispose!=0?1:2;let Et=0,Ut=1e9;for(let Ge=0;Ge<it;Ge++){var yt=new Uint8Array(qe[ke-1-Ge]);const De=new Uint32Array(qe[ke-1-Ge]);let bt=de,Je=Ie,xt=-1,nt=-1;for(let lt=0;lt<Ie;lt++)for(let Ye=0;Ye<de;Ye++)Qe[Re=lt*de+Ye]!=De[Re]&&(Ye<bt&&(bt=Ye),Ye>xt&&(xt=Ye),lt<Je&&(Je=lt),lt>nt&&(nt=lt));xt==-1&&(bt=Je=xt=nt=0),$e&&((1&bt)==1&&bt--,(1&Je)==1&&Je--);const Bt=(xt-bt+1)*(nt-Je+1);Bt<Ut&&(Ut=Bt,Et=Ge,Ze=bt,tt=Je,ft=xt-bt+1,We=nt-Je+1)}yt=new Uint8Array(qe[ke-1-Et]),Et==1&&(Ce[ke-1].dispose=2),Pe=new Uint8Array(ft*We*4),n(yt,de,Ie,Pe,ft,We,-Ze,-tt,0),Zt=n(Fe,de,Ie,Pe,ft,We,-Ze,-tt,3)?1:0,Zt==1?c(Fe,de,Ie,Pe,{x:Ze,y:tt,width:ft,height:We}):n(Fe,de,Ie,Pe,ft,We,-Ze,-tt,0)}else Pe=Fe.slice(0);Ce.push({rect:{x:Ze,y:tt,width:ft,height:We},img:Pe,blend:Zt,dispose:0})}if(Ve)for(ke=0;ke<Ce.length;ke++){if((Ne=Ce[ke]).blend==1)continue;const Fe=Ne.rect,Qe=Ce[ke-1].rect,Ze=Math.min(Fe.x,Qe.x),tt=Math.min(Fe.y,Qe.y),ft={x:Ze,y:tt,width:Math.max(Fe.x+Fe.width,Qe.x+Qe.width)-Ze,height:Math.max(Fe.y+Fe.height,Qe.y+Qe.height)-tt};Ce[ke-1].dispose=1,ke-1!=0&&f(qe,de,Ie,Ce,ke-1,ft,$e),f(qe,de,Ie,Ce,ke,ft,$e)}let $t=0;if(qe.length!=1)for(var Re=0;Re<Ce.length;Re++){var Ne;$t+=(Ne=Ce[Re]).rect.width*Ne.rect.height}return Ce}(y,v,q,N,S,F),ae={},ye=[],_e=[];if(A!=0){const je=[];for(L=0;L<X.length;L++)je.push(X[L].img.buffer);const qe=function($e){let et=0;for(var Ce=0;Ce<$e.length;Ce++)et+=$e[Ce].byteLength;const ke=new Uint8Array(et);let Pe=0;for(Ce=0;Ce<$e.length;Ce++){const yt=new Uint8Array($e[Ce]),$t=yt.length;for(let Re=0;Re<$t;Re+=4){let Ne=yt[Re],Fe=yt[Re+1],Qe=yt[Re+2];const Ze=yt[Re+3];Ze==0&&(Ne=Fe=Qe=0),ke[Pe+Re]=Ne,ke[Pe+Re+1]=Fe,ke[Pe+Re+2]=Qe,ke[Pe+Re+3]=Ze}Pe+=$t}return ke.buffer}(je),de=w(qe,A);for(L=0;L<de.plte.length;L++)ye.push(de.plte[L].est.rgba);let Ie=0;for(L=0;L<X.length;L++){const Ve=(re=X[L]).img.length;var K=new Uint8Array(de.inds.buffer,Ie>>2,Ve>>2);_e.push(K);const $e=new Uint8Array(de.abuf,Ie,Ve);j&&l(re.img,re.rect.width,re.rect.height,ye,$e,K),re.img.set($e),Ie+=Ve}}else for(z=0;z<X.length;z++){var re=X[z];const je=new Uint32Array(re.img.buffer);var ge=re.rect.width;for(B=je.length,K=new Uint8Array(B),_e.push(K),L=0;L<B;L++){const qe=je[L];if(L!=0&&qe==je[L-1])K[L]=K[L-1];else if(L>ge&&qe==je[L-ge])K[L]=K[L-ge];else{let de=ae[qe];if(de==null&&(ae[qe]=de=ye.length,ye.push(qe),ye.length>=300))break;K[L]=de}}}const Be=ye.length;for(Be<=256&&b==0&&(D=Be<=2?1:Be<=4?2:Be<=16?4:8,D=Math.max(D,C)),z=0;z<X.length;z++){(re=X[z]).rect.x,re.rect.y,ge=re.rect.width;const je=re.rect.height;let qe=re.img;new Uint32Array(qe.buffer);let de=4*ge,Ie=4;if(Be<=256&&b==0){de=Math.ceil(D*ge/8);var rt=new Uint8Array(de*je);const Ve=_e[z];for(let $e=0;$e<je;$e++){L=$e*de;const et=$e*ge;if(D==8)for(var Ae=0;Ae<ge;Ae++)rt[L+Ae]=Ve[et+Ae];else if(D==4)for(Ae=0;Ae<ge;Ae++)rt[L+(Ae>>1)]|=Ve[et+Ae]<<4-4*(1&Ae);else if(D==2)for(Ae=0;Ae<ge;Ae++)rt[L+(Ae>>2)]|=Ve[et+Ae]<<6-2*(3&Ae);else if(D==1)for(Ae=0;Ae<ge;Ae++)rt[L+(Ae>>3)]|=Ve[et+Ae]<<7-1*(7&Ae)}qe=rt,R=3,Ie=1}else if(P==0&&X.length==1){rt=new Uint8Array(ge*je*3);const Ve=ge*je;for(L=0;L<Ve;L++){const $e=3*L,et=4*L;rt[$e]=qe[et],rt[$e+1]=qe[et+1],rt[$e+2]=qe[et+2]}qe=rt,R=2,Ie=3,de=3*ge}re.img=qe,re.bpl=de,re.bpp=Ie}return{ctype:R,depth:D,plte:ye,frames:X}}function f(y,v,q,A,I,N,S){const F=Uint8Array,C=Uint32Array,b=new F(y[I-1]),j=new C(y[I-1]),R=I+1<y.length?new F(y[I+1]):null,D=new F(y[I]),Y=new C(D.buffer);let z=v,B=q,L=-1,P=-1;for(let ae=0;ae<N.height;ae++)for(let ye=0;ye<N.width;ye++){const _e=N.x+ye,K=N.y+ae,re=K*v+_e,ge=Y[re];ge==0||A[I-1].dispose==0&&j[re]==ge&&(R==null||R[4*re+3]!=0)||(_e<z&&(z=_e),_e>L&&(L=_e),K<B&&(B=K),K>P&&(P=K))}L==-1&&(z=B=L=P=0),S&&((1&z)==1&&z--,(1&B)==1&&B--),N={x:z,y:B,width:L-z+1,height:P-B+1};const X=A[I];X.rect=N,X.blend=1,X.img=new Uint8Array(N.width*N.height*4),A[I-1].dispose==0?(n(b,v,q,X.img,N.width,N.height,-N.x,-N.y,0),c(D,v,q,X.img,N)):n(D,v,q,X.img,N.width,N.height,-N.x,-N.y,0)}function c(y,v,q,A,I){n(y,v,q,A,I.width,I.height,-I.x,-I.y,2)}function h(y,v,q,A,I,N,S){const F=[];let C,b=[0,1,2,3,4];N!=-1?b=[N]:(v*A>5e5||q==1)&&(b=[0]),S&&(C={level:0});const j=Ro;for(var R=0;R<b.length;R++){for(let z=0;z<v;z++)p(I,y,z,A,q,b[R]);F.push(j.deflate(I,C))}let D,Y=1e9;for(R=0;R<F.length;R++)F[R].length<Y&&(D=R,Y=F[R].length);return F[D]}function p(y,v,q,A,I,N){const S=q*A;let F=S+q;if(y[F]=N,F++,N==0)if(A<500)for(var C=0;C<A;C++)y[F+C]=v[S+C];else y.set(new Uint8Array(v.buffer,S,A),F);else if(N==1){for(C=0;C<I;C++)y[F+C]=v[S+C];for(C=I;C<A;C++)y[F+C]=v[S+C]-v[S+C-I]+256&255}else if(q==0){for(C=0;C<I;C++)y[F+C]=v[S+C];if(N==2)for(C=I;C<A;C++)y[F+C]=v[S+C];if(N==3)for(C=I;C<A;C++)y[F+C]=v[S+C]-(v[S+C-I]>>1)+256&255;if(N==4)for(C=I;C<A;C++)y[F+C]=v[S+C]-t(v[S+C-I],0,0)+256&255}else{if(N==2)for(C=0;C<A;C++)y[F+C]=v[S+C]+256-v[S+C-A]&255;if(N==3){for(C=0;C<I;C++)y[F+C]=v[S+C]+256-(v[S+C-A]>>1)&255;for(C=I;C<A;C++)y[F+C]=v[S+C]+256-(v[S+C-A]+v[S+C-I]>>1)&255}if(N==4){for(C=0;C<I;C++)y[F+C]=v[S+C]+256-t(0,v[S+C-A],0)&255;for(C=I;C<A;C++)y[F+C]=v[S+C]+256-t(v[S+C-I],v[S+C-A],v[S+C-I-A])&255}}}function w(y,v){const q=new Uint8Array(y),A=q.slice(0),I=new Uint32Array(A.buffer),N=k(A,v),S=N[0],F=N[1],C=q.length,b=new Uint8Array(C>>2);let j;if(q.length<2e7)for(var R=0;R<C;R+=4)j=g(S,D=q[R]*(1/255),Y=q[R+1]*(1/255),z=q[R+2]*(1/255),B=q[R+3]*(1/255)),b[R>>2]=j.ind,I[R>>2]=j.est.rgba;else for(R=0;R<C;R+=4){var D=q[R]*.00392156862745098,Y=q[R+1]*(1/255),z=q[R+2]*(1/255),B=q[R+3]*(1/255);for(j=S;j.left;)j=$(j.est,D,Y,z,B)<=0?j.left:j.right;b[R>>2]=j.ind,I[R>>2]=j.est.rgba}return{abuf:A.buffer,inds:b,plte:F}}function k(y,v,q){q==null&&(q=1e-4);const A=new Uint32Array(y.buffer),I={i0:0,i1:y.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=O(y,I.i0,I.i1),I.est=T(I.bst);const N=[I];for(;N.length<v;){let F=0,C=0;for(var S=0;S<N.length;S++)N[S].est.L>F&&(F=N[S].est.L,C=S);if(F<q)break;const b=N[C],j=E(y,A,b.i0,b.i1,b.est.e,b.est.eMq255);if(b.i0>=j||b.i1<=j){b.est.L=0;continue}const R={i0:b.i0,i1:j,bst:null,est:null,tdst:0,left:null,right:null};R.bst=O(y,R.i0,R.i1),R.est=T(R.bst);const D={i0:j,i1:b.i1,bst:null,est:null,tdst:0,left:null,right:null};for(D.bst={R:[],m:[],N:b.bst.N-R.bst.N},S=0;S<16;S++)D.bst.R[S]=b.bst.R[S]-R.bst.R[S];for(S=0;S<4;S++)D.bst.m[S]=b.bst.m[S]-R.bst.m[S];D.est=T(D.bst),b.left=R,b.right=D,N[C]=R,N.push(D)}for(N.sort((F,C)=>C.bst.N-F.bst.N),S=0;S<N.length;S++)N[S].ind=S;return[I,N]}function g(y,v,q,A,I){if(y.left==null)return y.tdst=function(R,D,Y,z,B){const L=D-R[0],P=Y-R[1],X=z-R[2],ae=B-R[3];return L*L+P*P+X*X+ae*ae}(y.est.q,v,q,A,I),y;const N=$(y.est,v,q,A,I);let S=y.left,F=y.right;N>0&&(S=y.right,F=y.left);const C=g(S,v,q,A,I);if(C.tdst<=N*N)return C;const b=g(F,v,q,A,I);return b.tdst<C.tdst?b:C}function $(y,v,q,A,I){const{e:N}=y;return N[0]*v+N[1]*q+N[2]*A+N[3]*I-y.eMq}function E(y,v,q,A,I,N){for(A-=4;q<A;){for(;x(y,q,I)<=N;)q+=4;for(;x(y,A,I)>N;)A-=4;if(q>=A)break;const S=v[q>>2];v[q>>2]=v[A>>2],v[A>>2]=S,q+=4,A-=4}for(;x(y,q,I)>N;)q-=4;return q+4}function x(y,v,q){return y[v]*q[0]+y[v+1]*q[1]+y[v+2]*q[2]+y[v+3]*q[3]}function O(y,v,q){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],N=q-v>>2;for(let S=v;S<q;S+=4){const F=y[S]*.00392156862745098,C=y[S+1]*(1/255),b=y[S+2]*(1/255),j=y[S+3]*(1/255);I[0]+=F,I[1]+=C,I[2]+=b,I[3]+=j,A[0]+=F*F,A[1]+=F*C,A[2]+=F*b,A[3]+=F*j,A[5]+=C*C,A[6]+=C*b,A[7]+=C*j,A[10]+=b*b,A[11]+=b*j,A[15]+=j*j}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:I,N}}function T(y){const{R:v}=y,{m:q}=y,{N:A}=y,I=q[0],N=q[1],S=q[2],F=q[3],C=A==0?0:1/A,b=[v[0]-I*I*C,v[1]-I*N*C,v[2]-I*S*C,v[3]-I*F*C,v[4]-N*I*C,v[5]-N*N*C,v[6]-N*S*C,v[7]-N*F*C,v[8]-S*I*C,v[9]-S*N*C,v[10]-S*S*C,v[11]-S*F*C,v[12]-F*I*C,v[13]-F*N*C,v[14]-F*S*C,v[15]-F*F*C],j=b,R=U;let D=[Math.random(),Math.random(),Math.random(),Math.random()],Y=0,z=0;if(A!=0)for(let L=0;L<16&&(D=R.multVec(j,D),z=Math.sqrt(R.dot(D,D)),D=R.sml(1/z,D),!(L!=0&&Math.abs(z-Y)<1e-9));L++)Y=z;const B=[I*C,N*C,S*C,F*C];return{Cov:b,q:B,e:D,L:Y,eMq255:R.dot(R.sml(255,B),D),eMq:R.dot(D,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var U={multVec:(y,v)=>[y[0]*v[0]+y[1]*v[1]+y[2]*v[2]+y[3]*v[3],y[4]*v[0]+y[5]*v[1]+y[6]*v[2]+y[7]*v[3],y[8]*v[0]+y[9]*v[1]+y[10]*v[2]+y[11]*v[3],y[12]*v[0]+y[13]*v[1]+y[14]*v[2]+y[15]*v[3]],dot:(y,v)=>y[0]*v[0]+y[1]*v[1]+y[2]*v[2]+y[3]*v[3],sml:(y,v)=>[y*v[0],y*v[1],y*v[2],y*v[3]]};St.encode=function(v,q,A,I,N,S,F){I==null&&(I=0),F==null&&(F=!1);const C=o(v,q,A,I,[!1,!1,!1,0,F,!1]);return d(C,-1),u(C,q,A,N,S)},St.encodeLL=function(v,q,A,I,N,S,F,C){const b={ctype:0+(I==1?0:2)+(N==0?0:4),depth:S,frames:[]},j=(I+N)*S,R=j*q;for(let D=0;D<v.length;D++)b.frames.push({rect:{x:0,y:0,width:q,height:A},img:new Uint8Array(v[D]),blend:0,dispose:1,bpp:Math.ceil(j/8),bpl:Math.ceil(R/8)});return d(b,0,!0),u(b,q,A,F,C)},St.encode.compress=o,St.encode.dither=l,St.quantize=w,St.quantize.getKDtree=k,St.quantize.getNearest=g})();const Ns={toArrayBuffer(n,e){const t=n.width,r=n.height,i=t<<2,s=n.getContext("2d").getImageData(0,0,t,r),a=new Uint32Array(s.data.buffer),l=(32*t+31)/32<<2,u=l*r,d=122+u,o=new ArrayBuffer(d),f=new DataView(o),c=1<<20;let h,p,w,k,g=c,$=0,E=0,x=0;function O(y){f.setUint16(E,y,!0),E+=2}function T(y){f.setUint32(E,y,!0),E+=4}function U(y){E+=y}O(19778),T(d),U(4),T(122),T(108),T(t),T(-r>>>0),O(1),O(32),T(3),T(u),T(2835),T(2835),U(8),T(16711680),T(65280),T(255),T(4278190080),T(1466527264),function y(){for(;$<r&&g>0;){for(k=122+$*l,h=0;h<i;)g--,p=a[x++],w=p>>>24,f.setUint32(k+h,p<<8|w),h+=4;$++}x<a.length?(g=c,setTimeout(y,Ns._dly)):e(o)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var Ct={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},No={[Ct.CHROME]:16384,[Ct.FIREFOX]:11180,[Ct.DESKTOP_SAFARI]:16384,[Ct.IE]:8192,[Ct.IOS]:4096,[Ct.ETC]:8192};const si=typeof window<"u",Os=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,pr=si&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Oo=(si||Os)&&(pr&&pr.getOriginalSymbol(window,"File")||typeof File<"u"&&File),js=(si||Os)&&(pr&&pr.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ai(n,e,t=Date.now()){return new Promise(r=>{const i=n.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let l=a.length;const u=new Uint8Array(l);for(;l--;)u[l]=a.charCodeAt(l);const d=new Blob([u],{type:s});d.name=e,d.lastModified=t,r(d)})}function Ps(n){return new Promise((e,t)=>{const r=new js;r.onload=()=>e(r.result),r.onerror=i=>t(i),r.readAsDataURL(n)})}function Zs(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>t(i),r.src=n})}function tn(){if(tn.cachedResult!==void 0)return tn.cachedResult;let n=Ct.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=Ct.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=Ct.IOS:/Safari/i.test(e)?n=Ct.DESKTOP_SAFARI:/Firefox/i.test(e)?n=Ct.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=Ct.IE),tn.cachedResult=n,tn.cachedResult}function Ds(n,e){const t=tn(),r=No[t];let i=n,s=e,a=i*s;const l=i>s?s/i:i/s;for(;a>r*r;){const u=(r+i)/2,d=(r+s)/2;u<d?(s=d,i=d*l):(s=u*l,i=u),a=i*s}return{width:i,height:s}}function Sr(n,e){let t,r;try{if(t=new OffscreenCanvas(n,e),r=t.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),r=t.getContext("2d")}return t.width=n,t.height=e,[t,r]}function Ls(n,e){const{width:t,height:r}=Ds(n.width,n.height),[i,s]=Sr(t,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(n,0,0,i.width,i.height),i}function Yn(){return Yn.cachedResult!==void 0||(Yn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Yn.cachedResult}function mr(n,e={}){return new Promise(function(t,r){let i,s;var a=function(){try{return s=Ls(i,e.fileType||n.type),t([i,s])}catch(u){return r(u)}},l=function(u){try{var d=function(o){try{throw o}catch(f){return r(f)}};try{let o;return Ps(n).then(function(f){try{return o=f,Zs(o).then(function(c){try{return i=c,function(){try{return a()}catch(h){return r(h)}}()}catch(h){return d(h)}},d)}catch(c){return d(c)}},d)}catch(o){d(o)}}catch(o){return r(o)}};try{if(Yn()||[Ct.DESKTOP_SAFARI,Ct.MOBILE_SAFARI].includes(tn()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(u){try{return i=u,a()}catch{return l()}},l)}catch{l()}})}function _r(n,e,t,r,i=1){return new Promise(function(s,a){let l;if(e==="image/png"){let f,c,h;return f=n.getContext("2d"),{data:c}=f.getImageData(0,0,n.width,n.height),h=St.encode([c.buffer],n.width,n.height,4096*i),l=new Blob([h],{type:e}),l.name=t,l.lastModified=r,u.call(this)}{let f=function(){return u.call(this)};var d=f;if(e==="image/bmp")return new Promise(c=>Ns.toBlob(n,c)).then(function(c){try{return l=c,l.name=t,l.lastModified=r,f.call(this)}catch(h){return a(h)}}.bind(this),a);{let c=function(){return f.call(this)};var o=c;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:i}).then(function(h){try{return l=h,l.name=t,l.lastModified=r,c.call(this)}catch(p){return a(p)}}.bind(this),a);{let h;return h=n.toDataURL(e,i),ai(h,t,r).then(function(p){try{return l=p,c.call(this)}catch(w){return a(w)}}.bind(this),a)}}}function u(){return s(l)}})}function Rt(n){n.width=0,n.height=0}function gn(){return new Promise(function(n,e){let t,r,i,s;return gn.cachedResult!==void 0?n(gn.cachedResult):ai("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return t=a,mr(t).then(function(l){try{return r=l[1],_r(r,t.type,t.name,t.lastModified).then(function(u){try{return i=u,Rt(r),mr(i).then(function(d){try{return s=d[0],gn.cachedResult=s.width===1&&s.height===2,n(gn.cachedResult)}catch(o){return e(o)}},e)}catch(d){return e(d)}},e)}catch(u){return e(u)}},e)}catch(l){return e(l)}},e)})}function zs(n){return new Promise((e,t)=>{const r=new js;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let l=2;for(;l<a;){if(s.getUint16(l+2,!1)<=8)return e(-1);const u=s.getUint16(l,!1);if(l+=2,u==65505){if(s.getUint32(l+=2,!1)!=1165519206)return e(-1);const d=s.getUint16(l+=6,!1)==18761;l+=s.getUint32(l+4,d);const o=s.getUint16(l,d);l+=2;for(let f=0;f<o;f++)if(s.getUint16(l+12*f,d)==274)return e(s.getUint16(l+12*f+8,d))}else{if((65280&u)!=65280)break;l+=s.getUint16(l,!1)}}return e(-1)},r.onerror=i=>t(i),r.readAsArrayBuffer(n)})}function Hs(n,e){const{width:t}=n,{height:r}=n,{maxWidthOrHeight:i}=e;let s,a=n;return isFinite(i)&&(t>i||r>i)&&([a,s]=Sr(t,r),t>r?(a.width=i,a.height=r/t*i):(a.width=t/r*i,a.height=i),s.drawImage(n,0,0,a.width,a.height),Rt(n)),a}function Bs(n,e){const{width:t}=n,{height:r}=n,[i,s]=Sr(t,r);switch(e>4&&e<9?(i.width=r,i.height=t):(i.width=t,i.height=r),e){case 2:s.transform(-1,0,0,1,t,0);break;case 3:s.transform(-1,0,0,-1,t,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,t);break;case 8:s.transform(0,-1,1,0,0,t)}return s.drawImage(n,0,0,t,r),Rt(n),i}function Pi(n,e,t=0){return new Promise(function(r,i){let s,a,l,u,d,o,f,c,h,p,w,k,g,$,E,x,O,T,U,y;function v(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=A,e.onProgress(Math.min(s,100))}function q(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(A,s),100),e.onProgress(s)}return s=t,a=e.maxIteration||10,l=1024*e.maxSizeMB*1024,v(),mr(n,e).then(function(A){try{return[,u]=A,v(),d=Hs(u,e),v(),new Promise(function(I,N){var S;if(!(S=e.exifOrientation))return zs(n).then(function(C){try{return S=C,F.call(this)}catch(b){return N(b)}}.bind(this),N);function F(){return I(S)}return F.call(this)}).then(function(I){try{return o=I,v(),gn().then(function(N){try{return f=N?d:Bs(d,o),v(),c=e.initialQuality||1,h=e.fileType||n.type,_r(f,h,n.name,n.lastModified,c).then(function(S){try{{let j=function(){if(a--&&(E>l||E>g)){let D,Y;return D=y?.95*U.width:U.width,Y=y?.95*U.height:U.height,[O,T]=Sr(D,Y),T.drawImage(U,0,0,D,Y),c*=h==="image/png"?.85:.95,_r(O,h,n.name,n.lastModified,c).then(function(z){try{return x=z,Rt(U),U=O,E=x.size,q(Math.min(99,Math.floor(($-E)/($-l)*100))),j}catch(B){return i(B)}},i)}return[1]},R=function(){return Rt(U),Rt(O),Rt(d),Rt(f),Rt(u),q(100),r(x)};var C=j,b=R;if(p=S,v(),w=p.size>l,k=p.size>n.size,!w&&!k)return q(100),r(p);var F;return g=n.size,$=p.size,E=$,U=f,y=!e.alwaysKeepResolution&&w,(F=function(D){for(;D;){if(D.then)return void D.then(F,i);try{if(D.pop){if(D.length)return D.pop()?R.call(this):D;D=j}else D=D.call(this)}catch(Y){return i(Y)}}}.bind(this))(j)}}catch(j){return i(j)}}.bind(this),i)}catch(S){return i(S)}}.bind(this),i)}catch(N){return i(N)}}.bind(this),i)}catch(I){return i(I)}}.bind(this),i)})}const jo=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Rr;function Po(n,e){return new Promise((t,r)=>{Rr||(Rr=function(a){const l=[];return typeof a=="function"?l.push(`(${a})()`):l.push(a),URL.createObjectURL(new Blob(l))}(jo));const i=new Worker(Rr);i.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void i.terminate();t(a.data.file),i.terminate()}else e.onProgress(a.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function dt(n,e){return new Promise(function(t,r){let i,s,a,l,u,d;if(i={...e},a=0,{onProgress:l}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=h=>{a=h,typeof l=="function"&&l(a)},!(n instanceof Blob||n instanceof Oo))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return r(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||d)return Pi(n,i).then(function(h){try{return s=h,c.call(this)}catch(p){return r(p)}}.bind(this),r);var o=function(){try{return c.call(this)}catch(h){return r(h)}}.bind(this),f=function(h){try{return Pi(n,i).then(function(p){try{return s=p,o()}catch(w){return r(w)}},r)}catch(p){return r(p)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Po(n,i).then(function(h){try{return s=h,o()}catch{return f()}},f)}catch{f()}function c(){try{s.name=n.name,s.lastModified=n.lastModified}catch{}try{i.preserveExif&&n.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===n.type)&&(s=Rs(n,s))}catch{}return t(s)}})}dt.getDataUrlFromFile=Ps,dt.getFilefromDataUrl=ai,dt.loadImage=Zs,dt.drawImageInCanvas=Ls,dt.drawFileInCanvas=mr,dt.canvasToFile=_r,dt.getExifOrientation=zs,dt.handleMaxWidthOrHeight=Hs,dt.followExifOrientation=Bs,dt.cleanupCanvasMemory=Rt,dt.isAutoOrientationInBrowser=gn,dt.approximateBelowMaximumCanvasSizeOfBrowser=Ds,dt.copyExifWithoutOrientation=Rs,dt.getBrowserName=tn,dt.version="2.0.2";let Wn;const Zo=new Uint8Array(16);function Do(){if(!Wn&&(Wn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wn(Zo)}const ut=[];for(let n=0;n<256;++n)ut.push((n+256).toString(16).slice(1));function Lo(n,e=0){return(ut[n[e+0]]+ut[n[e+1]]+ut[n[e+2]]+ut[n[e+3]]+"-"+ut[n[e+4]]+ut[n[e+5]]+"-"+ut[n[e+6]]+ut[n[e+7]]+"-"+ut[n[e+8]]+ut[n[e+9]]+"-"+ut[n[e+10]]+ut[n[e+11]]+ut[n[e+12]]+ut[n[e+13]]+ut[n[e+14]]+ut[n[e+15]]).toLowerCase()}const zo=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zi={randomUUID:zo};function Ho(n,e,t){if(Zi.randomUUID&&!e&&!n)return Zi.randomUUID();n=n||{};const r=n.random||(n.rng||Do)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return Lo(r)}const Kn=5,Vs=1,Qs=30,Bo="Example Quiz",Vo="Small description about your quiz",Qo=10,Wo=100,Go=1e3*15,Jo=1e3,Yo=1e3*60*30,Ko=1e3*10,Xo=1e3,eu=1e3*60*30,tu=150,nu=1e3*3,ru=1e3,iu=1e3*60*30,su=1,Ws=50,au=1024*1024*15;function lu(){return{name:Bo,text:Vo,max_players:Ws,filtering:_n.High,timing:{wait_time:Ko},questions:[Gs()]}}function Gs(){return{id:0,ty:Le.Single,text:"This is an example question, you should replace this with your first question",image:null,answer_time:Go,bonus_score_time:nu,scoring:{min_score:Qo,max_score:Wo,bonus_score:tu},answers:[{id:0,value:"Example A",correct:!0},{id:1,value:"Example B",correct:!1},{id:2,value:"Example C",correct:!1},{id:3,value:"Example D",correct:!1}]}}const Mn=Xt({}),sn=Xt([]),Tr=Xt(null);function ou(){return new Promise(n=>{Tr.set(n)})}function uu(){Tr.update(n=>(n!==null&&n(null),null))}function cu(n){Tr.update(e=>(e!==null&&e(n),null))}async function fu(n,e){const t=Ho(),r=await dt(n,{maxSizeMB:.8,onProgress:e});if(r.size>=au)throw Error("File is too large (max 15mb)");sn.update(i=>(i.push({uuid:t,name:n.name,size:n.size,blob:r}),i)),Js(r,t)}async function Js(n,e){const t=new FileReader;await new Promise((i,s)=>{t.onload=i,t.onerror=s,t.onabort=s,t.readAsDataURL(n)});const r=t.result;Mn.update(i=>(i[e]=r,i))}const kt=Xt(lu());let Di=1;function du(){kt.update(n=>{const e=Gs();return e.id=Di,Di++,n.questions.push(e),n})}function Jr(n,e){kt.update(t=>{const r=t.questions,i=r[n],s=r[e];return(i!==void 0||s!==void 0)&&(r[n]=s,r[e]=i),t})}function hu(n){kt.update(e=>(e.questions.splice(n,1),e))}function pu(){kt.update(n=>{const e=n.questions,t=rn(1,e.length);let r=0;for(;r<t;){const i=rn(0,e.length-1),s=rn(0,e.length-1);i!==s&&(Jr(i,s),r++)}return n})}function mu(n){kt.update(e=>{const t=e.questions.findIndex(r=>r.id===n.id);return t===-1?e.questions.push(n):e.questions[t]=n,e})}function _u(n=void 0){const e=document.createElement("input");return e.type="file",e.hidden=!0,n!==void 0&&(e.accept=n),document.body.appendChild(e),new Promise((t,r)=>{e.onchange=()=>{if(e.files===null)return r();const i=e.files.item(0);t(i)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function gu(n=void 0){const e=document.createElement("input");return e.type="file",e.multiple=!0,e.hidden=!0,n!==void 0&&(e.accept=n),new Promise((t,r)=>{document.body.appendChild(e),e.onchange=()=>{if(e.files===null)return r();t(e.files)},e.oncancel=()=>t(null),e.click(),document.body.removeChild(e)})}function vu(n,e){const t=document.createElement("a");t.download=n.replace(/[ ^/]/g,"_"),t.href=URL.createObjectURL(e),t.dataset.downloadurl=["application/json",t.download,t.href].join(":"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function yu(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),m(t,"d","M0 0h24v24H0z"),m(t,"fill","none"),m(r,"d","M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","48px"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Ys extends Te{constructor(e){super(),Se(this,e,null,yu,xe,{})}}function Li(n,e,t){const r=n.slice();return r[14]=e[t],r}function zi(n,e,t){const r=n.slice();return r[17]=e[t],r}function Hi(n){let e,t,r,i,s,a,l,u,d,o,f,c,h,p,w,k,g,$,E,x=n[2].length<1&&n[0].length<1&&Bi(),O=n[2],T=[];for(let v=0;v<O.length;v+=1)T[v]=Vi(zi(n,O,v));let U=n[0],y=[];for(let v=0;v<U.length;v+=1)y[v]=Qi(Li(n,U,v));return f=new Ys({}),{c(){e=M("div"),t=M("div"),r=M("div"),x&&x.c(),i=Z();for(let v=0;v<T.length;v+=1)T[v].c();s=Z();for(let v=0;v<y.length;v+=1)y[v].c();a=Z(),l=M("div"),u=M("button"),u.textContent="Close",d=Z(),o=M("button"),ue(f.$$.fragment),c=ie(`
          Upload Images`),h=Z(),p=M("button"),w=ie("Delete All Images"),m(r,"class","images svelte-jdx2r3"),m(u,"class","btn btn--surface"),m(o,"class","btn btn--icon btn--surface"),m(p,"class","btn btn--surface"),p.disabled=k=n[2].length===0,m(l,"class","actions btn-row btn-row--fill svelte-jdx2r3"),m(t,"class","dialog svelte-jdx2r3"),m(e,"class","wrapper svelte-jdx2r3")},m(v,q){V(v,e,q),_(e,t),_(t,r),x&&x.m(r,null),_(r,i);for(let A=0;A<T.length;A+=1)T[A]&&T[A].m(r,null);_(r,s);for(let A=0;A<y.length;A+=1)y[A]&&y[A].m(r,null);_(t,a),_(t,l),_(l,u),_(l,d),_(l,o),le(f,o,null),_(o,c),_(l,h),_(l,p),_(p,w),g=!0,$||(E=[te(u,"click",uu),te(o,"click",n[4]),te(p,"click",n[7]),te(t,"drop",n[5]),te(t,"dragover",xu)],$=!0)},p(v,q){if(v[2].length<1&&v[0].length<1?x||(x=Bi(),x.c(),x.m(r,i)):x&&(x.d(1),x=null),q&76){O=v[2];let A;for(A=0;A<O.length;A+=1){const I=zi(v,O,A);T[A]?T[A].p(I,q):(T[A]=Vi(I),T[A].c(),T[A].m(r,s))}for(;A<T.length;A+=1)T[A].d(1);T.length=O.length}if(q&1){U=v[0];let A;for(A=0;A<U.length;A+=1){const I=Li(v,U,A);y[A]?y[A].p(I,q):(y[A]=Qi(I),y[A].c(),y[A].m(r,null))}for(;A<y.length;A+=1)y[A].d(1);y.length=U.length}(!g||q&4&&k!==(k=v[2].length===0))&&(p.disabled=k)},i(v){g||(W(f.$$.fragment,v),g=!0)},o(v){J(f.$$.fragment,v),g=!1},d(v){v&&H(e),x&&x.d(),qn(T,v),qn(y,v),oe(f),$=!1,Xe(E)}}}function Bi(n){let e;return{c(){e=M("p"),e.textContent="Click upload or drag and drop files here to upload",m(e,"class","images__text svelte-jdx2r3")},m(t,r){V(t,e,r)},d(t){t&&H(e)}}}function bu(n){let e;return{c(){e=M("span"),e.textContent="Preview loading.."},m(t,r){V(t,e,r)},p:G,d(t){t&&H(e)}}}function wu(n){let e,t;return{c(){e=M("img"),m(e,"class","image svelte-jdx2r3"),kn(e.src,t=n[3][n[17].uuid])||m(e,"src",t),m(e,"alt","Preview")},m(r,i){V(r,e,i)},p(r,i){i&12&&!kn(e.src,t=r[3][r[17].uuid])&&m(e,"src",t)},d(r){r&&H(e)}}}function Vi(n){let e,t,r=n[17].name+"",i,s,a,l,u,d=n[17].size+"",o,f,c,h,p,w,k,g,$;function E(y,v){return y[3][y[17].uuid]!==void 0?wu:bu}let x=E(n),O=x(n);function T(){return n[8](n[17])}function U(){return n[9](n[17])}return{c(){e=M("div"),t=M("p"),i=ie(r),s=Z(),a=M("div"),O.c(),l=Z(),u=M("p"),o=ie(d),f=ie(" bytes"),c=Z(),h=M("div"),p=M("button"),p.textContent="Select",w=Z(),k=M("button"),k.textContent="Delete",m(t,"class","file__name svelte-jdx2r3"),m(a,"class","image-wrapper svelte-jdx2r3"),m(p,"class","btn btn--small"),m(k,"class","btn btn--small"),m(h,"class","file__actions svelte-jdx2r3"),m(e,"class","file svelte-jdx2r3")},m(y,v){V(y,e,v),_(e,t),_(t,i),_(e,s),_(e,a),O.m(a,null),_(e,l),_(e,u),_(u,o),_(u,f),_(e,c),_(e,h),_(h,p),_(h,w),_(h,k),g||($=[te(p,"click",T),te(k,"click",U)],g=!0)},p(y,v){n=y,v&4&&r!==(r=n[17].name+"")&&Me(i,r),x===(x=E(n))&&O?O.p(n,v):(O.d(1),O=x(n),O&&(O.c(),O.m(a,null))),v&4&&d!==(d=n[17].size+"")&&Me(o,d)},d(y){y&&H(e),O.d(),g=!1,Xe($)}}}function ku(n){let e,t,r=n[14].progress+"",i;return{c(){e=M("p"),t=ie("Progress: "),i=ie(r)},m(s,a){V(s,e,a),_(e,t),_(e,i)},p(s,a){a&1&&r!==(r=s[14].progress+"")&&Me(i,r)},d(s){s&&H(e)}}}function Cu(n){let e,t=n[14].error+"",r;return{c(){e=M("p"),r=ie(t),m(e,"class","error svelte-jdx2r3")},m(i,s){V(i,e,s),_(e,r)},p(i,s){s&1&&t!==(t=i[14].error+"")&&Me(r,t)},d(i){i&&H(e)}}}function Qi(n){let e,t,r=n[14].name+"",i,s,a;function l(o,f){return o[14].error?Cu:ku}let u=l(n),d=u(n);return{c(){e=M("div"),t=M("p"),i=ie(r),s=Z(),d.c(),a=Z(),m(e,"class","file svelte-jdx2r3")},m(o,f){V(o,e,f),_(e,t),_(t,i),_(e,s),d.m(e,null),_(e,a)},p(o,f){f&1&&r!==(r=o[14].name+"")&&Me(i,r),u===(u=l(o))&&d?d.p(o,f):(d.d(1),d=u(o),d&&(d.c(),d.m(e,a)))},d(o){o&&H(e),d.d()}}}function Au(n){let e,t,r=n[1]&&Hi(n);return{c(){r&&r.c(),e=un()},m(i,s){r&&r.m(i,s),V(i,e,s),t=!0},p(i,[s]){i[1]?r?(r.p(i,s),s&2&&W(r,1)):(r=Hi(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(gt(),J(r,1,1,()=>{r=null}),vt())},i(i){t||(W(r),t=!0)},o(i){J(r),t=!1},d(i){r&&r.d(i),i&&H(e)}}}function xu(n){n.stopPropagation(),n.preventDefault()}function $u(n,e,t){let r,i,s;Nt(n,Tr,g=>t(1,r=g)),Nt(n,sn,g=>t(2,i=g)),Nt(n,Mn,g=>t(3,s=g));let a=[];async function l(){const g=await gu("image/*");g!==null&&d(g)}function u(g){g.stopPropagation(),g.preventDefault();const $=g.dataTransfer;if($===null)return;const E=$.files;E!==null&&d(E)}function d(g){for(const $ of g)a.push({name:$.name,progress:0,error:null}),t(0,a),fu($,E=>{c($.name,E)}).then(()=>o($)).catch(E=>f($,E))}function o(g){t(0,a=a.filter($=>$.name!==g.name))}function f(g,$){t(0,a=a.map(E=>(E.name===g.name&&(E.error=$.message),E)))}function c(g,$){t(0,a=a.map(E=>(E.name===g&&(E.progress=$),E)))}function h(g){sn.update($=>$.filter(E=>E.uuid!==g.uuid)),Mn.update($=>(delete $[g.uuid],$))}async function p(){await Ar("Confirm Deletion","Are you sure you want to delete all the uploaded files?")&&(sn.set([]),Mn.set({}),t(0,a=[]))}return[a,r,i,s,l,u,h,p,g=>cu(g),g=>h(g)]}class Eu extends Te{constructor(e){super(),Se(this,e,$u,Au,xe,{})}}function Su(n){let e,t;return{c(){e=fe("svg"),t=fe("path"),m(t,"d","M480 712 240 472l43-43 197 197 197-197 43 43-240 240Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","48"),m(e,"viewBox","0 96 960 960"),m(e,"width","48"),m(e,"fill","#FFFFFF")},m(r,i){V(r,e,i),_(e,t)},p:G,i:G,o:G,d(r){r&&H(e)}}}class Ks extends Te{constructor(e){super(),Se(this,e,null,Su,xe,{})}}function Tu(n){let e,t;return{c(){e=fe("svg"),t=fe("path"),m(t,"d","m283 699-43-43 240-240 240 240-43 43-197-197-197 197Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","48"),m(e,"viewBox","0 96 960 960"),m(e,"width","48"),m(e,"fill","#FFFFFF")},m(r,i){V(r,e,i),_(e,t)},p:G,i:G,o:G,d(r){r&&H(e)}}}class Xs extends Te{constructor(e){super(),Se(this,e,null,Tu,xe,{})}}function Mu(n){let e,t,r,i,s,a,l,u,d,o,f,c;return{c(){e=M("div"),t=M("input"),s=Z(),a=M("select"),l=M("option"),u=ie("Minutes"),d=M("option"),o=ie("Seconds"),m(t,"class","input svelte-t6875b"),m(t,"type","number"),m(t,"min",r=n[5](n[0])),m(t,"max",i=n[5](n[1])),l.__value=n[4].Minutes,l.value=l.__value,d.__value=n[4].Seconds,d.value=d.__value,m(a,"class","select svelte-t6875b"),n[2]===void 0&&ct(()=>n[9].call(a))},m(h,p){V(h,e,p),_(e,t),Oe(t,n[3]),_(e,s),_(e,a),_(a,l),_(l,u),_(a,d),_(d,o),Xn(a,n[2],!0),f||(c=[te(t,"input",n[8]),te(t,"change",n[6]),te(a,"change",n[9]),te(a,"change",n[6])],f=!0)},p(h,[p]){p&1&&r!==(r=h[5](h[0]))&&m(t,"min",r),p&2&&i!==(i=h[5](h[1]))&&m(t,"max",i),p&8&&At(t.value)!==h[3]&&Oe(t,h[3]),p&20&&Xn(a,h[2])},i:G,o:G,d(h){h&&H(e),f=!1,Xe(c)}}}function qu(n,e,t){let{value:r}=e,{min:i}=e,{max:s}=e;var a=(p=>(p[p.Seconds=0]="Seconds",p[p.Minutes=1]="Minutes",p))(a||{});let l=0,u=o(r);function d(p){return l==0?p*1e3:l==1?p*1e3*60:p}function o(p){return l==0?p/1e3:l==1?p/60/1e3:p}function f(){if(u<1)t(3,u=1);else{let p=d(u);p>s?p=s:p<i&&(p=i),t(3,u=o(p)),t(7,r=p)}}function c(){u=At(this.value),t(3,u)}function h(){l=cs(this),t(2,l),t(4,a)}return n.$$set=p=>{"value"in p&&t(7,r=p.value),"min"in p&&t(0,i=p.min),"max"in p&&t(1,s=p.max)},[i,s,l,u,a,o,f,r,c,h]}class Yr extends Te{constructor(e){super(),Se(this,e,qu,Mu,xe,{value:7,min:0,max:1})}}function Iu(n){let e,t,r,i,s,a,l;return{c(){e=M("label"),t=M("input"),r=Z(),i=fe("svg"),s=fe("path"),m(t,"class","input svelte-t5h3do"),m(t,"type","checkbox"),m(s,"d","M4.575 8.977s-.404-.007-.536-.165L.057 5.64l.829-1.227L4.47 7.268 10.921.086l.923 1.103-6.863 7.64c-.134-.003-.406.148-.406.148z"),m(s,"fill","#FFF"),m(s,"fill-rule","evenodd"),m(i,"width","16"),m(i,"height","16"),m(i,"viewBox","0 0 12 9"),m(i,"xmlns","http://www.w3.org/2000/svg"),m(i,"class","mark svelte-t5h3do"),m(e,"class","wrapper svelte-t5h3do")},m(u,d){V(u,e,d),_(e,t),t.checked=n[0],_(e,r),_(e,i),_(i,s),a||(l=te(t,"change",n[1]),a=!0)},p(u,[d]){d&1&&(t.checked=u[0])},i:G,o:G,d(u){u&&H(e),a=!1,l()}}}function Fu(n,e,t){let{value:r}=e;function i(){r=this.checked,t(0,r)}return n.$$set=s=>{"value"in s&&t(0,r=s.value)},[r,i]}class Uu extends Te{constructor(e){super(),Se(this,e,Fu,Iu,xe,{value:0})}}function Ru(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),m(t,"d","M0 0h24v24H0z"),m(t,"fill","none"),m(r,"d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","48px"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Mr extends Te{constructor(e){super(),Se(this,e,null,Ru,xe,{})}}function Nu(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),m(t,"d","M0 0h24v24H0z"),m(t,"fill","none"),m(r,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","48px"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class ea extends Te{constructor(e){super(),Se(this,e,null,Nu,xe,{})}}function Wi(n,e,t){const r=n.slice();return r[27]=e[t],r[28]=e,r[29]=t,r}function Ou(n){let e;return{c(){e=M("p"),e.textContent="Pick Image"},m(t,r){V(t,e,r)},p:G,d(t){t&&H(e)}}}function ju(n){let e,t,r,i,s,a;return{c(){e=M("img"),r=Z(),i=M("button"),i.textContent="Click to remove",m(e,"class","question__img svelte-tq7hdj"),kn(e.src,t=n[1])||m(e,"src",t),m(e,"alt","Uploaded Content"),m(i,"class","remove svelte-tq7hdj")},m(l,u){V(l,e,u),V(l,r,u),V(l,i,u),s||(a=te(i,"click",n[8]),s=!0)},p(l,u){u&2&&!kn(e.src,t=l[1])&&m(e,"src",t)},d(l){l&&H(e),l&&H(r),l&&H(i),s=!1,a()}}}function Gi(n){let e,t,r,i,s,a,l,u,d,o,f,c,h,p,w,k,g,$;return{c(){e=M("label"),t=M("span"),t.textContent="Min Choices",r=Z(),i=M("p"),i.textContent="The minimum number of answers that must be selected to get a pass",s=Z(),a=M("input"),u=Z(),d=M("label"),o=M("span"),o.textContent="Desired Choices",f=Z(),c=M("p"),c.textContent=`The total number of answers the player must choose to get a full\r
          score. Can be the same as the minimum choices`,h=Z(),p=M("input"),m(t,"class","field__name svelte-tq7hdj"),m(i,"class","field__desc svelte-tq7hdj"),m(a,"class","input svelte-tq7hdj"),m(a,"type","number"),m(a,"min",1),m(a,"max",l=n[0].answers.length),m(e,"class","field svelte-tq7hdj"),m(o,"class","field__name svelte-tq7hdj"),m(c,"class","field__desc svelte-tq7hdj"),m(p,"class","input svelte-tq7hdj"),m(p,"type","number"),m(p,"min",w=n[0].min),m(p,"max",k=n[0].answers.length),m(d,"class","field svelte-tq7hdj")},m(E,x){V(E,e,x),_(e,t),_(e,r),_(e,i),_(e,s),_(e,a),Oe(a,n[0].min),V(E,u,x),V(E,d,x),_(d,o),_(d,f),_(d,c),_(d,h),_(d,p),Oe(p,n[0].max),g||($=[te(a,"input",n[15]),te(a,"change",n[4]),te(p,"input",n[16])],g=!0)},p(E,x){x&1&&l!==(l=E[0].answers.length)&&m(a,"max",l),x&1&&At(a.value)!==E[0].min&&Oe(a,E[0].min),x&1&&w!==(w=E[0].min)&&m(p,"min",w),x&1&&k!==(k=E[0].answers.length)&&m(p,"max",k),x&1&&At(p.value)!==E[0].max&&Oe(p,E[0].max)},d(E){E&&H(e),E&&H(u),E&&H(d),g=!1,Xe($)}}}function Ji(n){let e,t=[],r=new Map,i,s,a,l,u,d,o,f,c,h,p,w,k=n[0].answers;const g=$=>$[27].id;for(let $=0;$<k.length;$+=1){let E=Wi(n,k,$),x=g(E);r.set(x,t[$]=Yi(x,E))}return{c(){e=M("div");for(let $=0;$<t.length;$+=1)t[$].c();i=Z(),s=M("div"),a=M("button"),l=ie("Add Answer"),d=Z(),o=M("button"),f=ie("Shuffle"),m(a,"class","btn"),a.disabled=u=n[0].answers.length>=8,m(o,"class","btn"),o.disabled=c=n[0].answers.length<=1,m(s,"class","field-group svelte-tq7hdj"),m(e,"class","answers svelte-tq7hdj")},m($,E){V($,e,E);for(let x=0;x<t.length;x+=1)t[x]&&t[x].m(e,null);_(e,i),_(e,s),_(s,a),_(a,l),_(s,d),_(s,o),_(o,f),h=!0,p||(w=[te(a,"click",n[5]),te(o,"click",n[11])],p=!0)},p($,E){if(E&1089){k=$[0].answers,gt();for(let x=0;x<t.length;x+=1)t[x].r();t=kr(t,E,g,1,$,k,r,e,wr,Yi,i,Wi);for(let x=0;x<t.length;x+=1)t[x].a();vt()}(!h||E&1&&u!==(u=$[0].answers.length>=8))&&(a.disabled=u),(!h||E&1&&c!==(c=$[0].answers.length<=1))&&(o.disabled=c)},i($){if(!h){for(let E=0;E<k.length;E+=1)W(t[E]);h=!0}},o($){for(let E=0;E<t.length;E+=1)J(t[E]);h=!1},d($){$&&H(e);for(let E=0;E<t.length;E+=1)t[E].d();p=!1,Xe(w)}}}function Yi(n,e){let t,r,i,s,a,l,u,d,o,f,c,h,p,w,k,g,$,E,x,O=G,T,U,y;function v(F){e[17](F,e[27])}let q={};e[27].correct!==void 0&&(q.value=e[27].correct),r=new Uu({props:q}),Wt.push(()=>An(r,"value",v)),u=new Xs({});function A(){return e[18](e[29])}c=new Ks({});function I(){return e[19](e[29])}function N(){e[20].call(w,e[28],e[29])}$=new ea({});function S(){return e[21](e[29])}return{key:n,first:null,c(){t=M("div"),ue(r.$$.fragment),s=Z(),a=M("div"),l=M("button"),ue(u.$$.fragment),o=Z(),f=M("button"),ue(c.$$.fragment),p=Z(),w=M("input"),k=Z(),g=M("button"),ue($.$$.fragment),l.disabled=d=e[29]<=0,m(l,"class","btn btn--icon-only btn--surface btn-small"),f.disabled=h=e[29]+1>=e[0].answers.length,m(f,"class","btn btn--icon-only btn--surface btn-small"),m(a,"class","answer__actions svelte-tq7hdj"),m(w,"class","answer__question input svelte-tq7hdj"),m(w,"type","text"),g.disabled=E=e[0].answers.length==1,m(g,"class","btn btn--icon-only"),m(t,"class","answer svelte-tq7hdj"),this.first=t},m(F,C){V(F,t,C),le(r,t,null),_(t,s),_(t,a),_(a,l),le(u,l,null),_(a,o),_(a,f),le(c,f,null),_(t,p),_(t,w),Oe(w,e[27].value),_(t,k),_(t,g),le($,g,null),T=!0,U||(y=[te(l,"click",A),te(f,"click",I),te(w,"input",N),te(g,"click",S)],U=!0)},p(F,C){e=F;const b={};!i&&C&1&&(i=!0,b.value=e[27].correct,Cn(()=>i=!1)),r.$set(b),(!T||C&1&&d!==(d=e[29]<=0))&&(l.disabled=d),(!T||C&1&&h!==(h=e[29]+1>=e[0].answers.length))&&(f.disabled=h),C&1&&w.value!==e[27].value&&Oe(w,e[27].value),(!T||C&1&&E!==(E=e[0].answers.length==1))&&(g.disabled=E)},r(){x=t.getBoundingClientRect()},f(){br(t),O()},a(){O(),O=yr(t,x,Er,{duration:500})},i(F){T||(W(r.$$.fragment,F),W(u.$$.fragment,F),W(c.$$.fragment,F),W($.$$.fragment,F),T=!0)},o(F){J(r.$$.fragment,F),J(u.$$.fragment,F),J(c.$$.fragment,F),J($.$$.fragment,F),T=!1},d(F){F&&H(t),oe(r),oe(u),oe(c),oe($),U=!1,Xe(y)}}}function Pu(n){let e,t,r,i,s,a,l,u,d,o,f,c,h,p,w,k,g,$,E,x,O,T,U,y,v,q,A,I,N,S,F,C,b,j,R,D,Y,z,B,L,P,X,ae,ye,_e,K,re,ge,Be,rt,Ae,je,qe,de,Ie,Ve,$e,et,Ce,ke,Pe,yt,$t,Re,Ne,Fe,Qe,Ze,tt,ft,We,Zt,it,Et,Ut,Ge,De,bt,Je,xt,nt,Bt,lt,Ye,fn,he;i=new Mr({});function Ue(pe,ot){return pe[1]?ju:Ou}let mt=Ue(n),st=mt(n),wt=n[0].ty==Le.Multiple&&Gi(n),at=(n[0].ty==Le.Single||n[0].ty==Le.Multiple)&&Ji(n);function na(pe){n[22](pe)}let li={min:Jo,max:Yo};n[0].answer_time!==void 0&&(li.value=n[0].answer_time),ae=new Yr({props:li}),Wt.push(()=>An(ae,"value",na));function ra(pe){n[23](pe)}let oi={min:ru,max:iu};return n[0].bonus_score_time!==void 0&&(oi.value=n[0].bonus_score_time),Ae=new Yr({props:oi}),Wt.push(()=>An(Ae,"value",ra)),lt=new Eu({}),{c(){e=M("main"),t=M("header"),r=M("button"),ue(i.$$.fragment),s=ie(`\r
      Back`),a=Z(),l=M("button"),l.textContent="Save",u=Z(),d=M("div"),st.c(),o=Z(),f=M("div"),c=M("p"),c.textContent="Question",h=Z(),p=M("p"),p.textContent="Enter the question to ask the players",w=Z(),k=M("textarea"),g=Z(),$=M("div"),E=M("div"),x=M("p"),x.textContent="Question Type",O=Z(),T=M("p"),T.textContent="The type of question to present",U=Z(),y=M("select"),v=M("option"),q=ie("Single Choice"),A=M("option"),I=ie("Multiple Choice"),N=Z(),wt&&wt.c(),S=Z(),at&&at.c(),F=Z(),C=M("div"),b=M("h2"),b.textContent="Timing",j=Z(),R=M("p"),R.textContent="Below you can configuring the timing for different events",D=Z(),Y=M("div"),z=M("div"),B=M("span"),B.textContent="Answer Time",L=Z(),P=M("p"),P.textContent="Time the players have to answer the question",X=Z(),ue(ae.$$.fragment),_e=Z(),K=M("div"),re=M("span"),re.textContent="Bonus Score Time",ge=Z(),Be=M("p"),Be.textContent="Time the players must answer within for bonus scores",rt=Z(),ue(Ae.$$.fragment),qe=Z(),de=M("div"),Ie=M("h2"),Ie.textContent="Scoring",Ve=Z(),$e=M("p"),$e.textContent=`Score is awarded to players based on how quickly the player answers the\r
      question. You can configure the minimum and maximum values for this below`,et=Z(),Ce=M("div"),ke=M("label"),Pe=M("span"),Pe.textContent="Min Score",yt=Z(),$t=M("p"),$t.textContent="The minimum amount of score to award for this question",Re=Z(),Ne=M("input"),Qe=Z(),Ze=M("label"),tt=M("span"),tt.textContent="Max Score",ft=Z(),We=M("p"),We.textContent="The maximum amount of score to award for this question",Zt=Z(),it=M("input"),Ut=Z(),Ge=M("label"),De=M("span"),De.textContent="Bonus Score",bt=Z(),Je=M("p"),Je.textContent="The amount of score to add for being within the bonus time",xt=Z(),nt=M("input"),Bt=Z(),ue(lt.$$.fragment),m(r,"class","btn btn--icon"),m(l,"class","btn"),m(t,"class","header btn-row svelte-tq7hdj"),m(d,"tabindex","0"),m(d,"role","button"),m(d,"class","question__img-wrapper svelte-tq7hdj"),m(c,"class","field__name svelte-tq7hdj"),m(p,"class","field__desc svelte-tq7hdj"),m(k,"class","question__text input svelte-tq7hdj"),m(k,"cols","30"),m(k,"rows","10"),m(f,"class","field svelte-tq7hdj"),m(x,"class","field__name svelte-tq7hdj"),m(T,"class","field__desc svelte-tq7hdj"),v.__value=Le.Single,v.value=v.__value,A.__value=Le.Multiple,A.value=A.__value,m(y,"class","input svelte-tq7hdj"),m(E,"class","field svelte-tq7hdj"),m($,"class","field-group svelte-tq7hdj"),m(b,"class","group__title svelte-tq7hdj"),m(R,"class","group__desc svelte-tq7hdj"),m(B,"class","field__name svelte-tq7hdj"),m(P,"class","field__desc svelte-tq7hdj"),m(z,"class","field svelte-tq7hdj"),m(re,"class","field__name svelte-tq7hdj"),m(Be,"class","field__desc svelte-tq7hdj"),m(K,"class","field svelte-tq7hdj"),m(Y,"class","group__value field-group svelte-tq7hdj"),m(C,"class","group"),m(Ie,"class","group__title svelte-tq7hdj"),m($e,"class","group__desc svelte-tq7hdj"),m(Pe,"class","field__name svelte-tq7hdj"),m($t,"class","field__desc svelte-tq7hdj"),m(Ne,"class","input svelte-tq7hdj"),m(Ne,"type","number"),m(Ne,"min",0),m(Ne,"max",Fe=n[0].scoring.max_score),m(ke,"class","field svelte-tq7hdj"),m(tt,"class","field__name svelte-tq7hdj"),m(We,"class","field__desc svelte-tq7hdj"),m(it,"class","input svelte-tq7hdj"),m(it,"type","number"),m(it,"min",Et=n[0].scoring.min_score),m(it,"max",1e3),m(Ze,"class","field svelte-tq7hdj"),m(De,"class","field__name svelte-tq7hdj"),m(Je,"class","field__desc svelte-tq7hdj"),m(nt,"class","input svelte-tq7hdj"),m(nt,"type","number"),m(nt,"min",0),m(nt,"max",1e3),m(Ge,"class","field svelte-tq7hdj"),m(Ce,"class","group__value field-group svelte-tq7hdj"),m(de,"class","group"),m(e,"class","main svelte-tq7hdj")},m(pe,ot){V(pe,e,ot),_(e,t),_(t,r),le(i,r,null),_(r,s),_(t,a),_(t,l),_(e,u),_(e,d),st.m(d,null),_(e,o),_(e,f),_(f,c),_(f,h),_(f,p),_(f,w),_(f,k),Oe(k,n[0].text),_(e,g),_(e,$),_($,E),_(E,x),_(E,O),_(E,T),_(E,U),_(E,y),_(y,v),_(v,q),_(y,A),_(A,I),_($,N),wt&&wt.m($,null),_(e,S),at&&at.m(e,null),_(e,F),_(e,C),_(C,b),_(C,j),_(C,R),_(C,D),_(C,Y),_(Y,z),_(z,B),_(z,L),_(z,P),_(z,X),le(ae,z,null),_(Y,_e),_(Y,K),_(K,re),_(K,ge),_(K,Be),_(K,rt),le(Ae,K,null),_(e,qe),_(e,de),_(de,Ie),_(de,Ve),_(de,$e),_(de,et),_(de,Ce),_(Ce,ke),_(ke,Pe),_(ke,yt),_(ke,$t),_(ke,Re),_(ke,Ne),Oe(Ne,n[0].scoring.min_score),_(Ce,Qe),_(Ce,Ze),_(Ze,tt),_(Ze,ft),_(Ze,We),_(Ze,Zt),_(Ze,it),Oe(it,n[0].scoring.max_score),_(Ce,Ut),_(Ce,Ge),_(Ge,De),_(Ge,bt),_(Ge,Je),_(Ge,xt),_(Ge,nt),Oe(nt,n[0].scoring.bonus_score),V(pe,Bt,ot),le(lt,pe,ot),Ye=!0,fn||(he=[te(r,"click",n[2]),te(l,"click",n[12]),te(d,"click",n[7]),te(d,"keypress",n[9]),te(k,"input",n[14]),te(y,"change",n[3]),te(Ne,"input",n[24]),te(it,"input",n[25]),te(nt,"input",n[26])],fn=!0)},p(pe,[ot]){mt===(mt=Ue(pe))&&st?st.p(pe,ot):(st.d(1),st=mt(pe),st&&(st.c(),st.m(d,null))),ot&1&&Oe(k,pe[0].text),pe[0].ty==Le.Multiple?wt?wt.p(pe,ot):(wt=Gi(pe),wt.c(),wt.m($,null)):wt&&(wt.d(1),wt=null),pe[0].ty==Le.Single||pe[0].ty==Le.Multiple?at?(at.p(pe,ot),ot&1&&W(at,1)):(at=Ji(pe),at.c(),W(at,1),at.m(e,F)):at&&(gt(),J(at,1,1,()=>{at=null}),vt());const ui={};!ye&&ot&1&&(ye=!0,ui.value=pe[0].answer_time,Cn(()=>ye=!1)),ae.$set(ui);const ci={};!je&&ot&1&&(je=!0,ci.value=pe[0].bonus_score_time,Cn(()=>je=!1)),Ae.$set(ci),(!Ye||ot&1&&Fe!==(Fe=pe[0].scoring.max_score))&&m(Ne,"max",Fe),ot&1&&At(Ne.value)!==pe[0].scoring.min_score&&Oe(Ne,pe[0].scoring.min_score),(!Ye||ot&1&&Et!==(Et=pe[0].scoring.min_score))&&m(it,"min",Et),ot&1&&At(it.value)!==pe[0].scoring.max_score&&Oe(it,pe[0].scoring.max_score),ot&1&&At(nt.value)!==pe[0].scoring.bonus_score&&Oe(nt,pe[0].scoring.bonus_score)},i(pe){Ye||(W(i.$$.fragment,pe),W(at),W(ae.$$.fragment,pe),W(Ae.$$.fragment,pe),W(lt.$$.fragment,pe),Ye=!0)},o(pe){J(i.$$.fragment,pe),J(at),J(ae.$$.fragment,pe),J(Ae.$$.fragment,pe),J(lt.$$.fragment,pe),Ye=!1},d(pe){pe&&H(e),oe(i),st.d(),wt&&wt.d(),at&&at.d(),oe(ae),oe(Ae),pe&&H(Bt),oe(lt,pe),fn=!1,Xe(he)}}}function Zu(n,e,t){let r;Nt(n,Mn,S=>t(13,r=S));let{question:i}=e;async function s(){await Ar("Confirm Back","Are you sure you want to go back? You will loose any unsaved progress")&&Br()}function a(S){const F=S.target,C=i,b=F.value;if(b==Le.Single){let j=[];(C.ty==Le.Single||C.ty==Le.Multiple)&&(j=C.answers),t(0,i={...C,ty:b,answers:j})}else if(b==Le.Multiple){let j=[],R=1,D=1;(C.ty==Le.Single||C.ty==Le.Multiple)&&(j=C.answers,C.ty==Le.Multiple&&(R=C.min,D=C.max)),t(0,i={...C,ty:b,answers:j,min:R,max:D})}}function l(){i.ty===Le.Multiple&&i.max<i.min&&t(0,i.max=i.min,i)}function u(){let S=0;for(const F of i.answers)F.id>=S&&(S=F.id+1);i.answers.push({id:S,value:"",correct:!1}),t(0,i)}function d(S,F){let C=i.answers[S],b=i.answers[F];t(0,i.answers[S]=b,i),t(0,i.answers[F]=C,i)}let o=null;async function f(){let S=await ou();S!==null&&t(0,i.image=S.uuid,i)}function c(S){S.stopPropagation(),t(0,i.image=null,i),t(1,o=null)}function h(S){(S.key==="Enter"||S.key==="NumpadEnter")&&f()}function p(S){t(0,i.answers=i.answers.filter((F,C)=>C!=S),i)}function w(){const S=rn(1,i.answers.length);let F=0;for(;F<S;){const C=rn(0,i.answers.length-1),b=rn(0,i.answers.length-1);C!==b&&(d(C,b),F++)}}function k(){mu(i),Br()}function g(){i.text=this.value,t(0,i)}function $(){i.min=At(this.value),t(0,i)}function E(){i.max=At(this.value),t(0,i)}function x(S,F){n.$$.not_equal(F.correct,S)&&(F.correct=S,t(0,i))}const O=S=>d(S,S-1),T=S=>d(S,S+1);function U(S,F){S[F].value=this.value,t(0,i)}const y=S=>p(S);function v(S){n.$$.not_equal(i.answer_time,S)&&(i.answer_time=S,t(0,i))}function q(S){n.$$.not_equal(i.bonus_score_time,S)&&(i.bonus_score_time=S,t(0,i))}function A(){i.scoring.min_score=At(this.value),t(0,i)}function I(){i.scoring.max_score=At(this.value),t(0,i)}function N(){i.scoring.bonus_score=At(this.value),t(0,i)}return n.$$set=S=>{"question"in S&&t(0,i=S.question)},n.$$.update=()=>{if(n.$$.dirty&8193&&i.image!==null){let S=r[i.image];S?t(1,o=S):t(1,o=null)}},[i,o,s,a,l,u,d,f,c,h,p,w,k,r,g,$,E,x,O,T,U,y,v,q,A,I,N]}class Du extends Te{constructor(e){super(),Se(this,e,Zu,Pu,xe,{question:0})}}function Lu(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),m(t,"d","M0 0h24v24H0z"),m(t,"fill","none"),m(r,"d","M8 5v14l11-7z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","48px"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class qr extends Te{constructor(e){super(),Se(this,e,null,Lu,xe,{})}}function Ki(n){let e,t,r,i,s,a;return t=new qr({}),{c(){e=M("button"),ue(t.$$.fragment),m(e,"class","play svelte-ks6myu")},m(l,u){V(l,e,u),le(t,e,null),i=!0,s||(a=te(e,"click",n[3]),s=!0)},p:G,i(l){i||(W(t.$$.fragment,l),ct(()=>{i&&(r||(r=He(e,Ke,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){J(t.$$.fragment,l),r||(r=He(e,Ke,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&H(e),oe(t),l&&r&&r.end(),s=!1,a()}}}function zu(n){let e,t,r,i,s,a,l,u,d,o,f,c,h,p,w;r=new Mr({});let k=!n[1]&&Ki(n);return{c(){e=M("main"),t=M("button"),ue(r.$$.fragment),i=Z(),s=M("h1"),s.textContent="Enter Code",a=Z(),l=M("p"),l.textContent="Please enter your quiz code below",u=Z(),d=M("div"),o=M("input"),f=Z(),k&&k.c(),m(t,"class","back back--floating"),m(o,"class","input svelte-ks6myu"),m(o,"type","text"),m(o,"minlength",Kn),m(o,"maxlength",Kn),m(o,"placeholder","X".repeat(Kn)),m(d,"class","form svelte-ks6myu"),m(e,"class","main svelte-ks6myu")},m(g,$){V(g,e,$),_(e,t),le(r,t,null),_(e,i),_(e,s),_(e,a),_(e,l),_(e,u),_(e,d),_(d,o),Oe(o,n[0]),_(d,f),k&&k.m(d,null),h=!0,p||(w=[te(t,"click",En),te(o,"input",n[4]),te(o,"input",n[2])],p=!0)},p(g,[$]){$&1&&o.value!==g[0]&&Oe(o,g[0]),g[1]?k&&(gt(),J(k,1,1,()=>{k=null}),vt()):k?(k.p(g,$),$&2&&W(k,1)):(k=Ki(g),k.c(),W(k,1),k.m(d,null))},i(g){h||(W(r.$$.fragment,g),W(k),ct(()=>{h&&(c||(c=He(e,Ke,{},!0)),c.run(1))}),h=!0)},o(g){J(r.$$.fragment,g),J(k),c||(c=He(e,Ke,{},!1)),c.run(0),h=!1},d(g){g&&H(e),oe(r),k&&k.d(),g&&c&&c.end(),p=!1,Xe(w)}}}function Hu(n,e,t){let r="",i=!0;function s(){t(0,r=r.toUpperCase().replace(/[^A-Z0-9]/,"")),t(1,i=r.length!=Kn)}function a(){Kt({ty:Ht.Connect,token:r}).then(()=>Ul(r)).catch(u=>{console.error("Failed to connect",u),bn("Failed to connect",ni[u])})}function l(){r=this.value,t(0,r)}return[r,i,s,a,l]}class Bu extends Te{constructor(e){super(),Se(this,e,Hu,zu,xe,{})}}function Vu(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),m(t,"d","M0 0h24v24H0z"),m(t,"fill","none"),m(r,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","48px"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class ta extends Te{constructor(e){super(),Se(this,e,null,Vu,xe,{})}}function Xi(n,e,t){const r=n.slice();return r[7]=e[t],r}function es(n){let e,t=n[0].answers,r=[];for(let i=0;i<t.length;i+=1)r[i]=ts(Xi(n,t,i));return{c(){e=M("ul");for(let i=0;i<r.length;i+=1)r[i].c();m(e,"class","answers svelte-1k267lr")},m(i,s){V(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,s){if(s&1){t=i[0].answers;let a;for(a=0;a<t.length;a+=1){const l=Xi(i,t,a);r[a]?r[a].p(l,s):(r[a]=ts(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&H(e),qn(r,i)}}}function ts(n){let e,t=n[7].value+"",r,i,s;return{c(){e=M("li"),r=ie(t),i=Z(),m(e,"class","answer svelte-1k267lr"),m(e,"data-correct",s=n[7].correct)},m(a,l){V(a,e,l),_(e,r),_(e,i)},p(a,l){l&1&&t!==(t=a[7].value+"")&&Me(r,t),l&1&&s!==(s=a[7].correct)&&m(e,"data-correct",s)},d(a){a&&H(e)}}}function Qu(n){let e,t,r,i,s,a,l,u,d,o,f,c,h,p,w,k,g,$,E,x=n[0].text+"",O,T,U,y,v;i=new Xs({}),u=new Ks({}),c=new ea({}),k=new ta({});let q=(n[0].ty==Le.Single||n[0].ty==Le.Multiple)&&es(n);return{c(){e=M("div"),t=M("div"),r=M("button"),ue(i.$$.fragment),a=Z(),l=M("button"),ue(u.$$.fragment),o=Z(),f=M("button"),ue(c.$$.fragment),p=Z(),w=M("button"),ue(k.$$.fragment),g=Z(),$=M("div"),E=M("p"),O=ie(x),T=Z(),q&&q.c(),r.disabled=s=n[1]<=0,m(r,"class","btn btn--icon-only btn--surface"),l.disabled=d=n[1]+1>=n[2],m(l,"class","btn btn--icon-only btn--surface"),f.disabled=h=n[2]==1,m(f,"class","btn btn--icon-only btn--surface"),m(w,"class","btn btn--icon-only btn--surface"),m(t,"class","actions svelte-1k267lr"),m($,"class","body svelte-1k267lr"),m(e,"class","question svelte-1k267lr")},m(A,I){V(A,e,I),_(e,t),_(t,r),le(i,r,null),_(t,a),_(t,l),le(u,l,null),_(t,o),_(t,f),le(c,f,null),_(t,p),_(t,w),le(k,w,null),_(e,g),_(e,$),_($,E),_(E,O),_($,T),q&&q.m($,null),U=!0,y||(v=[te(r,"click",n[4]),te(l,"click",n[5]),te(f,"click",n[6]),te(w,"click",n[3])],y=!0)},p(A,[I]){(!U||I&2&&s!==(s=A[1]<=0))&&(r.disabled=s),(!U||I&6&&d!==(d=A[1]+1>=A[2]))&&(l.disabled=d),(!U||I&4&&h!==(h=A[2]==1))&&(f.disabled=h),(!U||I&1)&&x!==(x=A[0].text+"")&&Me(O,x),A[0].ty==Le.Single||A[0].ty==Le.Multiple?q?q.p(A,I):(q=es(A),q.c(),q.m($,null)):q&&(q.d(1),q=null)},i(A){U||(W(i.$$.fragment,A),W(u.$$.fragment,A),W(c.$$.fragment,A),W(k.$$.fragment,A),U=!0)},o(A){J(i.$$.fragment,A),J(u.$$.fragment,A),J(c.$$.fragment,A),J(k.$$.fragment,A),U=!1},d(A){A&&H(e),oe(i),oe(u),oe(c),oe(k),q&&q.d(),y=!1,Xe(v)}}}function Wu(n,e,t){let{question:r}=e,{index:i}=e,{length:s}=e;function a(){Rl(Nl(r))}const l=()=>Jr(i,i-1),u=()=>Jr(i,i+1),d=()=>hu(i);return n.$$set=o=>{"question"in o&&t(0,r=o.question),"index"in o&&t(1,i=o.index),"length"in o&&t(2,s=o.length)},[r,i,s,a,l,u,d]}class Gu extends Te{constructor(e){super(),Se(this,e,Wu,Qu,xe,{question:0,index:1,length:2})}}function Ju(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),m(t,"d","M0 0h24v24H0z"),m(t,"fill","none"),m(r,"d","M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","48px"),m(e,"viewBox","0 0 24 24"),m(e,"width","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Yu extends Te{constructor(e){super(),Se(this,e,null,Ju,xe,{})}}function Ku(n){let e,t,r;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),m(t,"d","M0 0h24v24H0z"),m(t,"fill","none"),m(r,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"height","48px"),m(e,"width","48px"),m(e,"fill","#FFFFFF")},m(i,s){V(i,e,s),_(e,t),_(e,r)},p:G,i:G,o:G,d(i){i&&H(e)}}}class Xu extends Te{constructor(e){super(),Se(this,e,null,Ku,xe,{})}}const ec=be.object({name:be.string(),text:be.string(),max_players:be.number(),filtering:be.string(),timing:be.object({wait_time:be.number()}),questions:be.array(Fl).min(1),images:be.array(be.object({uuid:be.string().uuid(),name:be.string(),size:be.number(),type:be.string(),data:be.array(be.number())}))});async function tc(n){const e=await n.blob.arrayBuffer();return{uuid:n.uuid,name:n.name,size:n.size,type:n.blob.type,data:Array.from(new Uint8Array(e))}}async function nc(n,e,t,r,i,s){const a=await Promise.all(Nr(sn).map(tc)),u=JSON.stringify({name:n,text:e,max_players:t,filtering:r,timing:i,questions:s,images:a});return new Blob([u],{type:"application/json"})}async function rc(n){const e=new FileReader;await new Promise((s,a)=>{e.onload=s,e.onerror=a,e.onabort=a,e.readAsText(n)});const t=e.result,r=JSON.parse(t),i=ec.parse(r);for(const{data:s,uuid:a,name:l,type:u,size:d}of i.images){const o=new Uint8Array(s),f=new Blob([o.buffer],{type:u});sn.update(c=>(c.push({uuid:a,name:l,size:d,blob:f}),c.filter(h=>h.uuid!==a))),Js(f,a)}return{name:i.name,text:i.text,max_players:i.max_players,filtering:i.filtering,questions:i.questions,timing:i.timing}}function ns(n,e,t){const r=n.slice();return r[11]=e[t],r[12]=e,r[13]=t,r}function rs(n,e){let t,r,i,s,a,l=G,u;function d(f){e[9](f,e[11],e[12],e[13])}let o={index:e[13],length:e[0].questions.length};return e[11]!==void 0&&(o.question=e[11]),r=new Gu({props:o}),Wt.push(()=>An(r,"question",d)),{key:n,first:null,c(){t=M("li"),ue(r.$$.fragment),s=Z(),this.first=t},m(f,c){V(f,t,c),le(r,t,null),_(t,s),u=!0},p(f,c){e=f;const h={};c&1&&(h.index=e[13]),c&1&&(h.length=e[0].questions.length),!i&&c&1&&(i=!0,h.question=e[11],Cn(()=>i=!1)),r.$set(h)},r(){a=t.getBoundingClientRect()},f(){br(t),l()},a(){l(),l=yr(t,a,Er,{duration:500})},i(f){u||(W(r.$$.fragment,f),u=!0)},o(f){J(r.$$.fragment,f),u=!1},d(f){f&&H(t),oe(r)}}}function ic(n){let e,t,r,i,s,a,l,u,d,o,f,c,h,p,w,k,g,$,E,x,O,T,U,y,v,q,A,I,N,S,F,C,b,j,R,D,Y,z,B,L,P,X,ae,ye,_e,K,re,ge,Be,rt,Ae,je,qe,de,Ie,Ve,$e,et,Ce,ke,Pe,yt,$t,Re,Ne,Fe,Qe,Ze,tt,ft,We,Zt,it,Et,Ut,Ge,De=[],bt=new Map,Je,xt,nt;s=new Mr({}),d=new Ys({}),h=new Yu({}),g=new qr({});function Bt(he){n[6](he)}let lt={min:Xo,max:eu};n[0].timing.wait_time!==void 0&&(lt.value=n[0].timing.wait_time),B=new Yr({props:lt}),Wt.push(()=>An(B,"value",Bt)),Qe=new Xu({});let Ye=n[0].questions;const fn=he=>he[11].id;for(let he=0;he<Ye.length;he+=1){let Ue=ns(n,Ye,he),mt=fn(Ue);bt.set(mt,De[he]=rs(mt,Ue))}return{c(){e=M("main"),t=M("div"),r=M("header"),i=M("button"),ue(s.$$.fragment),a=ie(`\r
        Back`),l=Z(),u=M("button"),ue(d.$$.fragment),o=ie(`\r
        Import`),f=Z(),c=M("button"),ue(h.$$.fragment),p=ie(`\r
        Export`),w=Z(),k=M("button"),ue(g.$$.fragment),$=ie(`\r
        Play`),E=Z(),x=M("label"),O=M("span"),O.textContent="Title",T=Z(),U=M("p"),U.textContent="Give your quiz a title",y=Z(),v=M("input"),q=Z(),A=M("label"),I=M("span"),I.textContent="Description",N=Z(),S=M("p"),S.textContent="Describe your quiz",F=Z(),C=M("textarea"),b=Z(),j=M("div"),R=M("span"),R.textContent="Wait Time",D=Z(),Y=M("p"),Y.textContent="Time to wait between each question",z=Z(),ue(B.$$.fragment),P=Z(),X=M("label"),ae=M("span"),ae.textContent="Max Players",ye=Z(),_e=M("p"),_e.textContent="Maximum number of players allowed to join this quiz",K=Z(),re=M("input"),ge=Z(),Be=M("label"),rt=M("span"),rt.textContent="Name Filtering",Ae=Z(),je=M("p"),je.textContent=`Level of filtering on profane/inappropriate naming. Its recommended that\r
        you leave this on Medium or High`,qe=Z(),de=M("select"),Ie=M("option"),Ve=ie("None: Don't filter names"),$e=M("option"),et=ie("Low: Filter out more severe names"),Ce=M("option"),ke=ie(`Medium: Filter out anything thats not mild\r
        `),Pe=M("option"),yt=ie("High: Filter out as much as possible"),$t=Z(),Re=M("div"),Ne=M("div"),Fe=M("button"),ue(Qe.$$.fragment),Ze=ie(`\r
        Add Question`),ft=Z(),We=M("button"),Zt=ie("Shuffle"),Et=Z(),Ut=M("div"),Ge=M("ol");for(let he=0;he<De.length;he+=1)De[he].c();m(i,"class","btn btn--icon svelte-qt3eeu"),m(u,"class","btn btn--icon svelte-qt3eeu"),m(c,"class","btn btn--icon svelte-qt3eeu"),m(k,"class","btn btn--icon svelte-qt3eeu"),m(r,"class","header svelte-qt3eeu"),m(O,"class","field__name svelte-qt3eeu"),m(U,"class","field__desc svelte-qt3eeu"),m(v,"class","input svelte-qt3eeu"),m(v,"type","text"),m(x,"class","field svelte-qt3eeu"),m(I,"class","field__name svelte-qt3eeu"),m(S,"class","field__desc svelte-qt3eeu"),m(C,"class","input input--desc svelte-qt3eeu"),m(C,"name",""),m(C,"id",""),m(C,"cols","30"),m(C,"rows","5"),m(A,"class","field svelte-qt3eeu"),m(R,"class","field__name svelte-qt3eeu"),m(Y,"class","field__desc svelte-qt3eeu"),m(j,"class","field svelte-qt3eeu"),m(ae,"class","field__name svelte-qt3eeu"),m(_e,"class","field__desc svelte-qt3eeu"),m(re,"class","input svelte-qt3eeu"),m(re,"type","number"),m(re,"min",su),m(re,"max",Ws),m(X,"class","field svelte-qt3eeu"),m(rt,"class","field__name svelte-qt3eeu"),m(je,"class","field__desc svelte-qt3eeu"),Ie.__value=_n.None,Ie.value=Ie.__value,$e.__value=_n.Low,$e.value=$e.__value,Ce.__value=_n.Medium,Ce.value=Ce.__value,Pe.__value=_n.High,Pe.value=Pe.__value,m(de,"class","input svelte-qt3eeu"),n[0].filtering===void 0&&ct(()=>n[8].call(de)),m(Be,"class","field svelte-qt3eeu"),m(t,"class","details svelte-qt3eeu"),Fe.disabled=tt=n[0].questions.length>=50,m(Fe,"class","btn btn--icon svelte-qt3eeu"),We.disabled=it=n[0].questions.length<=1,m(We,"class","btn btn--sm svelte-qt3eeu"),m(Ne,"class","list__actions svelte-qt3eeu"),m(Ge,"class","questions svelte-qt3eeu"),m(Ut,"class","list__content svelte-qt3eeu"),m(Re,"class","list svelte-qt3eeu"),m(e,"class","main svelte-qt3eeu")},m(he,Ue){V(he,e,Ue),_(e,t),_(t,r),_(r,i),le(s,i,null),_(i,a),_(r,l),_(r,u),le(d,u,null),_(u,o),_(r,f),_(r,c),le(h,c,null),_(c,p),_(r,w),_(r,k),le(g,k,null),_(k,$),_(t,E),_(t,x),_(x,O),_(x,T),_(x,U),_(x,y),_(x,v),Oe(v,n[0].name),_(t,q),_(t,A),_(A,I),_(A,N),_(A,S),_(A,F),_(A,C),Oe(C,n[0].text),_(t,b),_(t,j),_(j,R),_(j,D),_(j,Y),_(j,z),le(B,j,null),_(t,P),_(t,X),_(X,ae),_(X,ye),_(X,_e),_(X,K),_(X,re),Oe(re,n[0].max_players),_(t,ge),_(t,Be),_(Be,rt),_(Be,Ae),_(Be,je),_(Be,qe),_(Be,de),_(de,Ie),_(Ie,Ve),_(de,$e),_($e,et),_(de,Ce),_(Ce,ke),_(de,Pe),_(Pe,yt),Xn(de,n[0].filtering,!0),_(e,$t),_(e,Re),_(Re,Ne),_(Ne,Fe),le(Qe,Fe,null),_(Fe,Ze),_(Ne,ft),_(Ne,We),_(We,Zt),_(Re,Et),_(Re,Ut),_(Ut,Ge);for(let mt=0;mt<De.length;mt+=1)De[mt]&&De[mt].m(Ge,null);Je=!0,xt||(nt=[te(i,"click",En),te(u,"click",n[2]),te(c,"click",n[1]),te(k,"click",n[3]),te(v,"input",n[4]),te(C,"input",n[5]),te(re,"input",n[7]),te(de,"change",n[8]),te(Fe,"click",du),te(We,"click",pu)],xt=!0)},p(he,[Ue]){Ue&1&&v.value!==he[0].name&&Oe(v,he[0].name),Ue&1&&Oe(C,he[0].text);const mt={};if(!L&&Ue&1&&(L=!0,mt.value=he[0].timing.wait_time,Cn(()=>L=!1)),B.$set(mt),Ue&1&&At(re.value)!==he[0].max_players&&Oe(re,he[0].max_players),Ue&1&&Xn(de,he[0].filtering),(!Je||Ue&1&&tt!==(tt=he[0].questions.length>=50))&&(Fe.disabled=tt),(!Je||Ue&1&&it!==(it=he[0].questions.length<=1))&&(We.disabled=it),Ue&1){Ye=he[0].questions,gt();for(let st=0;st<De.length;st+=1)De[st].r();De=kr(De,Ue,fn,1,he,Ye,bt,Ge,wr,rs,null,ns);for(let st=0;st<De.length;st+=1)De[st].a();vt()}},i(he){if(!Je){W(s.$$.fragment,he),W(d.$$.fragment,he),W(h.$$.fragment,he),W(g.$$.fragment,he),W(B.$$.fragment,he),W(Qe.$$.fragment,he);for(let Ue=0;Ue<Ye.length;Ue+=1)W(De[Ue]);Je=!0}},o(he){J(s.$$.fragment,he),J(d.$$.fragment,he),J(h.$$.fragment,he),J(g.$$.fragment,he),J(B.$$.fragment,he),J(Qe.$$.fragment,he);for(let Ue=0;Ue<De.length;Ue+=1)J(De[Ue]);Je=!1},d(he){he&&H(e),oe(s),oe(d),oe(h),oe(g),oe(B),oe(Qe);for(let Ue=0;Ue<De.length;Ue+=1)De[Ue].d();xt=!1,Xe(nt)}}}function sc(n){if(n.lengthComputable){const e=n.loaded/n.total*100;console.debug(`Uploading content: ${e}%`)}}function ac(n,e,t){let r;Nt(n,kt,p=>t(0,r=p));async function i(){const p=Nr(kt);console.debug("Exporting quiz to file",p.name);const w=await nc(p.name,p.text,p.max_players,p.filtering,p.timing,p.questions),k=p.name+".quizler";vu(k,w)}async function s(){const p=await _u(".quizler");if(p!==null)try{const w=await rc(p);kt.set(w),console.debug("Imported quiz file",w)}catch(w){console.error("Error while importing quiz file",w),bn("Failed to import","Quiz file invalid or corrupted")}}async function a(p){const w=new FormData;w.append("config",JSON.stringify(p)),Nr(sn).forEach(x=>w.append(x.uuid,x.blob));const g=new XMLHttpRequest;if(g.upload.onprogress=sc,g.responseType="json",await new Promise((x,O)=>{g.onload=x,g.onerror=g.ontimeout=g.onabort=()=>O(new Error("Failed to connect"));const T=ri("/api/quiz");g.open("POST",T),g.send(w)}),Math.floor(g.status/100)!==2)throw console.error("Failed invalid request",g.response),new Error("Invalid request try reloading the page or updating Quizler");return g.response.uuid}async function l(){const p=r;console.debug("Creating quiz");let w;try{w=await a(p)}catch(k){bn("Failed to create",k.message);return}console.debug("Quiz waiting for initialize",w);try{const{id:k,token:g,config:$}=await Kt({ty:Ht.Initialize,uuid:w});Es({id:k,token:g,config:$,host:!0})}catch(k){const g=k;console.error("Failed to initialize",g),bn("Failed to create",ni[g])}}function u(){r.name=this.value,kt.set(r)}function d(){r.text=this.value,kt.set(r)}function o(p){n.$$.not_equal(r.timing.wait_time,p)&&(r.timing.wait_time=p,kt.set(r))}function f(){r.max_players=At(this.value),kt.set(r)}function c(){r.filtering=cs(this),kt.set(r)}function h(p,w,k,g){k[g]=p,kt.set(r)}return[r,i,s,l,u,d,o,f,c,h]}class lc extends Te{constructor(e){super(),Se(this,e,ac,ic,xe,{})}}function oc(n){let e,t;return{c(){e=fe("svg"),t=fe("path"),m(t,"d","M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z"),m(e,"fill","#FFFFFF"),m(e,"width","32px"),m(e,"height","31.25px"),m(e,"viewBox","0 0 256 250"),m(e,"version","1.1"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"preserveAspectRatio","xMidYMid")},m(r,i){V(r,e,i),_(e,t)},p:G,i:G,o:G,d(r){r&&H(e)}}}class uc extends Te{constructor(e){super(),Se(this,e,null,oc,xe,{})}}function cc(n){let e,t,r,i,s,a,l,u,d;return{c(){e=fe("svg"),t=fe("path"),r=fe("path"),i=fe("path"),s=fe("path"),a=fe("path"),l=fe("path"),u=fe("path"),d=fe("path"),m(t,"d","M209.6,119.1v-3.38q0-16.18,2.49-20.42T225.44,83q5.69-4.19,7.9-7.8a16.8,16.8,0,0,0,2.2-9q0-6.59-4.2-10.35a14.58,14.58,0,0,0-10.16-3.76q-15.74,0-17.65,22.29L179.15,71q2.7-20.1,14.65-30.46T223,30.19q17.61,0,29.56,10.07a32.29,32.29,0,0,1,12,25.69q.06,19.3-19.76,32.34-8.61,5.71-10.43,8.92t-1.8,11.84Zm27.48,34.73-27.93.06L209.08,127,237,127Z"),m(t,"transform","translate(-5.67 -30.19)"),m(r,"d","M98.54,268.74a43,43,0,0,1-9.39,1.07q-15.06,0-20.17-6.46t-5.92-16.26a95.28,95.28,0,0,1-10.63.74q-21.31,0-34-16.68T5.67,190.36q0-23.55,12.27-40.71t36.14-17.17q23.55,0,35.9,17.08t12.35,41.05q0,19.26-7,32.06T78.7,241q0,8.65,9.88,8.65,2.88,0,10-.83ZM54,154q-20.72,0-20.71,36.39,0,36.55,20.63,36.55,20.87,0,20.87-36.06Q74.75,154,54,154Z"),m(r,"transform","translate(-5.67 -30.19)"),m(i,"d","M189.43,163.44v83.15H166.71V232.43q-6.42,15.88-24.53,15.89-9.39,0-14.41-3.5a19.32,19.32,0,0,1-7.21-9.55q-2.18-6-2.18-17.5V163.44h23.8v54.33q0,11.21,9.22,11.2a13,13,0,0,0,8.15-2.67,12,12,0,0,0,4.4-5.73q.95-3,1-10.45V163.44Z"),m(i,"transform","translate(-5.67 -30.19)"),m(s,"d","M234.22,163.44v83.15H209.69V163.44Z"),m(s,"transform","translate(-5.67 -30.19)"),m(a,"d","M311.45,163.44v15.31l-37.1,50H313.1v17.87H247.64V228.72l36.68-48.57H250.69V163.44Z"),m(a,"transform","translate(-5.67 -30.19)"),m(l,"d","M326.6,246.59V134.21h24.53V246.59Z"),m(l,"transform","translate(-5.67 -30.19)"),m(u,"d","M446,209.13H392.47q-.09,2.22-.09,3.87,0,8.9,4.74,13.42A15.79,15.79,0,0,0,408.44,231q12.27,0,14.74-13.09l22.23,1.64q-9.32,28.83-37.8,28.82-12.42,0-21.11-5a39.35,39.35,0,0,1-14.33-14.53q-5.64-9.56-5.64-22.89,0-19.84,11.32-32T407,161.71A37.84,37.84,0,0,1,434.5,173Q446,184.34,446,209.13Zm-53.6-14.24h29.56q-1.15-17.13-14.08-17.13Q394,177.76,392.38,194.89Z"),m(u,"transform","translate(-5.67 -30.19)"),m(d,"d","M485.25,246.59H461.46V163.44h22.48v15.47q5.18-17.28,17.94-17.29c1.21,0,2.69.09,4.45.25v24.21q-7.49,0-11.65,2.3t-6.79,8.28q-2.64,6-2.64,16.09Z"),m(d,"transform","translate(-5.67 -30.19)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 500.66 239.62"),m(e,"fill","#FFFFFF"),m(e,"width","248"),m(e,"height","135")},m(o,f){V(o,e,f),_(e,t),_(e,r),_(e,i),_(e,s),_(e,a),_(e,l),_(e,u),_(e,d)},p:G,i:G,o:G,d(o){o&&H(e)}}}class fc extends Te{constructor(e){super(),Se(this,e,null,cc,xe,{})}}function dc(n){let e,t,r,i,s,a,l,u,d,o,f,c,h,p,w,k,g,$,E,x,O,T,U;return i=new fc({}),l=new uc({}),c=new qr({}),g=new ta({}),{c(){e=M("main"),t=M("div"),r=M("div"),ue(i.$$.fragment),s=Z(),a=M("a"),ue(l.$$.fragment),u=ie(`\r
      View on GitHub`),d=Z(),o=M("div"),f=M("button"),ue(c.$$.fragment),h=Z(),p=M("div"),p.innerHTML=`<p class="action__name svelte-1ny96ka">Join a quiz</p> 
        <p class="action__text svelte-1ny96ka">Enter a game code and hop right in</p>`,w=Z(),k=M("button"),ue(g.$$.fragment),$=Z(),E=M("div"),E.innerHTML=`<p class="action__name svelte-1ny96ka">Create a quiz</p> 
        <p class="action__text svelte-1ny96ka">Create your own quiz</p>`,m(r,"class","logo svelte-1ny96ka"),m(a,"href","https://github.com/jacobtread/Quizler-v2"),m(a,"target","_blank"),m(a,"rel","noreferrer"),m(a,"title","View on Github"),m(a,"class","btn btn--icon github svelte-1ny96ka"),m(t,"class","left svelte-1ny96ka"),m(p,"class","action__body svelte-1ny96ka"),m(f,"class","action svelte-1ny96ka"),m(f,"aria-label","Join"),m(E,"class","action__body svelte-1ny96ka"),m(k,"class","action svelte-1ny96ka"),m(k,"aria-label","Create"),m(o,"class","actions svelte-1ny96ka"),m(e,"class","main svelte-1ny96ka")},m(y,v){V(y,e,v),_(e,t),_(t,r),le(i,r,null),_(t,s),_(t,a),le(l,a,null),_(a,u),_(e,d),_(e,o),_(o,f),le(c,f,null),_(f,h),_(f,p),_(o,w),_(o,k),le(g,k,null),_(k,$),_(k,E),O=!0,T||(U=[te(f,"click",$s),te(k,"click",Br)],T=!0)},p:G,i(y){O||(W(i.$$.fragment,y),W(l.$$.fragment,y),W(c.$$.fragment,y),W(g.$$.fragment,y),ct(()=>{O&&(x||(x=He(e,Ke,{},!0)),x.run(1))}),O=!0)},o(y){J(i.$$.fragment,y),J(l.$$.fragment,y),J(c.$$.fragment,y),J(g.$$.fragment,y),x||(x=He(e,Ke,{},!1)),x.run(0),O=!1},d(y){y&&H(e),oe(i),oe(l),oe(c),oe(g),y&&x&&x.end(),T=!1,Xe(U)}}}class hc extends Te{constructor(e){super(),Se(this,e,null,dc,xe,{})}}function is(n){let e,t,r,i,s,a;return t=new qr({}),{c(){e=M("button"),ue(t.$$.fragment),m(e,"class","play svelte-gsvo0n")},m(l,u){V(l,e,u),le(t,e,null),i=!0,s||(a=te(e,"click",n[4]),s=!0)},p:G,i(l){i||(W(t.$$.fragment,l),ct(()=>{i&&(r||(r=He(e,Ke,{axis:"x",duration:200},!0)),r.run(1))}),i=!0)},o(l){J(t.$$.fragment,l),r||(r=He(e,Ke,{axis:"x",duration:200},!1)),r.run(0),i=!1},d(l){l&&H(e),oe(t),l&&r&&r.end(),s=!1,a()}}}function pc(n){let e,t,r,i,s,a,l,u,d,o,f,c,h,p,w,k,g,$;r=new Mr({});let E=!n[2]&&is(n);return{c(){e=M("main"),t=M("button"),ue(r.$$.fragment),i=Z(),s=M("p"),a=ie(n[0]),l=Z(),u=M("h1"),u.textContent="Enter Name",d=Z(),o=M("p"),o.textContent="Please enter your desired name",f=Z(),c=M("div"),h=M("input"),p=Z(),E&&E.c(),m(t,"class","back back--floating"),m(h,"class","input svelte-gsvo0n"),m(h,"type","text"),m(h,"minlength",Vs),m(h,"maxlength",Qs),m(c,"class","form svelte-gsvo0n"),m(e,"class","main svelte-gsvo0n")},m(x,O){V(x,e,O),_(e,t),le(r,t,null),_(e,i),_(e,s),_(s,a),_(e,l),_(e,u),_(e,d),_(e,o),_(e,f),_(e,c),_(c,h),Oe(h,n[1]),_(c,p),E&&E.m(c,null),k=!0,g||($=[te(t,"click",$s),te(h,"input",n[5]),te(h,"input",n[3])],g=!0)},p(x,[O]){(!k||O&1)&&Me(a,x[0]),O&2&&h.value!==x[1]&&Oe(h,x[1]),x[2]?E&&(gt(),J(E,1,1,()=>{E=null}),vt()):E?(E.p(x,O),O&4&&W(E,1)):(E=is(x),E.c(),W(E,1),E.m(c,null))},i(x){k||(W(r.$$.fragment,x),W(E),ct(()=>{k&&(w||(w=He(e,Ke,{},!0)),w.run(1))}),k=!0)},o(x){J(r.$$.fragment,x),J(E),w||(w=He(e,Ke,{},!1)),w.run(0),k=!1},d(x){x&&H(e),oe(r),E&&E.d(),x&&w&&w.end(),g=!1,Xe($)}}}function mc(n,e,t){let{token:r}=e,i="",s=!0;function a(){t(2,s=i.length>=Vs&&i.length<=Qs)}function l(){Kt({ty:Ht.Join,name:i}).then(({id:d,token:o,config:f})=>{Es({id:d,token:o,config:f,host:!1,name:i})}).catch(d=>{console.error("Failed to join",d),bn("Failed to join",ni[d])})}function u(){i=this.value,t(1,i)}return n.$$set=d=>{"token"in d&&t(0,r=d.token)},[r,i,s,a,l,u]}class _c extends Te{constructor(e){super(),Se(this,e,mc,pc,xe,{token:0})}}function gc(n){let e,t;return e=new ti({props:{text:"Connecting to server..."}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function vc(n){let e,t,r,i;const s=[Ac,Cc,kc,wc,bc,yc],a=[];function l(u,d){return u[1].ty==en.Home?0:u[1].ty===en.Create?1:u[1].ty===en.Connect?2:u[1].ty===en.Join?3:u[1].ty===en.Editing?4:u[1].ty===en.Game?5:-1}return~(e=l(n))&&(t=a[e]=s[e](n)),{c(){t&&t.c(),r=un()},m(u,d){~e&&a[e].m(u,d),V(u,r,d),i=!0},p(u,d){let o=e;e=l(u),e===o?~e&&a[e].p(u,d):(t&&(gt(),J(a[o],1,1,()=>{a[o]=null}),vt()),~e?(t=a[e],t?t.p(u,d):(t=a[e]=s[e](u),t.c()),W(t,1),t.m(r.parentNode,r)):t=null)},i(u){i||(W(t),i=!0)},o(u){J(t),i=!1},d(u){~e&&a[e].d(u),u&&H(r)}}}function yc(n){let e,t;return e=new qo({props:{gameData:n[1].gameData}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.gameData=r[1].gameData),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function bc(n){let e,t;return e=new Du({props:{question:n[1].question}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.question=r[1].question),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function wc(n){let e,t;return e=new _c({props:{token:n[1].token}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.token=r[1].token),e.$set(s)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function kc(n){let e,t;return e=new Bu({}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Cc(n){let e,t;return e=new lc({}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Ac(n){let e,t;return e=new hc({}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p:G,i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function xc(n){let e,t,r,i,s;const a=[vc,gc],l=[];function u(d,o){return d[0]?0:1}return e=u(n),t=l[e]=a[e](n),i=new Ta({}),{c(){t.c(),r=Z(),ue(i.$$.fragment)},m(d,o){l[e].m(d,o),V(d,r,o),le(i,d,o),s=!0},p(d,[o]){let f=e;e=u(d),e===f?l[e].p(d,o):(gt(),J(l[f],1,1,()=>{l[f]=null}),vt(),t=l[e],t?t.p(d,o):(t=l[e]=a[e](d),t.c()),W(t,1),t.m(r.parentNode,r))},i(d){s||(W(t),W(i.$$.fragment,d),s=!0)},o(d){J(t),J(i.$$.fragment,d),s=!1},d(d){l[e].d(d),d&&H(r),oe(i,d)}}}function $c(n,e,t){let r,i;return Nt(n,ii,s=>t(0,r=s)),Nt(n,cn,s=>t(1,i=s)),[r,i]}class Ec extends Te{constructor(e){super(),Se(this,e,$c,xc,xe,{})}}new Ec({target:document.getElementById("app")});
